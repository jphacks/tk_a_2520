(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Vb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function iC(){if(Gy)return Cl;Gy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var Qy;function sC(){return Qy||(Qy=1,xd.exports=iC()),xd.exports}var he=sC(),Id={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function rC(){if(Ky)return Ie;Ky=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function O(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function q(N,J,se){this.props=N,this.context=J,this.refs=V,this.updater=se||M}q.prototype.isReactComponent={},q.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=q.prototype;function te(N,J,se){this.props=N,this.context=J,this.refs=V,this.updater=se||M}var Z=te.prototype=new B;Z.constructor=te,U(Z,q.prototype),Z.isPureReactComponent=!0;var H=Array.isArray;function G(){}var A={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(N,J,se){var ce=se.ref;return{$$typeof:i,type:N,key:J,ref:ce!==void 0?ce:null,props:se}}function I(N,J){return w(N.type,J,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function k(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return J[se]})}var D=/\/+/g;function ge(N,J){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):J.toString(36)}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(G,G):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Q(N,J,se,ce,$){var me=typeof N;(me==="undefined"||me==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(me){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case i:case e:Te=!0;break;case E:return Te=N._init,Q(Te(N._payload),J,se,ce,$)}}if(Te)return $=$(N),Te=ce===""?"."+ge(N,0):ce,H($)?(se="",Te!=null&&(se=Te.replace(D,"$&/")+"/"),Q($,J,se,"",function(we){return we})):$!=null&&(x($)&&($=I($,se+($.key==null||N&&N.key===$.key?"":(""+$.key).replace(D,"$&/")+"/")+Te)),J.push($)),1;Te=0;var Se=ce===""?".":ce+":";if(H(N))for(var De=0;De<N.length;De++)ce=N[De],me=Se+ge(ce,De),Te+=Q(ce,J,se,me,$);else if(De=O(N),typeof De=="function")for(N=De.call(N),De=0;!(ce=N.next()).done;)ce=ce.value,me=Se+ge(ce,De++),Te+=Q(ce,J,se,me,$);else if(me==="object"){if(typeof N.then=="function")return Q(Ee(N),J,se,ce,$);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function le(N,J,se){if(N==null)return N;var ce=[],$=0;return Q(N,ce,"","",function(me){return J.call(se,me,$++)}),ce}function fe(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var _e=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ye={map:le,forEach:function(N,J,se){le(N,function(){J.apply(this,arguments)},se)},count:function(N){var J=0;return le(N,function(){J++}),J},toArray:function(N){return le(N,function(J){return J})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=T,Ie.Children=ye,Ie.Component=q,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return A.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,J,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ce=U({},N.props),$=N.key;if(J!=null)for(me in J.key!==void 0&&($=""+J.key),J)!R.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(ce[me]=J[me]);var me=arguments.length-2;if(me===1)ce.children=se;else if(1<me){for(var Te=Array(me),Se=0;Se<me;Se++)Te[Se]=arguments[Se+2];ce.children=Te}return w(N.type,$,ce)},Ie.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,J,se){var ce,$={},me=null;if(J!=null)for(ce in J.key!==void 0&&(me=""+J.key),J)R.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&($[ce]=J[ce]);var Te=arguments.length-2;if(Te===1)$.children=se;else if(1<Te){for(var Se=Array(Te),De=0;De<Te;De++)Se[De]=arguments[De+2];$.children=Se}if(N&&N.defaultProps)for(ce in Te=N.defaultProps,Te)$[ce]===void 0&&($[ce]=Te[ce]);return w(N,me,$)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:p,render:N}},Ie.isValidElement=x,Ie.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:fe}},Ie.memo=function(N,J){return{$$typeof:m,type:N,compare:J===void 0?null:J}},Ie.startTransition=function(N){var J=A.T,se={};A.T=se;try{var ce=N(),$=A.S;$!==null&&$(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(G,_e)}catch(me){_e(me)}finally{J!==null&&se.types!==null&&(J.types=se.types),A.T=J}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(N){return A.H.use(N)},Ie.useActionState=function(N,J,se){return A.H.useActionState(N,J,se)},Ie.useCallback=function(N,J){return A.H.useCallback(N,J)},Ie.useContext=function(N){return A.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,J){return A.H.useDeferredValue(N,J)},Ie.useEffect=function(N,J){return A.H.useEffect(N,J)},Ie.useEffectEvent=function(N){return A.H.useEffectEvent(N)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(N,J,se){return A.H.useImperativeHandle(N,J,se)},Ie.useInsertionEffect=function(N,J){return A.H.useInsertionEffect(N,J)},Ie.useLayoutEffect=function(N,J){return A.H.useLayoutEffect(N,J)},Ie.useMemo=function(N,J){return A.H.useMemo(N,J)},Ie.useOptimistic=function(N,J){return A.H.useOptimistic(N,J)},Ie.useReducer=function(N,J,se){return A.H.useReducer(N,J,se)},Ie.useRef=function(N){return A.H.useRef(N)},Ie.useState=function(N){return A.H.useState(N)},Ie.useSyncExternalStore=function(N,J,se){return A.H.useSyncExternalStore(N,J,se)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.0",Ie}var Yy;function Op(){return Yy||(Yy=1,Id.exports=rC()),Id.exports}var y=Op();const aC=Vb(y);var Vd={exports:{}},wl={},Nd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function oC(){return Zy||(Zy=1,(function(i){function e(Q,le){var fe=Q.length;Q.push(le);e:for(;0<fe;){var _e=fe-1>>>1,ye=Q[_e];if(0<o(ye,le))Q[_e]=le,Q[fe]=ye,fe=_e;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],fe=Q.pop();if(fe!==le){Q[0]=fe;e:for(var _e=0,ye=Q.length,N=ye>>>1;_e<N;){var J=2*(_e+1)-1,se=Q[J],ce=J+1,$=Q[ce];if(0>o(se,fe))ce<ye&&0>o($,se)?(Q[_e]=$,Q[ce]=fe,_e=ce):(Q[_e]=se,Q[J]=fe,_e=J);else if(ce<ye&&0>o($,fe))Q[_e]=$,Q[ce]=fe,_e=ce;else break e}}return le}function o(Q,le){var fe=Q.sortIndex-le.sortIndex;return fe!==0?fe:Q.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],m=[],E=1,T=null,S=3,O=!1,M=!1,U=!1,V=!1,q=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var le=n(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=Q)r(m),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(m)}}function H(Q){if(U=!1,Z(Q),!M)if(n(g)!==null)M=!0,G||(G=!0,k());else{var le=n(m);le!==null&&Ee(H,le.startTime-Q)}}var G=!1,A=-1,R=5,w=-1;function I(){return V?!0:!(i.unstable_now()-w<R)}function x(){if(V=!1,G){var Q=i.unstable_now();w=Q;var le=!0;try{e:{M=!1,U&&(U=!1,B(A),A=-1),O=!0;var fe=S;try{t:{for(Z(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&I());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,S=T.priorityLevel;var ye=_e(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof ye=="function"){T.callback=ye,Z(Q),le=!0;break t}T===n(g)&&r(g),Z(Q)}else r(g);T=n(g)}if(T!==null)le=!0;else{var N=n(m);N!==null&&Ee(H,N.startTime-Q),le=!1}}break e}finally{T=null,S=fe,O=!1}le=void 0}}finally{le?k():G=!1}}}var k;if(typeof te=="function")k=function(){te(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ge=D.port2;D.port1.onmessage=x,k=function(){ge.postMessage(null)}}else k=function(){q(x,0)};function Ee(Q,le){A=q(function(){Q(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var fe=S;S=le;try{return Q()}finally{S=fe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=S;S=Q;try{return le()}finally{S=fe}},i.unstable_scheduleCallback=function(Q,le,fe){var _e=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?_e+fe:_e):fe=_e,Q){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=fe+ye,Q={id:E++,callback:le,priorityLevel:Q,startTime:fe,expirationTime:ye,sortIndex:-1},fe>_e?(Q.sortIndex=fe,e(m,Q),n(g)===null&&Q===n(m)&&(U?(B(A),A=-1):U=!0,Ee(H,fe-_e))):(Q.sortIndex=ye,e(g,Q),M||O||(M=!0,G||(G=!0,k()))),Q},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(Q){var le=S;return function(){var fe=S;S=le;try{return Q.apply(this,arguments)}finally{S=fe}}}})(Pd)),Pd}var $y;function lC(){return $y||($y=1,Nd.exports=oC()),Nd.exports}var kd={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function uC(){if(Xy)return dn;Xy=1;var i=Op();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:m,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(g,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,E)},dn.flushSync=function(g){var m=h.T,E=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=m,r.p=E,r.d.f()}},dn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},dn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},dn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:O}):E==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},dn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin);r.d.L(g,E,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(g,m){if(typeof g=="string")if(m){var E=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},dn.requestFormReset=function(g){r.d.r(g)},dn.unstable_batchedUpdates=function(g,m){return g(m)},dn.useFormState=function(g,m,E){return h.H.useFormState(g,m,E)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var Jy;function Nb(){if(Jy)return kd.exports;Jy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),kd.exports=uC(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function cC(){if(Wy)return wl;Wy=1;var i=lC(),e=Op(),n=Nb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function m(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,l=d;break}if(C===l){_=!0,l=f,a=d;break}C=C.sibling}if(!_){for(C=d.child;C;){if(C===a){_=!0,a=d,l=f;break}if(C===l){_=!0,l=d,a=f;break}C=C.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case q:return"Profiler";case V:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case te:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case Z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return s=t.displayName||null,s!==null?s:ge(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return ge(t(s))}catch{}}return null}var Ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},_e=[],ye=-1;function N(t){return{current:t}}function J(t){0>ye||(t.current=_e[ye],_e[ye]=null,ye--)}function se(t,s){ye++,_e[ye]=t.current,t.current=s}var ce=N(null),$=N(null),me=N(null),Te=N(null);function Se(t,s){switch(se(me,s),se($,t),se(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?py(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=py(s),t=gy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ce),se(ce,t)}function De(){J(ce),J($),J(me)}function we(t){t.memoizedState!==null&&se(Te,t);var s=ce.current,a=gy(s,t.type);s!==a&&(se($,t),se(ce,a))}function ze(t){$.current===t&&(J(ce),J($)),Te.current===t&&(J(Te),El._currentValue=fe)}var Qt,un;function cn(t){if(Qt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Qt=s&&s[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+un}var Ze=!1;function vi(t,s){if(!t||Ze)return"";Ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var X=ee}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(ee){X=ee}t.call(ae.prototype)}}else{try{throw Error()}catch(ee){X=ee}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],C=d[1];if(_&&C){var P=_.split(`
`),Y=C.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===Y.length)for(l=P.length-1,f=Y.length-1;1<=l&&0<=f&&P[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==Y[f]){var ie=`
`+P[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=f);break}}}finally{Ze=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function yi(t,s){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==s&&s!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return cn("Activity");default:return""}}function Os(t){try{var s="",a=null;do s+=yi(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,da=i.unstable_shouldYield,Zi=i.unstable_requestPaint,Kt=i.unstable_now,_i=i.unstable_getCurrentPriorityLevel,Ds=i.unstable_ImmediatePriority,Ei=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,xs=i.unstable_LowPriority,Ar=i.unstable_IdlePriority,$i=i.log,Lr=i.unstable_setDisableYieldValue,hn=null,xt=null;function Jt(t){if(typeof $i=="function"&&Lr(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(hn,t)}catch{}}var vt=Math.clz32?Math.clz32:Wi,Xi=Math.log,Ji=Math.LN2;function Wi(t){return t>>>=0,t===0?32:31-(Xi(t)/Ji|0)|0}var On=256,bi=262144,Et=4194304;function vn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?f=vn(l):(_&=C,_!==0?f=vn(_):a||(a=C&~t,a!==0&&(f=vn(a))))):(C=l&~d,C!==0?f=vn(C):_!==0?f=vn(_):a||(a=l&~t,a!==0&&(f=vn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function fn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function pa(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function xn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function ts(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ns(t,s,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,P=t.expirationTimes,Y=t.hiddenUpdates;for(a=_&~a;0<a;){var ie=31-vt(a),ae=1<<ie;C[ie]=0,P[ie]=-1;var X=Y[ie];if(X!==null)for(Y[ie]=null,ie=0;ie<X.length;ie++){var ee=X[ie];ee!==null&&(ee.lane&=-536870913)}a&=~ae}l!==0&&Me(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~s))}function Me(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-vt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function wo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Ao(t,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Uy(t.type))}function ai(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var oi=Math.random().toString(36).slice(2),It="__reactFiber$"+oi,Yt="__reactProps$"+oi,Ti="__reactContainer$"+oi,ga="__reactEvents$"+oi,kh="__reactListeners$"+oi,uu="__reactHandles$"+oi,cu="__reactResources$"+oi,Si="__reactMarker$"+oi;function ma(t){delete t[It],delete t[Yt],delete t[ga],delete t[kh],delete t[uu]}function Ci(t){var s=t[It];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ti]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ty(t);t!==null;){if(a=t[It])return a;t=Ty(t)}return s}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Ti]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function In(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function wi(t){var s=t[cu];return s||(s=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(t){t[Si]=!0}var Lo=new Set,Ro={};function Ai(t,s){Li(t,s),Li(t+"Capture",s)}function Li(t,s){for(Ro[t]=s,t=0;t<s.length;t++)Lo.add(s[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Do={};function hu(t){return ft.call(Do,t)?!0:ft.call(Oo,t)?!1:Mo.test(t)?Do[t]=!0:(Oo[t]=!0,!1)}function va(t,s,a){if(hu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Nt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function st(t){if(!t._valueTracker){var s=Is(t)?"checked":"value";t._valueTracker=xo(t,s,""+t[s])}}function Mr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function bn(t){return t.replace(Or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ya(t,s,a,l,f,d,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Zt(s)):t.value!==""+Zt(s)&&(t.value=""+Zt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Io(t,_,Zt(s)):a!=null?Io(t,_,Zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Zt(C):t.removeAttribute("name")}function fu(t,s,a,l,f,d,_,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){st(t);return}a=a!=null?""+Zt(a):"",s=s!=null?""+Zt(s):a,C||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function Io(t,s,a){s==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vs(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function du(t,s,a){if(s!=null&&(s=""+Zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Zt(a):""}function Ns(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ee(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Zt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Tn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||pu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function No(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Vo(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Vo(t,d,s[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Po=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Mi=null;function Dr(t){var s=Fn(t);if(s&&(t=s.stateNode)){var a=t[Yt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Yt]||null;if(!f)throw Error(r(90));ya(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Mr(l)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Vs(t,!!a.multiple,s,!1)}}}var ba=!1;function Us(t,s,a){if(ba)return t(s,a);ba=!0;try{var l=t(s);return l}finally{if(ba=!1,(ks!==null||Mi!==null)&&(lc(),ks&&(s=ks,t=Mi,Mi=ks=null,Dr(s),t)))for(s=0;s<t.length;s++)Dr(t[s])}}function ui(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Qn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){xr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{xr=!1}var Oi=null,ko=null,Ir=null;function Uo(){if(Ir)return Ir;var t,s=ko,a=s.length,l,f="value"in Oi?Oi.value:Oi.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Ir=f.slice(t,1<l?1-l:void 0)}function Vr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function ci(){return!1}function Wt(t){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ss:ci,this.isPropagationStopped=ci,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),s}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Wt(rs),zs=T({},rs,{view:0,detail:0}),zo=Wt(zs),Bs,Ta,xi,Sa=T({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Bs=t.screenX-xi.screenX,Ta=t.screenY-xi.screenY):Ta=Bs=0,xi=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Bo=Wt(Sa),Nr=T({},Sa,{dataTransfer:0}),mu=Wt(Nr),vu=T({},zs,{relatedTarget:0}),Pr=Wt(vu),jo=T({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Wt(jo),Ca=T({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Wt(Ca),Eu=T({},rs,{data:0}),Ii=Wt(Eu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Su[t])?!!s[t]:!1}function js(){return Cu}var yn=T({},zs,{key:function(t){if(t.key){var s=bu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Wt(yn),Au=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Wt(Au),c=T({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),v=Wt(c),b=T({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=Wt(b),F=T({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Wt(F),de=T({},rs,{newState:0,oldState:0}),Ne=Wt(de),Rt=[9,13,27,32],tt=Qn&&"CompositionEvent"in window,yt=null;Qn&&"documentMode"in document&&(yt=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!yt,Vi=Qn&&(!tt||yt&&8<yt&&11>=yt),hi=" ",fi=!1;function kr(t,s){switch(t){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function LS(t,s){switch(t){case"compositionend":return wa(s);case"keypress":return s.which!==32?null:(fi=!0,hi);case"textInput":return t=s.data,t===hi&&fi?null:t;default:return null}}function RS(t,s){if(Aa)return t==="compositionend"||!tt&&kr(t,s)?(t=Uo(),Ir=ko=Oi=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vi&&s.locale!=="ko"?null:s.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!MS[t.type]:s==="textarea"}function Ag(t,s,a,l){ks?Mi?Mi.push(l):Mi=[l]:ks=l,s=gc(s,"onChange"),0<s.length&&(a=new Di("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Ho=null,qo=null;function OS(t){ly(t,0)}function Lu(t){var s=In(t);if(Mr(s))return t}function Lg(t,s){if(t==="change")return s}var Rg=!1;if(Qn){var Uh;if(Qn){var zh="oninput"in document;if(!zh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),zh=typeof Mg.oninput=="function"}Uh=zh}else Uh=!1;Rg=Uh&&(!document.documentMode||9<document.documentMode)}function Og(){Ho&&(Ho.detachEvent("onpropertychange",Dg),qo=Ho=null)}function Dg(t){if(t.propertyName==="value"&&Lu(qo)){var s=[];Ag(s,qo,t,Gn(t)),Us(OS,s)}}function DS(t,s,a){t==="focusin"?(Og(),Ho=s,qo=a,Ho.attachEvent("onpropertychange",Dg)):t==="focusout"&&Og()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(qo)}function IS(t,s){if(t==="click")return Lu(s)}function VS(t,s){if(t==="input"||t==="change")return Lu(s)}function NS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Nn=typeof Object.is=="function"?Object.is:NS;function Fo(t,s){if(Nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ft.call(s,f)||!Nn(t[f],s[f]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,s){var a=xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Vg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Vg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ri(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ri(t.document)}return s}function Bh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var PS=Qn&&"documentMode"in document&&11>=document.documentMode,La=null,jh=null,Go=null,Hh=!1;function Pg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||La==null||La!==Ri(l)||(l=La,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=gc(jh,"onSelect"),0<l.length&&(s=new Di("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=La)))}function Ur(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ra={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},qh={},kg={};Qn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function zr(t){if(qh[t])return qh[t];if(!Ra[t])return t;var s=Ra[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in kg)return qh[t]=s[a];return t}var Ug=zr("animationend"),zg=zr("animationiteration"),Bg=zr("animationstart"),kS=zr("transitionrun"),US=zr("transitionstart"),zS=zr("transitioncancel"),jg=zr("transitionend"),Hg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function di(t,s){Hg.set(t,s),Ai(s,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Ma=0,Gh=0;function Mu(){for(var t=Ma,s=Gh=Ma=0;s<t;){var a=Yn[s];Yn[s++]=null;var l=Yn[s];Yn[s++]=null;var f=Yn[s];Yn[s++]=null;var d=Yn[s];if(Yn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&qg(a,f,d)}}function Ou(t,s,a,l){Yn[Ma++]=t,Yn[Ma++]=s,Yn[Ma++]=a,Yn[Ma++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,s,a,l){return Ou(t,s,a,l),Du(t)}function Br(t,s){return Ou(t,null,null,s),Du(t)}function qg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Du(t){if(50<dl)throw dl=0,nd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function BS(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,s,a,l){return new BS(t,s,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,s){var a=t.alternate;return a===null?(a=Pn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function xu(t,s,a,l,f,d){var _=0;if(l=t,typeof t=="function")Kh(t)&&(_=1);else if(typeof t=="string")_=G1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Pn(31,a,s,f),t.elementType=w,t.lanes=d,t;case U:return jr(a.children,f,d,s);case V:_=8,f|=24;break;case q:return t=Pn(12,a,s,f|2),t.elementType=q,t.lanes=d,t;case H:return t=Pn(13,a,s,f),t.elementType=H,t.lanes=d,t;case G:return t=Pn(19,a,s,f),t.elementType=G,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case B:_=9;break e;case Z:_=11;break e;case A:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=Pn(_,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function jr(t,s,a,l){return t=Pn(7,t,l,s),t.lanes=a,t}function Yh(t,s,a){return t=Pn(6,t,null,s),t.lanes=a,t}function Gg(t){var s=Pn(18,null,null,0);return s.stateNode=t,s}function Zh(t,s,a){return s=Pn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Qg=new WeakMap;function Zn(t,s){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Os(s)},Qg.set(t,s),s)}return{value:t,source:s,stack:Os(s)}}var Da=[],xa=0,Iu=null,Qo=0,$n=[],Xn=0,Hs=null,Ni=1,Pi="";function ls(t,s){Da[xa++]=Qo,Da[xa++]=Iu,Iu=t,Qo=s}function Kg(t,s,a){$n[Xn++]=Ni,$n[Xn++]=Pi,$n[Xn++]=Hs,Hs=t;var l=Ni;t=Pi;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-vt(s)+f|a<<f|l,Pi=d+t}else Ni=1<<d|a<<f|l,Pi=t}function $h(t){t.return!==null&&(ls(t,1),Kg(t,1,0))}function Xh(t){for(;t===Iu;)Iu=Da[--xa],Da[xa]=null,Qo=Da[--xa],Da[xa]=null;for(;t===Hs;)Hs=$n[--Xn],$n[Xn]=null,Pi=$n[--Xn],$n[Xn]=null,Ni=$n[--Xn],$n[Xn]=null}function Yg(t,s){$n[Xn++]=Ni,$n[Xn++]=Pi,$n[Xn++]=Hs,Ni=s.id,Pi=s.overflow,Hs=t}var en=null,dt=null,Ye=!1,qs=null,Jn=!1,Jh=Error(r(519));function Fs(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Zn(s,t)),Jh}function Zg(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[It]=t,s[Yt]=l,a){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(a=0;a<gl.length;a++)He(gl[a],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),fu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Ns(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||fy(s.textContent,a)?(l.popover!=null&&(He("beforetoggle",s),He("toggle",s)),l.onScroll!=null&&He("scroll",s),l.onScrollEnd!=null&&He("scrollend",s),l.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||Fs(t,!0)}function $g(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:en=en.return}}function Ia(t){if(t!==en)return!1;if(!Ye)return $g(t),Ye=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vd(t.type,t.memoizedProps)),a=!a),a&&dt&&Fs(t),$g(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=by(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=by(t)}else s===27?(s=dt,sr(t.type)?(t=Td,Td=null,dt=t):dt=s):dt=en?ei(t.stateNode.nextSibling):null;return!0}function Hr(){dt=en=null,Ye=!1}function Wh(){var t=qs;return t!==null&&(An===null?An=t:An.push.apply(An,t),qs=null),t}function Ko(t){qs===null?qs=[t]:qs.push(t)}var ef=N(null),qr=null,us=null;function Gs(t,s,a){se(ef,s._currentValue),s._currentValue=a}function cs(t){t._currentValue=ef.current,J(ef)}function tf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function nf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=f;for(var P=0;P<s.length;P++)if(C.context===s[P]){d.lanes|=a,C=d.alternate,C!==null&&(C.lanes|=a),tf(d.return,a,t),l||(_=null);break e}d=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),tf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Va(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var C=f.type;Nn(f.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(f===Te.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}f=f.return}t!==null&&nf(s,t,a,l),s.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){qr=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Xg(qr,t)}function Nu(t,s){return qr===null&&Fr(t),Xg(t,s)}function Xg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},us===null){if(t===null)throw Error(r(308));us=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else us=us.next=s;return a}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},HS=i.unstable_scheduleCallback,qS=i.unstable_NormalPriority,Pt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new jS,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&HS(qS,function(){t.controller.abort()})}var Zo=null,rf=0,Na=0,Pa=null;function FS(t,s){if(Zo===null){var a=Zo=[];rf=0,Na=ld(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,s.then(Jg,Jg),s}function Jg(){if(--rf===0&&Zo!==null){Pa!==null&&(Pa.status="fulfilled");var t=Zo;Zo=null,Na=0,Pa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function GS(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Wg=Q.S;Q.S=function(t,s){Pv=Kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&FS(t,s),Wg!==null&&Wg(t,s)};var Gr=N(null);function af(){var t=Gr.current;return t!==null?t:ht.pooledCache}function Pu(t,s){s===null?se(Gr,Gr.current):se(Gr,s.pool)}function em(){var t=af();return t===null?null:{parent:Pt._currentValue,pool:t}}var ka=Error(r(460)),of=Error(r(474)),ku=Error(r(542)),Uu={then:function(){}};function tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(li,li),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,sm(t),t;default:if(typeof s.status=="string")s.then(li,li);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,sm(t),t}throw Kr=s,ka}}function Qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,ka):a}}var Kr=null;function im(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function sm(t){if(t===ka||t===ku)throw Error(r(483))}var Ua=null,$o=0;function zu(t){var s=$o;return $o+=1,Ua===null&&(Ua=[]),nm(Ua,t,s)}function Xo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Bu(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function rm(t){function s(j,z){if(t){var K=j.deletions;K===null?(j.deletions=[z],j.flags|=16):K.push(z)}}function a(j,z){if(!t)return null;for(;z!==null;)s(j,z),z=z.sibling;return null}function l(j){for(var z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function f(j,z){return j=os(j,z),j.index=0,j.sibling=null,j}function d(j,z,K){return j.index=K,t?(K=j.alternate,K!==null?(K=K.index,K<z?(j.flags|=67108866,z):K):(j.flags|=67108866,z)):(j.flags|=1048576,z)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function C(j,z,K,re){return z===null||z.tag!==6?(z=Yh(K,j.mode,re),z.return=j,z):(z=f(z,K),z.return=j,z)}function P(j,z,K,re){var Ae=K.type;return Ae===U?ie(j,z,K.props.children,re,K.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Qr(Ae)===z.type)?(z=f(z,K.props),Xo(z,K),z.return=j,z):(z=xu(K.type,K.key,K.props,null,j.mode,re),Xo(z,K),z.return=j,z)}function Y(j,z,K,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Zh(K,j.mode,re),z.return=j,z):(z=f(z,K.children||[]),z.return=j,z)}function ie(j,z,K,re,Ae){return z===null||z.tag!==7?(z=jr(K,j.mode,re,Ae),z.return=j,z):(z=f(z,K),z.return=j,z)}function ae(j,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Yh(""+z,j.mode,K),z.return=j,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return K=xu(z.type,z.key,z.props,null,j.mode,K),Xo(K,z),K.return=j,K;case M:return z=Zh(z,j.mode,K),z.return=j,z;case R:return z=Qr(z),ae(j,z,K)}if(Ee(z)||k(z))return z=jr(z,j.mode,K,null),z.return=j,z;if(typeof z.then=="function")return ae(j,zu(z),K);if(z.$$typeof===te)return ae(j,Nu(j,z),K);Bu(j,z)}return null}function X(j,z,K,re){var Ae=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ae!==null?null:C(j,z,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===Ae?P(j,z,K,re):null;case M:return K.key===Ae?Y(j,z,K,re):null;case R:return K=Qr(K),X(j,z,K,re)}if(Ee(K)||k(K))return Ae!==null?null:ie(j,z,K,re,null);if(typeof K.then=="function")return X(j,z,zu(K),re);if(K.$$typeof===te)return X(j,z,Nu(j,K),re);Bu(j,K)}return null}function ee(j,z,K,re,Ae){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return j=j.get(K)||null,C(z,j,""+re,Ae);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case O:return j=j.get(re.key===null?K:re.key)||null,P(z,j,re,Ae);case M:return j=j.get(re.key===null?K:re.key)||null,Y(z,j,re,Ae);case R:return re=Qr(re),ee(j,z,K,re,Ae)}if(Ee(re)||k(re))return j=j.get(K)||null,ie(z,j,re,Ae,null);if(typeof re.then=="function")return ee(j,z,K,zu(re),Ae);if(re.$$typeof===te)return ee(j,z,K,Nu(z,re),Ae);Bu(z,re)}return null}function ve(j,z,K,re){for(var Ae=null,Je=null,be=z,ke=z=0,Ge=null;be!==null&&ke<K.length;ke++){be.index>ke?(Ge=be,be=null):Ge=be.sibling;var We=X(j,be,K[ke],re);if(We===null){be===null&&(be=Ge);break}t&&be&&We.alternate===null&&s(j,be),z=d(We,z,ke),Je===null?Ae=We:Je.sibling=We,Je=We,be=Ge}if(ke===K.length)return a(j,be),Ye&&ls(j,ke),Ae;if(be===null){for(;ke<K.length;ke++)be=ae(j,K[ke],re),be!==null&&(z=d(be,z,ke),Je===null?Ae=be:Je.sibling=be,Je=be);return Ye&&ls(j,ke),Ae}for(be=l(be);ke<K.length;ke++)Ge=ee(be,j,ke,K[ke],re),Ge!==null&&(t&&Ge.alternate!==null&&be.delete(Ge.key===null?ke:Ge.key),z=d(Ge,z,ke),Je===null?Ae=Ge:Je.sibling=Ge,Je=Ge);return t&&be.forEach(function(ur){return s(j,ur)}),Ye&&ls(j,ke),Ae}function Re(j,z,K,re){if(K==null)throw Error(r(151));for(var Ae=null,Je=null,be=z,ke=z=0,Ge=null,We=K.next();be!==null&&!We.done;ke++,We=K.next()){be.index>ke?(Ge=be,be=null):Ge=be.sibling;var ur=X(j,be,We.value,re);if(ur===null){be===null&&(be=Ge);break}t&&be&&ur.alternate===null&&s(j,be),z=d(ur,z,ke),Je===null?Ae=ur:Je.sibling=ur,Je=ur,be=Ge}if(We.done)return a(j,be),Ye&&ls(j,ke),Ae;if(be===null){for(;!We.done;ke++,We=K.next())We=ae(j,We.value,re),We!==null&&(z=d(We,z,ke),Je===null?Ae=We:Je.sibling=We,Je=We);return Ye&&ls(j,ke),Ae}for(be=l(be);!We.done;ke++,We=K.next())We=ee(be,j,ke,We.value,re),We!==null&&(t&&We.alternate!==null&&be.delete(We.key===null?ke:We.key),z=d(We,z,ke),Je===null?Ae=We:Je.sibling=We,Je=We);return t&&be.forEach(function(nC){return s(j,nC)}),Ye&&ls(j,ke),Ae}function ct(j,z,K,re){if(typeof K=="object"&&K!==null&&K.type===U&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var Ae=K.key;z!==null;){if(z.key===Ae){if(Ae=K.type,Ae===U){if(z.tag===7){a(j,z.sibling),re=f(z,K.props.children),re.return=j,j=re;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Qr(Ae)===z.type){a(j,z.sibling),re=f(z,K.props),Xo(re,K),re.return=j,j=re;break e}a(j,z);break}else s(j,z);z=z.sibling}K.type===U?(re=jr(K.props.children,j.mode,re,K.key),re.return=j,j=re):(re=xu(K.type,K.key,K.props,null,j.mode,re),Xo(re,K),re.return=j,j=re)}return _(j);case M:e:{for(Ae=K.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){a(j,z.sibling),re=f(z,K.children||[]),re.return=j,j=re;break e}else{a(j,z);break}else s(j,z);z=z.sibling}re=Zh(K,j.mode,re),re.return=j,j=re}return _(j);case R:return K=Qr(K),ct(j,z,K,re)}if(Ee(K))return ve(j,z,K,re);if(k(K)){if(Ae=k(K),typeof Ae!="function")throw Error(r(150));return K=Ae.call(K),Re(j,z,K,re)}if(typeof K.then=="function")return ct(j,z,zu(K),re);if(K.$$typeof===te)return ct(j,z,Nu(j,K),re);Bu(j,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(a(j,z.sibling),re=f(z,K),re.return=j,j=re):(a(j,z),re=Yh(K,j.mode,re),re.return=j,j=re),_(j)):a(j,z)}return function(j,z,K,re){try{$o=0;var Ae=ct(j,z,K,re);return Ua=null,Ae}catch(be){if(be===ka||be===ku)throw be;var Je=Pn(29,be,null,j.mode);return Je.lanes=re,Je.return=j,Je}finally{}}}var Yr=rm(!0),am=rm(!1),Qs=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Du(t),qg(t,null,a),s}return Ou(t,l,s,a),Du(t)}function Jo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,wo(t,a)}}function cf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function Wo(){if(hf){var t=Pa;if(t!==null)throw t}}function el(t,s,a,l){hf=!1;var f=t.updateQueue;Qs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var P=C,Y=P.next;P.next=null,_===null?d=Y:_.next=Y,_=P;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==_&&(C===null?ie.firstBaseUpdate=Y:C.next=Y,ie.lastBaseUpdate=P))}if(d!==null){var ae=f.baseState;_=0,ie=Y=P=null,C=d;do{var X=C.lane&-536870913,ee=X!==C.lane;if(ee?(Fe&X)===X:(l&X)===X){X!==0&&X===Na&&(hf=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=t,Re=C;X=s;var ct=a;switch(Re.tag){case 1:if(ve=Re.payload,typeof ve=="function"){ae=ve.call(ct,ae,X);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Re.payload,X=typeof ve=="function"?ve.call(ct,ae,X):ve,X==null)break e;ae=T({},ae,X);break e;case 2:Qs=!0}}X=C.callback,X!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(Y=ie=ee,P=ae):ie=ie.next=ee,_|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ie===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),Ws|=_,t.lanes=_,t.memoizedState=ae}}function om(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function lm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)om(a[t],s)}var za=N(null),ju=N(0);function um(t,s){t=_s,se(ju,t),se(za,s),_s=t|s.baseLanes}function ff(){se(ju,_s),se(za,za.current)}function df(){_s=ju.current,J(za),J(ju)}var kn=N(null),Wn=null;function Zs(t){var s=t.alternate;se(Mt,Mt.current&1),se(kn,t),Wn===null&&(s===null||za.current!==null||s.memoizedState!==null)&&(Wn=t)}function pf(t){se(Mt,Mt.current),se(kn,t),Wn===null&&(Wn=t)}function cm(t){t.tag===22?(se(Mt,Mt.current),se(kn,t),Wn===null&&(Wn=t)):$s()}function $s(){se(Mt,Mt.current),se(kn,kn.current)}function Un(t){J(kn),Wn===t&&(Wn=null),J(Mt)}var Mt=N(0);function Hu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||bd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hs=0,Pe=null,lt=null,kt=null,qu=!1,Ba=!1,Zr=!1,Fu=0,tl=0,ja=null,QS=0;function Ct(){throw Error(r(321))}function gf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Nn(t[a],s[a]))return!1;return!0}function mf(t,s,a,l,f,d){return hs=d,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?Km:Df,Zr=!1,d=a(l,f),Zr=!1,Ba&&(d=fm(s,a,l,f)),hm(t),d}function hm(t){Q.H=sl;var s=lt!==null&&lt.next!==null;if(hs=0,kt=lt=Pe=null,qu=!1,tl=0,ja=null,s)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&Vu(t)&&(Ut=!0))}function fm(t,s,a,l){Pe=t;var f=0;do{if(Ba&&(ja=null),tl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,kt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ym,d=s(a,l)}while(Ba);return d}function KS(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?nl(s):s,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Pe.flags|=1024),s}function vf(){var t=Fu!==0;return Fu=0,t}function yf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function _f(t){if(qu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}qu=!1}hs=0,kt=lt=Pe=null,Ba=!1,tl=Fu=0,ja=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=t:kt=kt.next=t,kt}function Ot(){if(lt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var s=kt===null?Pe.memoizedState:kt.next;if(s!==null)kt=s,lt=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},kt===null?Pe.memoizedState=kt=t:kt=kt.next=t}return kt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var s=tl;return tl+=1,ja===null&&(ja=[]),t=nm(ja,t,s),s=Pe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Km:Df),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===te)return tn(t)}throw Error(r(438,String(t)))}function Ef(t){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Gu(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function fs(t,s){return typeof s=="function"?s(t):s}function Ku(t){var s=Ot();return bf(s,lt,t)}function bf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var C=_=null,P=null,Y=s,ie=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Fe&ae)===ae:(hs&ae)===ae){var X=Y.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Na&&(ie=!0);else if((hs&X)===X){Y=Y.next,X===Na&&(ie=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(C=P=ae,_=d):P=P.next=ae,Pe.lanes|=X,Ws|=X;ae=Y.action,Zr&&a(d,ae),d=Y.hasEagerState?Y.eagerState:a(d,ae)}else X={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(C=P=X,_=d):P=P.next=X,Pe.lanes|=ae,Ws|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?_=d:P.next=C,!Nn(d,t.memoizedState)&&(Ut=!0,ie&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=P,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var s=Ot(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Nn(d,s.memoizedState)||(Ut=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function dm(t,s,a){var l=Pe,f=Ot(),d=Ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Nn((lt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ut=!0),f=f.queue,wf(mm.bind(null,l,f,t),[t]),f.getSnapshot!==s||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},gm.bind(null,l,f,a,s),null),ht===null)throw Error(r(349));d||(hs&127)!==0||pm(l,s,a)}return a}function pm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=Gu(),Pe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function gm(t,s,a,l){s.value=a,s.getSnapshot=l,vm(s)&&ym(t)}function mm(t,s,a){return a(function(){vm(s)&&ym(t)})}function vm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Nn(t,a)}catch{return!0}}function ym(t){var s=Br(t,2);s!==null&&Ln(s,t,2)}function Sf(t){var s=_n();if(typeof t=="function"){var a=t;if(t=a(),Zr){Jt(!0);try{a()}finally{Jt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},s}function _m(t,s,a,l){return t.baseState=a,bf(t,lt,typeof l=="function"?l:fs)}function YS(t,s,a,l,f){if($u(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Em(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Em(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=Q.T,_={};Q.T=_;try{var C=a(f,l),P=Q.S;P!==null&&P(_,C),bm(t,s,C)}catch(Y){Cf(t,s,Y)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),bm(t,s,d)}catch(Y){Cf(t,s,Y)}}function bm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tm(t,s,l)},function(l){return Cf(t,s,l)}):Tm(t,s,a)}function Tm(t,s,a){s.status="fulfilled",s.value=a,Sm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Em(t,a)))}function Cf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Sm(s),s=s.next;while(s!==l)}t.action=null}function Sm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Cm(t,s){return s}function wm(t,s){if(Ye){var a=ht.formState;if(a!==null){e:{var l=Pe;if(Ye){if(dt){t:{for(var f=dt,d=Jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=ei(f.nextSibling),l=f.data==="F!";break e}}Fs(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:s},a.queue=l,a=Fm.bind(null,Pe,l),l.dispatch=a,l=Sf(!1),d=Of.bind(null,Pe,!1,l.queue),l=_n(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=YS.bind(null,Pe,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Am(t){var s=Ot();return Lm(s,lt,t)}function Lm(t,s,a){if(s=bf(t,s,Cm)[0],t=Ku(fs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=nl(s)}catch(_){throw _===ka?ku:_}else l=s;s=Ot();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,Ha(9,{destroy:void 0},ZS.bind(null,f,a),null)),[l,d,t]}function ZS(t,s){t.action=s}function Rm(t){var s=Ot(),a=lt;if(a!==null)return Lm(s,a,t);Ot(),s=s.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ha(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Gu(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Mm(){return Ot().memoizedState}function Yu(t,s,a,l){var f=_n();Pe.flags|=t,f.memoizedState=Ha(1|s,{destroy:void 0},a,l===void 0?null:l)}function Zu(t,s,a,l){var f=Ot();l=l===void 0?null:l;var d=f.memoizedState.inst;lt!==null&&l!==null&&gf(l,lt.memoizedState.deps)?f.memoizedState=Ha(s,d,a,l):(Pe.flags|=t,f.memoizedState=Ha(1|s,d,a,l))}function Om(t,s){Yu(8390656,8,t,s)}function wf(t,s){Zu(2048,8,t,s)}function $S(t){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Gu(),Pe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Dm(t){var s=Ot().memoizedState;return $S({ref:s,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function xm(t,s){return Zu(4,2,t,s)}function Im(t,s){return Zu(4,4,t,s)}function Vm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Nm(t,s,a){a=a!=null?a.concat([t]):null,Zu(4,4,Vm.bind(null,s,t),a)}function Af(){}function Pm(t,s){var a=Ot();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&gf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function km(t,s){var a=Ot();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&gf(s,l[1]))return l[0];if(l=t(),Zr){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l}function Lf(t,s,a){return a===void 0||(hs&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Uv(),Pe.lanes|=t,Ws|=t,a)}function Um(t,s,a,l){return Nn(a,s)?a:za.current!==null?(t=Lf(t,a,l),Nn(t,s)||(Ut=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(Fe&261930)===0?(Ut=!0,t.memoizedState=a):(t=Uv(),Pe.lanes|=t,Ws|=t,s)}function zm(t,s,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var _=Q.T,C={};Q.T=C,Of(t,!1,s,a);try{var P=f(),Y=Q.S;if(Y!==null&&Y(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ie=GS(P,l);il(t,s,ie,jn(t))}else il(t,s,l,jn(t))}catch(ae){il(t,s,{then:function(){},status:"rejected",reason:ae},jn())}finally{le.p=d,_!==null&&C.types!==null&&(_.types=C.types),Q.T=_}}function XS(){}function Rf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=Bm(t).queue;zm(t,f,s,fe,a===null?XS:function(){return jm(t),a(l)})}function Bm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function jm(t){var s=Bm(t);s.next===null&&(s=t.alternate.memoizedState),il(t,s.next.queue,{},jn())}function Mf(){return tn(El)}function Hm(){return Ot().memoizedState}function qm(){return Ot().memoizedState}function JS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();t=Ks(a);var l=Ys(s,t,a);l!==null&&(Ln(l,s,a),Jo(l,s,a)),s={cache:sf()},t.payload=s;return}s=s.return}}function WS(t,s,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?Gm(s,a):(a=Qh(t,s,a,l),a!==null&&(Ln(a,t,l),Qm(a,s,l)))}function Fm(t,s,a){var l=jn();il(t,s,a,l)}function il(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))Gm(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,C=d(_,a);if(f.hasEagerState=!0,f.eagerState=C,Nn(C,_))return Ou(t,s,f,0),ht===null&&Mu(),!1}catch{}finally{}if(a=Qh(t,s,f,l),a!==null)return Ln(a,t,l),Qm(a,s,l),!0}return!1}function Of(t,s,a,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(s)throw Error(r(479))}else s=Qh(t,a,l,2),s!==null&&Ln(s,t,2)}function $u(t){var s=t.alternate;return t===Pe||s!==null&&s===Pe}function Gm(t,s){Ba=qu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Qm(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,wo(t,a)}}var sl={readContext:tn,use:Qu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};sl.useEffectEvent=Ct;var Km={readContext:tn,use:Qu,useCallback:function(t,s){return _n().memoizedState=[t,s===void 0?null:s],t},useContext:tn,useEffect:Om,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Vm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Yu(4194308,4,t,s)},useInsertionEffect:function(t,s){Yu(4,2,t,s)},useMemo:function(t,s){var a=_n();s=s===void 0?null:s;var l=t();if(Zr){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=_n();if(a!==void 0){var f=a(s);if(Zr){Jt(!0);try{a(s)}finally{Jt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=WS.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var s=_n();return t={current:t},s.memoizedState=t},useState:function(t){t=Sf(t);var s=t.queue,a=Fm.bind(null,Pe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,s){var a=_n();return Lf(a,t,s)},useTransition:function(){var t=Sf(!1);return t=zm.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Pe,f=_n();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ht===null)throw Error(r(349));(Fe&127)!==0||pm(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Om(mm.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},gm.bind(null,l,d,a,s),null),a},useId:function(){var t=_n(),s=ht.identifierPrefix;if(Ye){var a=Pi,l=Ni;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Fu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=QS++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Mf,useFormState:wm,useActionState:wm,useOptimistic:function(t){var s=_n();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Of.bind(null,Pe,!0,a),a.dispatch=s,[t,s]},useMemoCache:Ef,useCacheRefresh:function(){return _n().memoizedState=JS.bind(null,Pe)},useEffectEvent:function(t){var s=_n(),a={impl:t};return s.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:tn,use:Qu,useCallback:Pm,useContext:tn,useEffect:wf,useImperativeHandle:Nm,useInsertionEffect:xm,useLayoutEffect:Im,useMemo:km,useReducer:Ku,useRef:Mm,useState:function(){return Ku(fs)},useDebugValue:Af,useDeferredValue:function(t,s){var a=Ot();return Um(a,lt.memoizedState,t,s)},useTransition:function(){var t=Ku(fs)[0],s=Ot().memoizedState;return[typeof t=="boolean"?t:nl(t),s]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:Mf,useFormState:Am,useActionState:Am,useOptimistic:function(t,s){var a=Ot();return _m(a,lt,t,s)},useMemoCache:Ef,useCacheRefresh:qm};Df.useEffectEvent=Dm;var Ym={readContext:tn,use:Qu,useCallback:Pm,useContext:tn,useEffect:wf,useImperativeHandle:Nm,useInsertionEffect:xm,useLayoutEffect:Im,useMemo:km,useReducer:Tf,useRef:Mm,useState:function(){return Tf(fs)},useDebugValue:Af,useDeferredValue:function(t,s){var a=Ot();return lt===null?Lf(a,t,s):Um(a,lt.memoizedState,t,s)},useTransition:function(){var t=Tf(fs)[0],s=Ot().memoizedState;return[typeof t=="boolean"?t:nl(t),s]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:Mf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,s){var a=Ot();return lt!==null?_m(a,lt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:qm};Ym.useEffectEvent=Dm;function xf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var If={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Ks(l);f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),Jo(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),Jo(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=jn(),l=Ks(a);l.tag=2,s!=null&&(l.callback=s),s=Ys(t,l,a),s!==null&&(Ln(s,t,a),Jo(s,t,a))}};function Zm(t,s,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Fo(a,l)||!Fo(f,d):!0}function $m(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&If.enqueueReplaceState(s,s.state,null)}function $r(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Xm(t){Ru(t)}function Jm(t){console.error(t)}function Wm(t){Ru(t)}function Xu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function ev(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vf(t,s,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,s)},a}function tv(t){return t=Ks(t),t.tag=3,t}function nv(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){ev(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ev(s,a,l),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function e1(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Va(s,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?uc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Uu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),rd(t,l,f)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),rd(t,l,f)),!1}throw Error(r(435,a.tag))}return rd(t,l,f),uc(),!1}if(Ye)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jh&&(t=Error(r(422),{cause:l}),Ko(Zn(t,a)))):(l!==Jh&&(s=Error(r(423),{cause:l}),Ko(Zn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Zn(l,a),f=Vf(t.stateNode,l,f),cf(t,f),wt!==4&&(wt=2)),!1;var d=Error(r(520),{cause:l});if(d=Zn(d,a),fl===null?fl=[d]:fl.push(d),wt!==4&&(wt=2),s===null)return!0;l=Zn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Vf(a.stateNode,l,t),cf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(er===null||!er.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=tv(f),nv(f,t,a,l),cf(a,f),!1}a=a.return}while(a!==null);return!1}var Nf=Error(r(461)),Ut=!1;function nn(t,s,a,l){s.child=t===null?am(s,null,a,l):Yr(s,t.child,a,l)}function iv(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return Fr(s),l=mf(t,s,a,_,d,f),C=vf(),t!==null&&!Ut?(yf(t,s,f),ds(t,s,f)):(Ye&&C&&$h(s),s.flags|=1,nn(t,s,l,f),s.child)}function sv(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Kh(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,rv(t,s,d,l,f)):(t=xu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!qf(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(_,l)&&t.ref===s.ref)return ds(t,s,f)}return s.flags|=1,t=os(d,l),t.ref=s.ref,t.return=s,s.child=t}function rv(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===s.ref)if(Ut=!1,s.pendingProps=l=d,qf(t,f))(t.flags&131072)!==0&&(Ut=!0);else return s.lanes=t.lanes,ds(t,s,f)}return Pf(t,s,a,l,f)}function av(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return ov(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(s,d!==null?d.cachePool:null),d!==null?um(s,d):ff(),cm(s);else return l=s.lanes=536870912,ov(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pu(s,d.cachePool),um(s,d),$s(),s.memoizedState=null):(t!==null&&Pu(s,null),ff(),$s());return nn(t,s,f,a),s.child}function rl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ov(t,s,a,l,f){var d=af();return d=d===null?null:{parent:Pt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Pu(s,null),ff(),cm(s),t!==null&&Va(t,s,l,!0),s.childLanes=f,null}function Ju(t,s){return s=ec({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function lv(t,s,a){return Yr(s,t.child,null,a),t=Ju(s,s.pendingProps),t.flags|=2,Un(s),s.memoizedState=null,t}function t1(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=Ju(s,l),s.lanes=536870912,rl(null,t);if(pf(s),(t=dt)?(t=Ey(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Ni,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=s,s.child=a,en=s,dt=null)):t=null,t===null)throw Fs(s);return s.lanes=536870912,null}return Ju(s,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(pf(s),f)if(s.flags&256)s.flags&=-257,s=lv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||Va(t,s,a,!1),f=(a&t.childLanes)!==0,Ut||f){if(l=ht,l!==null&&(_=Ao(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Br(t,_),Ln(l,t,_),Nf;uc(),s=lv(t,s,a)}else t=d.treeContext,dt=ei(_.nextSibling),en=s,Ye=!0,qs=null,Jn=!1,t!==null&&Yg(s,t),s=Ju(s,l),s.flags|=4096;return s}return t=os(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Pf(t,s,a,l,f){return Fr(s),a=mf(t,s,a,l,void 0,f),l=vf(),t!==null&&!Ut?(yf(t,s,f),ds(t,s,f)):(Ye&&l&&$h(s),s.flags|=1,nn(t,s,a,f),s.child)}function uv(t,s,a,l,f,d){return Fr(s),s.updateQueue=null,a=fm(s,l,a,f),hm(t),l=vf(),t!==null&&!Ut?(yf(t,s,d),ds(t,s,d)):(Ye&&l&&$h(s),s.flags|=1,nn(t,s,a,d),s.child)}function cv(t,s,a,l,f){if(Fr(s),s.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=If,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},lf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):Oa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xf(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&If.enqueueReplaceState(d,d.state,null),el(s,l,d,f),Wo(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var C=s.memoizedProps,P=$r(a,C);d.props=P;var Y=d.context,ie=a.contextType;_=Oa,typeof ie=="object"&&ie!==null&&(_=tn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||Y!==_)&&$m(s,d,l,_),Qs=!1;var X=s.memoizedState;d.state=X,el(s,l,d,f),Wo(),Y=s.memoizedState,C||X!==Y||Qs?(typeof ae=="function"&&(xf(s,a,ae,l),Y=s.memoizedState),(P=Qs||Zm(s,a,P,l,X,Y,_))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=_,l=P):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,uf(t,s),_=s.memoizedProps,ie=$r(a,_),d.props=ie,ae=s.pendingProps,X=d.context,Y=a.contextType,P=Oa,typeof Y=="object"&&Y!==null&&(P=tn(Y)),C=a.getDerivedStateFromProps,(Y=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||X!==P)&&$m(s,d,l,P),Qs=!1,X=s.memoizedState,d.state=X,el(s,l,d,f),Wo();var ee=s.memoizedState;_!==ae||X!==ee||Qs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof C=="function"&&(xf(s,a,C,l),ee=s.memoizedState),(ie=Qs||Zm(s,a,ie,l,X,ee,P)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ee,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ee,P)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ee),d.props=l,d.state=ee,d.context=P,l=ie):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,Wu(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Yr(s,t.child,null,f),s.child=Yr(s,null,a,f)):nn(t,s,a,f),s.memoizedState=d.state,t=s.child):t=ds(t,s,f),t}function hv(t,s,a,l){return Hr(),s.flags|=256,nn(t,s,a,l),s.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:em()}}function zf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Bn),t}function fv(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ye){if(f?Zs(s):$s(),(t=dt)?(t=Ey(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Ni,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=s,s.child=a,en=s,dt=null)):t=null,t===null)throw Fs(s);return bd(t)?s.lanes=32:s.lanes=536870912,null}var C=l.children;return l=l.fallback,f?($s(),f=s.mode,C=ec({mode:"hidden",children:C},f),l=jr(l,f,a,null),C.return=s,l.return=s,C.sibling=l,s.child=C,l=s.child,l.memoizedState=Uf(a),l.childLanes=zf(t,_,a),s.memoizedState=kf,rl(null,l)):(Zs(s),Bf(s,C))}var P=t.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(d)s.flags&256?(Zs(s),s.flags&=-257,s=jf(t,s,a)):s.memoizedState!==null?($s(),s.child=t.child,s.flags|=128,s=null):($s(),C=l.fallback,f=s.mode,l=ec({mode:"visible",children:l.children},f),C=jr(C,f,a,null),C.flags|=2,l.return=s,C.return=s,l.sibling=C,s.child=l,Yr(s,t.child,null,a),l=s.child,l.memoizedState=Uf(a),l.childLanes=zf(t,_,a),s.memoizedState=kf,s=rl(null,l));else if(Zs(s),bd(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Y=_.dgst;_=Y,l=Error(r(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),s=jf(t,s,a)}else if(Ut||Va(t,s,a,!1),_=(a&t.childLanes)!==0,Ut||_){if(_=ht,_!==null&&(l=Ao(_,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,Br(t,l),Ln(_,t,l),Nf;Ed(C)||uc(),s=jf(t,s,a)}else Ed(C)?(s.flags|=192,s.child=t.child,s=null):(t=P.treeContext,dt=ei(C.nextSibling),en=s,Ye=!0,qs=null,Jn=!1,t!==null&&Yg(s,t),s=Bf(s,l.children),s.flags|=4096);return s}return f?($s(),C=l.fallback,f=s.mode,P=t.child,Y=P.sibling,l=os(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,Y!==null?C=os(Y,C):(C=jr(C,f,a,null),C.flags|=2),C.return=s,l.return=s,l.sibling=C,s.child=l,rl(null,l),l=s.child,C=t.child.memoizedState,C===null?C=Uf(a):(f=C.cachePool,f!==null?(P=Pt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=em(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=zf(t,_,a),s.memoizedState=kf,rl(t.child,l)):(Zs(s),a=t.child,t=a.sibling,a=os(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function Bf(t,s){return s=ec({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ec(t,s){return t=Pn(22,t,null,s),t.lanes=0,t}function jf(t,s,a){return Yr(s,t.child,null,a),t=Bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function dv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),tf(t.return,s,a)}function Hf(t,s,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function pv(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Mt.current,C=(_&2)!==0;if(C?(_=_&1|2,s.flags|=128):_&=1,se(Mt,_),nn(t,s,l,a),l=Ye?Qo:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dv(t,a,s);else if(t.tag===19)dv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Hf(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Hu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hf(s,!0,a,null,d,l);break;case"together":Hf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ds(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ws|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Va(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=os(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=os(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function qf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function n1(t,s,a){switch(s.tag){case 3:Se(s,s.stateNode.containerInfo),Gs(s,Pt,t.memoizedState.cache),Hr();break;case 27:case 5:we(s);break;case 4:Se(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Zs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?fv(t,s,a):(Zs(s),t=ds(t,s,a),t!==null?t.sibling:null);Zs(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Va(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return pv(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:return s.lanes=0,av(t,s,a,s.pendingProps);case 24:Gs(s,Pt,t.memoizedState.cache)}return ds(t,s,a)}function gv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ut=!0;else{if(!qf(t,a)&&(s.flags&128)===0)return Ut=!1,n1(t,s,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ye&&(s.flags&1048576)!==0&&Kg(s,Qo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Qr(s.elementType),s.type=t,typeof t=="function")Kh(t)?(l=$r(t,l),s.tag=1,s=cv(null,s,t,l,a)):(s.tag=0,s=Pf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===Z){s.tag=11,s=iv(null,s,t,l,a);break e}else if(f===A){s.tag=14,s=sv(null,s,t,l,a);break e}}throw s=ge(t)||t,Error(r(306,s,""))}}return s;case 0:return Pf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=$r(l,s.pendingProps),cv(t,s,l,f,a);case 3:e:{if(Se(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,uf(t,s),el(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Gs(s,Pt,l),l!==d.cache&&nf(s,[Pt],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=hv(t,s,l,a);break e}else if(l!==f){f=Zn(Error(r(424)),s),Ko(f),s=hv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ei(t.firstChild),en=s,Ye=!0,qs=null,Jn=!0,a=am(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),l===f){s=ds(t,s,a);break e}nn(t,s,l,a)}s=s.child}return s;case 26:return Wu(t,s),t===null?(a=Ay(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ye||(a=s.type,t=s.pendingProps,l=mc(me.current).createElement(a),l[It]=s,l[Yt]=t,sn(l,a,t),Vt(l),s.stateNode=l):s.memoizedState=Ay(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return we(s),t===null&&Ye&&(l=s.stateNode=Sy(s.type,s.pendingProps,me.current),en=s,Jn=!0,f=dt,sr(s.type)?(Td=f,dt=ei(l.firstChild)):dt=f),nn(t,s,s.pendingProps.children,a),Wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ye&&((f=l=dt)&&(l=x1(l,s.type,s.pendingProps,Jn),l!==null?(s.stateNode=l,en=s,dt=ei(l.firstChild),Jn=!1,f=!0):f=!1),f||Fs(s)),we(s),f=s.type,d=s.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,vd(f,d)?l=null:_!==null&&vd(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=mf(t,s,KS,null,null,a),El._currentValue=f),Wu(t,s),nn(t,s,l,a),s.child;case 6:return t===null&&Ye&&((t=a=dt)&&(a=I1(a,s.pendingProps,Jn),a!==null?(s.stateNode=a,en=s,dt=null,t=!0):t=!1),t||Fs(s)),null;case 13:return fv(t,s,a);case 4:return Se(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Yr(s,null,l,a):nn(t,s,l,a),s.child;case 11:return iv(t,s,s.type,s.pendingProps,a);case 7:return nn(t,s,s.pendingProps,a),s.child;case 8:return nn(t,s,s.pendingProps.children,a),s.child;case 12:return nn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Gs(s,s.type,l.value),nn(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Fr(s),f=tn(f),l=l(f),s.flags|=1,nn(t,s,l,a),s.child;case 14:return sv(t,s,s.type,s.pendingProps,a);case 15:return rv(t,s,s.type,s.pendingProps,a);case 19:return pv(t,s,a);case 31:return t1(t,s,a);case 22:return av(t,s,a,s.pendingProps);case 24:return Fr(s),l=tn(Pt),t===null?(f=af(),f===null&&(f=ht,d=sf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},lf(s),Gs(s,Pt,f)):((t.lanes&a)!==0&&(uf(t,s),el(s,null,null,a),Wo()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Gs(s,Pt,l)):(l=d.cache,Gs(s,Pt,l),l!==f.cache&&nf(s,[Pt],a,!0))),nn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ps(t){t.flags|=4}function Ff(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Hv())t.flags|=8192;else throw Kr=Uu,of}else t.flags&=-16777217}function mv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dy(s))if(Hv())t.flags|=8192;else throw Kr=Uu,of}function tc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?es():536870912,t.lanes|=s,Qa|=s)}function al(t,s){if(!Ye)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function i1(t,s,a){var l=s.pendingProps;switch(Xh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),cs(Pt),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ia(s)?ps(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wh())),pt(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(ps(s),d!==null?(pt(s),mv(s,d)):(pt(s),Ff(s,f,null,l,a))):d?d!==t.memoizedState?(ps(s),pt(s),mv(s,d)):(pt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ps(s),pt(s),Ff(s,f,t,l,a)),null;case 27:if(ze(s),a=me.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ps(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return pt(s),null}t=ce.current,Ia(s)?Zg(s):(t=Sy(f,l,a),s.stateNode=t,ps(s))}return pt(s),null;case 5:if(ze(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ps(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(d=ce.current,Ia(s))Zg(s);else{var _=mc(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[It]=s,d[Yt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;e:switch(sn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ps(s)}}return pt(s),Ff(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ps(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=me.current,Ia(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fy(t.nodeValue,a)),t||Fs(s,!0)}else t=mc(t).createTextNode(l),t[It]=s,s.stateNode=t}return pt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ia(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),t=!1}else a=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ia(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),f=!1}else f=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),tc(s,s.updateQueue),pt(s),null);case 4:return De(),t===null&&fd(s.stateNode.containerInfo),pt(s),null;case 10:return cs(s.type),pt(s),null;case 19:if(J(Mt),l=s.memoizedState,l===null)return pt(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)al(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Hu(t),d!==null){for(s.flags|=128,al(l,!1),t=d.updateQueue,s.updateQueue=t,tc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Fg(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),Ye&&ls(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Kt()>ac&&(s.flags|=128,f=!0,al(l,!1),s.lanes=4194304)}else{if(!f)if(t=Hu(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,tc(s,t),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ye)return pt(s),null}else 2*Kt()-l.renderingStartTime>ac&&a!==536870912&&(s.flags|=128,f=!0,al(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=Mt.current,se(Mt,f?a&1|2:a&1),Ye&&ls(s,l.treeForkCount),t):(pt(s),null);case 22:case 23:return Un(s),df(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),a=s.updateQueue,a!==null&&tc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&J(Gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cs(Pt),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function s1(t,s){switch(Xh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return cs(Pt),De(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Un(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(Mt),null;case 4:return De(),null;case 10:return cs(s.type),null;case 22:case 23:return Un(s),df(),t!==null&&J(Gr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return cs(Pt),null;case 25:return null;default:return null}}function vv(t,s){switch(Xh(s),s.tag){case 3:cs(Pt),De();break;case 26:case 27:case 5:ze(s);break;case 4:De();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:J(Mt);break;case 10:cs(s.type);break;case 22:case 23:Un(s),df(),t!==null&&J(Gr);break;case 24:cs(Pt)}}function ol(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(C){at(s,s.return,C)}}function Xs(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=s;var P=a,Y=C;try{Y()}catch(ie){at(f,P,ie)}}}l=l.next}while(l!==d)}}catch(ie){at(s,s.return,ie)}}function yv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{lm(s,a)}catch(l){at(t,t.return,l)}}}function _v(t,s,a){a.props=$r(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,s,l)}}function ll(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){at(t,s,f)}}function ki(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){at(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(t,s,f)}else a.current=null}function Ev(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){at(t,t.return,f)}}function Gf(t,s,a){try{var l=t.stateNode;A1(l,t.type,a,s),l[Yt]=s}catch(f){at(t,t.return,f)}}function bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=li));else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Kf(t,s,a),t=t.sibling;t!==null;)Kf(t,s,a),t=t.sibling}function nc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,s,a),t=t.sibling;t!==null;)nc(t,s,a),t=t.sibling}function Tv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);sn(s,l,a),s[It]=t,s[Yt]=a}catch(d){at(t,t.return,d)}}var gs=!1,zt=!1,Yf=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function r1(t,s){if(t=t.containerInfo,gd=Sc,t=Ng(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,Y=0,ie=0,ae=t,X=null;t:for(;;){for(var ee;ae!==a||f!==0&&ae.nodeType!==3||(C=_+f),ae!==d||l!==0&&ae.nodeType!==3||(P=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)X=ae,ae=ee;for(;;){if(ae===t)break t;if(X===a&&++Y===f&&(C=_),X===d&&++ie===l&&(P=_),(ee=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=ee}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},Sc=!1,$t=s;$t!==null;)if(s=$t,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,$t=t;else for(;$t!==null;){switch(s=$t,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=$r(a.type,f);t=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){at(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,$t=t;break}$t=s.return}}function Cv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(t,a),l&4&&ol(5,a);break;case 1:if(vs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var f=$r(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}l&64&&yv(a),l&512&&ll(a,a.return);break;case 3:if(vs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{lm(t,s)}catch(_){at(a,a.return,_)}}break;case 27:s===null&&l&4&&Tv(a);case 26:case 5:vs(t,a),s===null&&l&4&&Ev(a),l&512&&ll(a,a.return);break;case 12:vs(t,a);break;case 31:vs(t,a),l&4&&Lv(t,a);break;case 13:vs(t,a),l&4&&Rv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=p1.bind(null,a),V1(t,a))));break;case 22:if(l=a.memoizedState!==null||gs,!l){s=s!==null&&s.memoizedState!==null||zt,f=gs;var d=zt;gs=l,(zt=s)&&!d?ys(t,a,(a.subtreeFlags&8772)!==0):vs(t,a),gs=f,zt=d}break;case 30:break;default:vs(t,a)}}function wv(t){var s=t.alternate;s!==null&&(t.alternate=null,wv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ma(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Sn=!1;function ms(t,s,a){for(a=a.child;a!==null;)Av(t,s,a),a=a.sibling}function Av(t,s,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||ki(a,s),ms(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||ki(a,s);var l=_t,f=Sn;sr(a.type)&&(_t=a.stateNode,Sn=!1),ms(t,s,a),vl(a.stateNode),_t=l,Sn=f;break;case 5:zt||ki(a,s);case 6:if(l=_t,f=Sn,_t=null,ms(t,s,a),_t=l,Sn=f,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,s,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,s,d)}break;case 18:_t!==null&&(Sn?(t=_t,yy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):yy(_t,a.stateNode));break;case 4:l=_t,f=Sn,_t=a.stateNode.containerInfo,Sn=!0,ms(t,s,a),_t=l,Sn=f;break;case 0:case 11:case 14:case 15:Xs(2,a,s),zt||Xs(4,a,s),ms(t,s,a);break;case 1:zt||(ki(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_v(a,s,l)),ms(t,s,a);break;case 21:ms(t,s,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,ms(t,s,a),zt=l;break;default:ms(t,s,a)}}function Lv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){at(s,s.return,a)}}}function Rv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){at(s,s.return,a)}}function a1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Sv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Sv),s;default:throw Error(r(435,t.tag))}}function ic(t,s){var a=a1(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=g1.bind(null,t,l);l.then(f,f)}})}function Cn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=s,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(sr(C.type)){_t=C.stateNode,Sn=!1;break e}break;case 5:_t=C.stateNode,Sn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,Sn=!0;break e}C=C.return}if(_t===null)throw Error(r(160));Av(d,_,f),_t=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Mv(s,t),s=s.sibling}var pi=null;function Mv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),wn(t),l&4&&(Xs(3,t,t.return),ol(3,t),Xs(5,t,t.return));break;case 1:Cn(s,t),wn(t),l&512&&(zt||a===null||ki(a,a.return)),l&64&&gs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(Cn(s,t),wn(t),l&512&&(zt||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Si]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),sn(d,l,a),d[It]=t,Vt(d),l=d;break e;case"link":var _=My("link","href",f).get(l+(a.href||""));if(_){for(var C=0;C<_.length;C++)if(d=_[C],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(C,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=My("meta","content",f).get(l+(a.content||""))){for(C=0;C<_.length;C++)if(d=_[C],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(C,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,Vt(d),l=d}t.stateNode=l}else Oy(f,t.type,t.stateNode);else t.stateNode=Ry(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Oy(f,t.type,t.stateNode):Ry(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(s,t),wn(t),l&512&&(zt||a===null||ki(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(s,t),wn(t),l&512&&(zt||a===null||ki(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(ve){at(t,t.return,ve)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Yf=!0);break;case 6:if(Cn(s,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){at(t,t.return,ve)}}break;case 3:if(_c=null,f=pi,pi=vc(s.containerInfo),Cn(s,t),pi=f,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(s.containerInfo)}catch(ve){at(t,t.return,ve)}Yf&&(Yf=!1,Ov(t));break;case 4:l=pi,pi=vc(t.stateNode.containerInfo),Cn(s,t),wn(t),pi=l;break;case 12:Cn(s,t),wn(t);break;case 31:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:Cn(s,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,Y=gs,ie=zt;if(gs=Y||f,zt=ie||P,Cn(s,t),zt=ie,gs=Y,wn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||P||gs||zt||Xr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(d=P.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=P.stateNode;var ae=P.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){at(P,P.return,ve)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(ve){at(P,P.return,ve)}}}else if(s.tag===18){if(a===null){P=s;try{var ee=P.stateNode;f?_y(ee,!0):_y(P.stateNode,!1)}catch(ve){at(P,P.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ic(t,a))));break;case 19:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:Cn(s,t),wn(t)}}function wn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(bv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Qf(t);nc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var C=Qf(t);nc(t,C,_);break;case 3:case 4:var P=a.stateNode.containerInfo,Y=Qf(t);Kf(t,Y,P);break;default:throw Error(r(161))}}catch(ie){at(t,t.return,ie)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ov(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function vs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Cv(t,s.alternate,s),s=s.sibling}function Xr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Xs(4,s,s.return),Xr(s);break;case 1:ki(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&_v(s,s.return,a),Xr(s);break;case 27:vl(s.stateNode);case 26:case 5:ki(s,s.return),Xr(s);break;case 22:s.memoizedState===null&&Xr(s);break;case 30:Xr(s);break;default:Xr(s)}t=t.sibling}}function ys(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ys(f,d,a),ol(4,d);break;case 1:if(ys(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){at(l,l.return,Y)}if(l=d,f=l.updateQueue,f!==null){var C=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)om(P[f],C)}catch(Y){at(l,l.return,Y)}}a&&_&64&&yv(d),ll(d,d.return);break;case 27:Tv(d);case 26:case 5:ys(f,d,a),a&&l===null&&_&4&&Ev(d),ll(d,d.return);break;case 12:ys(f,d,a);break;case 31:ys(f,d,a),a&&_&4&&Lv(f,d);break;case 13:ys(f,d,a),a&&_&4&&Rv(f,d);break;case 22:d.memoizedState===null&&ys(f,d,a),ll(d,d.return);break;case 30:break;default:ys(f,d,a)}s=s.sibling}}function Zf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function $f(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Yo(t))}function gi(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dv(t,s,a,l),s=s.sibling}function Dv(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gi(t,s,a,l),f&2048&&ol(9,s);break;case 1:gi(t,s,a,l);break;case 3:gi(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Yo(t)));break;case 12:if(f&2048){gi(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,_=d.id,C=d.onPostCommit;typeof C=="function"&&C(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){at(s,s.return,P)}}else gi(t,s,a,l);break;case 31:gi(t,s,a,l);break;case 13:gi(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?gi(t,s,a,l):ul(t,s):d._visibility&2?gi(t,s,a,l):(d._visibility|=2,qa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zf(_,s);break;case 24:gi(t,s,a,l),f&2048&&$f(s.alternate,s);break;default:gi(t,s,a,l)}}function qa(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,_=s,C=a,P=l,Y=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,C,P,f),ol(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?qa(d,_,C,P,f):ul(d,_):(ie._visibility|=2,qa(d,_,C,P,f)),f&&Y&2048&&Zf(_.alternate,_);break;case 24:qa(d,_,C,P,f),f&&Y&2048&&$f(_.alternate,_);break;default:qa(d,_,C,P,f)}s=s.sibling}}function ul(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:ul(a,l),f&2048&&Zf(l.alternate,l);break;case 24:ul(a,l),f&2048&&$f(l.alternate,l);break;default:ul(a,l)}s=s.sibling}}var cl=8192;function Fa(t,s,a){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)xv(t,s,a),t=t.sibling}function xv(t,s,a){switch(t.tag){case 26:Fa(t,s,a),t.flags&cl&&t.memoizedState!==null&&Q1(a,pi,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,s,a);break;case 3:case 4:var l=pi;pi=vc(t.stateNode.containerInfo),Fa(t,s,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=cl,cl=16777216,Fa(t,s,a),cl=l):Fa(t,s,a));break;default:Fa(t,s,a)}}function Iv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function hl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,Nv(l,t)}Iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vv(t),t=t.sibling}function Vv(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,sc(t)):hl(t);break;default:hl(t)}}function sc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,Nv(l,t)}Iv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Xs(8,s,s.return),sc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sc(s));break;default:sc(s)}t=t.sibling}}function Nv(t,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var f=l.sibling,d=l.return;if(wv(l),l===a){$t=null;break e}if(f!==null){f.return=d,$t=f;break e}$t=d}}}var o1={getCacheForType:function(t){var s=tn(Pt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return tn(Pt).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,je=null,Fe=0,rt=0,zn=null,Js=!1,Ga=!1,Xf=!1,_s=0,wt=0,Ws=0,Jr=0,Jf=0,Bn=0,Qa=0,fl=null,An=null,Wf=!1,rc=0,Pv=0,ac=1/0,oc=null,er=null,Ht=0,tr=null,Ka=null,Es=0,ed=0,td=null,kv=null,dl=0,nd=null;function jn(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:Q.T!==null?ld():lu()}function Uv(){if(Bn===0)if((Fe&536870912)===0||Ye){var t=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function Ln(t,s,a){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),nr(t,Fe,Bn,!1)),ts(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(Jr|=a),wt===4&&nr(t,Fe,Bn,!1)),Ui(t))}function zv(t,s,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||fn(t,s),f=l?h1(t,s):sd(t,s,!0),d=l;do{if(f===0){Ga&&!l&&nr(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!u1(a)){f=sd(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var C=t;f=fl;var P=C.current.memoizedState.isDehydrated;if(P&&(Ya(C,_).flags|=256),_=sd(C,_,!1),_!==2){if(Xf&&!P){C.errorRecoveryDisabledLanes|=d,Jr|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ya(t,0),nr(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:nr(l,s,Bn,!Js);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=rc+300-Kt(),10<f)){if(nr(l,s,Bn,!Js),Dn(l,0,!0)!==0)break e;Es=s,l.timeoutHandle=my(Bv.bind(null,l,a,An,oc,Wf,s,Bn,Jr,Qa,Js,d,"Throttled",-0,0),f);break e}Bv(l,a,An,oc,Wf,s,Bn,Jr,Qa,Js,d,null,-0,0)}}break}while(!0);Ui(t)}function Bv(t,s,a,l,f,d,_,C,P,Y,ie,ae,X,ee){if(t.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},xv(s,d,ae);var ve=(d&62914560)===d?rc-Kt():(d&4194048)===d?Pv-Kt():0;if(ve=K1(ae,ve),ve!==null){Es=d,t.cancelPendingCommit=ve(Yv.bind(null,t,s,d,a,l,f,_,C,P,ie,ae,null,X,ee)),nr(t,d,_,!Y);return}}Yv(t,s,d,a,l,f,_,C,P)}function u1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nr(t,s,a,l){s&=~Jf,s&=~Jr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-vt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Me(t,a,s)}function lc(){return(nt&6)===0?(pl(0),!1):!0}function id(){if(je!==null){if(rt===0)var t=je.return;else t=je,us=qr=null,_f(t),Ua=null,$o=0,t=je;for(;t!==null;)vv(t.alternate,t),t=t.return;je=null}}function Ya(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,M1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Es=0,id(),ht=t,je=a=os(t.current,null),Fe=s,rt=0,zn=null,Js=!1,Ga=fn(t,s),Xf=!1,Qa=Bn=Jf=Jr=Ws=wt=0,An=fl=null,Wf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-vt(l),d=1<<f;s|=t[f],l&=~d}return _s=s,Mu(),a}function jv(t,s){Pe=null,Q.H=sl,s===ka||s===ku?(s=im(),rt=3):s===of?(s=im(),rt=4):rt=s===Nf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,je===null&&(wt=1,Xu(t,Zn(s,t.current)))}function Hv(){var t=kn.current;return t===null?!0:(Fe&4194048)===Fe?Wn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===Wn:!1}function qv(){var t=Q.H;return Q.H=sl,t===null?sl:t}function Fv(){var t=Q.A;return Q.A=o1,t}function uc(){wt=4,Js||(Fe&4194048)!==Fe&&kn.current!==null||(Ga=!0),(Ws&134217727)===0&&(Jr&134217727)===0||ht===null||nr(ht,Fe,Bn,!1)}function sd(t,s,a){var l=nt;nt|=2;var f=qv(),d=Fv();(ht!==t||Fe!==s)&&(oc=null,Ya(t,s)),s=!1;var _=wt;e:do try{if(rt!==0&&je!==null){var C=je,P=zn;switch(rt){case 8:id(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var Y=rt;if(rt=0,zn=null,Za(t,C,P,Y),a&&Ga){_=0;break e}break;default:Y=rt,rt=0,zn=null,Za(t,C,P,Y)}}c1(),_=wt;break}catch(ie){jv(t,ie)}while(!0);return s&&t.shellSuspendCounter++,us=qr=null,nt=l,Q.H=f,Q.A=d,je===null&&(ht=null,Fe=0,Mu()),_}function c1(){for(;je!==null;)Gv(je)}function h1(t,s){var a=nt;nt|=2;var l=qv(),f=Fv();ht!==t||Fe!==s?(oc=null,ac=Kt()+500,Ya(t,s)):Ga=fn(t,s);e:do try{if(rt!==0&&je!==null){s=je;var d=zn;t:switch(rt){case 1:rt=0,zn=null,Za(t,s,d,1);break;case 2:case 9:if(tm(d)){rt=0,zn=null,Qv(s);break}s=function(){rt!==2&&rt!==9||ht!==t||(rt=7),Ui(t)},d.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:tm(d)?(rt=0,zn=null,Qv(s)):(rt=0,zn=null,Za(t,s,d,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var C=je;if(_?Dy(_):C.stateNode.complete){rt=0,zn=null;var P=C.sibling;if(P!==null)je=P;else{var Y=C.return;Y!==null?(je=Y,cc(Y)):je=null}break t}}rt=0,zn=null,Za(t,s,d,5);break;case 6:rt=0,zn=null,Za(t,s,d,6);break;case 8:id(),wt=6;break e;default:throw Error(r(462))}}f1();break}catch(ie){jv(t,ie)}while(!0);return us=qr=null,Q.H=l,Q.A=f,nt=a,je!==null?0:(ht=null,Fe=0,Mu(),wt)}function f1(){for(;je!==null&&!da();)Gv(je)}function Gv(t){var s=gv(t.alternate,t,_s);t.memoizedProps=t.pendingProps,s===null?cc(t):je=s}function Qv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=uv(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=uv(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:_f(s);default:vv(a,s),s=je=Fg(s,_s),s=gv(a,s,_s)}t.memoizedProps=t.pendingProps,s===null?cc(t):je=s}function Za(t,s,a,l){us=qr=null,_f(s),Ua=null,$o=0;var f=s.return;try{if(e1(t,f,s,a,Fe)){wt=1,Xu(t,Zn(a,t.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;wt=1,Xu(t,Zn(a,t.current)),je=null;return}s.flags&32768?(Ye||l===1?t=!0:Ga||(Fe&536870912)!==0?t=!1:(Js=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kv(s,t)):cc(s)}function cc(t){var s=t;do{if((s.flags&32768)!==0){Kv(s,Js);return}t=s.return;var a=i1(s.alternate,s,_s);if(a!==null){je=a;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);wt===0&&(wt=5)}function Kv(t,s){do{var a=s1(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);wt=6,je=null}function Yv(t,s,a,l,f,d,_,C,P){t.cancelPendingCommit=null;do hc();while(Ht!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Gh,ns(t,a,d,_,C,P),t===ht&&(je=ht=null,Fe=0),Ka=s,tr=t,Es=a,ed=d,td=f,kv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(ri,function(){return Wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=le.p,le.p=2,_=nt,nt|=4;try{r1(t,s,a)}finally{nt=_,le.p=f,Q.T=l}}Ht=1,Zv(),$v(),Xv()}}function Zv(){if(Ht===1){Ht=0;var t=tr,s=Ka,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=nt;nt|=4;try{Mv(s,t);var d=md,_=Ng(t.containerInfo),C=d.focusedElem,P=d.selectionRange;if(_!==C&&C&&C.ownerDocument&&Vg(C.ownerDocument.documentElement,C)){if(P!==null&&Bh(C)){var Y=P.start,ie=P.end;if(ie===void 0&&(ie=Y),"selectionStart"in C)C.selectionStart=Y,C.selectionEnd=Math.min(ie,C.value.length);else{var ae=C.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var ee=X.getSelection(),ve=C.textContent.length,Re=Math.min(P.start,ve),ct=P.end===void 0?Re:Math.min(P.end,ve);!ee.extend&&Re>ct&&(_=ct,ct=Re,Re=_);var j=Ig(C,Re),z=Ig(C,ct);if(j&&z&&(ee.rangeCount!==1||ee.anchorNode!==j.node||ee.anchorOffset!==j.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var K=ae.createRange();K.setStart(j.node,j.offset),ee.removeAllRanges(),Re>ct?(ee.addRange(K),ee.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),ee.addRange(K))}}}}for(ae=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var re=ae[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Sc=!!gd,md=gd=null}finally{nt=f,le.p=l,Q.T=a}}t.current=s,Ht=2}}function $v(){if(Ht===2){Ht=0;var t=tr,s=Ka,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=nt;nt|=4;try{Cv(t,s.alternate,s)}finally{nt=f,le.p=l,Q.T=a}}Ht=3}}function Xv(){if(Ht===4||Ht===3){Ht=0,Zi();var t=tr,s=Ka,a=Es,l=kv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Ka=tr=null,Jv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(er=null),is(a),s=s.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(hn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var C=l[_];d(C.value,{componentStack:C.stack})}}finally{Q.T=s,le.p=f}}(Es&3)!==0&&hc(),Ui(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nd?dl++:(dl=0,nd=t):dl=0,pl(0)}}function Jv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Yo(s)))}function hc(){return Zv(),$v(),Xv(),Wv()}function Wv(){if(Ht!==5)return!1;var t=tr,s=ed;ed=0;var a=is(Es),l=Q.T,f=le.p;try{le.p=32>a?32:a,Q.T=null,a=td,td=null;var d=tr,_=Es;if(Ht=0,Ka=tr=null,Es=0,(nt&6)!==0)throw Error(r(331));var C=nt;if(nt|=4,Vv(d.current),Dv(d,d.current,_,a),nt=C,pl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{le.p=f,Q.T=l,Jv(t,s)}}function ey(t,s,a){s=Zn(a,s),s=Vf(t.stateNode,s,2),t=Ys(t,s,2),t!==null&&(ts(t,2),Ui(t))}function at(t,s,a){if(t.tag===3)ey(t,t,a);else for(;s!==null;){if(s.tag===3){ey(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=Zn(a,t),a=tv(2),l=Ys(s,a,2),l!==null&&(nv(a,l,s,t),ts(l,2),Ui(l));break}}s=s.return}}function rd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Xf=!0,f.add(a),t=d1.bind(null,t,s,a),s.then(t,t))}function d1(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Fe&a)===a&&(wt===4||wt===3&&(Fe&62914560)===Fe&&300>Kt()-rc?(nt&2)===0&&Ya(t,0):Jf|=a,Qa===Fe&&(Qa=0)),Ui(t)}function ty(t,s){s===0&&(s=es()),t=Br(t,s),t!==null&&(ts(t,s),Ui(t))}function p1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ty(t,a)}function g1(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),ty(t,a)}function m1(t,s){return St(t,s)}var fc=null,$a=null,ad=!1,dc=!1,od=!1,ir=0;function Ui(t){t!==$a&&t.next===null&&($a===null?fc=$a=t:$a=$a.next=t),dc=!0,ad||(ad=!0,y1())}function pl(t,s){if(!od&&dc){od=!0;do for(var a=!1,l=fc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(_&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ry(l,d))}else d=Fe,d=Dn(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fn(l,d)||(a=!0,ry(l,d));l=l.next}while(a);od=!1}}function v1(){ny()}function ny(){dc=ad=!1;var t=0;ir!==0&&R1()&&(t=ir);for(var s=Kt(),a=null,l=fc;l!==null;){var f=l.next,d=iy(l,s);d===0?(l.next=null,a===null?fc=f:a.next=f,f===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(dc=!0)),l=f}Ht!==0&&Ht!==5||pl(t),ir!==0&&(ir=0)}function iy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),C=1<<_,P=f[_];P===-1?((C&a)===0||(C&l)!==0)&&(f[_]=pa(C,s)):P<=s&&(t.expiredLanes|=C),d&=~C}if(s=ht,a=Fe,a=Dn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Mn(l),is(a)){case 2:case 8:a=Ei;break;case 32:a=ri;break;case 268435456:a=Ar;break;default:a=ri}return l=sy.bind(null,t),a=St(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function sy(t,s){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hc()&&t.callbackNode!==a)return null;var l=Fe;return l=Dn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(zv(t,l,s),iy(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?sy.bind(null,t):null)}function ry(t,s){if(hc())return null;zv(t,s,!0)}function y1(){O1(function(){(nt&6)!==0?St(Ds,v1):ny()})}function ld(){if(ir===0){var t=Na;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),ir=t}return ir}function ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function oy(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function _1(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=ay((f[Yt]||null).action),_=l.submitter;_&&(s=(s=_[Yt]||null)?ay(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var C=new Di("action","action",null,l,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var P=_?oy(f,_):new FormData(f);Rf(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(C.preventDefault(),P=_?oy(f,_):new FormData(f),Rf(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],E1=cd.toLowerCase(),b1=cd[0].toUpperCase()+cd.slice(1);di(E1,"on"+b1)}di(Ug,"onAnimationEnd"),di(zg,"onAnimationIteration"),di(Bg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(kS,"onTransitionRun"),di(US,"onTransitionStart"),di(zS,"onTransitionCancel"),di(jg,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function ly(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var C=l[_],P=C.instance,Y=C.currentTarget;if(C=C.listener,P!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=Y;try{d(f)}catch(ie){Ru(ie)}f.currentTarget=null,d=P}else for(_=0;_<l.length;_++){if(C=l[_],P=C.instance,Y=C.currentTarget,C=C.listener,P!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=Y;try{d(f)}catch(ie){Ru(ie)}f.currentTarget=null,d=P}}}}function He(t,s){var a=s[ga];a===void 0&&(a=s[ga]=new Set);var l=t+"__bubble";a.has(l)||(uy(s,t,2,!1),a.add(l))}function hd(t,s,a){var l=0;s&&(l|=4),uy(a,t,l,s)}var pc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[pc]){t[pc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(T1.has(a)||hd(a,!1,t),hd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[pc]||(s[pc]=!0,hd("selectionchange",!1,s))}}function uy(t,s,a,l){switch(Uy(s)){case 2:var f=$1;break;case 8:f=X1;break;default:f=Ld}a=f.bind(null,s,a,t),f=void 0,!xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function dd(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===f)break;if(_===4)for(_=l.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;C!==null;){if(_=Ci(C),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){l=d=_;continue e}C=C.parentNode}}l=l.return}Us(function(){var Y=d,ie=Gn(a),ae=[];e:{var X=Hg.get(t);if(X!==void 0){var ee=Di,ve=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":ee=wu;break;case"focusin":ve="focus",ee=Pr;break;case"focusout":ve="blur",ee=Pr;break;case"beforeblur":case"afterblur":ee=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case Ug:case zg:case Bg:ee=yu;break;case jg:ee=L;break;case"scroll":case"scrollend":ee=zo;break;case"wheel":ee=W;break;case"copy":case"cut":case"paste":ee=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=as;break;case"toggle":case"beforetoggle":ee=Ne}var Re=(s&4)!==0,ct=!Re&&(t==="scroll"||t==="scrollend"),j=Re?X!==null?X+"Capture":null:X;Re=[];for(var z=Y,K;z!==null;){var re=z;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||j===null||(re=ui(z,j),re!=null&&Re.push(ml(z,re,K))),ct)break;z=z.return}0<Re.length&&(X=new ee(X,ve,null,a,ie),ae.push({event:X,listeners:Re}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",X&&a!==Po&&(ve=a.relatedTarget||a.fromElement)&&(Ci(ve)||ve[Ti]))break e;if((ee||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(ve=a.relatedTarget||a.toElement,ee=Y,ve=ve?Ci(ve):null,ve!==null&&(ct=u(ve),Re=ve.tag,ve!==ct||Re!==5&&Re!==27&&Re!==6)&&(ve=null)):(ee=null,ve=Y),ee!==ve)){if(Re=Bo,re="onMouseLeave",j="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Re=as,re="onPointerLeave",j="onPointerEnter",z="pointer"),ct=ee==null?X:In(ee),K=ve==null?X:In(ve),X=new Re(re,z+"leave",ee,a,ie),X.target=ct,X.relatedTarget=K,re=null,Ci(ie)===Y&&(Re=new Re(j,z+"enter",ve,a,ie),Re.target=K,Re.relatedTarget=ct,re=Re),ct=re,ee&&ve)t:{for(Re=S1,j=ee,z=ve,K=0,re=j;re;re=Re(re))K++;re=0;for(var Ae=z;Ae;Ae=Re(Ae))re++;for(;0<K-re;)j=Re(j),K--;for(;0<re-K;)z=Re(z),re--;for(;K--;){if(j===z||z!==null&&j===z.alternate){Re=j;break t}j=Re(j),z=Re(z)}Re=null}else Re=null;ee!==null&&cy(ae,X,ee,Re,!1),ve!==null&&ct!==null&&cy(ae,ct,ve,Re,!0)}}e:{if(X=Y?In(Y):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Je=Lg;else if(wg(X))if(Rg)Je=VS;else{Je=xS;var be=DS}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&_a(Y.elementType)&&(Je=Lg):Je=IS;if(Je&&(Je=Je(t,Y))){Ag(ae,Je,a,ie);break e}be&&be(t,X,Y),t==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Io(X,"number",X.value)}switch(be=Y?In(Y):window,t){case"focusin":(wg(be)||be.contentEditable==="true")&&(La=be,jh=Y,Go=null);break;case"focusout":Go=jh=La=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Pg(ae,a,ie);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Pg(ae,a,ie)}var ke;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Aa?kr(t,a)&&(Ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Vi&&a.locale!=="ko"&&(Aa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Aa&&(ke=Uo()):(Oi=ie,ko="value"in Oi?Oi.value:Oi.textContent,Aa=!0)),be=gc(Y,Ge),0<be.length&&(Ge=new Ii(Ge,t,null,a,ie),ae.push({event:Ge,listeners:be}),ke?Ge.data=ke:(ke=wa(a),ke!==null&&(Ge.data=ke)))),(ke=Kn?LS(t,a):RS(t,a))&&(Ge=gc(Y,"onBeforeInput"),0<Ge.length&&(be=new Ii("onBeforeInput","beforeinput",null,a,ie),ae.push({event:be,listeners:Ge}),be.data=ke)),_1(ae,t,Y,a,ie)}ly(ae,s)})}function ml(t,s,a){return{instance:t,listener:s,currentTarget:a}}function gc(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ui(t,a),f!=null&&l.unshift(ml(t,f,d)),f=ui(t,s),f!=null&&l.push(ml(t,f,d))),t.tag===3)return l;t=t.return}return[]}function S1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cy(t,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var C=a,P=C.alternate,Y=C.stateNode;if(C=C.tag,P!==null&&P===l)break;C!==5&&C!==26&&C!==27||Y===null||(P=Y,f?(Y=ui(a,d),Y!=null&&_.unshift(ml(a,Y,P))):f||(Y=ui(a,d),Y!=null&&_.push(ml(a,Y,P)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var C1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(w1,"")}function fy(t,s){return s=hy(s),hy(t)===s}function ut(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,a,l);break;case"style":No(t,l,d);break;case"data":if(s!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ut(t,s,"name",f.name,f,null),ut(t,s,"formEncType",f.formEncType,f,null),ut(t,s,"formMethod",f.formMethod,f,null),ut(t,s,"formTarget",f.formTarget,f,null)):(ut(t,s,"encType",f.encType,f,null),ut(t,s,"method",f.method,f,null),ut(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":He("beforetoggle",t),He("toggle",t),va(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,va(t,a,l))}}function pd(t,s,a,l,f,d){switch(a){case"style":No(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function sn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,d,_,a,null)}}f&&ut(t,s,"srcSet",a.srcSet,a,null),l&&ut(t,s,"src",a.src,a,null);return;case"input":He("invalid",t);var C=d=_=f=null,P=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":_=ie;break;case"checked":P=ie;break;case"defaultChecked":Y=ie;break;case"value":d=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ut(t,s,l,ie,a,null)}}fu(t,d,C,P,Y,_,f,!1);return;case"select":He("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":d=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:ut(t,s,f,C,a,null)}s=d,a=_,t.multiple=!!l,s!=null?Vs(t,!!l,s,!1):a!=null&&Vs(t,!!l,a,!0);return;case"textarea":He("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(C=a[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":f=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ut(t,s,_,C,a,null)}Ns(t,l,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,s,P,l,a,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)He(gl[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,Y,l,a,null)}return;default:if(_a(s)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&pd(t,s,ie,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&ut(t,s,C,l,a,null))}function A1(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,C=null,P=null,Y=null,ie=null;for(ee in a){var ae=a[ee];if(a.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":P=ae;default:l.hasOwnProperty(ee)||ut(t,s,ee,null,l,ae)}}for(var X in l){var ee=l[X];if(ae=a[X],l.hasOwnProperty(X)&&(ee!=null||ae!=null))switch(X){case"type":d=ee;break;case"name":f=ee;break;case"checked":Y=ee;break;case"defaultChecked":ie=ee;break;case"value":_=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==ae&&ut(t,s,X,ee,l,ae)}}ya(t,_,C,P,Y,ie,d,f);return;case"select":ee=_=C=X=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":ee=P;default:l.hasOwnProperty(d)||ut(t,s,d,null,l,P)}for(f in l)if(d=l[f],P=a[f],l.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":X=d;break;case"defaultValue":C=d;break;case"multiple":_=d;default:d!==P&&ut(t,s,f,d,l,P)}s=C,a=_,l=ee,X!=null?Vs(t,!!a,X,!1):!!l!=!!a&&(s!=null?Vs(t,!!a,s,!0):Vs(t,!!a,a?[]:"",!1));return;case"textarea":ee=X=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ut(t,s,C,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":X=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ut(t,s,_,f,l,d)}du(t,X,ee);return;case"option":for(var ve in a)if(X=a[ve],a.hasOwnProperty(ve)&&X!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:ut(t,s,ve,null,l,X)}for(P in l)if(X=l[P],ee=a[P],l.hasOwnProperty(P)&&X!==ee&&(X!=null||ee!=null))switch(P){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(t,s,P,X,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)X=a[Re],a.hasOwnProperty(Re)&&X!=null&&!l.hasOwnProperty(Re)&&ut(t,s,Re,null,l,X);for(Y in l)if(X=l[Y],ee=a[Y],l.hasOwnProperty(Y)&&X!==ee&&(X!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ut(t,s,Y,X,l,ee)}return;default:if(_a(s)){for(var ct in a)X=a[ct],a.hasOwnProperty(ct)&&X!==void 0&&!l.hasOwnProperty(ct)&&pd(t,s,ct,void 0,l,X);for(ie in l)X=l[ie],ee=a[ie],!l.hasOwnProperty(ie)||X===ee||X===void 0&&ee===void 0||pd(t,s,ie,X,l,ee);return}}for(var j in a)X=a[j],a.hasOwnProperty(j)&&X!=null&&!l.hasOwnProperty(j)&&ut(t,s,j,null,l,X);for(ae in l)X=l[ae],ee=a[ae],!l.hasOwnProperty(ae)||X===ee||X==null&&ee==null||ut(t,s,ae,X,l,ee)}function dy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,C=f.duration;if(d&&C&&dy(_)){for(_=0,C=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],Y=P.startTime;if(Y>C)break;var ie=P.transferSize,ae=P.initiatorType;ie&&dy(ae)&&(P=P.responseEnd,_+=ie*(P<C?1:(C-Y)/(P-Y)))}if(--l,s+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gd=null,md=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function py(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function vd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(D1)}:my;function D1(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function yy(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),eo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,C=d.nodeName;d[Si]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(t.ownerDocument.body);a=f}while(a);eo(s)}function _y(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _d(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function x1(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function I1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function Ey(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ei(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function V1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Td=null;function by(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ei(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Ty(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Sy(t,s,a){switch(s=mc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ma(t)}var ti=new Map,Cy=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=le.d;le.d={f:N1,r:P1,D:k1,C:U1,L:z1,m:B1,X:H1,S:j1,M:q1};function N1(){var t=bs.f(),s=lc();return t||s}function P1(t){var s=Fn(t);s!==null&&s.tag===5&&s.type==="form"?jm(s):bs.r(t)}var Xa=typeof document>"u"?null:document;function wy(t,s,a){var l=Xa;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Cy.has(f)||(Cy.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),sn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function k1(t){bs.D(t),wy("dns-prefetch",t,null)}function U1(t,s){bs.C(t,s),wy("preconnect",t,s)}function z1(t,s,a){bs.L(t,s,a);var l=Xa;if(l&&t&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(t)+'"]';var d=f;switch(s){case"style":d=Ja(t);break;case"script":d=Wa(t)}ti.has(d)||(t=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ti.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(yl(d))||s==="script"&&l.querySelector(_l(d))||(s=l.createElement("link"),sn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function B1(t,s){bs.m(t,s);var a=Xa;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!ti.has(d)&&(t=T({rel:"modulepreload",href:t},s),ti.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),sn(l,"link",t),Vt(l),a.head.appendChild(l)}}}function j1(t,s,a){bs.S(t,s,a);var l=Xa;if(l&&t){var f=wi(l).hoistableStyles,d=Ja(t);s=s||"default";var _=f.get(d);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(yl(d)))C.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ti.get(d))&&Sd(t,a);var P=_=l.createElement("link");Vt(P),sn(P,"link",t),P._p=new Promise(function(Y,ie){P.onload=Y,P.onerror=ie}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,yc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(d,_)}}}function H1(t,s){bs.X(t,s);var a=Xa;if(a&&t){var l=wi(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(_l(f)),d||(t=T({src:t,async:!0},s),(s=ti.get(f))&&Cd(t,s),d=a.createElement("script"),Vt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function q1(t,s){bs.M(t,s);var a=Xa;if(a&&t){var l=wi(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(_l(f)),d||(t=T({src:t,async:!0,type:"module"},s),(s=ti.get(f))&&Cd(t,s),d=a.createElement("script"),Vt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ay(t,s,a,l){var f=(f=me.current)?vc(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=wi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=wi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||F1(f,t,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=wi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+bn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),sn(s,"link",a),Vt(s),t.head.appendChild(s))}function Wa(t){return'[src="'+bn(t)+'"]'}function _l(t){return"script[async]"+t}function Ry(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Vt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),sn(l,"style",f),yc(l,a.precedence,t),s.instance=l;case"stylesheet":f=Ja(a.href);var d=t.querySelector(yl(f));if(d)return s.state.loading|=4,s.instance=d,Vt(d),d;l=Ly(a),(f=ti.get(f))&&Sd(l,f),d=(t.ownerDocument||t).createElement("link"),Vt(d);var _=d;return _._p=new Promise(function(C,P){_.onload=C,_.onerror=P}),sn(d,"link",l),s.state.loading|=4,yc(d,a.precedence,t),s.instance=d;case"script":return d=Wa(a.src),(f=t.querySelector(_l(d)))?(s.instance=f,Vt(f),f):(l=a,(f=ti.get(d))&&(l=T({},a),Cd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Vt(f),sn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yc(l,a.precedence,t));return s.instance}function yc(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===s)d=C;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Sd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Cd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var _c=null;function My(t,s,a){if(_c===null){var l=new Map,f=_c=new Map;f.set(a,l)}else f=_c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Si]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=t+_;var C=l.get(_);C?C.push(d):l.set(_,[d])}}return l}function Oy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function G1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ja(l.href),d=s.querySelector(yl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Ec.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=s.ownerDocument||s,l=Ly(l),(f=ti.get(f))&&Sd(l,f),d=d.createElement("link"),Vt(d);var _=d;_._p=new Promise(function(C,P){_.onload=C,_.onerror=P}),sn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ec.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var wd=0;function K1(t,s){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&wd===0&&(wd=62500*L1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>wd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Tc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,s.forEach(Y1,t),bc=null,Ec.call(t))}function Y1(t,s){if(!(s.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Ec.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var El={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Z1(t,s,a,l,f,d,_,C,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function xy(t,s,a,l,f,d,_,C,P,Y,ie,ae){return t=new Z1(t,s,a,_,P,Y,ie,ae,C),s=1,d===!0&&(s|=24),d=Pn(3,null,null,s),t.current=d,d.stateNode=t,s=sf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},lf(d),t}function Iy(t){return t?(t=Oa,t):Oa}function Vy(t,s,a,l,f,d){f=Iy(f),l.context===null?l.context=f:l.pendingContext=f,l=Ks(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ys(t,l,s),a!==null&&(Ln(a,t,s),Jo(a,t,s))}function Ny(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Ad(t,s){Ny(t,s),(t=t.alternate)&&Ny(t,s)}function Py(t){if(t.tag===13||t.tag===31){var s=Br(t,67108864);s!==null&&Ln(s,t,67108864),Ad(t,67108864)}}function ky(t){if(t.tag===13||t.tag===31){var s=jn();s=Rr(s);var a=Br(t,s);a!==null&&Ln(a,t,s),Ad(t,s)}}var Sc=!0;function $1(t,s,a,l){var f=Q.T;Q.T=null;var d=le.p;try{le.p=2,Ld(t,s,a,l)}finally{le.p=d,Q.T=f}}function X1(t,s,a,l){var f=Q.T;Q.T=null;var d=le.p;try{le.p=8,Ld(t,s,a,l)}finally{le.p=d,Q.T=f}}function Ld(t,s,a,l){if(Sc){var f=Rd(l);if(f===null)dd(t,s,l,Cc,a),zy(t,l);else if(W1(f,t,s,a,l))l.stopPropagation();else if(zy(t,l),s&4&&-1<J1.indexOf(t)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=vn(d.pendingLanes);if(_!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var P=1<<31-vt(_);C.entanglements[1]|=P,_&=~P}Ui(d),(nt&6)===0&&(ac=Kt()+500,pl(0))}}break;case 31:case 13:C=Br(d,2),C!==null&&Ln(C,d,2),lc(),Ad(d,2)}if(d=Rd(l),d===null&&dd(t,s,l,Cc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else dd(t,s,l,null,a)}}function Rd(t){return t=Gn(t),Md(t)}var Cc=null;function Md(t){if(Cc=null,t=Ci(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Cc=t,null}function Uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_i()){case Ds:return 2;case Ei:return 8;case ri:case xs:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var Od=!1,rr=null,ar=null,or=null,bl=new Map,Tl=new Map,lr=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,s){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":bl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(s.pointerId)}}function Sl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Fn(s),s!==null&&Py(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function W1(t,s,a,l,f){switch(s){case"focusin":return rr=Sl(rr,t,s,a,l,f),!0;case"dragenter":return ar=Sl(ar,t,s,a,l,f),!0;case"mouseover":return or=Sl(or,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return bl.set(d,Sl(bl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Tl.set(d,Sl(Tl.get(d)||null,t,s,a,l,f)),!0}return!1}function By(t){var s=Ci(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,ai(t.priority,function(){ky(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,ai(t.priority,function(){ky(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return s=Fn(a),s!==null&&Py(s),t.blockedOn=a,!1;s.shift()}return!0}function jy(t,s,a){wc(t)&&a.delete(s)}function eC(){Od=!1,rr!==null&&wc(rr)&&(rr=null),ar!==null&&wc(ar)&&(ar=null),or!==null&&wc(or)&&(or=null),bl.forEach(jy),Tl.forEach(jy)}function Ac(t,s){t.blockedOn===s&&(t.blockedOn=null,Od||(Od=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eC)))}var Lc=null;function Hy(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(s,3),s-=3,Rf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eo(t){function s(P){return Ac(P,t)}rr!==null&&Ac(rr,t),ar!==null&&Ac(ar,t),or!==null&&Ac(or,t),bl.forEach(s),Tl.forEach(s);for(var a=0;a<lr.length;a++){var l=lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)By(a),a.blockedOn===null&&lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Yt]||null;if(typeof d=="function")_||Hy(a);else if(_){var C=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Yt]||null)C=_.formAction;else if(Md(f)!==null)continue}else C=_.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),Hy(a)}}}function qy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Dd(t){this._internalRoot=t}Rc.prototype.render=Dd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=jn();Vy(a,l,t,s,null,null)},Rc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vy(t.current,2,null,t,null,null),lc(),s[Ti]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var s=lu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<lr.length&&s!==0&&s<lr[a].priority;a++);lr.splice(a,0,t),a===0&&By(t)}};var Fy=e.version;if(Fy!=="19.2.0")throw Error(r(527,Fy,"19.2.0"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var tC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{hn=Mc.inject(tC),xt=Mc}catch{}}return wl.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=Xm,d=Jm,_=Wm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=xy(t,1,!1,null,null,a,l,null,f,d,_,qy),t[Ti]=s.current,fd(t),new Dd(s)},wl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=Xm,_=Jm,C=Wm,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=xy(t,1,!0,s,a??null,l,f,P,d,_,C,qy),s.context=Iy(null),a=s.current,l=jn(),l=Rr(l),f=Ks(l),f.callback=null,Ys(a,f,l),a=l,s.current.lanes=a,ts(s,a),Ui(s),t[Ti]=s.current,fd(t),new Rc(s)},wl.version="19.2.0",wl}var e_;function hC(){if(e_)return Vd.exports;e_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vd.exports=cC(),Vd.exports}var fC=hC();const dC=Vb(fC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t_="popstate";function pC(i={}){function e(r,o){let{pathname:u,search:h,hash:p}=r.location;return ip("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Hl(o)}return mC(e,n,null,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function n_(i,e){return{usr:i.state,key:i.key,idx:e}}function ip(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||r||gC()}}function Hl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function vo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function mC(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,p="POP",g=null,m=E();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function E(){return(h.state||{idx:null}).idx}function T(){p="POP";let V=E(),q=V==null?null:V-m;m=V,g&&g({action:p,location:U.location,delta:q})}function S(V,q){p="PUSH";let B=ip(U.location,V,q);m=E()+1;let te=n_(B,m),Z=U.createHref(B);try{h.pushState(te,"",Z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(Z)}u&&g&&g({action:p,location:U.location,delta:1})}function O(V,q){p="REPLACE";let B=ip(U.location,V,q);m=E();let te=n_(B,m),Z=U.createHref(B);h.replaceState(te,"",Z),u&&g&&g({action:p,location:U.location,delta:0})}function M(V){return vC(V)}let U={get action(){return p},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(t_,T),g=V,()=>{o.removeEventListener(t_,T),g=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let q=M(V);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:O,go(V){return h.go(V)}};return U}function vC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Hl(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Pb(i,e,n="/"){return yC(i,e,n,!1)}function yC(i,e,n,r){let o=typeof e=="string"?vo(e):e,u=Cs(o.pathname||"/",n);if(u==null)return null;let h=kb(i);_C(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=OC(u);p=RC(h[g],m,r)}return p}function kb(i,e=[],n=[],r="",o=!1){let u=(h,p,g=o,m)=>{let E={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&g)return;bt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let T=Ts([r,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kb(h.children,e,S,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:AC(T,h.index),routesMeta:S})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of Ub(h.path))u(h,p,!0,g)}),e}function Ub(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Ub(r.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function _C(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:LC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var EC=/^:[\w-]+$/,bC=3,TC=2,SC=1,CC=10,wC=-2,i_=i=>i==="*";function AC(i,e){let n=i.split("/"),r=n.length;return n.some(i_)&&(r+=wC),e&&(r+=TC),n.filter(o=>!i_(o)).reduce((o,u)=>o+(EC.test(u)?bC:u===""?SC:CC),r)}function LC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function RC(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=$c({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},E),S=g.route;if(!T&&m&&n&&!r[r.length-1].route.index&&(T=$c({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ts([u,T.pathname]),pathnameBase:VC(Ts([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Ts([u,T.pathnameBase]))}return h}function $c(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=MC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:E,isOptional:T},S)=>{if(E==="*"){let M=p[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[S];return T&&!O?m[E]=void 0:m[E]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:i}}function MC(i,e=!1,n=!0){Gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function OC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Cs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function DC(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?vo(i):i;return{pathname:n?n.startsWith("/")?n:xC(n,e):e,search:NC(r),hash:PC(o)}}function xC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ud(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zb(i){let e=IC(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Bb(i,e,n,r=!1){let o;typeof i=="string"?o=vo(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),Ud("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),Ud("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),Ud("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}p=T>=0?e[T]:"/"}let g=DC(o,p),m=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||E)&&(g.pathname+="/"),g}var Ts=i=>i.join("/").replace(/\/\/+/g,"/"),VC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var jb=["POST","PUT","PATCH","DELETE"];new Set(jb);var UC=["GET",...jb];new Set(UC);var yo=y.createContext(null);yo.displayName="DataRouter";var bh=y.createContext(null);bh.displayName="DataRouterState";y.createContext(!1);var Hb=y.createContext({isTransitioning:!1});Hb.displayName="ViewTransition";var zC=y.createContext(new Map);zC.displayName="Fetchers";var BC=y.createContext(null);BC.displayName="Await";var Yi=y.createContext(null);Yi.displayName="Navigation";var Wl=y.createContext(null);Wl.displayName="Location";var Ms=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var Dp=y.createContext(null);Dp.displayName="RouteError";function jC(i,{relative:e}={}){bt(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Yi),{hash:o,pathname:u,search:h}=tu(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ts([n,u])),r.createHref({pathname:p,search:h,hash:o})}function eu(){return y.useContext(Wl)!=null}function oa(){return bt(eu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Wl).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fb(i){y.useContext(Yi).static||y.useLayoutEffect(i)}function xp(){let{isDataRoute:i}=y.useContext(Ms);return i?ew():HC()}function HC(){bt(eu(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(yo),{basename:e,navigator:n}=y.useContext(Yi),{matches:r}=y.useContext(Ms),{pathname:o}=oa(),u=JSON.stringify(zb(r)),h=y.useRef(!1);return Fb(()=>{h.current=!0}),y.useCallback((g,m={})=>{if(Gi(h.current,qb),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=Bb(g,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ts([e,E.pathname])),(m.replace?n.replace:n.push)(E,m.state,m)},[e,n,u,o,i])}y.createContext(null);function tu(i,{relative:e}={}){let{matches:n}=y.useContext(Ms),{pathname:r}=oa(),o=JSON.stringify(zb(n));return y.useMemo(()=>Bb(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function qC(i,e){return Gb(i,e)}function Gb(i,e,n,r,o){bt(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(Yi),{matches:h}=y.useContext(Ms),p=h[h.length-1],g=p?p.params:{},m=p?p.pathname:"/",E=p?p.pathnameBase:"/",T=p&&p.route;{let B=T&&T.path||"";Qb(m,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=oa(),O;if(e){let B=typeof e=="string"?vo(e):e;bt(E==="/"||B.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${B.pathname}" was given in the \`location\` prop.`),O=B}else O=S;let M=O.pathname||"/",U=M;if(E!=="/"){let B=E.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Pb(i,{pathname:U});Gi(T||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Gi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=YC(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Ts([E,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?E:Ts([E,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,n,r,o);return e&&q?y.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},q):q}function FC(){let i=WC(),e=kC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:o},n):null,h)}var GC=y.createElement(FC,null),QC=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?y.createElement(Ms.Provider,{value:this.props.routeContext},y.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:i,match:e,children:n}){let r=y.useContext(yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ms.Provider,{value:i},n)}function YC(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let m=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(n)for(let m=0;m<u.length;m++){let E=u[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=m),E.route.id){let{loaderData:T,errors:S}=n,O=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||O){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,E,T)=>{let S,O=!1,M=null,U=null;n&&(S=h&&E.route.id?h[E.route.id]:void 0,M=E.route.errorElement||GC,p&&(g<0&&T===0?(Qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,U=null):g===T&&(O=!0,U=E.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,T+1)),q=()=>{let B;return S?B=M:O?B=U:E.route.Component?B=y.createElement(E.route.Component,null):E.route.element?B=E.route.element:B=m,y.createElement(KC,{match:E,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:B})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?y.createElement(QC,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:q(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):q()},null)}function Ip(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(i){let e=y.useContext(yo);return bt(e,Ip(i)),e}function $C(i){let e=y.useContext(bh);return bt(e,Ip(i)),e}function XC(i){let e=y.useContext(Ms);return bt(e,Ip(i)),e}function Vp(i){let e=XC(i),n=e.matches[e.matches.length-1];return bt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function JC(){return Vp("useRouteId")}function WC(){let i=y.useContext(Dp),e=$C("useRouteError"),n=Vp("useRouteError");return i!==void 0?i:e.errors?.[n]}function ew(){let{router:i}=ZC("useNavigate"),e=Vp("useNavigate"),n=y.useRef(!1);return Fb(()=>{n.current=!0}),y.useCallback(async(o,u={})=>{Gi(n.current,qb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var s_={};function Qb(i,e,n){!e&&!s_[i]&&(s_[i]=!0,Gi(!1,n))}y.memo(tw);function tw({routes:i,future:e,state:n,unstable_onError:r}){return Gb(i,void 0,n,r,e)}function jc(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){bt(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=vo(n));let{pathname:g="/",search:m="",hash:E="",state:T=null,key:S="default"}=n,O=y.useMemo(()=>{let M=Cs(g,h);return M==null?null:{location:{pathname:M,search:m,hash:E,state:T,key:S},navigationType:r}},[h,g,m,E,T,S,r]);return Gi(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:y.createElement(Yi.Provider,{value:p},y.createElement(Wl.Provider,{children:e,value:O}))}function iw({children:i,location:e}){return qC(sp(i),e)}function sp(i,e=[]){let n=[];return y.Children.forEach(i,(r,o)=>{if(!y.isValidElement(r))return;let u=[...e,o];if(r.type===y.Fragment){n.push.apply(n,sp(r.props.children,u));return}bt(r.type===jc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=sp(r.props.children,u)),n.push(h)}),n}var Hc="get",qc="application/x-www-form-urlencoded";function Th(i){return i!=null&&typeof i.tagName=="string"}function sw(i){return Th(i)&&i.tagName.toLowerCase()==="button"}function rw(i){return Th(i)&&i.tagName.toLowerCase()==="form"}function aw(i){return Th(i)&&i.tagName.toLowerCase()==="input"}function ow(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lw(i,e){return i.button===0&&(!e||e==="_self")&&!ow(i)}var Oc=null;function uw(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(i){return i!=null&&!cw.has(i)?(Gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):i}function hw(i,e){let n,r,o,u,h;if(rw(i)){let p=i.getAttribute("action");r=p?Cs(p,e):null,n=i.getAttribute("method")||Hc,o=zd(i.getAttribute("enctype"))||qc,u=new FormData(i)}else if(sw(i)||aw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?Cs(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Hc,o=zd(i.getAttribute("formenctype"))||zd(p.getAttribute("enctype"))||qc,u=new FormData(p,i),!uw()){let{name:m,type:E,value:T}=i;if(E==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,T)}}else{if(Th(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,r=null,o=qc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fw(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gw(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await dw(u,n);return h.links?h.links():[]}return[]}));return _w(r.flat(1).filter(pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r_(i,e,n,r,o,u){let h=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>h(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function mw(i,e,{includeHydrateFallback:n}={}){return vw(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vw(i){return[...new Set(i)]}function yw(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function _w(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(yw(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function Kb(){let i=y.useContext(yo);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ew(){let i=y.useContext(bh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pp=y.createContext(void 0);Pp.displayName="FrameworkContext";function Yb(){let i=y.useContext(Pp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function bw(i,e){let n=y.useContext(Pp),[r,o]=y.useState(!1),[u,h]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:E,onTouchStart:T}=e,S=y.useRef(null);y.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=q=>{q.forEach(B=>{h(B.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),y.useEffect(()=>{if(r){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[r]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Al(p,O),onBlur:Al(g,M),onMouseEnter:Al(m,O),onMouseLeave:Al(E,M),onTouchStart:Al(T,O)}]:[!1,S,{}]}function Al(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Tw({page:i,...e}){let{router:n}=Kb(),r=y.useMemo(()=>Pb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?y.createElement(Cw,{page:i,matches:r,...e}):null}function Sw(i){let{manifest:e,routeModules:n}=Yb(),[r,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return gw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),r}function Cw({page:i,matches:e,...n}){let r=oa(),{manifest:o,routeModules:u}=Yb(),{basename:h}=Kb(),{loaderData:p,matches:g}=Ew(),m=y.useMemo(()=>r_(i,e,g,o,r,"data"),[i,e,g,o,r]),E=y.useMemo(()=>r_(i,e,g,o,r,"assets"),[i,e,g,o,r]),T=y.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let M=new Set,U=!1;if(e.forEach(q=>{let B=o.routes[q.route.id];!B||!B.hasLoader||(!m.some(te=>te.route.id===q.route.id)&&q.route.id in p&&u[q.route.id]?.shouldRevalidate||B.hasClientLoader?U=!0:M.add(q.route.id))}),M.size===0)return[];let V=fw(i,h,"data");return U&&M.size>0&&V.searchParams.set("_routes",e.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[V.pathname+V.search]},[h,p,r,o,m,e,i,u]),S=y.useMemo(()=>mw(E,o),[E,o]),O=Sw(E);return y.createElement(y.Fragment,null,T.map(M=>y.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>y.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:U})=>y.createElement("link",{key:M,nonce:n.nonce,...U})))}function ww(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.9.4")}catch{}function Aw({basename:i,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=pC({window:n,v5Compat:!0}));let o=r.current,[u,h]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>h(g))},[h]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(nw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var $b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:m,preventScrollReset:E,viewTransition:T,...S},O){let{basename:M}=y.useContext(Yi),U=typeof m=="string"&&$b.test(m),V,q=!1;if(typeof m=="string"&&U&&(V=m,Zb))try{let w=new URL(window.location.href),I=m.startsWith("//")?new URL(w.protocol+m):new URL(m),x=Cs(I.pathname,M);I.origin===w.origin&&x!=null?m=x+I.search+I.hash:q=!0}catch{Gi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=jC(m,{relative:o}),[te,Z,H]=bw(r,S),G=Ow(m,{replace:h,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:T});function A(w){e&&e(w),w.defaultPrevented||G(w)}let R=y.createElement("a",{...S,...H,href:V||B,onClick:q||u?e:A,ref:ww(O,Z),target:g,"data-discover":!U&&n==="render"?"true":void 0});return te&&!U?y.createElement(y.Fragment,null,R,y.createElement(Tw,{page:B})):R});Vl.displayName="Link";var Lw=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...m},E){let T=tu(h,{relative:m.relative}),S=oa(),O=y.useContext(bh),{navigator:M,basename:U}=y.useContext(Yi),V=O!=null&&Nw(T)&&p===!0,q=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,B=S.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(B=B.toLowerCase(),te=te?te.toLowerCase():null,q=q.toLowerCase()),te&&U&&(te=Cs(te,U)||te);const Z=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let H=B===q||!o&&B.startsWith(q)&&B.charAt(Z)==="/",G=te!=null&&(te===q||!o&&te.startsWith(q)&&te.charAt(q.length)==="/"),A={isActive:H,isPending:G,isTransitioning:V},R=H?e:void 0,w;typeof r=="function"?w=r(A):w=[r,H?"active":null,G?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(A):u;return y.createElement(Vl,{...m,"aria-current":R,className:w,ref:E,style:I,to:h,viewTransition:p},typeof g=="function"?g(A):g)});Lw.displayName="NavLink";var Rw=y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=Hc,action:p,onSubmit:g,relative:m,preventScrollReset:E,viewTransition:T,...S},O)=>{let M=Iw(),U=Vw(p,{relative:m}),V=h.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&$b.test(p),B=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let Z=te.nativeEvent.submitter,H=Z?.getAttribute("formmethod")||h;M(Z||te.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:o,state:u,relative:m,preventScrollReset:E,viewTransition:T})};return y.createElement("form",{ref:O,method:V,action:U,onSubmit:r?g:B,...S,"data-discover":!q&&i==="render"?"true":void 0})});Rw.displayName="Form";function Mw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(i){let e=y.useContext(yo);return bt(e,Mw(i)),e}function Ow(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=xp(),g=oa(),m=tu(i,{relative:u});return y.useCallback(E=>{if(lw(E,e)){E.preventDefault();let T=n!==void 0?n:Hl(g)===Hl(m);p(i,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,m,n,r,e,i,o,u,h])}var Dw=0,xw=()=>`__${String(++Dw)}__`;function Iw(){let{router:i}=Xb("useSubmit"),{basename:e}=y.useContext(Yi),n=JC();return y.useCallback(async(r,o={})=>{let{action:u,method:h,encType:p,formData:g,body:m}=hw(r,e);if(o.navigate===!1){let E=o.fetcherKey||xw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Vw(i,{relative:e}={}){let{basename:n}=y.useContext(Yi),r=y.useContext(Ms);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...tu(i||".",{relative:e})},h=oa();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let E=p.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ts([n,u.pathname])),Hl(u)}function Nw(i,{relative:e}={}){let n=y.useContext(Hb);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xb("useViewTransitionState"),o=tu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $c(o.pathname,h)!=null||$c(o.pathname,u)!=null}var _o=Nb();function ql(i){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(i)}function Pw(i,e){if(ql(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function kw(i){var e=Pw(i,"string");return ql(e)=="symbol"?e:e+""}function ne(i,e,n){return(e=kw(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Jb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bd,a_;function Uw(){if(a_)return Bd;a_=1;var i=function(n,r,o,u,h,p,g,m){if(!n){var E;if(r===void 0)E=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[o,u,h,p,g,m],S=0;E=new Error(r.replace(/%s/g,function(){return T[S++]})),E.name="Invariant Violation"}throw E.framesToPop=1,E}};return Bd=i,Bd}var zw=Uw(),Gt=Jb(zw),Ue=y.createContext(null);function Bw(){Gt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=y.useContext(Ue);return Gt(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function jw(i,e,n){return Object.keys(i).reduce(function(o,u){return e(o,i[u],u)},n)}function Hw(i,e){Object.keys(i).forEach(n=>e(i[n],n))}function qw(i,e,n,r){var o={},u=(h,p)=>{var g=n[p];g!==e[p]&&(o[p]=g,h(r,g))};return Hw(i,u),o}function Fw(i,e,n){var r=jw(n,function(u,h,p){return typeof i[p]=="function"&&u.push(google.maps.event.addListener(e,h,i[p])),u},[]);return r}function Gw(i){google.maps.event.removeListener(i)}function qe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(Gw)}function Be(i){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:o,instance:u}=i,h=Fw(o,u,n);return qw(e,r,o,u),h}var o_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},l_={extraMapTypes(i,e){e.forEach(function(r,o){i.mapTypes.set(String(o),r)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function Qw(i){var{children:e,options:n,id:r,mapContainerStyle:o,mapContainerClassName:u,center:h,onClick:p,onDblClick:g,onDrag:m,onDragEnd:E,onDragStart:T,onMouseMove:S,onMouseOut:O,onMouseOver:M,onMouseDown:U,onMouseUp:V,onRightClick:q,onCenterChanged:B,onLoad:te,onUnmount:Z}=i,[H,G]=y.useState(null),A=y.useRef(null),[R,w]=y.useState(null),[I,x]=y.useState(null),[k,D]=y.useState(null),[ge,Ee]=y.useState(null),[Q,le]=y.useState(null),[fe,_e]=y.useState(null),[ye,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[me,Te]=y.useState(null),[Se,De]=y.useState(null),[we,ze]=y.useState(null);return y.useEffect(()=>{n&&H!==null&&H.setOptions(n)},[H,n]),y.useEffect(()=>{H!==null&&typeof h<"u"&&H.setCenter(h)},[H,h]),y.useEffect(()=>{H&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(H,"dblclick",g)))},[g]),y.useEffect(()=>{H&&E&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(H,"dragend",E)))},[E]),y.useEffect(()=>{H&&T&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(H,"dragstart",T)))},[T]),y.useEffect(()=>{H&&U&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(H,"mousedown",U)))},[U]),y.useEffect(()=>{H&&S&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(H,"mousemove",S)))},[S]),y.useEffect(()=>{H&&O&&(ye!==null&&google.maps.event.removeListener(ye),N(google.maps.event.addListener(H,"mouseout",O)))},[O]),y.useEffect(()=>{H&&M&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(H,"mouseover",M)))},[M]),y.useEffect(()=>{H&&V&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(H,"mouseup",V)))},[V]),y.useEffect(()=>{H&&q&&(me!==null&&google.maps.event.removeListener(me),Te(google.maps.event.addListener(H,"rightclick",q)))},[q]),y.useEffect(()=>{H&&p&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(H,"click",p)))},[p]),y.useEffect(()=>{H&&m&&(we!==null&&google.maps.event.removeListener(we),ze(google.maps.event.addListener(H,"drag",m)))},[m]),y.useEffect(()=>{H&&B&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(H,"center_changed",B)))},[p]),y.useEffect(()=>{var Qt=A.current===null?null:new google.maps.Map(A.current,n);return G(Qt),Qt!==null&&te&&te(Qt),()=>{Qt!==null&&Z&&Z(Qt)}},[]),he.jsx("div",{id:r,ref:A,style:o,className:u,children:he.jsx(Ue.Provider,{value:H,children:H!==null?e:null})})}y.memo(Qw);class Wb extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:l_,eventMap:o_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:l_,eventMap:o_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),qe(this.registeredEvents))}render(){return he.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:he.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function u_(i,e,n,r,o,u,h){try{var p=i[u](h),g=p.value}catch(m){return void n(m)}p.done?e(g):Promise.resolve(g).then(r,o)}function e0(i){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=i.apply(e,n);function h(g){u_(u,r,o,h,p,"next",g)}function p(g){u_(u,r,o,h,p,"throw",g)}h(void 0)})}}function t0(i){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:o,region:u,libraries:h,channel:p,mapIds:g,authReferrerPolicy:m,apiUrl:E="https://maps.googleapis.com"}=i,T=[];return Gt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?T.push("key=".concat(e)):n&&T.push("client=".concat(n)),r&&T.push("v=".concat(r)),o&&T.push("language=".concat(o)),u&&T.push("region=".concat(u)),h&&h.length&&T.push("libraries=".concat(h.sort().join(","))),p&&T.push("channel=".concat(p)),g&&g.length&&T.push("map_ids=".concat(g.join(","))),m&&T.push("auth_referrer_policy=".concat(m)),T.push("loading=async"),T.push("callback=initMap"),"".concat(E,"/maps/api/js?").concat(T.join("&"))}var ta=typeof document<"u";function n0(i){var{url:e,id:n,nonce:r}=i;return ta?new Promise(function(u,h){var p=document.getElementById(n),g=window;if(p){var m=p.getAttribute("data-state");if(p.src===e&&m!=="error"){if(m==="ready")return u(n);var E=g.initMap,T=p.onerror;g.initMap=function(){E&&E(),u(n)},p.onerror=function(O){T&&T(O),h(O)};return}else p.remove()}var S=document.createElement("script");S.type="text/javascript",S.src=e,S.id=n,S.async=!0,S.nonce=r||"",S.onerror=function(M){S.setAttribute("data-state","error"),h(M)},g.initMap=function(){S.setAttribute("data-state","ready"),u(n)},document.head.appendChild(S)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function c_(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function i0(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(o,u){return c_(o)||Reflect.apply(e,i,[o,u]),o};var n=i.appendChild.bind(i);i.appendChild=function(o){return c_(o)||Reflect.apply(n,i,[o]),o}}}var Ll=!1;function s0(){return he.jsx("div",{children:"Loading..."})}var rp={id:"script-loader",version:"weekly"};class r0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",e0(function*(){function e(n){if(!Ll)n();else if(ta)var r=window.setInterval(function(){Ll||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Ll=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&i0(),Gt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:t0(this.props)};n0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ta){if(window.google&&window.google.maps&&!Ll){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ta&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ta){this.cleanup();var e=()=>{this.check||(delete window.google,Ll=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return he.jsxs(he.Fragment,{children:[he.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||he.jsx(s0,{})]})}}ne(r0,"defaultProps",rp);function Kw(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;n[r]=i[r]}return n}function kp(i,e){if(i==null)return{};var n,r,o=Kw(i,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(r=0;r<u.length;r++)n=u[r],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(o[n]=i[n])}return o}var h_;function Yw(i){var{id:e=rp.id,version:n=rp.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,preventGoogleFontsLoading:m,channel:E,mapIds:T,authReferrerPolicy:S,apiUrl:O="https://maps.googleapis.com"}=i,M=y.useRef(!1),[U,V]=y.useState(!1),[q,B]=y.useState(void 0);y.useEffect(function(){return M.current=!0,()=>{M.current=!1}},[]),y.useEffect(function(){ta&&m&&i0()},[m]),y.useEffect(function(){U&&Gt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[U]);var te=t0({version:n,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,channel:E,mapIds:T,authReferrerPolicy:S,apiUrl:O});y.useEffect(function(){if(!ta)return;function G(){M.current&&(V(!0),h_=te)}if(window.google&&window.google.maps&&h_===te){G();return}n0({id:e,url:te,nonce:r}).then(G).catch(function(R){M.current&&B(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[e,te,r]);var Z=y.useRef(void 0);return y.useEffect(function(){Z.current&&g!==Z.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Z.current=g},[g]),{isLoaded:U,loadError:q,url:te}}var Zw=["loadingElement","onLoad","onError","onUnmount","children"],$w=he.jsx(s0,{});function Xw(i){var{loadingElement:e,onLoad:n,onError:r,onUnmount:o,children:u}=i,h=kp(i,Zw),{isLoaded:p,loadError:g}=Yw(h);return y.useEffect(function(){p&&typeof n=="function"&&n()},[p,n]),y.useEffect(function(){g&&typeof r=="function"&&r(g)},[g,r]),y.useEffect(function(){return()=>{o&&o()}},[o]),p?u:e||$w}y.memo(Xw);var f_;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(f_||(f_={}));function d_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function Xc(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var p_={},g_={options(i,e){i.setOptions(e)}};function Jw(i){var{options:e,onLoad:n,onUnmount:r}=i,o=y.useContext(Ue),[u,h]=y.useState(null);return y.useEffect(()=>{u!==null&&u.setMap(o)},[o]),y.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),y.useEffect(()=>{var p=new google.maps.TrafficLayer(Xc(Xc({},e),{},{map:o}));return h(p),n&&n(p),()=>{u!==null&&(r&&r(u),u.setMap(null))}},[]),null}y.memo(Jw);class Ww extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Xc(Xc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),qe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(Ww,"contextType",Ue);function eA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.BicyclingLayer;return u(h),h.setMap(r),e&&e(h),()=>{h!==null&&(n&&n(h),h.setMap(null))}},[]),null}y.memo(eA);class tA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(tA,"contextType",Ue);function nA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.TransitLayer;return u(h),h.setMap(r),e&&e(h),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(nA);class iA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(iA,"contextType",Ue);function m_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function Jc(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var v_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},y_={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function sA(i){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:u,onPolygonComplete:h,onPolylineComplete:p,onRectangleComplete:g,onLoad:m,onUnmount:E}=i,T=y.useContext(Ue),[S,O]=y.useState(null),[M,U]=y.useState(null),[V,q]=y.useState(null),[B,te]=y.useState(null),[Z,H]=y.useState(null),[G,A]=y.useState(null),[R,w]=y.useState(null);return y.useEffect(()=>{S!==null&&S.setMap(T)},[T]),y.useEffect(()=>{e&&S!==null&&S.setOptions(e)},[S,e]),y.useEffect(()=>{S!==null&&S.setDrawingMode(n??null)},[S,n]),y.useEffect(()=>{S&&r&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(S,"circlecomplete",r)))},[S,r]),y.useEffect(()=>{S&&o&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(S,"markercomplete",o)))},[S,o]),y.useEffect(()=>{S&&u&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(S,"overlaycomplete",u)))},[S,u]),y.useEffect(()=>{S&&h&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(S,"polygoncomplete",h)))},[S,h]),y.useEffect(()=>{S&&p&&(G!==null&&google.maps.event.removeListener(G),A(google.maps.event.addListener(S,"polylinecomplete",p)))},[S,p]),y.useEffect(()=>{S&&g&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(S,"rectanglecomplete",g)))},[S,g]),y.useEffect(()=>{Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(Jc(Jc({},e),{},{map:T}));return n&&I.setDrawingMode(n),r&&U(google.maps.event.addListener(I,"circlecomplete",r)),o&&q(google.maps.event.addListener(I,"markercomplete",o)),u&&te(google.maps.event.addListener(I,"overlaycomplete",u)),h&&H(google.maps.event.addListener(I,"polygoncomplete",h)),p&&A(google.maps.event.addListener(I,"polylinecomplete",p)),g&&w(google.maps.event.addListener(I,"rectanglecomplete",g)),O(I),m&&m(I),()=>{S!==null&&(M&&google.maps.event.removeListener(M),V&&google.maps.event.removeListener(V),B&&google.maps.event.removeListener(B),Z&&google.maps.event.removeListener(Z),G&&google.maps.event.removeListener(G),R&&google.maps.event.removeListener(R),E&&E(S),S.setMap(null))}},[]),null}y.memo(sA);class rA extends y.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Jc(Jc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:y_,eventMap:v_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:y_,eventMap:v_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),qe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(rA,"contextType",Ue);function __(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ro(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var E_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},b_={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},Wc={};function aA(i){var{position:e,options:n,clusterer:r,noClustererRedraw:o,children:u,draggable:h,visible:p,animation:g,clickable:m,cursor:E,icon:T,label:S,opacity:O,shape:M,title:U,zIndex:V,onClick:q,onDblClick:B,onDrag:te,onDragEnd:Z,onDragStart:H,onMouseOut:G,onMouseOver:A,onMouseUp:R,onMouseDown:w,onRightClick:I,onClickableChanged:x,onCursorChanged:k,onAnimationChanged:D,onDraggableChanged:ge,onFlatChanged:Ee,onIconChanged:Q,onPositionChanged:le,onShapeChanged:fe,onTitleChanged:_e,onVisibleChanged:ye,onZindexChanged:N,onLoad:J,onUnmount:se}=i,ce=y.useContext(Ue),[$,me]=y.useState(null),[Te,Se]=y.useState(null),[De,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null),[Ze,vi]=y.useState(null),[yi,Os]=y.useState(null),[ft,St]=y.useState(null),[Mn,da]=y.useState(null),[Zi,Kt]=y.useState(null),[_i,Ds]=y.useState(null),[Ei,ri]=y.useState(null),[xs,Ar]=y.useState(null),[$i,Lr]=y.useState(null),[hn,xt]=y.useState(null),[Jt,vt]=y.useState(null),[Xi,Ji]=y.useState(null),[Wi,On]=y.useState(null),[bi,Et]=y.useState(null),[vn,Dn]=y.useState(null),[fn,pa]=y.useState(null),[es,xn]=y.useState(null);y.useEffect(()=>{$!==null&&$.setMap(ce)},[ce]),y.useEffect(()=>{typeof n<"u"&&$!==null&&$.setOptions(n)},[$,n]),y.useEffect(()=>{typeof h<"u"&&$!==null&&$.setDraggable(h)},[$,h]),y.useEffect(()=>{e&&$!==null&&$.setPosition(e)},[$,e]),y.useEffect(()=>{typeof p<"u"&&$!==null&&$.setVisible(p)},[$,p]),y.useEffect(()=>{$?.setAnimation(g)},[$,g]),y.useEffect(()=>{$&&m!==void 0&&$.setClickable(m)},[$,m]),y.useEffect(()=>{$&&E!==void 0&&$.setCursor(E)},[$,E]),y.useEffect(()=>{$&&T!==void 0&&$.setIcon(T)},[$,T]),y.useEffect(()=>{$&&S!==void 0&&$.setLabel(S)},[$,S]),y.useEffect(()=>{$&&O!==void 0&&$.setOpacity(O)},[$,O]),y.useEffect(()=>{$&&M!==void 0&&$.setShape(M)},[$,M]),y.useEffect(()=>{$&&U!==void 0&&$.setTitle(U)},[$,U]),y.useEffect(()=>{$&&V!==void 0&&$.setZIndex(V)},[$,V]),y.useEffect(()=>{$&&B&&(Te!==null&&google.maps.event.removeListener(Te),Se(google.maps.event.addListener($,"dblclick",B)))},[B]),y.useEffect(()=>{$&&Z&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener($,"dragend",Z)))},[Z]),y.useEffect(()=>{$&&H&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener($,"dragstart",H)))},[H]),y.useEffect(()=>{$&&w&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener($,"mousedown",w)))},[w]),y.useEffect(()=>{$&&G&&(Ze!==null&&google.maps.event.removeListener(Ze),vi(google.maps.event.addListener($,"mouseout",G)))},[G]),y.useEffect(()=>{$&&A&&(yi!==null&&google.maps.event.removeListener(yi),Os(google.maps.event.addListener($,"mouseover",A)))},[A]),y.useEffect(()=>{$&&R&&(ft!==null&&google.maps.event.removeListener(ft),St(google.maps.event.addListener($,"mouseup",R)))},[R]),y.useEffect(()=>{$&&I&&(Mn!==null&&google.maps.event.removeListener(Mn),da(google.maps.event.addListener($,"rightclick",I)))},[I]),y.useEffect(()=>{$&&q&&(Zi!==null&&google.maps.event.removeListener(Zi),Kt(google.maps.event.addListener($,"click",q)))},[q]),y.useEffect(()=>{$&&te&&(_i!==null&&google.maps.event.removeListener(_i),Ds(google.maps.event.addListener($,"drag",te)))},[te]),y.useEffect(()=>{$&&x&&(Ei!==null&&google.maps.event.removeListener(Ei),ri(google.maps.event.addListener($,"clickable_changed",x)))},[x]),y.useEffect(()=>{$&&k&&(xs!==null&&google.maps.event.removeListener(xs),Ar(google.maps.event.addListener($,"cursor_changed",k)))},[k]),y.useEffect(()=>{$&&D&&($i!==null&&google.maps.event.removeListener($i),Lr(google.maps.event.addListener($,"animation_changed",D)))},[D]),y.useEffect(()=>{$&&ge&&(hn!==null&&google.maps.event.removeListener(hn),xt(google.maps.event.addListener($,"draggable_changed",ge)))},[ge]),y.useEffect(()=>{$&&Ee&&(Jt!==null&&google.maps.event.removeListener(Jt),vt(google.maps.event.addListener($,"flat_changed",Ee)))},[Ee]),y.useEffect(()=>{$&&Q&&(Xi!==null&&google.maps.event.removeListener(Xi),Ji(google.maps.event.addListener($,"icon_changed",Q)))},[Q]),y.useEffect(()=>{$&&le&&(Wi!==null&&google.maps.event.removeListener(Wi),On(google.maps.event.addListener($,"position_changed",le)))},[le]),y.useEffect(()=>{$&&fe&&(bi!==null&&google.maps.event.removeListener(bi),Et(google.maps.event.addListener($,"shape_changed",fe)))},[fe]),y.useEffect(()=>{$&&_e&&(vn!==null&&google.maps.event.removeListener(vn),Dn(google.maps.event.addListener($,"title_changed",_e)))},[_e]),y.useEffect(()=>{$&&ye&&(fn!==null&&google.maps.event.removeListener(fn),pa(google.maps.event.addListener($,"visible_changed",ye)))},[ye]),y.useEffect(()=>{$&&N&&(es!==null&&google.maps.event.removeListener(es),xn(google.maps.event.addListener($,"zindex_changed",N)))},[N]),y.useEffect(()=>{var ns=ro(ro(ro({},n||Wc),r?Wc:{map:ce}),{},{position:e}),Me=new google.maps.Marker(ns);return r?r.addMarker(Me,!!o):Me.setMap(ce),e&&Me.setPosition(e),typeof p<"u"&&Me.setVisible(p),typeof h<"u"&&Me.setDraggable(h),typeof m<"u"&&Me.setClickable(m),typeof E=="string"&&Me.setCursor(E),T&&Me.setIcon(T),typeof S<"u"&&Me.setLabel(S),typeof O<"u"&&Me.setOpacity(O),M&&Me.setShape(M),typeof U=="string"&&Me.setTitle(U),typeof V=="number"&&Me.setZIndex(V),B&&Se(google.maps.event.addListener(Me,"dblclick",B)),Z&&we(google.maps.event.addListener(Me,"dragend",Z)),H&&Qt(google.maps.event.addListener(Me,"dragstart",H)),w&&cn(google.maps.event.addListener(Me,"mousedown",w)),G&&vi(google.maps.event.addListener(Me,"mouseout",G)),A&&Os(google.maps.event.addListener(Me,"mouseover",A)),R&&St(google.maps.event.addListener(Me,"mouseup",R)),I&&da(google.maps.event.addListener(Me,"rightclick",I)),q&&Kt(google.maps.event.addListener(Me,"click",q)),te&&Ds(google.maps.event.addListener(Me,"drag",te)),x&&ri(google.maps.event.addListener(Me,"clickable_changed",x)),k&&Ar(google.maps.event.addListener(Me,"cursor_changed",k)),D&&Lr(google.maps.event.addListener(Me,"animation_changed",D)),ge&&xt(google.maps.event.addListener(Me,"draggable_changed",ge)),Ee&&vt(google.maps.event.addListener(Me,"flat_changed",Ee)),Q&&Ji(google.maps.event.addListener(Me,"icon_changed",Q)),le&&On(google.maps.event.addListener(Me,"position_changed",le)),fe&&Et(google.maps.event.addListener(Me,"shape_changed",fe)),_e&&Dn(google.maps.event.addListener(Me,"title_changed",_e)),ye&&pa(google.maps.event.addListener(Me,"visible_changed",ye)),N&&xn(google.maps.event.addListener(Me,"zindex_changed",N)),me(Me),J&&J(Me),()=>{Te!==null&&google.maps.event.removeListener(Te),De!==null&&google.maps.event.removeListener(De),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),Ze!==null&&google.maps.event.removeListener(Ze),yi!==null&&google.maps.event.removeListener(yi),ft!==null&&google.maps.event.removeListener(ft),Mn!==null&&google.maps.event.removeListener(Mn),Zi!==null&&google.maps.event.removeListener(Zi),Ei!==null&&google.maps.event.removeListener(Ei),xs!==null&&google.maps.event.removeListener(xs),$i!==null&&google.maps.event.removeListener($i),hn!==null&&google.maps.event.removeListener(hn),Jt!==null&&google.maps.event.removeListener(Jt),Xi!==null&&google.maps.event.removeListener(Xi),Wi!==null&&google.maps.event.removeListener(Wi),vn!==null&&google.maps.event.removeListener(vn),fn!==null&&google.maps.event.removeListener(fn),es!==null&&google.maps.event.removeListener(es),se&&se(Me),r?r.removeMarker(Me,!!o):Me&&Me.setMap(null)}},[]);var ts=y.useMemo(()=>u?y.Children.map(u,ns=>{if(!y.isValidElement(ns))return ns;var Me=ns;return y.cloneElement(Me,{anchor:$})}):null,[u,$]);return he.jsx(he.Fragment,{children:ts})||null}y.memo(aA);class Up extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return e0(function*(){var n=ro(ro(ro({},e.props.options||Wc),e.props.clusterer?Wc:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:b_,eventMap:E_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:b_,eventMap:E_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var r=n;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(Up,"contextType",Ue);var oA=(function(){function i(e,n){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),u=n.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(o),this.timeOut=window.setTimeout(function(){var h=n.getMap();if(h!==null){"fitBounds"in h&&h.fitBounds(o);var p=h.getZoom()||0;r!==null&&p>r&&h.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,n,r,o,u,h;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,g=this.backgroundPosition.split(" "),m=parseInt(((e=g[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),E=parseInt(((n=g[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),T=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(T!==null?"".concat(T.y,"px"):"0","; left: ").concat(T!==null?"".concat(T.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var S=document.createElement("img");S.alt=p,S.src=this.url,S.width=this.width,S.height=this.height,S.setAttribute("style","position: absolute; top: ".concat(E,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(S.style.clip="rect(-".concat(E,"px, -").concat(m+this.width,"px, -").concat(E+this.height,", -").concat(m,")"));var O=document.createElement("div");O.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(O.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(O.innerHTML="".concat((h=this.sums)===null||h===void 0?void 0:h.html)),this.div.innerHTML="",this.div.appendChild(S),this.div.appendChild(O),this.div.title=p,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},i})(),lA=(function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new oA(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var u=o[r],h=u.getPosition();h&&e.extend(h)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,h=this.markerClusterer.getMaxZoom(),p=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(h!==null&&typeof p<"u"&&p>h)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var g=0,m=this.markers;g<m.length;g++){var E=m[g];E.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},i})();function uA(i,e){var n=i.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var cA=2e3,hA=500,fA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",dA="png",pA=[53,56,66,78,90],gA="cluster",a0=(function(){function i(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||fA,this.imageExtension=r.imageExtension||dA,this.imageSizes=r.imageSizes||pA,this.calculator=r.calculator||uA,this.batchSize=r.batchSize||cA,this.batchSizeIE=r.batchSizeIE||hA,this.clusterClass=r.clusterClass||gA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,u=this.clusters;o<u.length;o++){var h=u[o];h.remove()}this.clusters=[];for(var p=0,g=this.listeners;p<g.length;p++){var m=g[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var u=o[r],h=u.getPosition();h&&n.extend(h)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},i.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},i.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},i.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},i.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,u=e;o<u.length;o++){var h=u[o];r=r||this.removeMarker_(h)}return!n&&r&&this.repaint(),r},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var u=o[r];u.remove()}},0)},i.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var u=n.fromDivPixelToLatLng(r);u!==null&&e.extend(u)}if(o!==null){var h=n.fromDivPixelToLatLng(o);h!==null&&e.extend(h)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var u=0,h=this.markers;u<h.length;u++){var p=h[u];p.isAdded=!1,e&&p.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,u=(n.lng()-e.lng())*Math.PI/180,h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},i.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},i.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,u=0,h=this.clusters;u<h.length;u++){var p=h[u];n=p;var g=n.getCenter(),m=e.getPosition();if(g&&m){var E=this.distanceBetweenPoints(g,m);E<r&&(r=E,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new lA(this),n.addMarker(e),this.clusters.push(n))},i.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,u=r?.getZoom()||0,h=u>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(h),g=Math.min(e+this.batchSize,this.markers.length),m=e;m<g;m++){var E=this.markers[m];E&&!E.isAdded&&this.isMarkerInBounds(E,p)&&(!this.ignoreHidden||this.ignoreHidden&&E.getVisible())&&this.addToClosestCluster(E)}if(g<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(g)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var T=0,S=this.clusters;T<S.length;T++){var O=S[T];O.updateIcon()}}}},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype){var h=u;this.prototype[h]=o.prototype[h]}return this}).apply(e,[n])},i})();function T_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function mA(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var ni={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},vA={};function yA(i){var{children:e,options:n,averageCenter:r,batchSizeIE:o,calculator:u,clusterClass:h,enableRetinaIcons:p,gridSize:g,ignoreHidden:m,imageExtension:E,imagePath:T,imageSizes:S,maxZoom:O,minimumClusterSize:M,styles:U,title:V,zoomOnClick:q,onClick:B,onClusteringBegin:te,onClusteringEnd:Z,onMouseOver:H,onMouseOut:G,onLoad:A,onUnmount:R}=i,[w,I]=y.useState(null),x=y.useContext(Ue),[k,D]=y.useState(null),[ge,Ee]=y.useState(null),[Q,le]=y.useState(null),[fe,_e]=y.useState(null),[ye,N]=y.useState(null);return y.useEffect(()=>{w&&G&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(w,ni.onMouseOut,G)))},[G]),y.useEffect(()=>{w&&H&&(ye!==null&&google.maps.event.removeListener(ye),N(google.maps.event.addListener(w,ni.onMouseOver,H)))},[H]),y.useEffect(()=>{w&&B&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(w,ni.onClick,B)))},[B]),y.useEffect(()=>{w&&te&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(w,ni.onClusteringBegin,te)))},[te]),y.useEffect(()=>{w&&Z&&(Q!==null&&google.maps.event.removeListener(Q),Ee(google.maps.event.addListener(w,ni.onClusteringEnd,Z)))},[Z]),y.useEffect(()=>{typeof r<"u"&&w!==null&&et.averageCenter(w,r)},[w,r]),y.useEffect(()=>{typeof o<"u"&&w!==null&&et.batchSizeIE(w,o)},[w,o]),y.useEffect(()=>{typeof u<"u"&&w!==null&&et.calculator(w,u)},[w,u]),y.useEffect(()=>{typeof h<"u"&&w!==null&&et.clusterClass(w,h)},[w,h]),y.useEffect(()=>{typeof p<"u"&&w!==null&&et.enableRetinaIcons(w,p)},[w,p]),y.useEffect(()=>{typeof g<"u"&&w!==null&&et.gridSize(w,g)},[w,g]),y.useEffect(()=>{typeof m<"u"&&w!==null&&et.ignoreHidden(w,m)},[w,m]),y.useEffect(()=>{typeof E<"u"&&w!==null&&et.imageExtension(w,E)},[w,E]),y.useEffect(()=>{typeof T<"u"&&w!==null&&et.imagePath(w,T)},[w,T]),y.useEffect(()=>{typeof S<"u"&&w!==null&&et.imageSizes(w,S)},[w,S]),y.useEffect(()=>{typeof O<"u"&&w!==null&&et.maxZoom(w,O)},[w,O]),y.useEffect(()=>{typeof M<"u"&&w!==null&&et.minimumClusterSize(w,M)},[w,M]),y.useEffect(()=>{typeof U<"u"&&w!==null&&et.styles(w,U)},[w,U]),y.useEffect(()=>{typeof V<"u"&&w!==null&&et.title(w,V)},[w,V]),y.useEffect(()=>{typeof q<"u"&&w!==null&&et.zoomOnClick(w,q)},[w,q]),y.useEffect(()=>{if(x){var J=mA({},n||vA),se=new a0(x,[],J);return r&&et.averageCenter(se,r),o&&et.batchSizeIE(se,o),u&&et.calculator(se,u),h&&et.clusterClass(se,h),p&&et.enableRetinaIcons(se,p),g&&et.gridSize(se,g),m&&et.ignoreHidden(se,m),E&&et.imageExtension(se,E),T&&et.imagePath(se,T),S&&et.imageSizes(se,S),O&&et.maxZoom(se,O),M&&et.minimumClusterSize(se,M),U&&et.styles(se,U),V&&et.title(se,V),q&&et.zoomOnClick(se,q),G&&_e(google.maps.event.addListener(se,ni.onMouseOut,G)),H&&N(google.maps.event.addListener(se,ni.onMouseOver,H)),B&&D(google.maps.event.addListener(se,ni.onClick,B)),te&&Ee(google.maps.event.addListener(se,ni.onClusteringBegin,te)),Z&&le(google.maps.event.addListener(se,ni.onClusteringEnd,Z)),I(se),A&&A(se),()=>{fe!==null&&google.maps.event.removeListener(fe),ye!==null&&google.maps.event.removeListener(ye),k!==null&&google.maps.event.removeListener(k),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),R&&R(se)}}},[]),w!==null&&e(w)||null}y.memo(yA);class _A extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new a0(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),qe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(_A,"contextType",Ue);function S_(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var o0=(function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,n=function(E){E.returnValue=!1,E.preventDefault&&E.preventDefault(),e.enableEventPropagation||S_(E)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],h=0,p=u;h<p.length;h++){var g=p[h];this.eventListeners.push(google.maps.event.addListener(this.div,g,S_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,u=n.getBounds();u&&!u.contains(this.position)&&n.setCenter(this.position);var h=n.getDiv(),p=h.offsetWidth,g=h.offsetHeight,m=this.pixelOffset.width,E=this.pixelOffset.height,T=this.div.offsetWidth,S=this.div.offsetHeight,O=this.infoBoxClearance.width,M=this.infoBoxClearance.height,U=this.getProjection(),V=U.fromLatLngToContainerPixel(this.position);V!==null&&(V.x<-m+O?r=V.x+m-O:V.x+T+m+O>p&&(r=V.x+T+m+O-p),this.alignBottom?V.y<-E+M+S?o=V.y+E-M-S:V.y+E+M>g&&(o=V.y+E+M-g):V.y<-E+M?o=V.y+E-M:V.y+S+E+M>g&&(o=V.y+S+E+M-g)),r===0&&o===0||n.panBy(r,o)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=o.prototype[u]);return this}).apply(e,[n])},i})(),EA=["position"],bA=["position"];function C_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function eh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var w_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},A_={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},TA={};function SA(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:E,onLoad:T,onUnmount:S}=i,O=y.useContext(Ue),[M,U]=y.useState(null),[V,q]=y.useState(null),[B,te]=y.useState(null),[Z,H]=y.useState(null),[G,A]=y.useState(null),[R,w]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{O&&M!==null&&(M.close(),n?M.open(O,n):M.getPosition()&&M.open(O))},[O,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{if(o&&M!==null){var x=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);M.setPosition(x)}},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(G!==null&&google.maps.event.removeListener(G),A(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&E&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(M,"zindex_changed",E)))},[E]),y.useEffect(()=>{if(O){var x=r||TA,{position:k}=x,D=kp(x,EA),ge;k&&!(k instanceof google.maps.LatLng)&&(ge=new google.maps.LatLng(k.lat,k.lng));var Ee=new o0(eh(eh({},D),ge?{position:ge}:{}));I.current=document.createElement("div"),U(Ee),h&&q(google.maps.event.addListener(Ee,"closeclick",h)),p&&te(google.maps.event.addListener(Ee,"domready",p)),g&&H(google.maps.event.addListener(Ee,"content_changed",g)),m&&A(google.maps.event.addListener(Ee,"position_changed",m)),E&&w(google.maps.event.addListener(Ee,"zindex_changed",E)),Ee.setContent(I.current),n?Ee.open(O,n):Ee.getPosition()?Ee.open(O):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),T&&T(Ee)}return()=>{M!==null&&(V&&google.maps.event.removeListener(V),Z&&google.maps.event.removeListener(Z),B&&google.maps.event.removeListener(B),G&&google.maps.event.removeListener(G),R&&google.maps.event.removeListener(R),S&&S(M),M.close())}},[]),I.current?_o.createPortal(y.Children.only(e),I.current):null}y.memo(SA);class CA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=kp(e,bA),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var u=new o0(eh(eh({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:A_,eventMap:w_,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:A_,eventMap:w_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),qe(this.registeredEvents),n.close())}render(){return this.containerElement?_o.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(CA,"contextType",Ue);var jd,L_;function wA(){return L_||(L_=1,jd=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;o--!==0;){var h=u[o];if(!i(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}),jd}var AA=wA(),R_=Jb(AA),M_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Hd=1,Rl=8;class zp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==Hd)throw new Error("Got v".concat(o," data when expected v").concat(Hd,"."));var u=M_[r&15];if(!u)throw new Error("Unrecognized array type.");var[h]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new zp(p,h,u,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=M_.indexOf(this.ArrayType),h=e*2*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-p%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Rl,e),this.coords=new this.ArrayType(this.data,Rl+p+g,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Rl+h+p+g),this.ids=new this.IndexArrayType(this.data,Rl,e),this.coords=new this.ArrayType(this.data,Rl+p+g,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Hd<<4)+u]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return ap(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:h,nodeSize:p}=this,g=[0,u.length-1,0],m=[];g.length;){var E=g.pop()||0,T=g.pop()||0,S=g.pop()||0;if(T-S<=p){for(var O=S;O<=T;O++){var M=h[2*O],U=h[2*O+1];M>=e&&M<=r&&U>=n&&U<=o&&m.push(u[O])}continue}var V=S+T>>1,q=h[2*V],B=h[2*V+1];q>=e&&q<=r&&B>=n&&B<=o&&m.push(u[V]),(E===0?e<=q:n<=B)&&(g.push(S),g.push(V-1),g.push(1-E)),(E===0?r>=q:o>=B)&&(g.push(V+1),g.push(T),g.push(1-E))}return m}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:u,nodeSize:h}=this,p=[0,o.length-1,0],g=[],m=r*r;p.length;){var E=p.pop()||0,T=p.pop()||0,S=p.pop()||0;if(T-S<=h){for(var O=S;O<=T;O++)O_(u[2*O],u[2*O+1],e,n)<=m&&g.push(o[O]);continue}var M=S+T>>1,U=u[2*M],V=u[2*M+1];O_(U,V,e,n)<=m&&g.push(o[M]),(E===0?e-r<=U:n-r<=V)&&(p.push(S),p.push(M-1),p.push(1-E)),(E===0?e+r>=U:n+r>=V)&&(p.push(M+1),p.push(T),p.push(1-E))}return g}}function ap(i,e,n,r,o,u){if(!(o-r<=n)){var h=r+o>>1;l0(i,e,h,r,o,u),ap(i,e,n,r,h-1,1-u),ap(i,e,n,h+1,o,1-u)}}function l0(i,e,n,r,o,u){for(;o>r;){if(o-r>600){var h=o-r+1,p=n-r+1,g=Math.log(h),m=.5*Math.exp(2*g/3),E=.5*Math.sqrt(g*m*(h-m)/h)*(p-h/2<0?-1:1),T=Math.max(r,Math.floor(n-p*m/h+E)),S=Math.min(o,Math.floor(n+(h-p)*m/h+E));l0(i,e,n,T,S,u)}var O=e[2*n+u],M=r,U=o;for(Ml(i,e,r,n),e[2*o+u]>O&&Ml(i,e,r,o);M<U;){for(Ml(i,e,M,U),M++,U--;e[2*M+u]<O;)M++;for(;e[2*U+u]>O;)U--}e[2*r+u]===O?Ml(i,e,r,U):(U++,Ml(i,e,U,o)),U<=n&&(r=U+1),n<=U&&(o=U-1)}}function Ml(i,e,n,r){qd(i,n,r),qd(e,2*n,2*r),qd(e,2*n+1,2*r+1)}function qd(i,e,n){var r=i[e];i[e]=i[n],i[n]=r}function O_(i,e,n,r){var o=i-n,u=e-r;return o*o+u*u}var LA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},D_=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),Wr=2,hr=3,Fd=4,cr=5,u0=6;class RA{constructor(e){this.options=Object.assign(Object.create(LA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");var u="prepare ".concat(e.length," points");n&&console.time(u),this.points=e;for(var h=[],p=0;p<e.length;p++){var g=e[p];if(g.geometry){var[m,E]=g.geometry.coordinates,T=D_(Dc(m)),S=D_(xc(E));h.push(T,S,1/0,p,-1,1),this.options.reduce&&h.push(0)}}var O=this.trees[o+1]=this._createTree(h);n&&console.timeEnd(u);for(var M=o;M>=r;M--){var U=+Date.now();O=this.trees[M]=this._createTree(this._cluster(O,M)),n&&console.log("z%d: %d clusters in %dms",M,O.numItems,+Date.now()-U)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,h=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,u=180;else if(r>u){var p=this.getClusters([r,o,180,h],n),g=this.getClusters([-180,o,u,h],n);return p.concat(g)}var m=this.trees[this._limitZoom(n)],E=m.range(Dc(r),xc(h),Dc(u),xc(o)),T=m.data,S=[];for(var O of E){var M=this.stride*O;S.push(T[M+cr]>1?x_(T,M,this.clusterProps):this.points[T[M+hr]])}return S}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",u=this.trees[r];if(!u)throw new Error(o);var h=u.data;if(n*this.stride>=h.length)throw new Error(o);var p=this.options.radius/(this.options.extent*Math.pow(2,r-1)),g=h[n*this.stride],m=h[n*this.stride+1],E=u.within(g,m,p),T=[];for(var S of E){var O=S*this.stride;h[O+Fd]===e&&T.push(h[O+cr]>1?x_(h,O,this.clusterProps):this.points[h[O+hr]])}if(T.length===0)throw new Error(o);return T}getLeaves(e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){var o=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:h,radius:p}=this.options,g=p/h,m=(r-g)/u,E=(r+1+g)/u,T={features:[]};return this._addTileFeatures(o.range((n-g)/u,m,(n+1+g)/u,E),o.data,n,r,u,T),n===0&&this._addTileFeatures(o.range(1-g/u,m,1,E),o.data,u,r,u,T),n===u-1&&this._addTileFeatures(o.range(0,m,g/u,E),o.data,-1,r,u,T),T.features.length?T:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,u){var h=this.getChildren(n);for(var p of h){var g=p.properties;if(g&&g.cluster?u+g.point_count<=o?u+=g.point_count:u=this._appendLeaves(e,g.cluster_id,r,o,u):u<o?u++:e.push(p),e.length===r)break}return u}_createTree(e){for(var n=new zp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,u,h){for(var p of e){var g=p*this.stride,m=n[g+cr]>1,E=void 0,T=void 0,S=void 0;if(m)E=c0(n,g,this.clusterProps),T=n[g],S=n[g+1];else{var O=this.points[n[g+hr]];E=O.properties;var[M,U]=O.geometry.coordinates;T=Dc(M),S=xc(U)}var V={type:1,geometry:[[Math.round(this.options.extent*(T*u-r)),Math.round(this.options.extent*(S*u-o))]],tags:E},q=void 0;m||this.options.generateId?q=n[g+hr]:q=this.points[n[g+hr]].id,q!==void 0&&(V.id=q),h.features.push(V)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:o,reduce:u,minPoints:h}=this.options,p=r/(o*Math.pow(2,n)),g=e.data,m=[],E=this.stride,T=0;T<g.length;T+=E)if(!(g[T+Wr]<=n)){g[T+Wr]=n;var S=g[T],O=g[T+1],M=e.within(g[T],g[T+1],p),U=g[T+cr],V=U;for(var q of M){var B=q*E;g[B+Wr]>n&&(V+=g[B+cr])}if(V>U&&V>=h){var te=S*U,Z=O*U,H=void 0,G=-1,A=((T/E|0)<<5)+(n+1)+this.points.length;for(var R of M){var w=R*E;if(!(g[w+Wr]<=n)){g[w+Wr]=n;var I=g[w+cr];te+=g[w]*I,Z+=g[w+1]*I,g[w+Fd]=A,u&&(H||(H=this._map(g,T,!0),G=this.clusterProps.length,this.clusterProps.push(H)),u(H,this._map(g,w)))}}g[T+Fd]=A,m.push(te/V,Z/V,1/0,A,-1,V),u&&m.push(G)}else{for(var x=0;x<E;x++)m.push(g[T+x]);if(V>1)for(var k of M){var D=k*E;if(!(g[D+Wr]<=n)){g[D+Wr]=n;for(var ge=0;ge<E;ge++)m.push(g[D+ge])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+cr]>1){var o=this.clusterProps[e[n+u0]];return r?Object.assign({},o):o}var u=this.points[e[n+hr]].properties,h=this.options.map(u);return r&&h===u?Object.assign({},h):h}}function x_(i,e,n){return{type:"Feature",id:i[e+hr],properties:c0(i,e,n),geometry:{type:"Point",coordinates:[MA(i[e]),OA(i[e+1])]}}}function c0(i,e,n){var r=i[e+cr],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,u=i[e+u0],h=u===-1?{}:Object.assign({},n[u]);return Object.assign(h,{cluster:!0,cluster_id:i[e+hr],point_count:r,point_count_abbreviated:o})}function Dc(i){return i/360+.5}function xc(i){var e=Math.sin(i*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function MA(i){return(i-.5)*360}function OA(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function DA(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(n[r[o]]=i[r[o]]);return n}class Hn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class op{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Hn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Hn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Hn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class xA{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return IA(n)}}var IA=i=>{var e=i.map(n=>new op({position:Hn.getPosition(n),markers:[n]}));return e};class VA extends xA{constructor(e){var{maxZoom:n,radius:r=60}=e,o=DA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new RA(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!R_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(u=>{var h=Hn.getPosition(u),p=[h.lng(),h.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:u}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!R_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:o}=e;if(o.cluster)return new op({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(h=>h.properties.marker),position:{lat:r,lng:n}});var u=o.marker;return new op({markers:[u],position:Hn.getPosition(u)})}}class NA{constructor(e,n){this.markers={sum:e.length};var r=n.map(u=>u.count),o=r.reduce((u,h)=>u+h,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class PA{render(e,n,r){var{count:o,position:u}=e,h=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(h,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),g="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Hn.isAdvancedMarkerAvailable(r)){var E=new DOMParser,T=E.parseFromString(p,"image/svg+xml").documentElement;T.setAttribute("transform","translate(0 25)");var S={map:r,position:u,zIndex:m,title:g,content:T};return new google.maps.marker.AdvancedMarkerElement(S)}var O={position:u,zIndex:m,title:g,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(O)}}function kA(i,e){for(var n in e.prototype)i.prototype[n]=e.prototype[n]}class Bp{constructor(){kA(Bp,google.maps.OverlayView)}}var Nl;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(Nl||(Nl={}));var UA=(i,e,n)=>{n.fitBounds(e.bounds)};class zA extends Bp{constructor(e){var{map:n,markers:r=[],algorithmOptions:o={},algorithm:u=new VA(o),renderer:h=new PA,onClusterClick:p=UA}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=u,this.renderer=h,this.onClusterClick=p,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Hn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Nl.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var u of n)u.markers.length==1&&o.add(u.markers[0]);var h=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?o.has(p.marker)||Hn.setMap(p.marker,null):h.push(p.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>h.forEach(g=>Hn.setMap(g,null)))}google.maps.event.trigger(this,Nl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Hn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new NA(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>Hn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,Nl.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),Hn.setMap(r.marker,n)})}}function I_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function V_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function BA(i){var e=Bw(),[n,r]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var o=new zA(V_(V_({},i),{},{map:e}));r(o)}},[e]),n}function jA(i){var{children:e,options:n}=i,r=BA(n);return r!==null?e(r):null}y.memo(jA);var N_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},P_={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function HA(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:E,onLoad:T,onUnmount:S}=i,O=y.useContext(Ue),[M,U]=y.useState(null),[V,q]=y.useState(null),[B,te]=y.useState(null),[Z,H]=y.useState(null),[G,A]=y.useState(null),[R,w]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{M!==null&&(M.close(),n?M.open(O,n):M.getPosition()&&M.open(O))},[O,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{o&&M!==null&&M.setPosition(o)},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(G!==null&&google.maps.event.removeListener(G),A(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&E&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(M,"zindex_changed",E)))},[E]),y.useEffect(()=>{var x=new google.maps.InfoWindow(r);return U(x),I.current=document.createElement("div"),h&&q(google.maps.event.addListener(x,"closeclick",h)),p&&te(google.maps.event.addListener(x,"domready",p)),g&&H(google.maps.event.addListener(x,"content_changed",g)),m&&A(google.maps.event.addListener(x,"position_changed",m)),E&&w(google.maps.event.addListener(x,"zindex_changed",E)),x.setContent(I.current),o&&x.setPosition(o),u&&x.setZIndex(u),n?x.open(O,n):x.getPosition()?x.open(O):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),T&&T(x),()=>{V&&google.maps.event.removeListener(V),Z&&google.maps.event.removeListener(Z),B&&google.maps.event.removeListener(B),G&&google.maps.event.removeListener(G),R&&google.maps.event.removeListener(R),S&&S(x),x.close()}},[]),I.current?_o.createPortal(y.Children.only(e),I.current):null}y.memo(HA);class h0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:P_,eventMap:N_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:P_,eventMap:N_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?_o.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(h0,"contextType",Ue);function k_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function th(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var U_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},z_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},qA={};function FA(i){var{options:e,draggable:n,editable:r,visible:o,path:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:E,onMouseOut:T,onMouseOver:S,onMouseUp:O,onRightClick:M,onClick:U,onDrag:V,onLoad:q,onUnmount:B}=i,te=y.useContext(Ue),[Z,H]=y.useState(null),[G,A]=y.useState(null),[R,w]=y.useState(null),[I,x]=y.useState(null),[k,D]=y.useState(null),[ge,Ee]=y.useState(null),[Q,le]=y.useState(null),[fe,_e]=y.useState(null),[ye,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[me,Te]=y.useState(null);return y.useEffect(()=>{Z!==null&&Z.setMap(te)},[te]),y.useEffect(()=>{typeof e<"u"&&Z!==null&&Z.setOptions(e)},[Z,e]),y.useEffect(()=>{typeof n<"u"&&Z!==null&&Z.setDraggable(n)},[Z,n]),y.useEffect(()=>{typeof r<"u"&&Z!==null&&Z.setEditable(r)},[Z,r]),y.useEffect(()=>{typeof o<"u"&&Z!==null&&Z.setVisible(o)},[Z,o]),y.useEffect(()=>{typeof u<"u"&&Z!==null&&Z.setPath(u)},[Z,u]),y.useEffect(()=>{Z&&h&&(G!==null&&google.maps.event.removeListener(G),A(google.maps.event.addListener(Z,"dblclick",h)))},[h]),y.useEffect(()=>{Z&&p&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(Z,"dragend",p)))},[p]),y.useEffect(()=>{Z&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(Z,"dragstart",g)))},[g]),y.useEffect(()=>{Z&&m&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(Z,"mousedown",m)))},[m]),y.useEffect(()=>{Z&&E&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(Z,"mousemove",E)))},[E]),y.useEffect(()=>{Z&&T&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(Z,"mouseout",T)))},[T]),y.useEffect(()=>{Z&&S&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(Z,"mouseover",S)))},[S]),y.useEffect(()=>{Z&&O&&(ye!==null&&google.maps.event.removeListener(ye),N(google.maps.event.addListener(Z,"mouseup",O)))},[O]),y.useEffect(()=>{Z&&M&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(Z,"rightclick",M)))},[M]),y.useEffect(()=>{Z&&U&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(Z,"click",U)))},[U]),y.useEffect(()=>{Z&&V&&(me!==null&&google.maps.event.removeListener(me),Te(google.maps.event.addListener(Z,"drag",V)))},[V]),y.useEffect(()=>{var Se=new google.maps.Polyline(th(th({},e||qA),{},{map:te}));return u&&Se.setPath(u),typeof o<"u"&&Se.setVisible(o),typeof r<"u"&&Se.setEditable(r),typeof n<"u"&&Se.setDraggable(n),h&&A(google.maps.event.addListener(Se,"dblclick",h)),p&&w(google.maps.event.addListener(Se,"dragend",p)),g&&x(google.maps.event.addListener(Se,"dragstart",g)),m&&D(google.maps.event.addListener(Se,"mousedown",m)),E&&Ee(google.maps.event.addListener(Se,"mousemove",E)),T&&le(google.maps.event.addListener(Se,"mouseout",T)),S&&_e(google.maps.event.addListener(Se,"mouseover",S)),O&&N(google.maps.event.addListener(Se,"mouseup",O)),M&&se(google.maps.event.addListener(Se,"rightclick",M)),U&&$(google.maps.event.addListener(Se,"click",U)),V&&Te(google.maps.event.addListener(Se,"drag",V)),H(Se),q&&q(Se),()=>{G!==null&&google.maps.event.removeListener(G),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),B&&B(Se),Se.setMap(null)}},[]),null}y.memo(FA);class GA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(th(th({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:z_,eventMap:U_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:z_,eventMap:U_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),qe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(GA,"contextType",Ue);function B_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function j_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var H_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},q_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function QA(i){var{options:e,draggable:n,editable:r,visible:o,path:u,paths:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:E,onMouseMove:T,onMouseOut:S,onMouseOver:O,onMouseUp:M,onRightClick:U,onClick:V,onDrag:q,onLoad:B,onUnmount:te,onEdit:Z}=i,H=y.useContext(Ue),[G,A]=y.useState(null),[R,w]=y.useState(null),[I,x]=y.useState(null),[k,D]=y.useState(null),[ge,Ee]=y.useState(null),[Q,le]=y.useState(null),[fe,_e]=y.useState(null),[ye,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[me,Te]=y.useState(null),[Se,De]=y.useState(null);return y.useEffect(()=>{G!==null&&G.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&G!==null&&G.setOptions(e)},[G,e]),y.useEffect(()=>{typeof n<"u"&&G!==null&&G.setDraggable(n)},[G,n]),y.useEffect(()=>{typeof r<"u"&&G!==null&&G.setEditable(r)},[G,r]),y.useEffect(()=>{typeof o<"u"&&G!==null&&G.setVisible(o)},[G,o]),y.useEffect(()=>{typeof u<"u"&&G!==null&&G.setPath(u)},[G,u]),y.useEffect(()=>{typeof h<"u"&&G!==null&&G.setPaths(h)},[G,h]),y.useEffect(()=>{G&&typeof p=="function"&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(G,"dblclick",p)))},[p]),y.useEffect(()=>{G&&(google.maps.event.addListener(G.getPath(),"insert_at",()=>{Z?.(G)}),google.maps.event.addListener(G.getPath(),"set_at",()=>{Z?.(G)}),google.maps.event.addListener(G.getPath(),"remove_at",()=>{Z?.(G)}))},[G,Z]),y.useEffect(()=>{G&&typeof g=="function"&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(G,"dragend",g)))},[g]),y.useEffect(()=>{G&&typeof m=="function"&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(G,"dragstart",m)))},[m]),y.useEffect(()=>{G&&typeof E=="function"&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(G,"mousedown",E)))},[E]),y.useEffect(()=>{G&&typeof T=="function"&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(G,"mousemove",T)))},[T]),y.useEffect(()=>{G&&typeof S=="function"&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(G,"mouseout",S)))},[S]),y.useEffect(()=>{G&&typeof O=="function"&&(ye!==null&&google.maps.event.removeListener(ye),N(google.maps.event.addListener(G,"mouseover",O)))},[O]),y.useEffect(()=>{G&&typeof M=="function"&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(G,"mouseup",M)))},[M]),y.useEffect(()=>{G&&typeof U=="function"&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(G,"rightclick",U)))},[U]),y.useEffect(()=>{G&&typeof V=="function"&&(me!==null&&google.maps.event.removeListener(me),Te(google.maps.event.addListener(G,"click",V)))},[V]),y.useEffect(()=>{G&&typeof q=="function"&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(G,"drag",q)))},[q]),y.useEffect(()=>{var we=new google.maps.Polygon(j_(j_({},e),{},{map:H}));return u&&we.setPath(u),h&&we.setPaths(h),typeof o<"u"&&we.setVisible(o),typeof r<"u"&&we.setEditable(r),typeof n<"u"&&we.setDraggable(n),p&&w(google.maps.event.addListener(we,"dblclick",p)),g&&x(google.maps.event.addListener(we,"dragend",g)),m&&D(google.maps.event.addListener(we,"dragstart",m)),E&&Ee(google.maps.event.addListener(we,"mousedown",E)),T&&le(google.maps.event.addListener(we,"mousemove",T)),S&&_e(google.maps.event.addListener(we,"mouseout",S)),O&&N(google.maps.event.addListener(we,"mouseover",O)),M&&se(google.maps.event.addListener(we,"mouseup",M)),U&&$(google.maps.event.addListener(we,"rightclick",U)),V&&Te(google.maps.event.addListener(we,"click",V)),q&&De(google.maps.event.addListener(we,"drag",q)),A(we),B&&B(we),()=>{R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),me!==null&&google.maps.event.removeListener(me),te&&te(we),we.setMap(null)}},[]),null}y.memo(QA);class KA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:q_,eventMap:H_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:q_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),qe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(KA,"contextType",Ue);function F_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function nh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var G_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Q_={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function YA(i){var{options:e,bounds:n,draggable:r,editable:o,visible:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:E,onMouseOut:T,onMouseOver:S,onMouseUp:O,onRightClick:M,onClick:U,onDrag:V,onBoundsChanged:q,onLoad:B,onUnmount:te}=i,Z=y.useContext(Ue),[H,G]=y.useState(null),[A,R]=y.useState(null),[w,I]=y.useState(null),[x,k]=y.useState(null),[D,ge]=y.useState(null),[Ee,Q]=y.useState(null),[le,fe]=y.useState(null),[_e,ye]=y.useState(null),[N,J]=y.useState(null),[se,ce]=y.useState(null),[$,me]=y.useState(null),[Te,Se]=y.useState(null),[De,we]=y.useState(null);return y.useEffect(()=>{H!==null&&H.setMap(Z)},[Z]),y.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),y.useEffect(()=>{typeof r<"u"&&H!==null&&H.setDraggable(r)},[H,r]),y.useEffect(()=>{typeof o<"u"&&H!==null&&H.setEditable(o)},[H,o]),y.useEffect(()=>{typeof u<"u"&&H!==null&&H.setVisible(u)},[H,u]),y.useEffect(()=>{typeof n<"u"&&H!==null&&H.setBounds(n)},[H,n]),y.useEffect(()=>{H&&h&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(H,"dblclick",h)))},[h]),y.useEffect(()=>{H&&p&&(w!==null&&google.maps.event.removeListener(w),I(google.maps.event.addListener(H,"dragend",p)))},[p]),y.useEffect(()=>{H&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(H,"dragstart",g)))},[g]),y.useEffect(()=>{H&&m&&(D!==null&&google.maps.event.removeListener(D),ge(google.maps.event.addListener(H,"mousedown",m)))},[m]),y.useEffect(()=>{H&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),Q(google.maps.event.addListener(H,"mousemove",E)))},[E]),y.useEffect(()=>{H&&T&&(le!==null&&google.maps.event.removeListener(le),fe(google.maps.event.addListener(H,"mouseout",T)))},[T]),y.useEffect(()=>{H&&S&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(H,"mouseover",S)))},[S]),y.useEffect(()=>{H&&O&&(N!==null&&google.maps.event.removeListener(N),J(google.maps.event.addListener(H,"mouseup",O)))},[O]),y.useEffect(()=>{H&&M&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(H,"rightclick",M)))},[M]),y.useEffect(()=>{H&&U&&($!==null&&google.maps.event.removeListener($),me(google.maps.event.addListener(H,"click",U)))},[U]),y.useEffect(()=>{H&&V&&(Te!==null&&google.maps.event.removeListener(Te),Se(google.maps.event.addListener(H,"drag",V)))},[V]),y.useEffect(()=>{H&&q&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener(H,"bounds_changed",q)))},[q]),y.useEffect(()=>{var ze=new google.maps.Rectangle(nh(nh({},e),{},{map:Z}));return typeof u<"u"&&ze.setVisible(u),typeof o<"u"&&ze.setEditable(o),typeof r<"u"&&ze.setDraggable(r),typeof n<"u"&&ze.setBounds(n),h&&R(google.maps.event.addListener(ze,"dblclick",h)),p&&I(google.maps.event.addListener(ze,"dragend",p)),g&&k(google.maps.event.addListener(ze,"dragstart",g)),m&&ge(google.maps.event.addListener(ze,"mousedown",m)),E&&Q(google.maps.event.addListener(ze,"mousemove",E)),T&&fe(google.maps.event.addListener(ze,"mouseout",T)),S&&ye(google.maps.event.addListener(ze,"mouseover",S)),O&&J(google.maps.event.addListener(ze,"mouseup",O)),M&&ce(google.maps.event.addListener(ze,"rightclick",M)),U&&me(google.maps.event.addListener(ze,"click",U)),V&&Se(google.maps.event.addListener(ze,"drag",V)),q&&we(google.maps.event.addListener(ze,"bounds_changed",q)),G(ze),B&&B(ze),()=>{A!==null&&google.maps.event.removeListener(A),w!==null&&google.maps.event.removeListener(w),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),Ee!==null&&google.maps.event.removeListener(Ee),le!==null&&google.maps.event.removeListener(le),_e!==null&&google.maps.event.removeListener(_e),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Te!==null&&google.maps.event.removeListener(Te),De!==null&&google.maps.event.removeListener(De),te&&te(ze),ze.setMap(null)}},[]),null}y.memo(YA);class ZA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(nh(nh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),qe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(ZA,"contextType",Ue);function K_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ih(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Y_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Z_={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},$A={};function XA(i){var{options:e,center:n,radius:r,draggable:o,editable:u,visible:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:E,onMouseMove:T,onMouseOut:S,onMouseOver:O,onMouseUp:M,onRightClick:U,onClick:V,onDrag:q,onCenterChanged:B,onRadiusChanged:te,onLoad:Z,onUnmount:H}=i,G=y.useContext(Ue),[A,R]=y.useState(null),[w,I]=y.useState(null),[x,k]=y.useState(null),[D,ge]=y.useState(null),[Ee,Q]=y.useState(null),[le,fe]=y.useState(null),[_e,ye]=y.useState(null),[N,J]=y.useState(null),[se,ce]=y.useState(null),[$,me]=y.useState(null),[Te,Se]=y.useState(null),[De,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null);return y.useEffect(()=>{A!==null&&A.setMap(G)},[G]),y.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),y.useEffect(()=>{typeof o<"u"&&A!==null&&A.setDraggable(o)},[A,o]),y.useEffect(()=>{typeof u<"u"&&A!==null&&A.setEditable(u)},[A,u]),y.useEffect(()=>{typeof h<"u"&&A!==null&&A.setVisible(h)},[A,h]),y.useEffect(()=>{typeof r=="number"&&A!==null&&A.setRadius(r)},[A,r]),y.useEffect(()=>{typeof n<"u"&&A!==null&&A.setCenter(n)},[A,n]),y.useEffect(()=>{A&&p&&(w!==null&&google.maps.event.removeListener(w),I(google.maps.event.addListener(A,"dblclick",p)))},[p]),y.useEffect(()=>{A&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(A,"dragend",g)))},[g]),y.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),ge(google.maps.event.addListener(A,"dragstart",m)))},[m]),y.useEffect(()=>{A&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),Q(google.maps.event.addListener(A,"mousedown",E)))},[E]),y.useEffect(()=>{A&&T&&(le!==null&&google.maps.event.removeListener(le),fe(google.maps.event.addListener(A,"mousemove",T)))},[T]),y.useEffect(()=>{A&&S&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(A,"mouseout",S)))},[S]),y.useEffect(()=>{A&&O&&(N!==null&&google.maps.event.removeListener(N),J(google.maps.event.addListener(A,"mouseover",O)))},[O]),y.useEffect(()=>{A&&M&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(A,"mouseup",M)))},[M]),y.useEffect(()=>{A&&U&&($!==null&&google.maps.event.removeListener($),me(google.maps.event.addListener(A,"rightclick",U)))},[U]),y.useEffect(()=>{A&&V&&(Te!==null&&google.maps.event.removeListener(Te),Se(google.maps.event.addListener(A,"click",V)))},[V]),y.useEffect(()=>{A&&q&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener(A,"drag",q)))},[q]),y.useEffect(()=>{A&&B&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener(A,"center_changed",B)))},[V]),y.useEffect(()=>{A&&te&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener(A,"radius_changed",te)))},[te]),y.useEffect(()=>{var Ze=new google.maps.Circle(ih(ih({},e||$A),{},{map:G}));return typeof r=="number"&&Ze.setRadius(r),typeof n<"u"&&Ze.setCenter(n),typeof r=="number"&&Ze.setRadius(r),typeof h<"u"&&Ze.setVisible(h),typeof u<"u"&&Ze.setEditable(u),typeof o<"u"&&Ze.setDraggable(o),p&&I(google.maps.event.addListener(Ze,"dblclick",p)),g&&k(google.maps.event.addListener(Ze,"dragend",g)),m&&ge(google.maps.event.addListener(Ze,"dragstart",m)),E&&Q(google.maps.event.addListener(Ze,"mousedown",E)),T&&fe(google.maps.event.addListener(Ze,"mousemove",T)),S&&ye(google.maps.event.addListener(Ze,"mouseout",S)),O&&J(google.maps.event.addListener(Ze,"mouseover",O)),M&&ce(google.maps.event.addListener(Ze,"mouseup",M)),U&&me(google.maps.event.addListener(Ze,"rightclick",U)),V&&Se(google.maps.event.addListener(Ze,"click",V)),q&&we(google.maps.event.addListener(Ze,"drag",q)),B&&Qt(google.maps.event.addListener(Ze,"center_changed",B)),te&&cn(google.maps.event.addListener(Ze,"radius_changed",te)),R(Ze),Z&&Z(Ze),()=>{w!==null&&google.maps.event.removeListener(w),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),Ee!==null&&google.maps.event.removeListener(Ee),le!==null&&google.maps.event.removeListener(le),_e!==null&&google.maps.event.removeListener(_e),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Te!==null&&google.maps.event.removeListener(Te),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),H&&H(Ze),Ze.setMap(null)}},[]),null}y.memo(XA);class JA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(ih(ih({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Z_,eventMap:Y_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Z_,eventMap:Y_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),qe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(JA,"contextType",Ue);function $_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function sh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var X_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},J_={add(i,e){i.add(e)},addgeojson(i,e,n){i.addGeoJson(e,n)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,n,r){i.loadGeoJson(e,n,r)},overridestyle(i,e,n){i.overrideStyle(e,n)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function WA(i){var{options:e,onClick:n,onDblClick:r,onMouseDown:o,onMouseMove:u,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:m,onAddFeature:E,onRemoveFeature:T,onRemoveProperty:S,onSetGeometry:O,onSetProperty:M,onLoad:U,onUnmount:V}=i,q=y.useContext(Ue),[B,te]=y.useState(null),[Z,H]=y.useState(null),[G,A]=y.useState(null),[R,w]=y.useState(null),[I,x]=y.useState(null),[k,D]=y.useState(null),[ge,Ee]=y.useState(null),[Q,le]=y.useState(null),[fe,_e]=y.useState(null),[ye,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[me,Te]=y.useState(null),[Se,De]=y.useState(null);return y.useEffect(()=>{B!==null&&B.setMap(q)},[q]),y.useEffect(()=>{B&&r&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(B,"dblclick",r)))},[r]),y.useEffect(()=>{B&&o&&(G!==null&&google.maps.event.removeListener(G),A(google.maps.event.addListener(B,"mousedown",o)))},[o]),y.useEffect(()=>{B&&u&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(B,"mousemove",u)))},[u]),y.useEffect(()=>{B&&h&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(B,"mouseout",h)))},[h]),y.useEffect(()=>{B&&p&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(B,"mouseover",p)))},[p]),y.useEffect(()=>{B&&g&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(B,"mouseup",g)))},[g]),y.useEffect(()=>{B&&m&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(B,"rightclick",m)))},[m]),y.useEffect(()=>{B&&n&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(B,"click",n)))},[n]),y.useEffect(()=>{B&&E&&(ye!==null&&google.maps.event.removeListener(ye),N(google.maps.event.addListener(B,"addfeature",E)))},[E]),y.useEffect(()=>{B&&T&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(B,"removefeature",T)))},[T]),y.useEffect(()=>{B&&S&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(B,"removeproperty",S)))},[S]),y.useEffect(()=>{B&&O&&(me!==null&&google.maps.event.removeListener(me),Te(google.maps.event.addListener(B,"setgeometry",O)))},[O]),y.useEffect(()=>{B&&M&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(B,"setproperty",M)))},[M]),y.useEffect(()=>{if(q!==null){var we=new google.maps.Data(sh(sh({},e),{},{map:q}));r&&H(google.maps.event.addListener(we,"dblclick",r)),o&&A(google.maps.event.addListener(we,"mousedown",o)),u&&w(google.maps.event.addListener(we,"mousemove",u)),h&&x(google.maps.event.addListener(we,"mouseout",h)),p&&D(google.maps.event.addListener(we,"mouseover",p)),g&&Ee(google.maps.event.addListener(we,"mouseup",g)),m&&le(google.maps.event.addListener(we,"rightclick",m)),n&&_e(google.maps.event.addListener(we,"click",n)),E&&N(google.maps.event.addListener(we,"addfeature",E)),T&&se(google.maps.event.addListener(we,"removefeature",T)),S&&$(google.maps.event.addListener(we,"removeproperty",S)),O&&Te(google.maps.event.addListener(we,"setgeometry",O)),M&&De(google.maps.event.addListener(we,"setproperty",M)),te(we),U&&U(we)}return()=>{B&&(Z!==null&&google.maps.event.removeListener(Z),G!==null&&google.maps.event.removeListener(G),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),me!==null&&google.maps.event.removeListener(me),Se!==null&&google.maps.event.removeListener(Se),V&&V(B),B.setMap(null))}},[]),null}y.memo(WA);class eL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(sh(sh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:J_,eventMap:X_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:J_,eventMap:X_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(eL,"contextType",Ue);function W_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function eE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var tE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},nE={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class tL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(eE(eE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),qe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(tL,"contextType",Ue);function f0(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function nL(i,e){return new e(i.lat,i.lng)}function iL(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function sL(i,e,n){return i instanceof e?i:n(i,e)}function rL(i,e,n){return i instanceof e?i:n(i,e)}function aL(i,e,n){var r=i&&i.fromLatLngToDivPixel(n.getNorthEast()),o=i&&i.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function oL(i,e,n){var r=i&&i.fromLatLngToDivPixel(n);if(r){var{x:o,y:u}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function d0(i,e,n,r){return n!==void 0?aL(i,e,rL(n,google.maps.LatLngBounds,iL)):oL(i,e,sL(r,google.maps.LatLng,nL))}function lL(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function iE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function uL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function cL(i,e,n,r,o){class u extends google.maps.OverlayView{constructor(p,g,m,E){super(),this.container=p,this.pane=g,this.position=m,this.bounds=E}onAdd(){var p,g=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];g?.appendChild(this.container)}draw(){var p=this.getProjection(),g=uL({},this.container?f0(this.container,o):{x:0,y:0}),m=d0(p,g,this.bounds,this.position);for(var[E,T]of Object.entries(m))this.container.style[E]=T}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(i,e,n,r)}function sE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function hL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function rE(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function aE(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function fL(i){var{position:e,bounds:n,mapPaneName:r,zIndex:o,onLoad:u,onUnmount:h,getPixelPositionOffset:p,children:g}=i,m=y.useContext(Ue),E=y.useMemo(()=>{var S=document.createElement("div");return S.style.position="absolute",S},[]),T=y.useMemo(()=>cL(E,r,e,n,p),[E,r,e,n]);return y.useEffect(()=>(u?.(T),T?.setMap(m),()=>{h?.(T),T?.setMap(null)}),[m,T]),y.useEffect(()=>{E.style.zIndex="".concat(o)},[o,E]),_o.createPortal(g,E)}y.memo(fL);class Eo extends y.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();Gt(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=hL({x:0,y:0},this.containerRef.current?f0(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=d0(r,o,this.props.bounds,this.props.position);if(!lL(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var h,p,g,m;this.setState({containerStyle:{top:(h=u.top)!==null&&h!==void 0?h:0,left:(p=u.left)!==null&&p!==void 0?p:0,width:(g=u.width)!==null&&g!==void 0?g:0,height:(m=u.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=rE(e.position),r=rE(this.props.position),o=aE(e.bounds),u=aE(this.props.bounds);(n!==r||o!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?_o.createPortal(he.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ne(Eo,"FLOAT_PANE","floatPane");ne(Eo,"MAP_PANE","mapPane");ne(Eo,"MARKER_LAYER","markerLayer");ne(Eo,"OVERLAY_LAYER","overlayLayer");ne(Eo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(Eo,"contextType",Ue);function dL(){}function oE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function lE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var uE={onDblClick:"dblclick",onClick:"click"},cE={opacity(i,e){i.setOpacity(e)}};function pL(i){var{url:e,bounds:n,options:r,visible:o}=i,u=y.useContext(Ue),h=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),p=y.useMemo(()=>new google.maps.GroundOverlay(e,h,r),[]);return y.useEffect(()=>{p!==null&&p.setMap(u)},[u]),y.useEffect(()=>{typeof e<"u"&&p!==null&&(p.set("url",e),p.setMap(u))},[p,e]),y.useEffect(()=>{typeof o<"u"&&p!==null&&p.setOpacity(o?1:0)},[p,o]),y.useEffect(()=>{var g=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&p!==null&&(p.set("bounds",g),p.setMap(u))},[p,n]),null}y.memo(pL);class p0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Gt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,lE(lE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(p0,"defaultProps",{onLoad:dL});ne(p0,"contextType",Ue);function hE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function rh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var fE={},dE={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function gL(i){var{data:e,onLoad:n,onUnmount:r,options:o}=i,u=y.useContext(Ue),[h,p]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Gt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{h!==null&&h.setMap(u)},[u]),y.useEffect(()=>{o&&h!==null&&h.setOptions(o)},[h,o]),y.useEffect(()=>{var g=new google.maps.visualization.HeatmapLayer(rh(rh({},o),{},{data:e,map:u}));return p(g),n&&n(g),()=>{h!==null&&(r&&r(h),h.setMap(null))}},[]),null}y.memo(gL);class mL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Gt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(rh(rh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:dE,eventMap:fE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:dE,eventMap:fE,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(mL,"contextType",Ue);var pE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},gE={register(i,e,n){i.registerPanoProvider(e,n)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class vL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:gE,eventMap:pE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:gE,eventMap:pE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(vL,"contextType",Ue);class yL extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(yL,"contextType",Ue);var mE={onDirectionsChanged:"directions_changed"},vE={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class _L extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(_L,"contextType",Ue);var yE={onPlacesChanged:"places_changed"},_E={bounds(i,e){i.setBounds(e)}};class EL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:_E,eventMap:yE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:_E,eventMap:yE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),qe(this.registeredEvents))}render(){return he.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ne(EL,"contextType",Ue);var EE={onPlaceChanged:"place_changed"},bE={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class jp extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Be({updaterMap:bE,eventMap:EE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:bE,eventMap:EE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&qe(this.registeredEvents)}render(){return he.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ne(jp,"defaultProps",{className:""});ne(jp,"contextType",Ue);const bL=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TL=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let S=(p&15)<<2|m>>6,O=m&63;g||(O=64,h||(S=64)),r.push(n[E],n[T],n[S],n[O])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(g0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TL(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new SL;const S=u<<2|p>>4;if(r.push(S),m!==64){const O=p<<4&240|m>>2;if(r.push(O),T!==64){const M=m<<6&192|T;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CL=function(i){const e=g0(i);return m0.encodeByteArray(e,!0)},ah=function(i){return CL(i).replace(/\./g,"")},wL=function(i){try{return m0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=()=>AL().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof TE>"u")return;const i=TE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ML=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&wL(i[1]);return e&&JSON.parse(e)},Hp=()=>{try{return bL()||LL()||RL()||ML()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},OL=i=>Hp()?.emulatorHosts?.[i],v0=i=>{const e=OL(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y0=()=>Hp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ah(JSON.stringify(n)),ah(JSON.stringify(h)),""].join(".")}const Pl={};function xL(){const i={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?i.emulator.push(e):i.prod.push(e);return i}function IL(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let SE=!1;function b0(i,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||Pl[i]===e||Pl[i]||SE)return;Pl[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=xL().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{SE=!0,h()},S}function E(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=IL(r),O=n("text"),M=document.getElementById(O)||document.createElement("span"),U=n("learnmore"),V=document.getElementById(U)||document.createElement("a"),q=n("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;p(te),E(V,U);const Z=m();g(B,q),te.append(B,M,V,Z),document.body.appendChild(te)}u?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NL(){const i=Hp()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PL(){return!NL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kL(){try{return typeof indexedDB=="object"}catch{return!1}}function UL(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zL,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T0.prototype.create)}}class T0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?BL(u,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new la(o,p,r)}}function BL(i,e){return i.replace(jL,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const jL=/\{\$([^}]+)}/g;function oh(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(CE(u)&&CE(h)){if(!oh(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function CE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(i){return i&&i._delegate?i._delegate:i}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FL(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(i){return i===ea?void 0:i}function FL(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const QL={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},KL=Xe.INFO,YL={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},ZL=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=YL[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S0{constructor(e){this.name=e,this._logLevel=KL,this._logHandler=ZL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const $L=(i,e)=>e.some(n=>i instanceof n);let wE,AE;function XL(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JL(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,lp=new WeakMap,w0=new WeakMap,Gd=new WeakMap,qp=new WeakMap;function WL(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(pr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&C0.set(n,i)}).catch(()=>{}),qp.set(e,i),e}function eR(i){if(lp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,e)}let up={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||w0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tR(i){up=i(up)}function nR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Qd(this),e,...n);return w0.set(r,e.sort?e.sort():[e]),pr(r)}:JL().includes(i)?function(...e){return i.apply(Qd(this),e),pr(C0.get(this))}:function(...e){return pr(i.apply(Qd(this),e))}}function iR(i){return typeof i=="function"?nR(i):(i instanceof IDBTransaction&&eR(i),$L(i,XL())?new Proxy(i,up):i)}function pr(i){if(i instanceof IDBRequest)return WL(i);if(Gd.has(i))return Gd.get(i);const e=iR(i);return e!==i&&(Gd.set(i,e),qp.set(e,i)),e}const Qd=i=>qp.get(i);function sR(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=pr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(pr(h.result),g.oldVersion,g.newVersion,pr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const rR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Kd=new Map;function LE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=aR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rR.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Kd.set(e,u),u}tR(i=>({...i,get:(e,n,r)=>LE(e,n)||i.get(e,n,r),has:(e,n)=>!!LE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lR(i){return i.getComponent()?.type==="VERSION"}const cp="@firebase/app",RE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new S0("@firebase/app"),uR="@firebase/app-compat",cR="@firebase/analytics-compat",hR="@firebase/analytics",fR="@firebase/app-check-compat",dR="@firebase/app-check",pR="@firebase/auth",gR="@firebase/auth-compat",mR="@firebase/database",vR="@firebase/data-connect",yR="@firebase/database-compat",_R="@firebase/functions",ER="@firebase/functions-compat",bR="@firebase/installations",TR="@firebase/installations-compat",SR="@firebase/messaging",CR="@firebase/messaging-compat",wR="@firebase/performance",AR="@firebase/performance-compat",LR="@firebase/remote-config",RR="@firebase/remote-config-compat",MR="@firebase/storage",OR="@firebase/storage-compat",DR="@firebase/firestore",xR="@firebase/ai",IR="@firebase/firestore-compat",VR="firebase",NR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",PR={[cp]:"fire-core",[uR]:"fire-core-compat",[hR]:"fire-analytics",[cR]:"fire-analytics-compat",[dR]:"fire-app-check",[fR]:"fire-app-check-compat",[pR]:"fire-auth",[gR]:"fire-auth-compat",[mR]:"fire-rtdb",[vR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[_R]:"fire-fn",[ER]:"fire-fn-compat",[bR]:"fire-iid",[TR]:"fire-iid-compat",[SR]:"fire-fcm",[CR]:"fire-fcm-compat",[wR]:"fire-perf",[AR]:"fire-perf-compat",[LR]:"fire-rc",[RR]:"fire-rc-compat",[MR]:"fire-gcs",[OR]:"fire-gcs-compat",[DR]:"fire-fst",[IR]:"fire-fst-compat",[xR]:"fire-vertex","fire-js":"fire-js",[VR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,kR=new Map,fp=new Map;function ME(i,e){try{i.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Fl(i){const e=i.name;if(fp.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const n of lh.values())ME(n,i);for(const n of kR.values())ME(n,i);return!0}function A0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function L0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new T0("app","Firebase",UR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=NR;function M0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:hp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=y0()),!n)throw gr.create("no-options");const u=lh.get(o);if(u){if(oh(n,u.options)&&oh(r,u.config))return u;throw gr.create("duplicate-app",{appName:o})}const h=new GL(o);for(const g of fp.values())h.addComponent(g);const p=new zR(n,r,h);return lh.set(o,p),p}function O0(i=hp){const e=lh.get(i);if(!e&&i===hp&&y0())return M0();if(!e)throw gr.create("no-app",{appName:i});return e}function mr(i,e,n){let r=PR[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(h.join(" "));return}Fl(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebase-heartbeat-database",jR=1,Gl="firebase-heartbeat-store";let Yd=null;function D0(){return Yd||(Yd=sR(BR,jR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(i=>{throw gr.create("idb-open",{originalErrorMessage:i.message})})),Yd}async function HR(i){try{const n=(await D0()).transaction(Gl),r=await n.objectStore(Gl).get(x0(i));return await n.done,r}catch(e){if(e instanceof la)As.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function OE(i,e){try{const r=(await D0()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,x0(i)),await r.done}catch(n){if(n instanceof la)As.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function x0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1024,FR=30;class GR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FR){const o=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:n,unsentEntries:r}=QR(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function QR(i,e=qR){const n=[];let r=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),xE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kL()?UL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xE(i){return ah(JSON.stringify({version:2,heartbeats:i})).length}function YR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(i){Fl(new uo("platform-logger",e=>new oR(e),"PRIVATE")),Fl(new uo("heartbeat",e=>new GR(e),"PRIVATE")),mr(cp,RE,i),mr(cp,RE,"esm2020"),mr("fire-js","")}ZR("");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,I0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function w(){}w.prototype=R.prototype,A.F=R.prototype,A.prototype=new w,A.prototype.constructor=A,A.D=function(I,x,k){for(var D=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)D[ge-2]=arguments[ge];return R.prototype[x].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,R,w){w||(w=0);const I=Array(16);if(typeof R=="string")for(var x=0;x<16;++x)I[x]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(x=0;x<16;++x)I[x]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=A.g[0],w=A.g[1],x=A.g[2];let k=A.g[3],D;D=R+(k^w&(x^k))+I[0]+3614090360&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+I[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+I[2]+606105819&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+I[3]+3250441966&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+I[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+I[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+I[6]+2821735955&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+I[7]+4249261313&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+I[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+I[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+I[10]+4294925233&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+I[11]+2304563134&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+I[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+I[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+I[14]+2792965006&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+I[15]+1236535329&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(x^k&(w^x))+I[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+I[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+I[11]+643717713&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+I[0]+3921069994&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+I[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+I[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+I[15]+3634488961&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+I[4]+3889429448&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+I[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+I[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+I[3]+4107603335&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+I[8]+1163531501&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+I[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+I[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+I[7]+1735328473&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+I[12]+2368359562&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(w^x^k)+I[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+I[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+I[11]+1839030562&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+I[14]+4259657740&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+I[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+I[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+I[7]+4139469664&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+I[10]+3200236656&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+I[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+I[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+I[3]+3572445317&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+I[6]+76029189&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+I[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+I[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+I[15]+530742520&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+I[2]+3299628645&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(x^(w|~k))+I[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+I[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+I[14]+2878612391&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+I[5]+4237533241&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+I[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+I[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+I[10]+4293915773&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+I[1]+2240044497&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+I[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+I[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+I[6]+2734768916&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+I[13]+1309151649&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+I[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+I[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+I[2]+718787259&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.v=function(A,R){R===void 0&&(R=A.length);const w=R-this.blockSize,I=this.C;let x=this.h,k=0;for(;k<R;){if(x==0)for(;k<=w;)o(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<R;)if(I[x++]=A.charCodeAt(k++),x==this.blockSize){o(this,I),x=0;break}}else for(;k<R;)if(I[x++]=A[k++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=R},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;R=this.o*8;for(var w=A.length-8;w<A.length;++w)A[w]=R&255,R/=256;for(this.v(A),A=Array(16),R=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)A[R++]=this.g[w]>>>I&255;return A};function u(A,R){var w=p;return Object.prototype.hasOwnProperty.call(w,A)?w[A]:w[A]=R(A)}function h(A,R){this.h=R;const w=[];let I=!0;for(let x=A.length-1;x>=0;x--){const k=A[x]|0;I&&k==R||(w[x]=k,I=!1)}this.g=w}var p={};function g(A){return-128<=A&&A<128?u(A,function(R){return new h([R|0],R<0?-1:0)}):new h([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return T;if(A<0)return V(m(-A));const R=[];let w=1;for(let I=0;A>=w;I++)R[I]=A/w|0,w*=4294967296;return new h(R,0)}function E(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return V(E(A.substring(1),R));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=m(Math.pow(R,8));let I=T;for(let k=0;k<A.length;k+=8){var x=Math.min(8,A.length-k);const D=parseInt(A.substring(k,k+x),R);x<8?(x=m(Math.pow(R,x)),I=I.j(x).add(m(D))):(I=I.j(w),I=I.add(m(D)))}return I}var T=g(0),S=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(U(this))return-V(this).m();let A=0,R=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);A+=(I>=0?I:4294967296+I)*R,R*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(M(this))return"0";if(U(this))return"-"+V(this).toString(A);const R=m(Math.pow(A,6));var w=this;let I="";for(;;){const x=Z(w,R).g;w=q(w,x.j(R));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(A);if(w=x,M(w))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function M(A){if(A.h!=0)return!1;for(let R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function U(A){return A.h==-1}i.l=function(A){return A=q(this,A),U(A)?-1:M(A)?0:1};function V(A){const R=A.g.length,w=[];for(let I=0;I<R;I++)w[I]=~A.g[I];return new h(w,~A.h).add(S)}i.abs=function(){return U(this)?V(this):this},i.add=function(A){const R=Math.max(this.g.length,A.g.length),w=[];let I=0;for(let x=0;x<=R;x++){let k=I+(this.i(x)&65535)+(A.i(x)&65535),D=(k>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);I=D>>>16,k&=65535,D&=65535,w[x]=D<<16|k}return new h(w,w[w.length-1]&-2147483648?-1:0)};function q(A,R){return A.add(V(R))}i.j=function(A){if(M(this)||M(A))return T;if(U(this))return U(A)?V(this).j(V(A)):V(V(this).j(A));if(U(A))return V(this.j(V(A)));if(this.l(O)<0&&A.l(O)<0)return m(this.m()*A.m());const R=this.g.length+A.g.length,w=[];for(var I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let x=0;x<A.g.length;x++){const k=this.i(I)>>>16,D=this.i(I)&65535,ge=A.i(x)>>>16,Ee=A.i(x)&65535;w[2*I+2*x]+=D*Ee,B(w,2*I+2*x),w[2*I+2*x+1]+=k*Ee,B(w,2*I+2*x+1),w[2*I+2*x+1]+=D*ge,B(w,2*I+2*x+1),w[2*I+2*x+2]+=k*ge,B(w,2*I+2*x+2)}for(A=0;A<R;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=R;A<2*R;A++)w[A]=0;return new h(w,0)};function B(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function te(A,R){this.g=A,this.h=R}function Z(A,R){if(M(R))throw Error("division by zero");if(M(A))return new te(T,T);if(U(A))return R=Z(V(A),R),new te(V(R.g),V(R.h));if(U(R))return R=Z(A,V(R)),new te(V(R.g),R.h);if(A.g.length>30){if(U(A)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,I=R;I.l(A)<=0;)w=H(w),I=H(I);var x=G(w,1),k=G(I,1);for(I=G(I,2),w=G(w,2);!M(I);){var D=k.add(I);D.l(A)<=0&&(x=x.add(w),k=D),I=G(I,1),w=G(w,1)}return R=q(A,x.j(R)),new te(x,R)}for(x=T;A.l(R)>=0;){for(w=Math.max(1,Math.floor(A.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=m(w),D=k.j(R);U(D)||D.l(A)>0;)w-=I,k=m(w),D=k.j(R);M(k)&&(k=S),x=x.add(k),A=q(A,D)}return new te(x,A)}i.B=function(A){return Z(this,A).h},i.and=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let I=0;I<R;I++)w[I]=this.i(I)&A.i(I);return new h(w,this.h&A.h)},i.or=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let I=0;I<R;I++)w[I]=this.i(I)|A.i(I);return new h(w,this.h|A.h)},i.xor=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let I=0;I<R;I++)w[I]=this.i(I)^A.i(I);return new h(w,this.h^A.h)};function H(A){const R=A.g.length+1,w=[];for(let I=0;I<R;I++)w[I]=A.i(I)<<1|A.i(I-1)>>>31;return new h(w,A.h)}function G(A,R){const w=R>>5;R%=32;const I=A.g.length-w,x=[];for(let k=0;k<I;k++)x[k]=R>0?A.i(k+w)>>>R|A.i(k+w+1)<<32-R:A.i(k+w);return new h(x,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,I0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=m,h.fromString=E,vr=h}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,Dl,N0,Fc,dp,P0,k0,U0;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var b=r;c=c.split(".");for(var L=0;L<c.length-1;L++){var F=c[L];if(!(F in b))break e;b=b[F]}c=c[c.length-1],L=b[c],v=v(L),v!=L&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var b=[],L;for(L in v)Object.prototype.hasOwnProperty.call(v,L)&&b.push([L,v[L]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function m(c,v,b){return m=g,m.apply(null,arguments)}function E(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var L=b.slice();return L.push.apply(L,arguments),c.apply(this,L)}}function T(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(L,F,W){for(var de=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)de[Ne-2]=arguments[Ne];return v.prototype[F].apply(L,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const v=c.length;if(v>0){const b=Array(v);for(let L=0;L<v;L++)b[L]=c[L];return b}return[]}function M(c,v){for(let L=1;L<arguments.length;L++){const F=arguments[L];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=c.length||0;const W=F.length||0;c.length=b+W;for(let de=0;de<W;de++)c[b+de]=F[de]}else c.push(F)}}class U{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(c){h.setTimeout(()=>{throw c},0)}function q(){var c=A;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,b){const L=te.get();L.set(v,b),this.h?this.h.next=L:this.g=L,this.h=L}}var te=new U(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let H,G=!1,A=new B,R=()=>{const c=Promise.resolve(void 0);H=()=>{c.then(w)}};function w(){for(var c;c=q();){try{c.h.call(c.g)}catch(b){V(b)}var v=te;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}G=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function ge(c,v){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}T(ge,x),ge.prototype.init=function(c,v){const b=this.type=c.type,L=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(c,v,b,L,F){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!L,this.ha=F,this.key=++Q,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _e(c,v,b){for(const L in c)v.call(b,c[L],L,c)}function ye(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function N(c){const v={};for(const b in c)v[b]=c[b];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,v){let b,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(b in L)c[b]=L[b];for(let W=0;W<J.length;W++)b=J[W],Object.prototype.hasOwnProperty.call(L,b)&&(c[b]=L[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,v,b,L,F){const W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);const de=me(c,v,L,F);return de>-1?(v=c[de],b||(v.fa=!1)):(v=new le(v,this.src,W,!!L,F),v.fa=b,c.push(v)),v};function $(c,v){const b=v.type;if(b in c.g){var L=c.g[b],F=Array.prototype.indexOf.call(L,v,void 0),W;(W=F>=0)&&Array.prototype.splice.call(L,F,1),W&&(fe(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function me(c,v,b,L){for(let F=0;F<c.length;++F){const W=c[F];if(!W.da&&W.listener==v&&W.capture==!!b&&W.ha==L)return F}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Se={};function De(c,v,b,L,F){if(Array.isArray(v)){for(let W=0;W<v.length;W++)De(c,v[W],b,L,F);return null}return b=Os(b),c&&c[Ee]?c.J(v,b,p(L)?!!L.capture:!1,F):we(c,v,b,!1,L,F)}function we(c,v,b,L,F,W){if(!v)throw Error("Invalid event type");const de=p(F)?!!F.capture:!!F;let Ne=vi(c);if(Ne||(c[Te]=Ne=new ce(c)),b=Ne.add(v,b,L,de,W),b.proxy)return b;if(L=ze(),b.proxy=L,L.src=c,L.listener=b,c.addEventListener)k||(F=de),F===void 0&&(F=!1),c.addEventListener(v.toString(),L,F);else if(c.attachEvent)c.attachEvent(cn(v.toString()),L);else if(c.addListener&&c.removeListener)c.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ze(){function c(b){return v.call(c.src,c.listener,b)}const v=Ze;return c}function Qt(c,v,b,L,F){if(Array.isArray(v))for(var W=0;W<v.length;W++)Qt(c,v[W],b,L,F);else L=p(L)?!!L.capture:!!L,b=Os(b),c&&c[Ee]?(c=c.i,W=String(v).toString(),W in c.g&&(v=c.g[W],b=me(v,b,L,F),b>-1&&(fe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[W],c.h--)))):c&&(c=vi(c))&&(v=c.g[v.toString()],c=-1,v&&(c=me(v,b,L,F)),(b=c>-1?v[c]:null)&&un(b))}function un(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ee])$(v.i,c);else{var b=c.type,L=c.proxy;v.removeEventListener?v.removeEventListener(b,L,c.capture):v.detachEvent?v.detachEvent(cn(b),L):v.addListener&&v.removeListener&&v.removeListener(L),(b=vi(v))?($(b,c),b.h==0&&(b.src=null,v[Te]=null)):fe(c)}}}function cn(c){return c in Se?Se[c]:Se[c]="on"+c}function Ze(c,v){if(c.da)c=!0;else{v=new ge(v,this);const b=c.listener,L=c.ha||c.src;c.fa&&un(c),c=b.call(L,v)}return c}function vi(c){return c=c[Te],c instanceof ce?c:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(c){return typeof c=="function"?c:(c[yi]||(c[yi]=function(v){return c.handleEvent(v)}),c[yi])}function ft(){I.call(this),this.i=new ce(this),this.M=this,this.G=null}T(ft,I),ft.prototype[Ee]=!0,ft.prototype.removeEventListener=function(c,v,b,L){Qt(this,c,v,b,L)};function St(c,v){var b,L=c.G;if(L)for(b=[];L;L=L.G)b.push(L);if(c=c.M,L=v.type||v,typeof v=="string")v=new x(v,c);else if(v instanceof x)v.target=v.target||c;else{var F=v;v=new x(L,c),se(v,F)}F=!0;let W,de;if(b)for(de=b.length-1;de>=0;de--)W=v.g=b[de],F=Mn(W,L,!0,v)&&F;if(W=v.g=c,F=Mn(W,L,!0,v)&&F,F=Mn(W,L,!1,v)&&F,b)for(de=0;de<b.length;de++)W=v.g=b[de],F=Mn(W,L,!1,v)&&F}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let L=0;L<b.length;L++)fe(b[L]);delete c.g[v],c.h--}}this.G=null},ft.prototype.J=function(c,v,b,L){return this.i.add(String(c),v,!1,b,L)},ft.prototype.K=function(c,v,b,L){return this.i.add(String(c),v,!0,b,L)};function Mn(c,v,b,L){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let W=0;W<v.length;++W){const de=v[W];if(de&&!de.da&&de.capture==b){const Ne=de.listener,Rt=de.ha||de.src;de.fa&&$(c.i,de),F=Ne.call(Rt,L)!==!1&&F}}return F&&!L.defaultPrevented}function da(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function Zi(c){c.g=da(()=>{c.g=null,c.i&&(c.i=!1,Zi(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Kt extends I{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(c){I.call(this),this.h=c,this.g={}}T(_i,I);var Ds=[];function Ei(c){_e(c.g,function(v,b){this.g.hasOwnProperty(b)&&un(v)},c),c.g={}}_i.prototype.N=function(){_i.Z.N.call(this),Ei(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=h.JSON.stringify,xs=h.JSON.parse,Ar=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function $i(){}function Lr(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){x.call(this,"d")}T(xt,x);function Jt(){x.call(this,"c")}T(Jt,x);var vt={},Xi=null;function Ji(){return Xi=Xi||new ft}vt.Ia="serverreachability";function Wi(c){x.call(this,vt.Ia,c)}T(Wi,x);function On(c){const v=Ji();St(v,new Wi(v))}vt.STAT_EVENT="statevent";function bi(c,v){x.call(this,vt.STAT_EVENT,c),this.stat=v}T(bi,x);function Et(c){const v=Ji();St(v,new bi(v,c))}vt.Ja="timingevent";function vn(c,v){x.call(this,vt.Ja,c),this.size=v}T(vn,x);function Dn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function pa(c,v,b,L,F,W){c.info(function(){if(c.g)if(W){var de="",Ne=W.split("&");for(let tt=0;tt<Ne.length;tt++){var Rt=Ne[tt].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const Kn=yt.split("_");de=Kn.length>=2&&Kn[1]=="type"?de+(yt+"="+Rt+"&"):de+(yt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+v+`
`+b+`
`+de})}function es(c,v,b,L,F,W,de){c.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+v+`
`+b+`
`+W+" "+de})}function xn(c,v,b,L){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ns(c,b)+(L?" "+L:"")})}function ts(c,v){c.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function ns(c,v){if(!c.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(c=0;c<W.length;c++)if(Array.isArray(W[c])){var b=W[c];if(!(b.length<2)){var L=b[1];if(Array.isArray(L)&&!(L.length<1)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(let de=1;de<L.length;de++)L[de]=""}}}}return ri(W)}catch{return v}}var Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Rr(){}T(Rr,$i),Rr.prototype.g=function(){return new XMLHttpRequest},Ao=new Rr;function is(c){return encodeURIComponent(String(c))}function lu(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function ai(c,v,b,L){this.j=c,this.i=v,this.l=b,this.S=L||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var It={},Yt={};function Ti(c,v,b){c.M=1,c.A=Mr(Nt(v)),c.u=b,c.R=!0,ga(c,null)}function ga(c,v){c.F=Date.now(),Si(c),c.B=Nt(c.A);var b=c.B,L=c.S;Array.isArray(L)||(L=[String(L)]),_a(b.i,"t",L),c.C=0,b=c.j.L,c.h=new oi,c.g=Su(c.j,b?v:null,!c.u),c.P>0&&(c.O=new Kt(m(c.Y,c,c.g),c.P)),v=c.V,b=c.g,L=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ds[0]=F.toString()),F=Ds);for(let W=0;W<F.length;W++){const de=De(b,F[W],L||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=c.J?N(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),On(),pa(c.i,c.v,c.B,c.l,c.S,c.u)}ai.prototype.ba=function(c){c=c.target;const v=this.O;v&&ci(c)==3?v.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ci(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||Rt==7||(Rt==8||tt<=0?On(3):On(2)),Ci(this);var v=this.g.ca();this.X=v;var b=kh(this);if(this.o=v==200,es(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var L,F=this.g;if((L=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(L)){var W=L;break t}}W=null}if(c=W)xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,c);else{this.o=!1,this.m=3,Et(12),In(this),Fn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=cu(this,b),yt==Yt){Ne==4&&(this.m=4,Et(14),c=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==It){this.m=4,Et(15),xn(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else xn(this.i,this.l,yt,null),wi(this,yt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)xn(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Fn(this);else if(b.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jo(de),de.P=!0,Et(11))}}else xn(this.i,this.l,b,null),wi(this,b);Ne==4&&In(this),this.o&&!this.K&&(Ne==4?_u(this.j,this):(this.o=!1,Si(this)))}else rs(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),In(this),Fn(this)}}}catch{}finally{}};function kh(c){if(!uu(c))return c.g.la();const v=Wt(c.g);if(v==="")return"";let b="";const L=v.length,F=ci(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Fn(c),"";c.h.i=new h.TextDecoder}for(let W=0;W<L;W++)c.h.h=!0,b+=c.h.i.decode(v[W],{stream:!(F&&W==L-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function uu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function cu(c,v){var b=c.C,L=v.indexOf(`
`,b);return L==-1?Yt:(b=Number(v.substring(b,L)),isNaN(b)?It:(L+=1,L+b>v.length?Yt:(v=v.slice(L,L+b),c.C=L+b,v)))}ai.prototype.cancel=function(){this.K=!0,In(this)};function Si(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Dn(m(c.aa,c),v)}function Ci(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ai.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ts(this.i,this.B),this.M!=2&&(On(),Et(17)),In(this),this.m=2,Fn(this)):ma(this,this.T-c)};function Fn(c){c.j.I==0||c.K||_u(c.j,c)}function In(c){Ci(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Ei(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function wi(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Li(b.h,c))){if(!c.L&&Li(b.h,c)&&b.I==3){try{var L=b.Ba.g.parse(v)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ca(b),Bs(b);else break e;Pr(b),Et(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Dn(m(b.Va,b),6e3));Ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((c.L||b.g==c)&&Ca(b),!D(v))for(F=b.Ba.g.parse(v),v=0;v<F.length;v++){let tt=F[v];const yt=tt[0];if(!(yt<=b.K))if(b.K=yt,tt=tt[1],b.I==2)if(tt[0]=="c"){b.M=tt[1],b.ba=tt[2];const Kn=tt[3];Kn!=null&&(b.ka=Kn,b.j.info("VER="+b.ka));const Vi=tt[4];Vi!=null&&(b.za=Vi,b.j.info("SVER="+b.za));const hi=tt[5];hi!=null&&typeof hi=="number"&&hi>0&&(L=1.5*hi,b.O=L,b.j.info("backChannelRequestTimeoutMs_="+L)),L=b;const fi=c.g;if(fi){const kr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var W=L.h;W.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Mo(W,W.h),W.h=null))}if(L.G){const wa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(L.wa=wa,st(L.J,L.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),L=b;var de=c;if(L.na=Tu(L,L.L?L.ba:null,L.W),de.L){Oo(L.h,de);var Ne=de,Rt=L.O;Rt&&(Ne.H=Rt),Ne.D&&(Ci(Ne),Si(Ne)),L.g=de}else vu(L);b.i.length>0&&xi(b)}else tt[0]!="stop"&&tt[0]!="close"||Ii(b,7);else b.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ii(b,7):zo(b):tt[0]!="noop"&&b.l&&b.l.qa(tt),b.A=0)}}On(4)}catch{}}var Vt=class{constructor(c,v){this.g=c,this.map=v}};function Lo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function Li(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Mo(c,v){c.g?c.g.add(v):c.h=v}function Oo(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Lo.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return O(c.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const L=c[b].indexOf("=");let F,W=null;L>=0?(F=c[b].substring(0,L),W=c[b].substring(L+1)):F=c[b],v(F,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Vn?(this.l=c.l,Zt(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,xo(this,gu(c.i)),this.m=c.m):c&&(v=String(c).match(hu))?(this.l=!1,Zt(this,v[1]||"",!0),this.o=Ri(v[2]||""),this.g=Ri(v[3]||"",!0),Is(this,v[4]),this.h=Ri(v[5]||"",!0),xo(this,v[6]||"",!0),this.m=Ri(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Vn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Or(v,ya,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Or(v,ya,!0),"@"),c.push(is(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Or(b,b.charAt(0)=="/"?Io:fu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Or(b,du)),c.join("")},Vn.prototype.resolve=function(c){const v=Nt(this);let b=!!c.j;b?Zt(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var L=c.h;if(b)Is(v,c.u);else if(b=!!c.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var F=v.h.lastIndexOf("/");F!=-1&&(L=v.h.slice(0,F+1)+L)}if(F=L,F==".."||F==".")L="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){L=F.lastIndexOf("/",0)==0,F=F.split("/");const W=[];for(let de=0;de<F.length;){const Ne=F[de++];Ne=="."?L&&de==F.length&&W.push(""):Ne==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),L&&de==F.length&&W.push("")):(W.push(Ne),L=!0)}L=W.join("/")}else L=F}return b?v.h=L:b=c.i.toString()!=="",b?xo(v,gu(c.i)):b=!!c.m,b&&(v.m=c.m),v};function Nt(c){return new Vn(c)}function Zt(c,v,b){c.j=b?Ri(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function xo(c,v,b){v instanceof Ns?(c.i=v,Ea(c.i,c.l)):(b||(v=Or(v,Vs)),c.i=new Ns(v,c.l))}function st(c,v,b){c.i.set(v,b)}function Mr(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ri(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,bn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,fu=/[#\?:]/g,Io=/[#\?]/g,Vs=/[#\?@]/g,du=/#/g;function Ns(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Ns.prototype,i.add=function(c,v){Tn(this),this.i=null,c=Ps(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function pu(c,v){Tn(c),v=Ps(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Vo(c,v){return Tn(c),v=Ps(c,v),c.g.has(v)}i.forEach=function(c,v){Tn(this),this.g.forEach(function(b,L){b.forEach(function(F){c.call(v,F,L,this)},this)},this)};function No(c,v){Tn(c);let b=[];if(typeof v=="string")Vo(c,v)&&(b=b.concat(c.g.get(Ps(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}i.set=function(c,v){return Tn(this),this.i=null,c=Ps(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=No(this,c),c.length>0?String(c[0]):v):v};function _a(c,v,b){pu(c,v),b.length>0&&(c.i=null,c.g.set(Ps(c,v),O(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let L=0;L<v.length;L++){var b=v[L];const F=is(b);b=No(this,b);for(let W=0;W<b.length;W++){let de=F;b[W]!==""&&(de+="="+is(b[W])),c.push(de)}}return this.i=c.join("&")};function gu(c){const v=new Ns;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ps(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Ea(c,v){v&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(b,L){const F=L.toLowerCase();L!=F&&(pu(this,L),_a(this,F,b))},c)),c.j=v}function li(c,v){const b=new fn;if(h.Image){const L=new Image;L.onload=E(Gn,b,"TestLoadImage: loaded",!0,v,L),L.onerror=E(Gn,b,"TestLoadImage: error",!1,v,L),L.onabort=E(Gn,b,"TestLoadImage: abort",!1,v,L),L.ontimeout=E(Gn,b,"TestLoadImage: timeout",!1,v,L),h.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=c}else v(!1)}function Po(c,v){const b=new fn,L=new AbortController,F=setTimeout(()=>{L.abort(),Gn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:L.signal}).then(W=>{clearTimeout(F),W.ok?Gn(b,"TestPingServer: ok",!0,v):Gn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Gn(b,"TestPingServer: error",!1,v)})}function Gn(c,v,b,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(b)}catch{}}function ks(){this.g=new Ar}function Mi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Mi,$i),Mi.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(c,v){ft.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Dr,ft),i=Dr.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ui(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Us(this):ui(this),this.readyState==3&&ba(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Us(this))},i.Na=function(c){this.g&&(this.response=c,Us(this))},i.ga=function(){this.g&&Us(this)};function Us(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ui(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function ui(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qn(c){let v="";return _e(c,function(b,L){v+=L,v+=":",v+=b,v+=`\r
`}),v}function xr(c,v,b){e:{for(L in b){var L=!1;break e}L=!0}L||(b=Qn(b),typeof c=="string"?b!=null&&is(b):st(c,v,b))}function ot(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ot,ft);var Oi=/^https?$/i,ko=["POST","PUT"];i=ot.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,b,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(W){Ir(this,W);return}if(c=b||"",b=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)b.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const W of L.keys())b.set(W,L.get(W));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),F=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ko,v,void 0)>=0)||L||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of b)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(W){Ir(this,W)}};function Ir(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Uo(c),ss(c)}function Uo(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),ss(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),ot.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},i.Xa=function(){Vr(this)};function Vr(c){if(c.h&&typeof u<"u"){if(c.v&&ci(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),ci(c)==4){c.h=!1;try{const W=c.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var L;if(L=W===0){let de=String(c.D).match(hu)[1]||null;!de&&h.self&&h.self.location&&(de=h.self.location.protocol.slice(0,-1)),L=!Oi.test(de?de.toLowerCase():"")}b=L}if(b)St(c,"complete"),St(c,"success");else{c.o=6;try{var F=ci(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",Uo(c)}}finally{ss(c)}}}}function ss(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||St(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xs(v)}};function Wt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(c){const v={};c=(c.g&&ci(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<c.length;L++){if(D(c[L]))continue;var b=lu(c[L]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=v[F]||[];v[F]=W,W.push(b)}ye(v,function(L){return L.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function zs(c){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=zs.prototype,i.ka=8,i.I=1,i.connect=function(c,v,b,L){Et(0),this.W=c,this.H=v||{},b&&L!==void 0&&(this.H.OSID=b,this.H.OAID=L),this.F=this.X,this.J=Tu(this,null,this.W),xi(this)};function zo(c){if(Ta(c),c.I==3){var v=c.V++,b=Nt(c.J);if(st(b,"SID",c.M),st(b,"RID",v),st(b,"TYPE","terminate"),Nr(c,b),v=new ai(c,c.j,v),v.M=2,v.A=Mr(Nt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Su(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Si(v)}bu(c)}function Bs(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function Ta(c){Bs(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function xi(c){if(!Ro(c.h)&&!c.m){c.m=!0;var v=c.Ea;H||R(),G||(H(),G=!0),A.add(v,c),c.D=0}}function Sa(c,v){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Dn(m(c.Ea,c,v),Eu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new ai(this,this.j,c);let W=this.o;if(this.U&&(W?(W=N(W),se(W,this.U)):W=this.U),this.u!==null||this.R||(F.J=W,W=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var L=this.i[b];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(v+=L,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=mu(this,F,v),b=Nt(this.J),st(b,"RID",c),st(b,"CVER",22),this.G&&st(b,"X-HTTP-Session-Id",this.G),Nr(this,b),W&&(this.R?v="headers="+is(Qn(W))+"&"+v:this.u&&xr(b,this.u,W)),Mo(this.h,F),this.Ra&&st(b,"TYPE","init"),this.S?(st(b,"$req",v),st(b,"SID","null"),F.U=!0,Ti(F,b,null)):Ti(F,b,v),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Ro(this.h)||Bo(this))};function Bo(c,v){var b;v?b=v.l:b=c.V++;const L=Nt(c.J);st(L,"SID",c.M),st(L,"RID",b),st(L,"AID",c.K),Nr(c,L),c.u&&c.o&&xr(L,c.u,c.o),b=new ai(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=mu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,b),Ti(b,L,v)}function Nr(c,v){c.H&&_e(c.H,function(b,L){st(v,L,b)}),c.l&&_e({},function(b,L){st(v,L,b)})}function mu(c,v,b){b=Math.min(c.i.length,b);const L=c.l?m(c.l.Ka,c.l,c):null;e:{var F=c.i;let Ne=-1;for(;;){const Rt=["count="+b];Ne==-1?b>0?(Ne=F[0].g,Rt.push("ofs="+Ne)):Ne=0:Rt.push("ofs="+Ne);let tt=!0;for(let yt=0;yt<b;yt++){var W=F[yt].g;const Kn=F[yt].map;if(W-=Ne,W<0)Ne=Math.max(0,F[yt].g-100),tt=!1;else try{W="req"+W+"_"||"";try{var de=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Vi,hi]of de){let fi=hi;p(hi)&&(fi=ri(hi)),Rt.push(W+Vi+"="+encodeURIComponent(fi))}}catch(Vi){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),Vi}}catch{L&&L(Kn)}}if(tt){de=Rt.join("&");break e}}de=void 0}return c=c.i.splice(0,b),v.G=c,de}function vu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;H||R(),G||(H(),G=!0),A.add(v,c),c.A=0}}function Pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Dn(m(c.Da,c),Eu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Dn(m(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Bs(this),yu(this))};function jo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function yu(c){c.g=new ai(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Nt(c.na);st(v,"RID","rpc"),st(v,"SID",c.M),st(v,"AID",c.K),st(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(v,"TO",c.ia),st(v,"TYPE","xmlhttp"),Nr(c,v),c.u&&c.o&&xr(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Mr(Nt(v)),b.u=null,b.R=!0,ga(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Bs(this),Pr(this),Et(19))};function Ca(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function _u(c,v){var b=null;if(c.g==v){Ca(c),jo(c),c.g=null;var L=2}else if(Li(c.h,v))b=v.G,Oo(c.h,v),L=1;else return;if(c.I!=0){if(v.o)if(L==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var F=c.D;L=Ji(),St(L,new vn(L,b)),xi(c)}else vu(c);else if(F=v.m,F==3||F==0&&v.X>0||!(L==1&&Sa(c,v)||L==2&&Pr(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),F){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Eu(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Ii(c,v){if(c.j.info("Error code "+v),v==2){var b=m(c.bb,c),L=c.Ua;const F=!L;L=new Vn(L||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Zt(L,"https"),Mr(L),F?li(L.toString(),b):Po(L.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(v),bu(c),Ta(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const v=Do(c.h);(v.length!=0||c.i.length!=0)&&(M(c.ja,v),M(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Tu(c,v,b){var L=b instanceof Vn?Nt(b):new Vn(b);if(L.g!="")v&&(L.g=v+"."+L.g),Is(L,L.u);else{var F=h.location;L=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const W=new Vn(null);L&&Zt(W,L),v&&(W.g=v),F&&Is(W,F),b&&(W.h=b),L=W}return b=c.G,v=c.wa,b&&v&&st(L,b,v),st(L,"VER",c.ka),Nr(c,L),L}function Su(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ot(new Mi({ab:b})):new ot(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}i=Cu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function js(){}js.prototype.g=function(c,v){return new yn(c,v)};function yn(c,v){ft.call(this),this.g=new zs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!D(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new as(this)}T(yn,ft),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){zo(this.g)},yn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ri(c),c=b);v.i.push(new Vt(v.Ya++,c)),v.I==3&&xi(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,yn.Z.N.call(this)};function wu(c){xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}T(wu,xt);function Au(){Jt.call(this),this.status=1}T(Au,Jt);function as(c){this.g=c}T(as,Cu),as.prototype.ra=function(){St(this.g,"a")},as.prototype.qa=function(c){St(this.g,new wu(c))},as.prototype.pa=function(c){St(this.g,new Au)},as.prototype.oa=function(){St(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,U0=function(){return new js},k0=function(){return Ji()},P0=vt,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Fc=Me,wo.COMPLETE="complete",N0=wo,Lr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Dl=Lr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,V0=ot}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",NE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new S0("@firebase/firestore");function to(){return sa.logLevel}function pe(i,...e){if(sa.logLevel<=Xe.DEBUG){const n=e.map(Fp);sa.debug(`Firestore (${bo}): ${i}`,...n)}}function Ls(i,...e){if(sa.logLevel<=Xe.ERROR){const n=e.map(Fp);sa.error(`Firestore (${bo}): ${i}`,...n)}}function co(i,...e){if(sa.logLevel<=Xe.WARN){const n=e.map(Fp);sa.warn(`Firestore (${bo}): ${i}`,...n)}}function Fp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z0(i,r,n)}function z0(i,e,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function it(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||z0(e,o,r)}function Ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class XR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JR{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new B0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class WR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,L0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=nM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Qe(i,e){return i<e?-1:i>e?1:0}function pp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Zd(o)===Zd(u)?Qe(o,u):Zd(o)?1:-1}return Qe(i.length,e.length)}const iM=55296,sM=57343;function Zd(i){const e=i.charCodeAt(0);return e>=iM&&e<=sM}function ho(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__name__";class zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=zi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const r=zi.isNumericId(e),o=zi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?zi.extractNumericId(e).compare(zi.extractNumericId(n)):pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class gt extends zi{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends zi{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new an([kE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ce(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ce(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(u(),o++)}if(u(),h)throw new Ce(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(gt.fromString(e))}static fromName(e){return new Le(gt.fromString(e).popFirst(5))}static empty(){return new Le(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i,e,n){if(!n)throw new Ce(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aM(i,e,n,r){if(e===!0&&r===!0)throw new Ce(ue.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function UE(i){if(!Le.isDocumentKey(i))throw new Ce(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zE(i){if(Le.isDocumentKey(i))throw new Ce(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function H0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Qp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function uh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ce(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(i);throw new Ce(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(i,e){const n={typeString:i};return e&&(n.value=e),n}function iu(i,e){if(!H0(i))throw new Ce(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Ce(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-62135596800,jE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BE)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function oM(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Er(o,Le.empty(),e)}function lM(i){return new Er(i.readTime,i.key,Ql)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(xe.min(),Le.empty(),Ql)}static max(){return new Er(xe.max(),Le.empty(),Ql)}}function uM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==cM)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((E=>{h[m]=E,++p,p===u&&r(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function fM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function Ch(i){return i==null}function ch(i){return i===0&&1/i==-1/0}function dM(i){return typeof i=="number"&&Number.isInteger(i)&&!ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="";function pM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=HE(e)),e=gM(i.get(n),e);return HE(e)}function gM(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case q0:n+="";break;default:n+=u}}return n}function HE(i){return i+q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ua(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function F0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new rn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new mi([])}unionWith(e){let n=new Ft(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new G0("Invalid base64 string: "+u):u}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const mM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(i){if(it(!!i,39018),typeof i=="string"){let e=0;const n=mM.exec(i);if(it(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(i.seconds),nanos:Dt(i.nanos)}}function Dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Tr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="server_timestamp",K0="__type__",Y0="__previous_value__",Z0="__local_write_time__";function Yp(i){return(i?.mapValue?.fields||{})[K0]?.stringValue===Q0}function wh(i){const e=i.mapValue.fields[Y0];return Yp(e)?wh(e):e}function Kl(i){const e=br(i.mapValue.fields[Z0].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,o,u,h,p,g,m,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=E}}const hh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__type__",yM="__max__",Nc={mapValue:{}},X0="__vector__",fh="value";function Sr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yp(i)?4:EM(i)?9007199254740991:_M(i)?10:11:Oe(28295,{value:i})}function Qi(i,e){if(i===e)return!0;const n=Sr(i);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Kl(i).isEqual(Kl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=br(o.timestampValue),p=br(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Tr(o.bytesValue).isEqual(Tr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Dt(o.doubleValue),p=Dt(u.doubleValue);return h===p?ch(h)===ch(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(qE(h)!==qE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Qi(h[g],p[g])))return!1;return!0})(i,e);default:return Oe(52216,{left:i})}}function Zl(i,e){return(i.values||[]).find((n=>Qi(n,e)))!==void 0}function fo(i,e){if(i===e)return 0;const n=Sr(i),r=Sr(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Dt(u.integerValue||u.doubleValue),g=Dt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return GE(i.timestampValue,e.timestampValue);case 4:return GE(Kl(i),Kl(e));case 5:return pp(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=Tr(u),g=Tr(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let m=0;m<p.length&&m<g.length;m++){const E=Qe(p[m],g[m]);if(E!==0)return E}return Qe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Qe(Dt(u.latitude),Dt(h.latitude));return p!==0?p:Qe(Dt(u.longitude),Dt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return QE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},m=p[fh]?.arrayValue,E=g[fh]?.arrayValue,T=Qe(m?.values?.length||0,E?.values?.length||0);return T!==0?T:QE(m,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Nc.mapValue&&h===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(h===Nc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=h.fields||{},E=Object.keys(m);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=pp(g[T],E[T]);if(S!==0)return S;const O=fo(p[g[T]],m[E[T]]);if(O!==0)return O}return Qe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function GE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=br(i),r=br(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function QE(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=fo(n[o],r[o]);if(u)return u}return Qe(n.length,r.length)}function po(i){return gp(i)}function gp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=br(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Tr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Le.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=gp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${gp(n.fields[h])}`;return o+"}"})(i.mapValue):Oe(61005,{value:i})}function Gc(i){switch(Sr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(i);return e?16+Gc(e):16;case 5:return 2*i.stringValue.length;case 6:return Tr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Gc(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return ua(r.fields,((u,h)=>{o+=u.length+Gc(h)})),o})(i.mapValue);default:throw Oe(13486,{value:i})}}function mp(i){return!!i&&"integerValue"in i}function Zp(i){return!!i&&"arrayValue"in i}function KE(i){return!!i&&"nullValue"in i}function YE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qc(i){return!!i&&"mapValue"in i}function _M(i){return(i?.mapValue?.fields||{})[$0]?.stringValue===X0}function kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kl(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(i.arrayValue.values[n]);return e}return{...i}}function EM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=an.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=kl(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new ii(kl(this.value))}}function J0(i){const e=[];return ua(i.fields,((n,r)=>{const o=new an([n]);if(Qc(r)){const u=J0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,o,u,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),ii.empty(),0)}static newFoundDocument(e,n,r,o){return new mn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new mn(e,2,n,xe.min(),xe.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,xe.min(),xe.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function ZE(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=Le.comparator(Le.fromName(h.referenceValue),n.key):r=fo(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function bM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class qt extends W0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SM(e,n,r):n==="array-contains"?new AM(e,r):n==="in"?new LM(e,r):n==="not-in"?new RM(e,r):n==="array-contains-any"?new MM(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CM(e,r):new wM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends W0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ki(e,n)}matches(e){return eT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eT(i){return i.op==="and"}function tT(i){return TM(i)&&eT(i)}function TM(i){for(const e of i.filters)if(e instanceof Ki)return!1;return!0}function vp(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+po(i.value);if(tT(i))return i.filters.map((e=>vp(e))).join(",");{const e=i.filters.map((n=>vp(n))).join(",");return`${i.op}(${e})`}}function nT(i,e){return i instanceof qt?(function(r,o){return o instanceof qt&&r.op===o.op&&r.field.isEqual(o.field)&&Qi(r.value,o.value)})(i,e):i instanceof Ki?(function(r,o){return o instanceof Ki&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,p)=>u&&nT(h,o.filters[p])),!0):!1})(i,e):void Oe(19439)}function iT(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(i):i instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"})(i):"Filter"}class SM extends qt{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class CM extends qt{constructor(e,n){super(e,"in",n),this.keys=sT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wM extends qt{constructor(e,n){super(e,"not-in",n),this.keys=sT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sT(i,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class AM extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&Zl(n.arrayValue,this.value)}}class LM extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class RM extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class MM extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n=null,r=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function XE(i,e=null,n=[],r=[],o=null,u=null,h=null){return new OM(i,e,n,r,o,u,h)}function $p(i){const e=Ve(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function Xp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!bM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!nT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$E(i.startAt,e.startAt)&&$E(i.endAt,e.endAt)}function yp(i){return Le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n=null,r=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DM(i,e,n,r,o,u,h,p){return new Ah(i,e,n,r,o,u,h,p)}function rT(i){return new Ah(i)}function JE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xM(i){return i.collectionGroup!==null}function Ul(i){const e=Ve(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Ft(an.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,r))})),n.has(an.keyField().canonicalString())||e.Ie.push(new ph(an.keyField(),r))}return e.Ie}function ji(i){const e=Ve(i);return e.Ee||(e.Ee=IM(e,Ul(i))),e.Ee}function IM(i,e){if(i.limitType==="F")return XE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)}));const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return XE(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function _p(i,e,n){return new Ah(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Lh(i,e){return Xp(ji(i),ji(e))&&i.limitType===e.limitType}function aT(i){return`${$p(ji(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>iT(o))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(ji(i))}; limitType=${i.limitType})`}function Rh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Le.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Ul(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const m=ZE(h,p,g);return h.inclusive?m<=0:m<0})(r.startAt,Ul(r),o)||r.endAt&&!(function(h,p,g){const m=ZE(h,p,g);return h.inclusive?m>=0:m>0})(r.endAt,Ul(r),o))})(i,e)}function VM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function oT(i){return(e,n)=>{let r=!1;for(const o of Ul(i)){const u=NM(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function NM(i,e,n){const r=i.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),m=p.data.field(u);return g!==null&&m!==null?fo(g,m):Oe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return F0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Tt(Le.comparator);function Rs(){return PM}const lT=new Tt(Le.comparator);function xl(...i){let e=lT;for(const n of i)e=e.insert(n.key,n);return e}function uT(i){let e=lT;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return zl()}function cT(){return zl()}function zl(){return new ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const kM=new Tt(Le.comparator),UM=new Ft(Le.comparator);function Ke(...i){let e=UM;for(const n of i)e=e.add(n);return e}const zM=new Ft(Qe);function BM(){return zM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function hT(i){return{integerValue:""+i}}function jM(i,e){return dM(e)?hT(e):Jp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function HM(i,e,n){return i instanceof $l?(function(o,u){const h={fields:{[K0]:{stringValue:Q0},[Z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=wh(u)),u&&(h.fields[Y0]=u),{mapValue:h}})(n,e):i instanceof Xl?dT(i,e):i instanceof Jl?pT(i,e):(function(o,u){const h=fT(o,u),p=WE(h)+WE(o.Ae);return mp(h)&&mp(o.Ae)?hT(p):Jp(o.serializer,p)})(i,e)}function qM(i,e,n){return i instanceof Xl?dT(i,e):i instanceof Jl?pT(i,e):n}function fT(i,e){return i instanceof gh?(function(r){return mp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class $l extends Mh{}class Xl extends Mh{constructor(e){super(),this.elements=e}}function dT(i,e){const n=gT(e);for(const r of i.elements)n.some((o=>Qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Mh{constructor(e){super(),this.elements=e}}function pT(i,e){let n=gT(e);for(const r of i.elements)n=n.filter((o=>!Qi(o,r)));return{arrayValue:{values:n}}}class gh extends Mh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WE(i){return Dt(i.integerValue||i.doubleValue)}function gT(i){return Zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.field=e,this.transform=n}}function GM(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Xl&&o instanceof Xl||r instanceof Jl&&o instanceof Jl?ho(r.elements,o.elements,Qi):r instanceof gh&&o instanceof gh?Qi(r.Ae,o.Ae):r instanceof $l&&o instanceof $l})(i.transform,e.transform)}class QM{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Oh{}function mT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yT(i.key,Ss.none()):new su(i.key,i.data,Ss.none());{const n=i.data,r=ii.empty();let o=new Ft(an.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new ha(i.key,r,new mi(o.toArray()),Ss.none())}}function KM(i,e,n){i instanceof su?(function(o,u,h){const p=o.value.clone(),g=tb(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof ha?(function(o,u,h){if(!Kc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=tb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(vT(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Bl(i,e,n,r){return i instanceof su?(function(u,h,p,g){if(!Kc(u.precondition,h))return p;const m=u.value.clone(),E=nb(u.fieldTransforms,g,h);return m.setAll(E),h.convertToFoundDocument(h.version,m).setHasLocalMutations(),null})(i,e,n,r):i instanceof ha?(function(u,h,p,g){if(!Kc(u.precondition,h))return p;const m=nb(u.fieldTransforms,g,h),E=h.data;return E.setAll(vT(u)),E.setAll(m),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,r):(function(u,h,p){return Kc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function YM(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=fT(r.transform,o||null);u!=null&&(n===null&&(n=ii.empty()),n.set(r.field,u))}return n||null}function eb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ho(r,o,((u,h)=>GM(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class su extends Oh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Oh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function tb(i,e,n){const r=new Map;it(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);r.set(u.field,qM(h,p,n[o]))}return r}function nb(i,e,n){const r=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);r.set(o.field,HM(u,h,e))}return r}class yT extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZM extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&KM(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=mT(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,r)=>eb(n,r)))&&ho(this.baseMutations,e.baseMutations,((n,r)=>eb(n,r)))}}class Wp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return kM})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Wp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,$e;function WM(i){switch(i){case ue.OK:return Oe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function _T(i){if(i===void 0)return Ls("GRPC error has no .code"),ue.UNKNOWN;switch(i){case Bt.OK:return ue.OK;case Bt.CANCELLED:return ue.CANCELLED;case Bt.UNKNOWN:return ue.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ue.INTERNAL;case Bt.UNAVAILABLE:return ue.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ue.NOT_FOUND;case Bt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Bt.ABORTED:return ue.ABORTED;case Bt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Bt.DATA_LOSS:return ue.DATA_LOSS;default:return Oe(39323,{code:i})}}($e=Bt||(Bt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new vr([4294967295,4294967295],0);function ib(i){const e=e2().encode(i),n=new I0;return n.update(e),new Uint8Array(n.digest())}function sb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vr([n,r],0),new vr([o,u],0)]}class eg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(vr.fromNumber(r)));return o.compare(t2)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ib(e),[r,o]=sb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new eg(u,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=ib(e),[r,o]=sb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dh(xe.min(),o,new Tt(Qe),Rs(),Ke())}}class ru{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ru(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class ET{constructor(e,n){this.targetId=e,this.Ce=n}}class bT{constructor(e,n,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=ab(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Oe(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ab()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class n2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Pc(),this.He=Pc(),this.Ye=new Tt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(yp(u))if(r===0){const h=new Le(u.path);this.et(n,h,mn.newNoDocument(h,xe.min()))}else it(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Tr(r).toUint8Array()}catch(g){if(g instanceof G0)return co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new eg(h,o,u)}catch(g){return co(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&yp(p.target)){const g=new Le(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,mn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Ke();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Dh(e,n,this.Ye,this.je,r);return this.je=Rs(),this.Je=Pc(),this.He=Pc(),this.Ye=new Tt(Qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new Tt(Le.comparator)}function ab(){return new Tt(Le.comparator)}const i2={asc:"ASCENDING",desc:"DESCENDING"},s2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r2={and:"AND",or:"OR"};class a2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(i,e){return i.useProto3Json||Ch(e)?e:{value:e}}function mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function o2(i,e){return mh(i,e.toTimestamp())}function Hi(i){return it(!!i,49232),xe.fromTimestamp((function(n){const r=br(n);return new mt(r.seconds,r.nanos)})(i))}function tg(i,e){return bp(i,e).canonicalString()}function bp(i,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ST(i){const e=gt.fromString(i);return it(RT(e),10190,{key:e.toString()}),e}function Tp(i,e){return tg(i.databaseId,e.path)}function $d(i,e){const n=ST(e);if(n.get(1)!==i.databaseId.projectId)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Le(wT(n))}function CT(i,e){return tg(i.databaseId,e)}function l2(i){const e=ST(i);return e.length===4?gt.emptyPath():wT(e)}function Sp(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wT(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ob(i,e,n){return{name:Tp(i,e),fields:n.value.mapValue.fields}}function u2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,E){return m.useProto3Json?(it(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(it(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(m){const E=m.code===void 0?ue.UNKNOWN:_T(m.code);return new Ce(E,m.message||"")})(h);n=new bT(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=$d(i,r.document.name),u=Hi(r.document.updateTime),h=r.document.createTime?Hi(r.document.createTime):xe.min(),p=new ii({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,u,h,p),m=r.targetIds||[],E=r.removedTargetIds||[];n=new Yc(m,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=$d(i,r.document),u=r.readTime?Hi(r.readTime):xe.min(),h=mn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Yc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=$d(i,r.document),u=r.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new JM(o,u),p=r.targetId;n=new ET(p,h)}}return n}function c2(i,e){let n;if(e instanceof su)n={update:ob(i,e.key,e.value)};else if(e instanceof yT)n={delete:Tp(i,e.key)};else if(e instanceof ha)n={update:ob(i,e.key,e.data),updateMask:_2(e.fieldMask)};else{if(!(e instanceof ZM))return Oe(16599,{Vt:e.type});n={verify:Tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const p=h.transform;if(p instanceof $l)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Oe(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:o2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)})(i,e.precondition)),n}function h2(i,e){return i&&i.length>0?(it(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Hi(o.updateTime):Hi(u);return h.isEqual(xe.min())&&(h=Hi(u)),new QM(h,o.transformResults||[])})(n,e)))):[]}function f2(i,e){return{documents:[CT(i,e.path)]}}function d2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CT(i,o);const u=(function(m){if(m.length!==0)return LT(Ki.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((E=>(function(S){return{field:io(S.field),direction:m2(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Ep(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function p2(i){let e=l2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){it(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=AT(T);return S instanceof Ki&&tT(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(M){return new ph(so(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,Ch(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,O=T.values||[];return new dh(O,S)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const S=!T.before,O=T.values||[];return new dh(O,S)})(n.endAt)),DM(e,o,h,u,p,"F",g,m)}function g2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(n.unaryFilter.field);return qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((r=>AT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(i):Oe(30097,{filter:i})}function m2(i){return i2[i]}function v2(i){return s2[i]}function y2(i){return r2[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return an.fromServerFormat(i.fieldPath)}function LT(i){return i instanceof qt?(function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:v2(n.op),value:n.value}}})(i):i instanceof Ki?(function(n){const r=n.getFilters().map((o=>LT(o)));return r.length===1?r[0]:{compositeFilter:{op:y2(n.op),filters:r}}})(i):Oe(54877,{filter:i})}function _2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,o,u=xe.min(),h=xe.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.yt=e}}function b2(i){const e=p2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Cn=new S2}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Er.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class S2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ft(gt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(MT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="LruGarbageCollector",C2=1048576;function cb([i,e],[n,r]){const o=Qe(i,n);return o===0?Qe(e,r):o}class w2{constructor(e){this.Ir=e,this.buffer=new Ft(cb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(ub,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?pe(ub,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class L2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Sh.ce);const r=new w2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(lb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,p,g,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(m=Date.now(),to()<=Xe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(m-g)+`ms
Total Duration: ${m-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function R2(i,e){return new L2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Bl(r.mutation,o,mi.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=xl();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let u=Rs();const h=zl(),p=(function(){return zl()})();return n.forEach(((g,m)=>{const E=r.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof ha)?u=u.insert(m.key,m):E!==void 0?(h.set(m.key,E.mutation.getFieldMask()),Bl(E.mutation,m,E.mutation.getFieldMask(),mt.now())):h.set(m.key,mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,E)=>h.set(m,E))),n.forEach(((m,E)=>p.set(m,new O2(E,h.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=zl();let o=new Tt(((h,p)=>h-p)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let E=r.get(g)||mi.empty();E=p.applyToLocalView(m,E),r.set(g,E);const T=(o.get(p.batchId)||Ke()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,E=g.value,T=cT();E.forEach((S=>{if(!u.has(S)){const O=mT(n.get(S),r.get(S));O!==null&&T.set(S,O),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,m,T))}return oe.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Le.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):oe.resolve(na());let p=Ql,g=u;return h.next((m=>oe.forEach(m,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Ke()))).next((E=>({batchId:p,changes:uT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let o=xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=xl();return this.indexManager.getCollectionParents(e,u).next((p=>oe.forEach(p,(g=>{const m=(function(T,S){return new Ah(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,m)=>{const E=m.getKey();h.get(E)===null&&(h=h.insert(E,mn.newInvalidDocument(E)))}));let p=xl();return h.forEach(((g,m)=>{const E=u.get(g);E!==void 0&&Bl(E.mutation,m,mi.empty(),mt.now()),Rh(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new Tt(Le.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=na(),u=n.length+1,h=new Le(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Tt(((m,E)=>m-E));const h=this.overlays.getIterator();for(;h.hasNext();){const m=h.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let E=u.get(m.largestBatchId);E===null&&(E=na(),u=u.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,E)=>p.set(m,E))),!(p.size()>=o)););return oe.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new XM(n,r));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Le(new gt([])),r=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new gt([])),r=new Xt(n,e),o=new Xt(n,e+1);let u=Ke();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $M(u,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Xt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Kp:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Qe);return n.forEach((o=>{const u=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{r=r.add(p.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Le.isDocumentKey(u)||(u=u.child(""));const h=new Xt(new Le(u),0);let p=new Ft(Qe);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),h),oe.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),o=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Rs();const h=n.path,p=new Le(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:E}}=g.getNext();if(!h.isPrefixOf(m.path))break;m.path.length>h.length+1||uM(lM(E),r)<=0||(o.has(E.key)||Rh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Oe(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new k2(this)}getSize(e){return oe.resolve(this.size)}}class k2 extends M2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.persistence=e,this.si=new ca((n=>$p(n)),Xp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new V2,this.referenceDelegate=e(this),this.Pi=new U2(this),this.indexManager=new T2,this.remoteDocumentCache=(function(o){return new P2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new E2(n),this.Ii=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new N2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const o=new z2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class z2 extends hM{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Vi=null}static mi(e){return new ig(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const o=Le.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new ca((r=>pM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=R2(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,u.removeEntry(h,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ke(),o=Ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PL()?8:fM(VL())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new B2;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(to()<=Xe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(to()<=Xe.DEBUG&&pe("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(to()<=Xe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):oe.resolve())}ys(e,n){if(JE(n))return oe.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_p(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ke(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,h,g.readTime)?this.ys(e,_p(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,r,o){return JE(n)||o.isEqual(xe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?oe.resolve(null):(to()<=Xe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,h,n,oM(o,Ql)).next((p=>p)))}))}Ds(e,n){let r=new Ft(oT(e));return n.forEach(((o,u)=>{Rh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return to()<=Xe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",H2=3e8;class q2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Tt(Qe),this.xs=new ca((u=>$p(u)),Xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function F2(i,e,n,r){return new q2(i,e,n,r)}async function DT(i,e){const n=Ve(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],p=[];let g=Ke();for(const m of o){h.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}for(const m of u){p.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((m=>({Ls:m,removedBatchIds:h,addedBatchIds:p})))}))}))}function G2(i,e){const n=Ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,E){const T=m.batch,S=T.keys();let O=oe.resolve();return S.forEach((M=>{O=O.next((()=>E.getEntry(g,M))).next((U=>{const V=m.docVersions.get(M);it(V!==null,48541),U.version.compareTo(V)<0&&(T.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),E.addEntry(U)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ke();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function xT(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Q2(i,e){const n=Ve(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,r)),o=o.insert(T,O),(function(U,V,q){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=H2?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(S,O,E)&&p.push(n.Pi.updateTargetData(u,O))}));let g=Rs(),m=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(K2(u,h,e.documentUpdates).next((E=>{g=E.ks,m=E.qs}))),!r.isEqual(xe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return oe.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function K2(i,e,n){let r=Ke(),o=Ke();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let h=Rs();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):pe(rg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function Y2(i,e){const n=Ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Z2(i,e){const n=Ve(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,oe.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new dr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cp(i,e,n){const r=Ve(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!So(h))throw h;pe(rg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function hb(i,e,n){const r=Ve(i);let o=xe.min(),u=Ke();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,m,E){const T=Ve(g),S=T.xs.get(E);return S!==void 0?oe.resolve(T.Ms.get(S)):T.Pi.getTargetData(m,E)})(r,h,ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?u:Ke()))).next((p=>($2(r,VM(e),p),{documents:p,Qs:u})))))}function $2(i,e,n){let r=i.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class fb{constructor(){this.activeTargetIds=BM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X2{constructor(){this.Mo=new fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function wp(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",W2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=wp(),p=this.zo(e,n.toUriEncodedString());pe(Xd,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),E=nu(m);return this.Jo(e,p,g,r,E).then((T=>(pe(Xd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw co(Xd,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=W2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=wp();return new Promise(((p,g)=>{const m=new V0;m.setWithCredentials(!0),m.listenOnce(N0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Fc.NO_ERROR:const T=m.getResponseJson();pe(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Fc.TIMEOUT:pe(pn,`RPC '${e}' ${h} timed out`),g(new Ce(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const S=m.getStatus();if(pe(pn,`RPC '${e}' ${h} failed with status:`,S,"response text:",m.getResponseText()),S>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O?.error;if(M&&M.status&&M.message){const U=(function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(B)>=0?B:ue.UNKNOWN})(M.status);g(new Ce(U,M.message))}else g(new Ce(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new Ce(ue.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:h,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(pn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);pe(pn,`RPC '${e}' ${h} sending request:`,o),m.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=wp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=U0(),p=k0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");pe(pn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);this.I_(T);let S=!1,O=!1;const M=new tO({Yo:V=>{O?pe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(pe(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),pe(pn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),U=(V,q,B)=>{V.listen(q,(te=>{try{B(te)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return U(T,Dl.EventType.OPEN,(()=>{O||(pe(pn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),U(T,Dl.EventType.CLOSE,(()=>{O||(O=!0,pe(pn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(T))})),U(T,Dl.EventType.ERROR,(V=>{O||(O=!0,co(pn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new Ce(ue.UNAVAILABLE,"The operation could not be completed")))})),U(T,Dl.EventType.MESSAGE,(V=>{if(!O){const q=V.data[0];it(!!q,16349);const B=q,te=B?.error||B[0]?.error;if(te){pe(pn,`RPC '${e}' stream ${o} received error:`,te);const Z=te.status;let H=(function(R){const w=Bt[R];if(w!==void 0)return _T(w)})(Z),G=te.message;H===void 0&&(H=ue.INTERNAL,G="Unknown error status: "+Z+" with message "+te.message),O=!0,M.a_(new Ce(H,G)),T.close()}else pe(pn,`RPC '${e}' stream ${o} received:`,q),M.u_(q)}})),U(p,P0.STAT_EVENT,(V=>{V.stat===dp.PROXY?pe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===dp.NOPROXY&&pe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(i){return new a2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="PersistentStream";class VT{constructor(e,n,r,o,u,h,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new Ce(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iO extends VT{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=u2(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Hi(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=yp(g)?{documents:f2(u,g)}:{query:d2(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=TT(u,h.resumeToken);const m=Ep(u,h.expectedCount);m!==null&&(p.expectedCount=m)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=mh(u,h.snapshotVersion.toTimestamp());const m=Ep(u,h.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=g2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.q_(n)}}class sO extends VT{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h2(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>c2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class aO extends rO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,bp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ue.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,bp(n,r),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ce(ue.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class lO{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{fa(this)&&(pe(ra,"Restarting streams for network reachability change."),await(async function(g){const m=Ve(g);m.Ea.add(4),await au(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ih(m)})(this))}))})),this.Ra=new oO(r,o)}}async function Ih(i){if(fa(i))for(const e of i.da)await e(!0)}async function au(i){for(const e of i.da)await e(!1)}function NT(i,e){const n=Ve(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?lg(n):Co(n).O_()&&og(n,e))}function ag(i,e){const n=Ve(i),r=Co(n);n.Ia.delete(e),r.O_()&&PT(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function og(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(i).Y_(e)}function PT(i,e){i.Va.Ue(e),Co(i).Z_(e)}function lg(i){i.Va=new n2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Co(i).start(),i.Ra.ua()}function ug(i){return fa(i)&&!Co(i).x_()&&i.Ia.size>0}function fa(i){return Ve(i).Ea.size===0}function kT(i){i.Va=void 0}async function uO(i){i.Ra.set("Online")}async function cO(i){i.Ia.forEach(((e,n)=>{og(i,e)}))}async function hO(i,e){kT(i),ug(i)?(i.Ra.ha(e),lg(i)):i.Ra.set("Unknown")}async function fO(i,e,n){if(i.Ra.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){pe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(i,r)}else if(e instanceof Yc?i.Va.Ze(e):e instanceof ET?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const r=await xT(i.localStore);n.compareTo(r)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(m);E&&u.Ia.set(m,E.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,m)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),PT(u,g);const T=new dr(E.target,g,m,E.sequenceNumber);og(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){pe(ra,"Failed to raise snapshot:",r),await yh(i,r)}}async function yh(i,e,n){if(!So(e))throw e;i.Ea.add(1),await au(i),i.Ra.set("Offline"),n||(n=()=>xT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(ra,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Ih(i)}))}function UT(i,e){return e().catch((n=>yh(i,n,e)))}async function Vh(i){const e=Ve(i),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;dO(e);)try{const o=await Y2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,pO(e,o)}catch(o){await yh(e,o)}zT(e)&&BT(e)}function dO(i){return fa(i)&&i.Ta.length<10}function pO(i,e){i.Ta.push(e);const n=Cr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function zT(i){return fa(i)&&!Cr(i).x_()&&i.Ta.length>0}function BT(i){Cr(i).start()}async function gO(i){Cr(i).ra()}async function mO(i){const e=Cr(i);for(const n of i.Ta)e.ea(n.mutations)}async function vO(i,e,n){const r=i.Ta.shift(),o=Wp.from(r,e,n);await UT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Vh(i)}async function yO(i,e){e&&Cr(i).X_&&await(async function(r,o){if((function(h){return WM(h)&&h!==ue.ABORTED})(o.code)){const u=r.Ta.shift();Cr(r).B_(),await UT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Vh(r)}})(i,e),zT(i)&&BT(i)}async function mb(i,e){const n=Ve(i);n.asyncQueue.verifyOperationInProgress(),pe(ra,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ih(n)}async function _O(i,e){const n=Ve(i);e?(n.Ea.delete(2),await Ih(n)):e||(n.Ea.add(2),await au(n),n.Ra.set("Unknown"))}function Co(i){return i.ma||(i.ma=(function(n,r,o){const u=Ve(n);return u.sa(),new iO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:uO.bind(null,i),t_:cO.bind(null,i),r_:hO.bind(null,i),H_:fO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ug(i)?lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),kT(i))}))),i.ma}function Cr(i){return i.fa||(i.fa=(function(n,r,o){const u=Ve(n);return u.sa(),new sO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:gO.bind(null,i),r_:yO.bind(null,i),ta:mO.bind(null,i),na:vO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Vh(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(ra,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,p=new cg(e,n,h,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(i,e){if(Ls("AsyncQueue",`${e}: ${i}`),So(i))return new Ce(ue.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=xl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.ga=new Tt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mo{constructor(e,n,r,o,u,h,p,g,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new mo(e,n,ao.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bO{constructor(){this.queries=yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),u=o.queries;o.queries=yb(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new Ce(ue.ABORTED,"Firestore shutting down"))}}function yb(){return new ca((i=>aT(i)),Lh)}async function TO(i,e){const n=Ve(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new EO,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=hg(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&fg(n)}async function SO(i,e){const n=Ve(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CO(i,e){const n=Ve(i);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(r=!0);h.wa=o}}r&&fg(n)}function wO(i,e,n){const r=Ve(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function fg(i){i.Ca.forEach((e=>{e.next()}))}var Ap,_b;(_b=Ap||(Ap={})).Ma="default",_b.Cache="cache";class AO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.key=e}}class HT{constructor(e){this.key=e}}class LO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=oT(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),O=Rh(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),U=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;S&&O?S.data.isEqual(O.data)?M!==U&&(r.track({type:3,doc:O}),V=!0):this.su(S,O)||(r.track({type:2,doc:O}),V=!0,(g&&this.eu(O,g)>0||m&&this.eu(O,m)<0)&&(p=!0)):!S&&O?(r.track({type:0,doc:O}),V=!0):S&&!O&&(r.track({type:1,doc:S}),V=!0,(g||m)&&(p=!0)),V&&(O?(h=h.add(O),u=U?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(O,M){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:V})}};return U(O)-U(M)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,h.length!==0||m?{snapshot:new mo(this.query,e.tu,u,h,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new HT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new jT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class RO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MO{constructor(e){this.key=e,this.hu=!1}}class OO{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((p=>aT(p)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Le.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(i,e,n=!0){const r=YT(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qT(r,e,n,!0),o}async function xO(i,e){const n=YT(i);await qT(n,e,!0,!1)}async function qT(i,e,n,r){const o=await Z2(i.localStore,ji(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await IO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&NT(i.remoteStore,o),p}async function IO(i,e,n,r,o){i.pu=(T,S,O)=>(async function(U,V,q,B){let te=V.view.ru(q);te.Cs&&(te=await hb(U.localStore,V.query,!1).then((({documents:A})=>V.view.ru(A,te))));const Z=B&&B.targetChanges.get(V.targetId),H=B&&B.targetMismatches.get(V.targetId)!=null,G=V.view.applyChanges(te,U.isPrimaryClient,Z,H);return bb(U,V.targetId,G.au),G.snapshot})(i,T,S,O);const u=await hb(i.localStore,e,!0),h=new LO(e,u.Qs),p=h.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),m=h.applyChanges(p,i.isPrimaryClient,g);bb(i,n,m.au);const E=new RO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),m.snapshot}async function VO(i,e,n){const r=Ve(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!Lh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ag(r.remoteStore,o.targetId),Lp(r,o.targetId)})).catch(To)):(Lp(r,o.targetId),await Cp(r.localStore,o.targetId,!0))}async function NO(i,e){const n=Ve(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ag(n.remoteStore,r.targetId))}async function PO(i,e,n){const r=qO(i);try{const o=await(function(h,p){const g=Ve(h),m=mt.now(),E=p.reduce(((O,M)=>O.add(M.key)),Ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let M=Rs(),U=Ke();return g.Ns.getEntries(O,E).next((V=>{M=V,M.forEach(((q,B)=>{B.isValidDocument()||(U=U.add(q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,M))).next((V=>{T=V;const q=[];for(const B of p){const te=YM(B,T.get(B.key).overlayedDocument);te!=null&&q.push(new ha(B.key,te,J0(te.value.mapValue),Ss.exists(!0)))}return g.mutationQueue.addMutationBatch(O,m,q,p)})).next((V=>{S=V;const q=V.applyToLocalDocumentSet(T,U);return g.documentOverlayCache.saveOverlays(O,V.batchId,q)}))})).then((()=>({batchId:S.batchId,changes:uT(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let m=h.Vu[h.currentUser.toKey()];m||(m=new Tt(Qe)),m=m.insert(p,g),h.Vu[h.currentUser.toKey()]=m})(r,o.batchId,n),await ou(r,o.changes),await Vh(r.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function FT(i,e){const n=Ve(i);try{const r=await Q2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?it(h.hu,14607):o.removedDocuments.size>0&&(it(h.hu,42227),h.hu=!1))})),await ou(n,r,e)}catch(r){await To(r)}}function Eb(i,e,n){const r=Ve(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ve(h);g.onlineState=p;let m=!1;g.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(p)&&(m=!0)})),m&&fg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(i,e,n){const r=Ve(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new Tt(Le.comparator);h=h.insert(u,mn.newNoDocument(u,xe.min()));const p=Ke().add(u),g=new Dh(xe.min(),new Map,new Tt(Qe),h,p);await FT(r,g),r.du=r.du.remove(u),r.Au.delete(e),pg(r)}else await Cp(r.localStore,e,!1).then((()=>Lp(r,e,n))).catch(To)}async function UO(i,e){const n=Ve(i),r=e.batch.batchId;try{const o=await G2(n.localStore,e);QT(n,r,null),GT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,o)}catch(o){await To(o)}}async function zO(i,e,n){const r=Ve(i);try{const o=await(function(h,p){const g=Ve(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let E;return g.mutationQueue.lookupMutationBatch(m,p).next((T=>(it(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(m,T)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E))).next((()=>g.localDocuments.getDocuments(m,E)))}))})(r.localStore,e);QT(r,e,n),GT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,o)}catch(o){await To(o)}}function GT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function QT(i,e,n){const r=Ve(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||KT(i,r)}))}function KT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ag(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),pg(i))}function bb(i,e,n){for(const r of n)r instanceof jT?(i.Ru.addReference(r.key,e),BO(i,r)):r instanceof HT?(pe(dg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||KT(i,r.key)):Oe(19791,{wu:r})}function BO(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(pe(dg,"New document in limbo: "+n),i.Eu.add(r),pg(i))}function pg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Le(gt.fromString(e)),r=i.fu.next();i.Au.set(r,new MO(n)),i.du=i.du.insert(n,r),NT(i.remoteStore,new dr(ji(rT(n.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function ou(i,e,n){const r=Ve(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const E=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(m){o.push(m);const E=sg.As(g.targetId,m);u.push(E)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,m){const E=Ve(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>oe.forEach(m,(S=>oe.forEach(S.Es,(O=>E.persistence.referenceDelegate.addReference(T,S.targetId,O))).next((()=>oe.forEach(S.ds,(O=>E.persistence.referenceDelegate.removeReference(T,S.targetId,O)))))))))}catch(T){if(!So(T))throw T;pe(rg,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const O=E.Ms.get(S),M=O.snapshotVersion,U=O.withLastLimboFreeSnapshotVersion(M);E.Ms=E.Ms.insert(S,U)}}})(r.localStore,u))}async function jO(i,e){const n=Ve(i);if(!n.currentUser.isEqual(e)){pe(dg,"User change. New user:",e.toKey());const r=await DT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ce(ue.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.Ls)}}function HO(i,e){const n=Ve(i),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function YT(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Pu.H_=CO.bind(null,e.eventManager),e.Pu.yu=wO.bind(null,e.eventManager),e}function qO(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return F2(this.persistence,new j2,e.initialUser,this.serializer)}Cu(e){return new OT(ig.mi,this.serializer)}Du(e){return new X2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class FO extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new OT((r=>vh.mi(r,n)),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jO.bind(null,this.syncEngine),await _O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bO})()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=(function(u){return new nO(u)})(e.databaseInfo);return(function(u,h,p,g){return new aO(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,p){return new lO(r,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Eb(this.syncEngine,n,0)),(function(){return pb.v()?new pb:new J2})())}createSyncEngine(e,n){return(function(o,u,h,p,g,m,E){const T=new OO(o,u,h,p,g,m);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);pe(ra,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class QO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{pe(wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(pe(wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wd(i,e){i.asyncQueue.verifyOperationInProgress(),pe(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await DT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Tb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await KO(i);pe(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>mb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>mb(e.remoteStore,o))),i._onlineComponents=e}async function KO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(wr,"Using user provided OfflineComponentProvider");try{await Wd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Wd(i,new _h)}}else pe(wr,"Using default OfflineComponentProvider"),await Wd(i,new FO(void 0));return i._offlineComponents}async function ZT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(wr,"Using user provided OnlineComponentProvider"),await Tb(i,i._uninitializedComponentsProvider._online)):(pe(wr,"Using default OnlineComponentProvider"),await Tb(i,new Rp))),i._onlineComponents}function YO(i){return ZT(i).then((e=>e.syncEngine))}async function ZO(i){const e=await ZT(i),n=e.eventManager;return n.onListen=DO.bind(null,e.syncEngine),n.onUnlisten=VO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NO.bind(null,e.syncEngine),n}function $O(i,e,n={}){const r=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,m){const E=new GO({next:S=>{E.Nu(),h.enqueueAndForget((()=>SO(u,T))),S.fromCache&&g.source==="server"?m.reject(new Ce(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new AO(p,E,{includeMetadataChanges:!0,qa:!0});return TO(u,T)})(await ZO(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firestore.googleapis.com",Cb=!0;class wb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C2)throw new Ce(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $R;switch(r.type){case"firstParty":return new eM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Sb.get(n);r&&(pe("ComponentProvider","Removing Datastore"),Sb.delete(n),r.terminate())})(this),Promise.resolve()}}function XO(i,e,n,r={}){i=uh(i,Nh);const o=nu(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(_0(`https://${p}`),b0("Firestore",!0)),u.host!==XT&&u.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!oh(g,h)&&(i._setSettings(g),r.mockUserToken)){let m,E;if(typeof r.mockUserToken=="string")m=r.mockUserToken,E=gn.MOCK_USER;else{m=E0(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ce(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(T)}i._authCredentials=new XR(new B0(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(iu(n,on._jsonSchema))return new on(e,r||null,new Le(gt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:jt("string",on._jsonSchemaVersion),referencePath:jt("string")};class _r extends Ph{constructor(e,n,r){super(e,n,rT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Le(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function JT(i,e,...n){if(i=ws(i),j0("collection","path",e),i instanceof Nh){const r=gt.fromString(e,...n);return zE(r),new _r(i,null,r)}{if(!(i instanceof on||i instanceof _r))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return zE(r),new _r(i.firestore,null,r)}}function JO(i,e,...n){if(i=ws(i),arguments.length===1&&(e=Gp.newId()),j0("doc","path",e),i instanceof Nh){const r=gt.fromString(e,...n);return UE(r),new on(i,null,new Le(r))}{if(!(i instanceof on||i instanceof _r))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return UE(r),new on(i.firestore,i instanceof _r?i.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="AsyncQueue";class Lb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const r=Jd();r&&pe(Ab,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;pe(Ab,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",Rb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:Rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class gg extends Nh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Lb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lb(e),this._firestoreClient=void 0,await e}}}function WO(i,e){const n=typeof i=="object"?i:O0(),r=typeof i=="string"?i:hh,o=A0(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=v0("firestore");u&&XO(o,...u)}return o}function WT(i){if(i._terminated)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eD(i),i._firestoreClient}function eD(i){const e=i._freezeSettings(),n=(function(o,u,h,p){return new vM(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$T(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new QO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(ln.fromBase64String(e))}catch(n){throw new Ce(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:jt("string",si._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:jt("string",qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new Ce(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:jt("string",Fi._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^__.*__$/;class nD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function eS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:i})}}class yg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eS(this.Ac)&&tD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Cc(e,n,r,o=!1){return new yg({Ac:e,methodName:n,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sD(i){const e=i._freezeSettings(),n=xh(i._databaseId);return new iD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rD(i,e,n,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);sS("Data must be an object, but it was:",h,r);const p=nS(r,h);let g,m;if(u.merge)g=new mi(h.fieldMask),m=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=aD(e,T,n);if(!h.contains(S))throw new Ce(ue.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lD(E,S)||E.push(S)}g=new mi(E),m=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,m=h.fieldTransforms;return new nD(new ii(p),g,m)}class _g extends vg{_toFieldTransform(e){return new FM(e.path,new $l)}isEqual(e){return e instanceof _g}}function tS(i,e){if(iS(i=ws(i)))return sS("Unsupported field value:",e,i),nS(i,e);if(i instanceof vg)return(function(r,o){if(!eS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const p of r){let g=tS(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:mh(o.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:TT(o.serializer,r._byteString)};if(r instanceof on){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(h,p){return{mapValue:{fields:{[$0]:{stringValue:X0},[fh]:{arrayValue:{values:h.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jp(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Qp(r)}`)})(i,e)}function nS(i,e){const n={};return F0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(i,((r,o)=>{const u=tS(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function iS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof qi||i instanceof si||i instanceof on||i instanceof vg||i instanceof Fi)}function sS(i,e,n){if(!iS(n)||!H0(n)){const r=Qp(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function aD(i,e,n){if((e=ws(e))instanceof mg)return e._internalPath;if(typeof e=="string")return rS(i,e);throw Eh("Field path arguments must be of type string or ",i,!1,void 0,n)}const oD=new RegExp("[~\\*/\\[\\]]");function rS(i,e,n){if(e.search(oD)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eh(i,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new Ce(ue.INVALID_ARGUMENT,p+i+g)}function lD(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends aS{data(){return super.data()}}function oS(i,e){return typeof e=="string"?rS(i,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ce(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hD{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new qi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=br(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);it(RT(r),9688,{name:e});const o=new Yl(r.get(1),r.get(3)),u=new Le(r.popFirst(5));return o.isEqual(n)||Ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oo extends aS{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",oo._jsonSchema={type:jt("string",oo._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Zc extends oo{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:dD(p.type),doc:g,oldIndex:m,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:jt("string",lo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class pD extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function gD(i){i=uh(i,Ph);const e=uh(i.firestore,gg),n=WT(e),r=new pD(e);return cD(i._query),$O(n,i._query).then((o=>new lo(e,r,i,o)))}function mD(i,e){const n=uh(i.firestore,gg),r=JO(i),o=fD(i.converter,e);return vD(n,[rD(sD(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then((()=>r))}function vD(i,e){return(function(r,o){const u=new yr;return r.asyncQueue.enqueueAndForget((async()=>PO(await YO(r),o,u))),u.promise})(WT(i),e)}function yD(){return new _g("serverTimestamp")}(function(e,n=!0){(function(o){bo=o})(R0),Fl(new uo("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),p=new gg(new JR(r.getProvider("auth-internal")),new tM(h,r.getProvider("app-check-internal")),(function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(m.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),mr(VE,NE,e),mr(VE,NE,"esm2020")})();var _D="firebase",ED="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(_D,ED,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebasestorage.googleapis.com",uS="storageBucket",bD=120*1e3,TD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends la{constructor(e,n,r=0){super(ep(e),`Firebase Storage: ${n} (${ep(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function ep(i){return"storage/"+i}function Eg(){const i="An unknown error occurred, please check the error payload for server response.";return new Lt(At.UNKNOWN,i)}function SD(i){return new Lt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function CD(i){return new Lt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(At.UNAUTHENTICATED,i)}function AD(){return new Lt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LD(i){return new Lt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function RD(){return new Lt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MD(){return new Lt(At.CANCELED,"User canceled the upload/download.")}function OD(i){return new Lt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function DD(i){return new Lt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function xD(){return new Lt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uS+"' property when initializing the app?")}function ID(){return new Lt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VD(){return new Lt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ND(i){return new Lt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(i){return new Lt(At.INVALID_ARGUMENT,i)}function cS(){return new Lt(At.APP_DELETED,"The Firebase app was deleted.")}function PD(i){return new Lt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(i,e){return new Lt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ol(i){throw new Lt(At.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(r.path==="")return r;throw DD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},U=n===lS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",q=new RegExp(`^https?://${U}/${o}/${V}`,"i"),te=[{regex:p,indices:g,postModify:u},{regex:O,indices:M,postModify:m},{regex:q,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<te.length;Z++){const H=te[Z],G=H.regex.exec(e);if(G){const A=G[H.indices.bucket];let R=G[H.indices.path];R||(R=""),r=new qn(A,R),H.postModify(r);break}}if(r==null)throw OD(e);return r}}class kD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i,e,n){let r=1,o=null,u=null,h=!1,p=0;function g(){return p===2}let m=!1;function E(...V){m||(m=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(O,g())},V)}function S(){u&&clearTimeout(u)}function O(V,...q){if(m){S();return}if(V){S(),E.call(null,V,...q);return}if(g()||h){S(),E.call(null,V,...q);return}r<64&&(r*=2);let te;p===1?(p=2,te=0):te=(r+Math.random())*1e3,T(te)}let M=!1;function U(V){M||(M=!0,S(),!m&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function zD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){return i!==void 0}function jD(i){return typeof i=="object"&&!Array.isArray(i)}function bg(i){return typeof i=="string"||i instanceof String}function Mb(i){return Tg()&&i instanceof Blob}function Tg(){return typeof Blob<"u"}function Ob(i,e,n,r){if(r<e)throw Mp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw Mp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${i}`}function hS(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,o,u,h,p,g,m,E,T,S=!0,O=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new zc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===ia.NO_ERROR,g=u.getStatus();if(!p||HD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ia.ABORT;r(!1,new zc(!1,null,E));return}const m=this.successCodes_.indexOf(g)!==-1;r(!0,new zc(m,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());BD(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=Eg();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?cS():MD();h(g)}else{const g=RD();h(g)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=UD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FD(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function GD(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QD(i,e){e&&(i["X-Firebase-GMPID"]=e)}function KD(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function YD(i,e,n,r,o,u,h=!0,p=!1){const g=hS(i.urlParams),m=i.url+g,E=Object.assign({},i.headers);return QD(E,e),FD(E,n),GD(E,u),KD(E,r),new qD(m,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $D(...i){const e=ZD();if(e!==void 0){const n=new e;for(let r=0;r<i.length;r++)n.append(i[r]);return n.getBlob()}else{if(Tg())return new Blob(i);throw new Lt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XD(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i){if(typeof atob>"u")throw ND("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,n){this.data=e,this.contentType=n||null}}function WD(i,e){switch(i){case Bi.RAW:return new tp(fS(e));case Bi.BASE64:case Bi.BASE64URL:return new tp(dS(i,e));case Bi.DATA_URL:return new tp(tx(e),nx(e))}throw Eg()}function fS(i){const e=[];for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=i.charCodeAt(++n);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ex(i){let e;try{e=decodeURIComponent(i)}catch{throw jl(Bi.DATA_URL,"Malformed data URL.")}return fS(e)}function dS(i,e){switch(i){case Bi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw jl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Bi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw jl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JD(e)}catch(o){throw o.message.includes("polyfill")?o:jl(i,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class pS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jl(Bi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ix(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tx(i){const e=new pS(i);return e.base64?dS(Bi.BASE64,e.rest):ex(e.rest)}function nx(i){return new pS(i).contentType}function ix(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){let r=0,o="";Mb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Mb(this.data_)){const r=this.data_,o=XD(r,e,n);return o===null?null:new fr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fr(r,!0)}}static getBlob(...e){if(Tg()){const n=e.map(r=>r instanceof fr?r.data_:r);return new fr($D.apply(null,n))}else{const n=e.map(h=>bg(h)?WD(Bi.RAW,h).data:h.data_);let r=0;n.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(h=>{for(let p=0;p<h.length;p++)o[u++]=h[p]}),new fr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(i){let e;try{e=JSON.parse(i)}catch{return null}return jD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function rx(i,e){const n=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?n:i+"/"+n}function mS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i,e){return e}class En{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||ax}}let Bc=null;function ox(i){return!bg(i)||i.length<2?i:mS(i)}function vS(){if(Bc)return Bc;const i=[];i.push(new En("bucket")),i.push(new En("generation")),i.push(new En("metageneration")),i.push(new En("name","fullPath",!0));function e(u,h){return ox(h)}const n=new En("name");n.xform=e,i.push(n);function r(u,h){return h!==void 0?Number(h):h}const o=new En("size");return o.xform=r,i.push(o),i.push(new En("timeCreated")),i.push(new En("updated")),i.push(new En("md5Hash",null,!0)),i.push(new En("cacheControl",null,!0)),i.push(new En("contentDisposition",null,!0)),i.push(new En("contentEncoding",null,!0)),i.push(new En("contentLanguage",null,!0)),i.push(new En("contentType",null,!0)),i.push(new En("metadata","customMetadata",!0)),Bc=i,Bc}function lx(i,e){function n(){const r=i.bucket,o=i.fullPath,u=new qn(r,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function ux(i,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];r[h.local]=h.xform(r,e[h.server])}return lx(r,i),r}function yS(i,e,n){const r=gS(e);return r===null?null:ux(i,r,n)}function cx(i,e,n,r){const o=gS(e);if(o===null||!bg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(m=>{const E=i.bucket,T=i.fullPath,S="/b/"+h(E)+"/o/"+h(T),O=Sg(S,n,r),M=hS({alt:"media",token:m});return O+M})[0]}function hx(i,e){const n={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class _S{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(i){if(!i)throw Eg()}function fx(i,e){function n(r,o){const u=yS(i,o,e);return ES(u!==null),u}return n}function dx(i,e){function n(r,o){const u=yS(i,o,e);return ES(u!==null),cx(u,o,i.host,i._protocol)}return n}function bS(i){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=AD():o=wD():n.getStatus()===402?o=CD(i.bucket):n.getStatus()===403?o=LD(i.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function px(i){const e=bS(i);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=SD(i.path)),u.serverResponse=o.serverResponse,u}return n}function gx(i,e,n){const r=e.fullServerUrl(),o=Sg(r,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,p=new _S(o,u,dx(i,n),h);return p.errorHandler=px(e),p}function mx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function vx(i,e,n){const r=Object.assign({},n);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=mx(null,e)),r}function yx(i,e,n,r,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let te="";for(let Z=0;Z<2;Z++)te=te+Math.random().toString().slice(2);return te}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const m=vx(e,r,o),E=hx(m,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,S=`\r
--`+g+"--",O=fr.getBlob(T,r,S);if(O===null)throw ID();const M={name:m.fullPath},U=Sg(u,i.host,i._protocol),V="POST",q=i.maxUploadRetryTime,B=new _S(U,V,fx(i,n),q);return B.urlParams=M,B.headers=h,B.body=O.uploadData(),B.errorHandler=bS(e),B}class _x{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw Ol("cannot .send() more than once");if(nu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ol("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ol("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ol("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ol("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ex extends _x{initXhr(){this.xhr_.responseType="text"}}function TS(){return new Ex}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new aa(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mS(this._location.path)}get storage(){return this._service}get parent(){const e=sx(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PD(e)}}function bx(i,e,n){i._throwIfRoot("uploadBytes");const r=yx(i.storage,i._location,vS(),new fr(e,!0),n);return i.storage.makeRequestWithTokens(r,TS).then(o=>({metadata:o,ref:i}))}function Tx(i){i._throwIfRoot("getDownloadURL");const e=gx(i.storage,i._location,vS());return i.storage.makeRequestWithTokens(e,TS).then(n=>{if(n===null)throw VD();return n})}function Sx(i,e){const n=rx(i._location.path,e),r=new qn(i._location.bucket,n);return new aa(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){return/^[A-Za-z]+:\/\//.test(i)}function wx(i,e){return new aa(i,e)}function SS(i,e){if(i instanceof Cg){const n=i;if(n._bucket==null)throw xD();const r=new aa(n,n._bucket);return e!=null?SS(r,e):r}else return e!==void 0?Sx(i,e):i}function Ax(i,e){if(e&&Cx(e)){if(i instanceof Cg)return wx(i,e);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return SS(i,e)}function Db(i,e){const n=e?.[uS];return n==null?null:qn.makeFromBucketSpec(n,i)}function Lx(i,e,n,r={}){i.host=`${e}:${n}`;const o=nu(e);o&&(_0(`https://${i.host}/b`),b0("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:E0(u,i.app.options.projectId))}class Cg{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=lS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bD,this._maxUploadRetryTime=TD,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=Db(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=Db(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ob("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ob("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(L0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new kD(cS());{const h=YD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const xb="@firebase/storage",Ib="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="storage";function Rx(i,e,n){return i=ws(i),bx(i,e,n)}function Mx(i){return i=ws(i),Tx(i)}function Ox(i,e){return i=ws(i),Ax(i,e)}function Dx(i=O0(),e){i=ws(i);const r=A0(i,CS).getImmediate({identifier:e}),o=v0("storage");return o&&xx(r,...o),r}function xx(i,e,n,r={}){Lx(i,e,n,r)}function Ix(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Cg(n,r,o,e,R0)}function Vx(){Fl(new uo(CS,Ix,"PUBLIC").setMultipleInstances(!0)),mr(xb,Ib,""),mr(xb,Ib,"esm2020")}Vx();const Nx={apiKey:"AIzaSyAr49Z1qFSxcD5d8N2TaMRv7j-_5lQ6Cq8",authDomain:"kizuki-8a65a.firebaseapp.com",databaseURL:void 0,projectId:"kizuki-8a65a",storageBucket:"kizuki-8a65a.firebasestorage.app",messagingSenderId:"118026654293",appId:"1:118026654293:web:16b1bdcf7555f8f72ffadc"},wS=M0(Nx),AS=WO(wS),Px=Dx(wS),kx={width:"100%",height:"90vh"},Ux={lat:35.681236,lng:139.767125};function zx(){const[i,e]=y.useState([]),[n,r]=y.useState(null);return y.useEffect(()=>{(async()=>{try{const h=(await gD(JT(AS,"posts"))).docs.map(p=>({id:p.id,...p.data()}));e(h)}catch(u){console.error(":",u)}})()},[]),he.jsxs(Wb,{mapContainerStyle:kx,center:Ux,zoom:13,children:[i.map(o=>he.jsx(Up,{position:{lat:o.location.lat,lng:o.location.lng},onClick:()=>r(o)},o.id)),n&&he.jsx(h0,{position:{lat:n.location.lat,lng:n.location.lng},onCloseClick:()=>r(null),children:he.jsxs("div",{children:[he.jsx("h4",{children:n.tag}),he.jsx("p",{children:n.message}),n.imageUrl&&he.jsx("img",{src:n.imageUrl,alt:"",style:{width:"150px",borderRadius:"8px"}}),n.riskLevel&&he.jsxs("p",{children:[" ",n.riskLevel]})]})})]})}const np={message:`
`,imageUrl:"https://placehold.co/600x800/EFEFEF/AAAAAA?text=Post+Image",goodCount:15};function Bx(){const i=xp(),[e,n]=y.useState(np.goodCount),r=()=>{n(u=>u+1),console.log("Good+1 ()"),alert("Good")},o=()=>{i(-1)};return he.jsxs("div",{className:"post-detail-container",children:[he.jsxs("div",{className:"post-content",children:[he.jsx("p",{className:"message-text",children:np.message}),he.jsx("img",{src:np.imageUrl,alt:""})]}),he.jsxs("div",{className:"button-area",children:[he.jsxs("button",{onClick:r,className:"btn good-btn",children:["Good (",e,")"]}),he.jsx("button",{onClick:o,className:"btn back-btn",children:""})]})]})}const jx={width:"100%",height:"400px"},Hx={lat:35.681236,lng:139.767125};function qx({onClose:i,onSelectLocation:e}){const[n,r]=y.useState(null),[o,u]=y.useState(Hx),[h,p]=y.useState(null),g=y.useRef(null),m=y.useCallback(function(U){r(U)},[]),E=y.useCallback(function(U){r(null)},[]),T=M=>{const U={lat:M.latLng.lat(),lng:M.latLng.lng()};p(U)},S=()=>{if(g.current!==null){const M=g.current.getPlace(),U={lat:M.geometry.location.lat(),lng:M.geometry.location.lng()};u(U),p(U),n.panTo(U),n.setZoom(15)}},O=()=>{h?e(h.lat,h.lng):alert("")};return he.jsx("div",{className:"modal-backdrop",children:he.jsxs("div",{className:"modal-content",children:[he.jsx("h3",{children:""}),he.jsx("p",{children:""}),he.jsx(jp,{onLoad:M=>g.current=M,onPlaceChanged:S,children:he.jsx("input",{type:"text",placeholder:"...",className:"map-search-input"})}),he.jsx("div",{className:"map-wrapper",children:he.jsx(Wb,{mapContainerStyle:jx,center:o,zoom:12,onLoad:m,onUnmount:E,onClick:T,children:h&&he.jsx(Up,{position:h})})}),he.jsxs("div",{className:"modal-actions",children:[he.jsx("button",{onClick:O,className:"btn confirm-btn",disabled:!h,children:""}),he.jsx("button",{onClick:i,className:"btn close-btn",children:""})]})]})})}function Fx(){const[i,e]=y.useState(""),[n,r]=y.useState(""),[o,u]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(!1),[E,T]=y.useState(null),[S,O]=y.useState(!1),[M,U]=y.useState(""),V=xp(),q=H=>{const G=H.target.files[0];G&&(p(G),u(URL.createObjectURL(G)))},B=()=>{u(null),p(null),document.getElementById("imageUpload").value=""},te=H=>{const G=H.target.value;r(G),G!==""&&U("")},Z=async H=>{if(H.preventDefault(),!i||!n){alert("");return}if(n===""&&!M){alert("");return}if(!E){alert("");return}m(!0);try{let G="";if(h){const R=Ox(Px,`images/${h.name+Date.now()}`);await Rx(R,h),G=await Mx(R)}const A={message:i,tag:n,imageUrl:G,createdAt:yD(),location:{lat:E.lat,lng:E.lng},...M&&{riskLevel:M}};await mD(JT(AS,"posts"),A),alert(""),V("/map")}catch(G){console.error(": ",G),alert(`
: ${G.message}`)}finally{m(!1)}};return he.jsxs("div",{className:"container",children:[he.jsxs("form",{onSubmit:Z,children:[he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"message",children:""}),he.jsxs("div",{className:"message-box-container",children:[he.jsx("textarea",{id:"message",name:"message",placeholder:"...",value:i,onChange:H=>e(H.target.value)}),he.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:q})]}),o&&he.jsxs("div",{id:"imagePreviewContainer",children:[he.jsx("img",{src:o,alt:"Preview"}),he.jsx("button",{type:"button",onClick:B,className:"btn clear-btn",children:""})]})]}),he.jsxs("div",{className:"form-group",children:[he.jsx("label",{children:""}),he.jsx("button",{type:"button",className:"btn map-btn",onClick:()=>O(!0),children:""}),he.jsx("input",{type:"text",id:"location",name:"location",readOnly:!0,value:E?`: ${E.lat.toFixed(5)}, : ${E.lng.toFixed(5)}`:""})]}),he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"tag",children:""}),he.jsxs("select",{id:"tag",name:"tag",value:n,onChange:te,children:[he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""})]})]}),n===""&&he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"riskLevel",children:""}),he.jsxs("select",{id:"riskLevel",name:"riskLevel",value:M,onChange:H=>U(H.target.value),children:[he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""})]})]}),he.jsx("div",{className:"form-group",children:he.jsx("button",{type:"submit",className:"btn submit-btn",disabled:g,children:g?"...":""})})]}),S&&he.jsx(qx,{onClose:()=>O(!1),onSelectLocation:(H,G)=>{T({lat:H,lng:G}),O(!1)}})]})}function Gx(){return he.jsxs("div",{children:[he.jsxs("nav",{style:{padding:"10px",backgroundColor:"#eee",marginBottom:"20px"},children:[he.jsx("strong",{children:":"}),he.jsx(Vl,{to:"/post",style:{marginLeft:"15px"},children:""}),he.jsx(Vl,{to:"/post/1",style:{marginLeft:"15px"},children:""}),he.jsx(Vl,{to:"/map",style:{marginLeft:"15px"},children:""})]}),he.jsxs(iw,{children:[he.jsx(jc,{path:"/post",element:he.jsx(Fx,{})}),he.jsx(jc,{path:"/post/1",element:he.jsx(Bx,{})}),he.jsx(jc,{path:"/map",element:he.jsx(zx,{})})]})]})}const Qx=["maps","places"],Kx=dC.createRoot(document.getElementById("root"));Kx.render(he.jsx(aC.StrictMode,{children:he.jsx(r0,{googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc",libraries:Qx,children:he.jsx(Aw,{children:he.jsx(Gx,{})})})}));
