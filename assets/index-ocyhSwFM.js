(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ud={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function yC(){if(Wy)return Rl;Wy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var Jy;function _C(){return Jy||(Jy=1,Ud.exports=yC()),Ud.exports}var le=_C(),zd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function EC(){if(e_)return Ie;e_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,I={};function H(V,J,re){this.props=V,this.context=J,this.refs=I,this.updater=re||O}H.prototype.isReactComponent={},H.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function B(){}B.prototype=H.prototype;function W(V,J,re){this.props=V,this.context=J,this.refs=I,this.updater=re||O}var G=W.prototype=new B;G.constructor=W,U(G,H.prototype),G.isPureReactComponent=!0;var j=Array.isArray;function F(){}var A={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(V,J,re){var he=re.ref;return{$$typeof:i,type:V,key:J,ref:he!==void 0?he:null,props:re}}function N(V,J){return w(V.type,J,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return J[re]})}var D=/\/+/g;function me(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(F,F):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,J,re,he,Z){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case i:case e:Te=!0;break;case _:return Te=V._init,K(Te(V._payload),J,re,he,Z)}}if(Te)return Z=Z(V),Te=he===""?"."+me(V,0):he,j(Z)?(re="",Te!=null&&(re=Te.replace(D,"$&/")+"/"),K(Z,J,re,"",function(we){return we})):Z!=null&&(x(Z)&&(Z=N(Z,re+(Z.key==null||V&&V.key===Z.key?"":(""+Z.key).replace(D,"$&/")+"/")+Te)),J.push(Z)),1;Te=0;var Ce=he===""?".":he+":";if(j(V))for(var De=0;De<V.length;De++)he=V[De],ve=Ce+me(he,De),Te+=K(he,J,re,ve,Z);else if(De=M(V),typeof De=="function")for(V=De.call(V),De=0;!(he=V.next()).done;)he=he.value,ve=Ce+me(he,De++),Te+=K(he,J,re,ve,Z);else if(ve==="object"){if(typeof V.then=="function")return K(be(V),J,re,he,Z);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ce(V,J,re){if(V==null)return V;var he=[],Z=0;return K(V,he,"","",function(ve){return J.call(re,ve,Z++)}),he}function fe(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Ee=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},_e={map:ce,forEach:function(V,J,re){ce(V,function(){J.apply(this,arguments)},re)},count:function(V){var J=0;return ce(V,function(){J++}),J},toArray:function(V){return ce(V,function(J){return J})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=b,Ie.Children=_e,Ie.Component=H,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=W,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return A.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,J,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=U({},V.props),Z=V.key;if(J!=null)for(ve in J.key!==void 0&&(Z=""+J.key),J)!R.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(he[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)he.children=re;else if(1<ve){for(var Te=Array(ve),Ce=0;Ce<ve;Ce++)Te[Ce]=arguments[Ce+2];he.children=Te}return w(V.type,Z,he)},Ie.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,J,re){var he,Z={},ve=null;if(J!=null)for(he in J.key!==void 0&&(ve=""+J.key),J)R.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Z[he]=J[he]);var Te=arguments.length-2;if(Te===1)Z.children=re;else if(1<Te){for(var Ce=Array(Te),De=0;De<Te;De++)Ce[De]=arguments[De+2];Z.children=Ce}if(V&&V.defaultProps)for(he in Te=V.defaultProps,Te)Z[he]===void 0&&(Z[he]=Te[he]);return w(V,ve,Z)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:p,render:V}},Ie.isValidElement=x,Ie.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:fe}},Ie.memo=function(V,J){return{$$typeof:m,type:V,compare:J===void 0?null:J}},Ie.startTransition=function(V){var J=A.T,re={};A.T=re;try{var he=V(),Z=A.S;Z!==null&&Z(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(F,Ee)}catch(ve){Ee(ve)}finally{J!==null&&re.types!==null&&(J.types=re.types),A.T=J}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(V){return A.H.use(V)},Ie.useActionState=function(V,J,re){return A.H.useActionState(V,J,re)},Ie.useCallback=function(V,J){return A.H.useCallback(V,J)},Ie.useContext=function(V){return A.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,J){return A.H.useDeferredValue(V,J)},Ie.useEffect=function(V,J){return A.H.useEffect(V,J)},Ie.useEffectEvent=function(V){return A.H.useEffectEvent(V)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(V,J,re){return A.H.useImperativeHandle(V,J,re)},Ie.useInsertionEffect=function(V,J){return A.H.useInsertionEffect(V,J)},Ie.useLayoutEffect=function(V,J){return A.H.useLayoutEffect(V,J)},Ie.useMemo=function(V,J){return A.H.useMemo(V,J)},Ie.useOptimistic=function(V,J){return A.H.useOptimistic(V,J)},Ie.useReducer=function(V,J,re){return A.H.useReducer(V,J,re)},Ie.useRef=function(V){return A.H.useRef(V)},Ie.useState=function(V){return A.H.useState(V)},Ie.useSyncExternalStore=function(V,J,re){return A.H.useSyncExternalStore(V,J,re)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.0",Ie}var t_;function Pp(){return t_||(t_=1,zd.exports=EC()),zd.exports}var y=Pp();const Qb=Gb(y);var Bd={exports:{}},Ml={},jd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function bC(){return n_||(n_=1,(function(i){function e(K,ce){var fe=K.length;K.push(ce);e:for(;0<fe;){var Ee=fe-1>>>1,_e=K[Ee];if(0<o(_e,ce))K[Ee]=ce,K[fe]=_e,fe=Ee;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ce=K[0],fe=K.pop();if(fe!==ce){K[0]=fe;e:for(var Ee=0,_e=K.length,V=_e>>>1;Ee<V;){var J=2*(Ee+1)-1,re=K[J],he=J+1,Z=K[he];if(0>o(re,fe))he<_e&&0>o(Z,re)?(K[Ee]=Z,K[he]=fe,Ee=he):(K[Ee]=re,K[J]=fe,Ee=J);else if(he<_e&&0>o(Z,fe))K[Ee]=Z,K[he]=fe,Ee=he;else break e}}return ce}function o(K,ce){var fe=K.sortIndex-ce.sortIndex;return fe!==0?fe:K.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();i.unstable_now=function(){return c.now()-p}}var g=[],m=[],_=1,b=null,T=3,M=!1,O=!1,U=!1,I=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var ce=n(m);ce!==null;){if(ce.callback===null)s(m);else if(ce.startTime<=K)s(m),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(m)}}function j(K){if(U=!1,G(K),!O)if(n(g)!==null)O=!0,F||(F=!0,k());else{var ce=n(m);ce!==null&&be(j,ce.startTime-K)}}var F=!1,A=-1,R=5,w=-1;function N(){return I?!0:!(i.unstable_now()-w<R)}function x(){if(I=!1,F){var K=i.unstable_now();w=K;var ce=!0;try{e:{O=!1,U&&(U=!1,B(A),A=-1),M=!0;var fe=T;try{t:{for(G(K),b=n(g);b!==null&&!(b.expirationTime>K&&N());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,T=b.priorityLevel;var _e=Ee(b.expirationTime<=K);if(K=i.unstable_now(),typeof _e=="function"){b.callback=_e,G(K),ce=!0;break t}b===n(g)&&s(g),G(K)}else s(g);b=n(g)}if(b!==null)ce=!0;else{var V=n(m);V!==null&&be(j,V.startTime-K),ce=!1}}break e}finally{b=null,T=fe,M=!1}ce=void 0}}finally{ce?k():F=!1}}}var k;if(typeof W=="function")k=function(){W(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,me=D.port2;D.port1.onmessage=x,k=function(){me.postMessage(null)}}else k=function(){H(x,0)};function be(K,ce){A=H(function(){K(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(K){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var fe=T;T=ce;try{return K()}finally{T=fe}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=T;T=K;try{return ce()}finally{T=fe}},i.unstable_scheduleCallback=function(K,ce,fe){var Ee=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,K){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,K={id:_++,callback:ce,priorityLevel:K,startTime:fe,expirationTime:_e,sortIndex:-1},fe>Ee?(K.sortIndex=fe,e(m,K),n(g)===null&&K===n(m)&&(U?(B(A),A=-1):U=!0,be(j,fe-Ee))):(K.sortIndex=_e,e(g,K),O||M||(O=!0,F||(F=!0,k()))),K},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(K){var ce=T;return function(){var fe=T;T=ce;try{return K.apply(this,arguments)}finally{T=fe}}}})(qd)),qd}var i_;function SC(){return i_||(i_=1,jd.exports=bC()),jd.exports}var Hd={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function TC(){if(r_)return dn;r_=1;var i=Pp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:m,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,_)},dn.flushSync=function(g){var m=c.T,_=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=m,s.p=_,s.d.f()}},dn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},dn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},dn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,b=p(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:M}):_==="script"&&s.d.X(g,{crossOrigin:b,integrity:T,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},dn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,b=p(_,m.crossOrigin);s.d.L(g,_,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},dn.requestFormReset=function(g){s.d.r(g)},dn.unstable_batchedUpdates=function(g,m){return g(m)},dn.useFormState=function(g,m,_){return c.H.useFormState(g,m,_)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var s_;function Kb(){if(s_)return Hd.exports;s_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hd.exports=TC(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function CC(){if(a_)return Ml;a_=1;var i=SC(),e=Pp(),n=Kb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function m(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,C=f.child;C;){if(C===a){E=!0,a=f,l=d;break}if(C===l){E=!0,l=f,a=d;break}C=C.sibling}if(!E){for(C=d.child;C;){if(C===a){E=!0,a=d,l=f;break}if(C===l){E=!0,l=d,a=f;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),W=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case H:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case F:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case W:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case G:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return r=t.displayName||null,r!==null?r:me(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return me(t(r))}catch{}}return null}var be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],_e=-1;function V(t){return{current:t}}function J(t){0>_e||(t.current=Ee[_e],Ee[_e]=null,_e--)}function re(t,r){_e++,Ee[_e]=t.current,t.current=r}var he=V(null),Z=V(null),ve=V(null),Te=V(null);function Ce(t,r){switch(re(ve,r),re(Z,t),re(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?by(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=by(r),t=Sy(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(he),re(he,t)}function De(){J(he),J(Z),J(ve)}function we(t){t.memoizedState!==null&&re(Te,t);var r=he.current,a=Sy(r,t.type);r!==a&&(re(Z,t),re(he,a))}function ze(t){Z.current===t&&(J(he),J(Z)),Te.current===t&&(J(Te),Cl._currentValue=fe)}var Qt,un;function cn(t){if(Qt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Qt=r&&r[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+un}var $e=!1;function yi(t,r){if(!t||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var X=te}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(te){X=te}t.call(ae.prototype)}}else{try{throw Error()}catch(te){X=te}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],C=d[1];if(E&&C){var P=E.split(`
`),$=C.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===$.length)for(l=P.length-1,f=$.length-1;1<=l&&0<=f&&P[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==$[f]){var ie=`
`+P[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=f);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function _i(t,r){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==r&&r!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return cn("Activity");default:return""}}function Or(t){try{var r="",a=null;do r+=_i(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,Tt=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,ga=i.unstable_shouldYield,Zi=i.unstable_requestPaint,Kt=i.unstable_now,Ei=i.unstable_getCurrentPriorityLevel,Dr=i.unstable_ImmediatePriority,bi=i.unstable_UserBlockingPriority,si=i.unstable_NormalPriority,xr=i.unstable_LowPriority,Ls=i.unstable_IdlePriority,Xi=i.log,Rs=i.unstable_setDisableYieldValue,hn=null,xt=null;function Jt(t){if(typeof Xi=="function"&&Rs(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(hn,t)}catch{}}var vt=Math.clz32?Math.clz32:er,Wi=Math.log,Ji=Math.LN2;function er(t){return t>>>=0,t===0?32:31-(Wi(t)/Ji|0)|0}var On=256,Si=262144,Et=4194304;function vn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?f=vn(l):(E&=C,E!==0?f=vn(E):a||(a=C&~t,a!==0&&(f=vn(a))))):(C=l&~d,C!==0?f=vn(C):E!==0?f=vn(E):a||(a=l&~t,a!==0&&(f=vn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function fn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ma(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function xn(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function nr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ir(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,P=t.expirationTimes,$=t.hiddenUpdates;for(a=E&~a;0<a;){var ie=31-vt(a),ae=1<<ie;C[ie]=0,P[ie]=-1;var X=$[ie];if(X!==null)for($[ie]=null,ie=0;ie<X.length;ie++){var te=X[ie];te!==null&&(te.lane&=-536870913)}a&=~ae}l!==0&&Me(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function Me(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-vt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Oo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function ai(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var oi=Math.random().toString(36).slice(2),It="__reactFiber$"+oi,Yt="__reactProps$"+oi,Ti="__reactContainer$"+oi,va="__reactEvents$"+oi,Hh="__reactListeners$"+oi,pu="__reactHandles$"+oi,gu="__reactResources$"+oi,Ci="__reactMarker$"+oi;function ya(t){delete t[It],delete t[Yt],delete t[va],delete t[Hh],delete t[pu]}function wi(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ti]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[It])return a;t=My(t)}return r}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Ti]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function In(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ai(t){var r=t[gu];return r||(r=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Ci]=!0}var Do=new Set,xo={};function Li(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(xo[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Vo={};function mu(t){return dt.call(Vo,t)?!0:dt.call(No,t)?!1:Io.test(t)?Vo[t]=!0:(No[t]=!0,!1)}function _a(t,r,a){if(mu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Nn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ir(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Po(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function rt(t){if(!t._valueTracker){var r=Ir(t)?"checked":"value";t._valueTracker=Po(t,r,""+t[r])}}function Os(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ir(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function bn(t){return t.replace(Ds,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ea(t,r,a,l,f,d,E,C){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+$t(r)):t.value!==""+$t(r)&&(t.value=""+$t(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?ko(t,E,$t(r)):a!=null?ko(t,E,$t(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+$t(C):t.removeAttribute("name")}function vu(t,r,a,l,f,d,E,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){rt(t);return}a=a!=null?""+$t(a):"",r=r!=null?""+$t(r):a,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),rt(t)}function ko(t,r,a){r==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function yu(t,r,a){if(r!=null&&(r=""+$t(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+$t(a):""}function Vr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(be(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=$t(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),rt(t)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||_u.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Uo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Uo(t,d,r[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Bo=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,Oi=null;function xs(t){var r=Fn(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Yt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Os(l)}break e;case"textarea":yu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Nr(t,!!a.multiple,r,!1)}}}var Ta=!1;function Ur(t,r,a){if(Ta)return t(r,a);Ta=!0;try{var l=t(r);return l}finally{if(Ta=!1,(kr!==null||Oi!==null)&&(dc(),kr&&(r=kr,t=Oi,Oi=kr=null,xs(r),t)))for(r=0;r<t.length;r++)xs(t[r])}}function ui(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Qn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Is=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Is=!1}var Di=null,jo=null,Ns=null;function qo(){if(Ns)return Ns;var t,r=jo,a=r.length,l,f="value"in Di?Di.value:Di.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Ns=f.slice(t,1<l?1-l:void 0)}function Vs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function ci(){return!1}function en(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sr:ci,this.isPropagationStopped=ci,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=en(ar),zr=b({},ar,{view:0,detail:0}),Ho=en(zr),Br,Ca,Ii,wa=b({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Br=t.screenX-Ii.screenX,Ca=t.screenY-Ii.screenY):Ca=Br=0,Ii=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Fo=en(wa),Ps=b({},wa,{dataTransfer:0}),bu=en(Ps),Su=b({},zr,{relatedTarget:0}),ks=en(Su),Go=b({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=en(Go),Aa=b({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=en(Aa),wu=b({},ar,{data:0}),Ni=en(wu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ru[t])?!!r[t]:!1}function jr(){return Mu}var yn=b({},zr,{key:function(t){if(t.key){var r=Au[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=en(yn),Du=b({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=en(Du),h=b({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),v=en(h),S=b({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=en(S),Q=b({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=en(Q),de=b({},ar,{newState:0,oldState:0}),Ve=en(de),Rt=[9,13,27,32],tt=Qn&&"CompositionEvent"in window,yt=null;Qn&&"documentMode"in document&&(yt=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!yt,Vi=Qn&&(!tt||yt&&8<yt&&11>=yt),hi=" ",fi=!1;function Us(t,r){switch(t){case"keyup":return Rt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function qT(t,r){switch(t){case"compositionend":return La(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return t=r.data,t===hi&&fi?null:t;default:return null}}function HT(t,r){if(Ra)return t==="compositionend"||!tt&&Us(t,r)?(t=qo(),Ns=jo=Di=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vi&&r.locale!=="ko"?null:r.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!FT[t.type]:r==="textarea"}function Ig(t,r,a,l){kr?Oi?Oi.push(l):Oi=[l]:kr=l,r=Ec(r,"onChange"),0<r.length&&(a=new xi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Qo=null,Ko=null;function GT(t){gy(t,0)}function xu(t){var r=In(t);if(Os(r))return t}function Ng(t,r){if(t==="change")return r}var Vg=!1;if(Qn){var Fh;if(Qn){var Gh="oninput"in document;if(!Gh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Gh=typeof Pg.oninput=="function"}Fh=Gh}else Fh=!1;Vg=Fh&&(!document.documentMode||9<document.documentMode)}function kg(){Qo&&(Qo.detachEvent("onpropertychange",Ug),Ko=Qo=null)}function Ug(t){if(t.propertyName==="value"&&xu(Ko)){var r=[];Ig(r,Ko,t,Gn(t)),Ur(GT,r)}}function QT(t,r,a){t==="focusin"?(kg(),Qo=r,Ko=a,Qo.attachEvent("onpropertychange",Ug)):t==="focusout"&&kg()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Ko)}function YT(t,r){if(t==="click")return xu(r)}function $T(t,r){if(t==="input"||t==="change")return xu(r)}function ZT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vn=typeof Object.is=="function"?Object.is:ZT;function Yo(t,r){if(Vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dt.call(r,f)||!Vn(t[f],r[f]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,r){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function jg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?jg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Mi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Mi(t.document)}return r}function Qh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var XT=Qn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Kh=null,$o=null,Yh=!1;function Hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ma==null||Ma!==Mi(l)||(l=Ma,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=Ec(Kh,"onSelect"),0<l.length&&(r=new xi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Oa={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},$h={},Fg={};Qn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Bs(t){if($h[t])return $h[t];if(!Oa[t])return t;var r=Oa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fg)return $h[t]=r[a];return t}var Gg=Bs("animationend"),Qg=Bs("animationiteration"),Kg=Bs("animationstart"),WT=Bs("transitionrun"),JT=Bs("transitionstart"),e1=Bs("transitioncancel"),Yg=Bs("transitionend"),$g=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function di(t,r){$g.set(t,r),Li(r,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Da=0,Xh=0;function Nu(){for(var t=Da,r=Xh=Da=0;r<t;){var a=Yn[r];Yn[r++]=null;var l=Yn[r];Yn[r++]=null;var f=Yn[r];Yn[r++]=null;var d=Yn[r];if(Yn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function Vu(t,r,a,l){Yn[Da++]=t,Yn[Da++]=r,Yn[Da++]=a,Yn[Da++]=l,Xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,r,a,l){return Vu(t,r,a,l),Pu(t)}function js(t,r){return Vu(t,null,null,r),Pu(t)}function Zg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Pu(t){if(50<vl)throw vl=0,ld=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var xa={};function t1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,r,a,l){return new t1(t,r,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,r){var a=t.alternate;return a===null?(a=Pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ku(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")Jh(t)&&(E=1);else if(typeof t=="string")E=aC(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Pn(31,a,r,f),t.elementType=w,t.lanes=d,t;case U:return qs(a.children,f,d,r);case I:E=8,f|=24;break;case H:return t=Pn(12,a,r,f|2),t.elementType=H,t.lanes=d,t;case j:return t=Pn(13,a,r,f),t.elementType=j,t.lanes=d,t;case F:return t=Pn(19,a,r,f),t.elementType=F,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:E=10;break e;case B:E=9;break e;case G:E=11;break e;case A:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Pn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function qs(t,r,a,l){return t=Pn(7,t,l,r),t.lanes=a,t}function ef(t,r,a){return t=Pn(6,t,null,r),t.lanes=a,t}function Wg(t){var r=Pn(18,null,null,0);return r.stateNode=t,r}function tf(t,r,a){return r=Pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Jg=new WeakMap;function $n(t,r){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Or(r)},Jg.set(t,r),r)}return{value:t,source:r,stack:Or(r)}}var Ia=[],Na=0,Uu=null,Zo=0,Zn=[],Xn=0,qr=null,Pi=1,ki="";function ur(t,r){Ia[Na++]=Zo,Ia[Na++]=Uu,Uu=t,Zo=r}function em(t,r,a){Zn[Xn++]=Pi,Zn[Xn++]=ki,Zn[Xn++]=qr,qr=t;var l=Pi;t=ki;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Pi=1<<32-vt(r)+f|a<<f|l,ki=d+t}else Pi=1<<d|a<<f|l,ki=t}function nf(t){t.return!==null&&(ur(t,1),em(t,1,0))}function rf(t){for(;t===Uu;)Uu=Ia[--Na],Ia[Na]=null,Zo=Ia[--Na],Ia[Na]=null;for(;t===qr;)qr=Zn[--Xn],Zn[Xn]=null,ki=Zn[--Xn],Zn[Xn]=null,Pi=Zn[--Xn],Zn[Xn]=null}function tm(t,r){Zn[Xn++]=Pi,Zn[Xn++]=ki,Zn[Xn++]=qr,Pi=r.id,ki=r.overflow,qr=t}var tn=null,pt=null,Ye=!1,Hr=null,Wn=!1,sf=Error(s(519));function Fr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo($n(r,t)),sf}function nm(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[Yt]=l,a){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(a=0;a<_l.length;a++)qe(_l[a],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),vu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Vr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||_y(r.textContent,a)?(l.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),l.onScroll!=null&&qe("scroll",r),l.onScrollEnd!=null&&qe("scrollend",r),l.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||Fr(t,!0)}function im(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Va(t){if(t!==tn)return!1;if(!Ye)return im(t),Ye=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&pt&&Fr(t),im(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=Ry(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=Ry(t)}else r===27?(r=pt,rs(t.type)?(t=Rd,Rd=null,pt=t):pt=r):pt=tn?ei(t.stateNode.nextSibling):null;return!0}function Hs(){pt=tn=null,Ye=!1}function af(){var t=Hr;return t!==null&&(An===null?An=t:An.push.apply(An,t),Hr=null),t}function Xo(t){Hr===null?Hr=[t]:Hr.push(t)}var of=V(null),Fs=null,cr=null;function Gr(t,r,a){re(of,r._currentValue),r._currentValue=a}function hr(t){t._currentValue=of.current,J(of)}function lf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function uf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=f;for(var P=0;P<r.length;P++)if(C.context===r[P]){d.lanes|=a,C=d.alternate,C!==null&&(C.lanes|=a),lf(d.return,a,t),l||(E=null);break e}d=C.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),lf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Pa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=f.type;Vn(f.pendingProps.value,E.value)||(t!==null?t.push(C):t=[C])}}else if(f===Te.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}f=f.return}t!==null&&uf(r,t,a,l),r.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return rm(Fs,t)}function Bu(t,r){return Fs===null&&Gs(t),rm(t,r)}function rm(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},cr===null){if(t===null)throw Error(s(308));cr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else cr=cr.next=r;return a}var n1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},i1=i.unstable_scheduleCallback,r1=i.unstable_NormalPriority,Pt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new n1,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&i1(r1,function(){t.controller.abort()})}var Jo=null,hf=0,ka=0,Ua=null;function s1(t,r){if(Jo===null){var a=Jo=[];hf=0,ka=pd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,r.then(sm,sm),r}function sm(){if(--hf===0&&Jo!==null){Ua!==null&&(Ua.status="fulfilled");var t=Jo;Jo=null,ka=0,Ua=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function a1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var am=K.S;K.S=function(t,r){Hv=Kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&s1(t,r),am!==null&&am(t,r)};var Qs=V(null);function ff(){var t=Qs.current;return t!==null?t:ht.pooledCache}function ju(t,r){r===null?re(Qs,Qs.current):re(Qs,r.pool)}function om(){var t=ff();return t===null?null:{parent:Pt._currentValue,pool:t}}var za=Error(s(460)),df=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function um(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(li,li),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hm(t),t;default:if(typeof r.status=="string")r.then(li,li);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hm(t),t}throw Ys=r,za}}function Ks(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,za):a}}var Ys=null;function cm(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function hm(t){if(t===za||t===qu)throw Error(s(483))}var Ba=null,el=0;function Fu(t){var r=el;return el+=1,Ba===null&&(Ba=[]),um(Ba,t,r)}function tl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Gu(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function fm(t){function r(q,z){if(t){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function a(q,z){if(!t)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=lr(q,z),q.index=0,q.sibling=null,q}function d(q,z,Y){return q.index=Y,t?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function C(q,z,Y,se){return z===null||z.tag!==6?(z=ef(Y,q.mode,se),z.return=q,z):(z=f(z,Y),z.return=q,z)}function P(q,z,Y,se){var Ae=Y.type;return Ae===U?ie(q,z,Y.props.children,se,Y.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ks(Ae)===z.type)?(z=f(z,Y.props),tl(z,Y),z.return=q,z):(z=ku(Y.type,Y.key,Y.props,null,q.mode,se),tl(z,Y),z.return=q,z)}function $(q,z,Y,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=tf(Y,q.mode,se),z.return=q,z):(z=f(z,Y.children||[]),z.return=q,z)}function ie(q,z,Y,se,Ae){return z===null||z.tag!==7?(z=qs(Y,q.mode,se,Ae),z.return=q,z):(z=f(z,Y),z.return=q,z)}function ae(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ef(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return Y=ku(z.type,z.key,z.props,null,q.mode,Y),tl(Y,z),Y.return=q,Y;case O:return z=tf(z,q.mode,Y),z.return=q,z;case R:return z=Ks(z),ae(q,z,Y)}if(be(z)||k(z))return z=qs(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return ae(q,Fu(z),Y);if(z.$$typeof===W)return ae(q,Bu(q,z),Y);Gu(q,z)}return null}function X(q,z,Y,se){var Ae=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:C(q,z,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return Y.key===Ae?P(q,z,Y,se):null;case O:return Y.key===Ae?$(q,z,Y,se):null;case R:return Y=Ks(Y),X(q,z,Y,se)}if(be(Y)||k(Y))return Ae!==null?null:ie(q,z,Y,se,null);if(typeof Y.then=="function")return X(q,z,Fu(Y),se);if(Y.$$typeof===W)return X(q,z,Bu(q,Y),se);Gu(q,Y)}return null}function te(q,z,Y,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,C(z,q,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case M:return q=q.get(se.key===null?Y:se.key)||null,P(z,q,se,Ae);case O:return q=q.get(se.key===null?Y:se.key)||null,$(z,q,se,Ae);case R:return se=Ks(se),te(q,z,Y,se,Ae)}if(be(se)||k(se))return q=q.get(Y)||null,ie(z,q,se,Ae,null);if(typeof se.then=="function")return te(q,z,Y,Fu(se),Ae);if(se.$$typeof===W)return te(q,z,Y,Bu(z,se),Ae);Gu(z,se)}return null}function ye(q,z,Y,se){for(var Ae=null,We=null,Se=z,ke=z=0,Ge=null;Se!==null&&ke<Y.length;ke++){Se.index>ke?(Ge=Se,Se=null):Ge=Se.sibling;var Je=X(q,Se,Y[ke],se);if(Je===null){Se===null&&(Se=Ge);break}t&&Se&&Je.alternate===null&&r(q,Se),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je,Se=Ge}if(ke===Y.length)return a(q,Se),Ye&&ur(q,ke),Ae;if(Se===null){for(;ke<Y.length;ke++)Se=ae(q,Y[ke],se),Se!==null&&(z=d(Se,z,ke),We===null?Ae=Se:We.sibling=Se,We=Se);return Ye&&ur(q,ke),Ae}for(Se=l(Se);ke<Y.length;ke++)Ge=te(Se,q,ke,Y[ke],se),Ge!==null&&(t&&Ge.alternate!==null&&Se.delete(Ge.key===null?ke:Ge.key),z=d(Ge,z,ke),We===null?Ae=Ge:We.sibling=Ge,We=Ge);return t&&Se.forEach(function(us){return r(q,us)}),Ye&&ur(q,ke),Ae}function Re(q,z,Y,se){if(Y==null)throw Error(s(151));for(var Ae=null,We=null,Se=z,ke=z=0,Ge=null,Je=Y.next();Se!==null&&!Je.done;ke++,Je=Y.next()){Se.index>ke?(Ge=Se,Se=null):Ge=Se.sibling;var us=X(q,Se,Je.value,se);if(us===null){Se===null&&(Se=Ge);break}t&&Se&&us.alternate===null&&r(q,Se),z=d(us,z,ke),We===null?Ae=us:We.sibling=us,We=us,Se=Ge}if(Je.done)return a(q,Se),Ye&&ur(q,ke),Ae;if(Se===null){for(;!Je.done;ke++,Je=Y.next())Je=ae(q,Je.value,se),Je!==null&&(z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return Ye&&ur(q,ke),Ae}for(Se=l(Se);!Je.done;ke++,Je=Y.next())Je=te(Se,q,ke,Je.value,se),Je!==null&&(t&&Je.alternate!==null&&Se.delete(Je.key===null?ke:Je.key),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return t&&Se.forEach(function(vC){return r(q,vC)}),Ye&&ur(q,ke),Ae}function ct(q,z,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===U&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:e:{for(var Ae=Y.key;z!==null;){if(z.key===Ae){if(Ae=Y.type,Ae===U){if(z.tag===7){a(q,z.sibling),se=f(z,Y.props.children),se.return=q,q=se;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ks(Ae)===z.type){a(q,z.sibling),se=f(z,Y.props),tl(se,Y),se.return=q,q=se;break e}a(q,z);break}else r(q,z);z=z.sibling}Y.type===U?(se=qs(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=ku(Y.type,Y.key,Y.props,null,q.mode,se),tl(se,Y),se.return=q,q=se)}return E(q);case O:e:{for(Ae=Y.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){a(q,z.sibling),se=f(z,Y.children||[]),se.return=q,q=se;break e}else{a(q,z);break}else r(q,z);z=z.sibling}se=tf(Y,q.mode,se),se.return=q,q=se}return E(q);case R:return Y=Ks(Y),ct(q,z,Y,se)}if(be(Y))return ye(q,z,Y,se);if(k(Y)){if(Ae=k(Y),typeof Ae!="function")throw Error(s(150));return Y=Ae.call(Y),Re(q,z,Y,se)}if(typeof Y.then=="function")return ct(q,z,Fu(Y),se);if(Y.$$typeof===W)return ct(q,z,Bu(q,Y),se);Gu(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(a(q,z.sibling),se=f(z,Y),se.return=q,q=se):(a(q,z),se=ef(Y,q.mode,se),se.return=q,q=se),E(q)):a(q,z)}return function(q,z,Y,se){try{el=0;var Ae=ct(q,z,Y,se);return Ba=null,Ae}catch(Se){if(Se===za||Se===qu)throw Se;var We=Pn(29,Se,null,q.mode);return We.lanes=se,We.return=q,We}finally{}}}var $s=fm(!0),dm=fm(!1),Qr=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Pu(t),Zg(t,null,a),r}return Vu(t,l,r,a),Pu(t)}function nl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}function mf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var vf=!1;function il(){if(vf){var t=Ua;if(t!==null)throw t}}function rl(t,r,a,l){vf=!1;var f=t.updateQueue;Qr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var P=C,$=P.next;P.next=null,E===null?d=$:E.next=$,E=P;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==E&&(C===null?ie.firstBaseUpdate=$:C.next=$,ie.lastBaseUpdate=P))}if(d!==null){var ae=f.baseState;E=0,ie=$=P=null,C=d;do{var X=C.lane&-536870913,te=X!==C.lane;if(te?(Fe&X)===X:(l&X)===X){X!==0&&X===ka&&(vf=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=t,Re=C;X=r;var ct=a;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ae=ye.call(ct,ae,X);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,X=typeof ye=="function"?ye.call(ct,ae,X):ye,X==null)break e;ae=b({},ae,X);break e;case 2:Qr=!0}}X=C.callback,X!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[X]:te.push(X))}else te={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?($=ie=te,P=ae):ie=ie.next=te,E|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;te=C,C=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ie===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=$,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),Jr|=E,t.lanes=E,t.memoizedState=ae}}function pm(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function gm(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pm(a[t],r)}var ja=V(null),Qu=V(0);function mm(t,r){t=Er,re(Qu,t),re(ja,r),Er=t|r.baseLanes}function yf(){re(Qu,Er),re(ja,ja.current)}function _f(){Er=Qu.current,J(ja),J(Qu)}var kn=V(null),Jn=null;function $r(t){var r=t.alternate;re(Mt,Mt.current&1),re(kn,t),Jn===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(Jn=t)}function Ef(t){re(Mt,Mt.current),re(kn,t),Jn===null&&(Jn=t)}function vm(t){t.tag===22?(re(Mt,Mt.current),re(kn,t),Jn===null&&(Jn=t)):Zr()}function Zr(){re(Mt,Mt.current),re(kn,kn.current)}function Un(t){J(kn),Jn===t&&(Jn=null),J(Mt)}var Mt=V(0);function Ku(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Ld(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Pe=null,lt=null,kt=null,Yu=!1,qa=!1,Zs=!1,$u=0,sl=0,Ha=null,o1=0;function Ct(){throw Error(s(321))}function bf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Vn(t[a],r[a]))return!1;return!0}function Sf(t,r,a,l,f,d){return fr=d,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?ev:kf,Zs=!1,d=a(l,f),Zs=!1,qa&&(d=_m(r,a,l,f)),ym(t),d}function ym(t){K.H=ll;var r=lt!==null&&lt.next!==null;if(fr=0,kt=lt=Pe=null,Yu=!1,sl=0,Ha=null,r)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&zu(t)&&(Ut=!0))}function _m(t,r,a,l){Pe=t;var f=0;do{if(qa&&(Ha=null),sl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,kt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=tv,d=r(a,l)}while(qa);return d}function l1(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?al(r):r,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Pe.flags|=1024),r}function Tf(){var t=$u!==0;return $u=0,t}function Cf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wf(t){if(Yu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Yu=!1}fr=0,kt=lt=Pe=null,qa=!1,sl=$u=0,Ha=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=t:kt=kt.next=t,kt}function Ot(){if(lt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var r=kt===null?Pe.memoizedState:kt.next;if(r!==null)kt=r,lt=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},kt===null?Pe.memoizedState=kt=t:kt=kt.next=t}return kt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var r=sl;return sl+=1,Ha===null&&(Ha=[]),t=um(Ha,t,r),r=Pe,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?ev:kf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===W)return nn(t)}throw Error(s(438,String(t)))}function Af(t){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zu(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function dr(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=Ot();return Lf(r,lt,t)}function Lf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var C=E=null,P=null,$=r,ie=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(Fe&ae)===ae:(fr&ae)===ae){var X=$.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===ka&&(ie=!0);else if((fr&X)===X){$=$.next,X===ka&&(ie=!0);continue}else ae={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(C=P=ae,E=d):P=P.next=ae,Pe.lanes|=X,Jr|=X;ae=$.action,Zs&&a(d,ae),d=$.hasEagerState?$.eagerState:a(d,ae)}else X={lane:ae,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(C=P=X,E=d):P=P.next=X,Pe.lanes|=ae,Jr|=ae;$=$.next}while($!==null&&$!==r);if(P===null?E=d:P.next=C,!Vn(d,t.memoizedState)&&(Ut=!0,ie&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=P,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Vn(d,r.memoizedState)||(Ut=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Em(t,r,a){var l=Pe,f=Ot(),d=Ye;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Vn((lt||f).memoizedState,a);if(E&&(f.memoizedState=a,Ut=!0),f=f.queue,Df(Tm.bind(null,l,f,t),[t]),f.getSnapshot!==r||E||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Sm.bind(null,l,f,a,r),null),ht===null)throw Error(s(349));d||(fr&127)!==0||bm(l,r,a)}return a}function bm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=Zu(),Pe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Sm(t,r,a,l){r.value=a,r.getSnapshot=l,Cm(r)&&wm(t)}function Tm(t,r,a){return a(function(){Cm(r)&&wm(t)})}function Cm(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Vn(t,a)}catch{return!0}}function wm(t){var r=js(t,2);r!==null&&Ln(r,t,2)}function Mf(t){var r=_n();if(typeof t=="function"){var a=t;if(t=a(),Zs){Jt(!0);try{a()}finally{Jt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},r}function Am(t,r,a,l){return t.baseState=a,Lf(t,lt,typeof l=="function"?l:dr)}function u1(t,r,a,l,f){if(tc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Lm(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Lm(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=K.T,E={};K.T=E;try{var C=a(f,l),P=K.S;P!==null&&P(E,C),Rm(t,r,C)}catch($){Of(t,r,$)}finally{d!==null&&E.types!==null&&(d.types=E.types),K.T=d}}else try{d=a(f,l),Rm(t,r,d)}catch($){Of(t,r,$)}}function Rm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mm(t,r,l)},function(l){return Of(t,r,l)}):Mm(t,r,a)}function Mm(t,r,a){r.status="fulfilled",r.value=a,Om(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Lm(t,a)))}function Of(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Om(r),r=r.next;while(r!==l)}t.action=null}function Om(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Dm(t,r){return r}function xm(t,r){if(Ye){var a=ht.formState;if(a!==null){e:{var l=Pe;if(Ye){if(pt){t:{for(var f=pt,d=Wn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){pt=ei(f.nextSibling),l=f.data==="F!";break e}}Fr(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:r},a.queue=l,a=Xm.bind(null,Pe,l),l.dispatch=a,l=Mf(!1),d=Pf.bind(null,Pe,!1,l.queue),l=_n(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=u1.bind(null,Pe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Im(t){var r=Ot();return Nm(r,lt,t)}function Nm(t,r,a){if(r=Lf(t,r,Dm)[0],t=Wu(dr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=al(r)}catch(E){throw E===za?qu:E}else l=r;r=Ot();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,Fa(9,{destroy:void 0},c1.bind(null,f,a),null)),[l,d,t]}function c1(t,r){t.action=r}function Vm(t){var r=Ot(),a=lt;if(a!==null)return Nm(r,a,t);Ot(),r=r.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Fa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Zu(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Pm(){return Ot().memoizedState}function Ju(t,r,a,l){var f=_n();Pe.flags|=t,f.memoizedState=Fa(1|r,{destroy:void 0},a,l===void 0?null:l)}function ec(t,r,a,l){var f=Ot();l=l===void 0?null:l;var d=f.memoizedState.inst;lt!==null&&l!==null&&bf(l,lt.memoizedState.deps)?f.memoizedState=Fa(r,d,a,l):(Pe.flags|=t,f.memoizedState=Fa(1|r,d,a,l))}function km(t,r){Ju(8390656,8,t,r)}function Df(t,r){ec(2048,8,t,r)}function h1(t){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Zu(),Pe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Um(t){var r=Ot().memoizedState;return h1({ref:r,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function zm(t,r){return ec(4,2,t,r)}function Bm(t,r){return ec(4,4,t,r)}function jm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qm(t,r,a){a=a!=null?a.concat([t]):null,ec(4,4,jm.bind(null,r,t),a)}function xf(){}function Hm(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&bf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Fm(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&bf(r,l[1]))return l[0];if(l=t(),Zs){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,r],l}function If(t,r,a){return a===void 0||(fr&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Gv(),Pe.lanes|=t,Jr|=t,a)}function Gm(t,r,a,l){return Vn(a,r)?a:ja.current!==null?(t=If(t,a,l),Vn(t,r)||(Ut=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(Fe&261930)===0?(Ut=!0,t.memoizedState=a):(t=Gv(),Pe.lanes|=t,Jr|=t,r)}function Qm(t,r,a,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=K.T,C={};K.T=C,Pf(t,!1,r,a);try{var P=f(),$=K.S;if($!==null&&$(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ie=a1(P,l);ol(t,r,ie,jn(t))}else ol(t,r,l,jn(t))}catch(ae){ol(t,r,{then:function(){},status:"rejected",reason:ae},jn())}finally{ce.p=d,E!==null&&C.types!==null&&(E.types=C.types),K.T=E}}function f1(){}function Nf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Km(t).queue;Qm(t,f,r,fe,a===null?f1:function(){return Ym(t),a(l)})}function Km(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ym(t){var r=Km(t);r.next===null&&(r=t.alternate.memoizedState),ol(t,r.next.queue,{},jn())}function Vf(){return nn(Cl)}function $m(){return Ot().memoizedState}function Zm(){return Ot().memoizedState}function d1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=jn();t=Kr(a);var l=Yr(r,t,a);l!==null&&(Ln(l,r,a),nl(l,r,a)),r={cache:cf()},t.payload=r;return}r=r.return}}function p1(t,r,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Wm(r,a):(a=Wh(t,r,a,l),a!==null&&(Ln(a,t,l),Jm(a,r,l)))}function Xm(t,r,a){var l=jn();ol(t,r,a,l)}function ol(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Wm(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,C=d(E,a);if(f.hasEagerState=!0,f.eagerState=C,Vn(C,E))return Vu(t,r,f,0),ht===null&&Nu(),!1}catch{}finally{}if(a=Wh(t,r,f,l),a!==null)return Ln(a,t,l),Jm(a,r,l),!0}return!1}function Pf(t,r,a,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(r)throw Error(s(479))}else r=Wh(t,a,l,2),r!==null&&Ln(r,t,2)}function tc(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function Wm(t,r){qa=Yu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Jm(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}var ll={readContext:nn,use:Xu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ll.useEffectEvent=Ct;var ev={readContext:nn,use:Xu,useCallback:function(t,r){return _n().memoizedState=[t,r===void 0?null:r],t},useContext:nn,useEffect:km,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,jm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ju(4194308,4,t,r)},useInsertionEffect:function(t,r){Ju(4,2,t,r)},useMemo:function(t,r){var a=_n();r=r===void 0?null:r;var l=t();if(Zs){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=_n();if(a!==void 0){var f=a(r);if(Zs){Jt(!0);try{a(r)}finally{Jt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=p1.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var r=_n();return t={current:t},r.memoizedState=t},useState:function(t){t=Mf(t);var r=t.queue,a=Xm.bind(null,Pe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,r){var a=_n();return If(a,t,r)},useTransition:function(){var t=Mf(!1);return t=Qm.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Pe,f=_n();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ht===null)throw Error(s(349));(Fe&127)!==0||bm(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,km(Tm.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Sm.bind(null,l,d,a,r),null),a},useId:function(){var t=_n(),r=ht.identifierPrefix;if(Ye){var a=ki,l=Pi;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=$u++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=o1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Vf,useFormState:xm,useActionState:xm,useOptimistic:function(t){var r=_n();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Pf.bind(null,Pe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Af,useCacheRefresh:function(){return _n().memoizedState=d1.bind(null,Pe)},useEffectEvent:function(t){var r=_n(),a={impl:t};return r.memoizedState=a,function(){if((nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:nn,use:Xu,useCallback:Hm,useContext:nn,useEffect:Df,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Fm,useReducer:Wu,useRef:Pm,useState:function(){return Wu(dr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Ot();return Gm(a,lt.memoizedState,t,r)},useTransition:function(){var t=Wu(dr)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:Em,useId:$m,useHostTransitionStatus:Vf,useFormState:Im,useActionState:Im,useOptimistic:function(t,r){var a=Ot();return Am(a,lt,t,r)},useMemoCache:Af,useCacheRefresh:Zm};kf.useEffectEvent=Um;var tv={readContext:nn,use:Xu,useCallback:Hm,useContext:nn,useEffect:Df,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Fm,useReducer:Rf,useRef:Pm,useState:function(){return Rf(dr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Ot();return lt===null?If(a,t,r):Gm(a,lt.memoizedState,t,r)},useTransition:function(){var t=Rf(dr)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:Em,useId:$m,useHostTransitionStatus:Vf,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,r){var a=Ot();return lt!==null?Am(a,lt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Zm};tv.useEffectEvent=Um;function Uf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=jn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=Yr(t,f,l),r!==null&&(Ln(r,t,l),nl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=jn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Yr(t,f,l),r!==null&&(Ln(r,t,l),nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=jn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Yr(t,l,a),r!==null&&(Ln(r,t,a),nl(r,t,a))}};function nv(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(f,d):!0}function iv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&zf.enqueueReplaceState(r,r.state,null)}function Xs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function rv(t){Iu(t)}function sv(t){console.error(t)}function av(t){Iu(t)}function nc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ov(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bf(t,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,r)},a}function lv(t){return t=Kr(t),t.tag=3,t}function uv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){ov(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ov(r,a,l),typeof f!="function"&&(es===null?es=new Set([this]):es.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function g1(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Pa(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?pc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Hu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),hd(t,l,f)),!1;case 22:return a.flags|=65536,l===Hu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),hd(t,l,f)),!1}throw Error(s(435,a.tag))}return hd(t,l,f),pc(),!1}if(Ye)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==sf&&(t=Error(s(422),{cause:l}),Xo($n(t,a)))):(l!==sf&&(r=Error(s(423),{cause:l}),Xo($n(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=$n(l,a),f=Bf(t.stateNode,l,f),mf(t,f),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:l});if(d=$n(d,a),ml===null?ml=[d]:ml.push(d),wt!==4&&(wt=2),r===null)return!0;l=$n(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Bf(a.stateNode,l,t),mf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,t,a,l),mf(a,f),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),Ut=!1;function rn(t,r,a,l){r.child=t===null?dm(r,null,a,l):$s(r,t.child,a,l)}function cv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var C in l)C!=="ref"&&(E[C]=l[C])}else E=l;return Gs(r),l=Sf(t,r,a,E,d,f),C=Tf(),t!==null&&!Ut?(Cf(t,r,f),pr(t,r,f)):(Ye&&C&&nf(r),r.flags|=1,rn(t,r,l,f),r.child)}function hv(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,fv(t,r,d,l,f)):(t=ku(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!$f(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(E,l)&&t.ref===r.ref)return pr(t,r,f)}return r.flags|=1,t=lr(d,l),t.ref=r.ref,t.return=r,r.child=t}function fv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===r.ref)if(Ut=!1,r.pendingProps=l=d,$f(t,f))(t.flags&131072)!==0&&(Ut=!0);else return r.lanes=t.lanes,pr(t,r,f)}return qf(t,r,a,l,f)}function dv(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return pv(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(r,d!==null?d.cachePool:null),d!==null?mm(r,d):yf(),vm(r);else return l=r.lanes=536870912,pv(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ju(r,d.cachePool),mm(r,d),Zr(),r.memoizedState=null):(t!==null&&ju(r,null),yf(),Zr());return rn(t,r,f,a),r.child}function ul(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function pv(t,r,a,l,f){var d=ff();return d=d===null?null:{parent:Pt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&ju(r,null),yf(),vm(r),t!==null&&Pa(t,r,l,!0),r.childLanes=f,null}function ic(t,r){return r=sc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function gv(t,r,a){return $s(r,t.child,null,a),t=ic(r,r.pendingProps),t.flags|=2,Un(r),r.memoizedState=null,t}function m1(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=ic(r,l),r.lanes=536870912,ul(null,t);if(Ef(r),(t=pt)?(t=Ly(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,tn=r,pt=null)):t=null,t===null)throw Fr(r);return r.lanes=536870912,null}return ic(r,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(Ef(r),f)if(r.flags&256)r.flags&=-257,r=gv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||Pa(t,r,a,!1),f=(a&t.childLanes)!==0,Ut||f){if(l=ht,l!==null&&(E=Oo(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,js(t,E),Ln(l,t,E),jf;pc(),r=gv(t,r,a)}else t=d.treeContext,pt=ei(E.nextSibling),tn=r,Ye=!0,Hr=null,Wn=!1,t!==null&&tm(r,t),r=ic(r,l),r.flags|=4096;return r}return t=lr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function rc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function qf(t,r,a,l,f){return Gs(r),a=Sf(t,r,a,l,void 0,f),l=Tf(),t!==null&&!Ut?(Cf(t,r,f),pr(t,r,f)):(Ye&&l&&nf(r),r.flags|=1,rn(t,r,a,f),r.child)}function mv(t,r,a,l,f,d){return Gs(r),r.updateQueue=null,a=_m(r,l,a,f),ym(t),l=Tf(),t!==null&&!Ut?(Cf(t,r,d),pr(t,r,d)):(Ye&&l&&nf(r),r.flags|=1,rn(t,r,a,d),r.child)}function vv(t,r,a,l,f){if(Gs(r),r.stateNode===null){var d=xa,E=a.contextType;typeof E=="object"&&E!==null&&(d=nn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},pf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?nn(E):xa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Uf(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&zf.enqueueReplaceState(d,d.state,null),rl(r,l,d,f),il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var C=r.memoizedProps,P=Xs(a,C);d.props=P;var $=d.context,ie=a.contextType;E=xa,typeof ie=="object"&&ie!==null&&(E=nn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||$!==E)&&iv(r,d,l,E),Qr=!1;var X=r.memoizedState;d.state=X,rl(r,l,d,f),il(),$=r.memoizedState,C||X!==$||Qr?(typeof ae=="function"&&(Uf(r,a,ae,l),$=r.memoizedState),(P=Qr||nv(r,a,P,l,X,$,E))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=E,l=P):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,gf(t,r),E=r.memoizedProps,ie=Xs(a,E),d.props=ie,ae=r.pendingProps,X=d.context,$=a.contextType,P=xa,typeof $=="object"&&$!==null&&(P=nn($)),C=a.getDerivedStateFromProps,($=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ae||X!==P)&&iv(r,d,l,P),Qr=!1,X=r.memoizedState,d.state=X,rl(r,l,d,f),il();var te=r.memoizedState;E!==ae||X!==te||Qr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof C=="function"&&(Uf(r,a,C,l),te=r.memoizedState),(ie=Qr||nv(r,a,ie,l,X,te,P)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,te,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,te,P)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=te),d.props=l,d.state=te,d.context=P,l=ie):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,rc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=$s(r,t.child,null,f),r.child=$s(r,null,a,f)):rn(t,r,a,f),r.memoizedState=d.state,t=r.child):t=pr(t,r,f),t}function yv(t,r,a,l){return Hs(),r.flags|=256,rn(t,r,a,l),r.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:om()}}function Gf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Bn),t}function _v(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ye){if(f?$r(r):Zr(),(t=pt)?(t=Ly(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,tn=r,pt=null)):t=null,t===null)throw Fr(r);return Ld(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(Zr(),f=r.mode,C=sc({mode:"hidden",children:C},f),l=qs(l,f,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,E,a),r.memoizedState=Hf,ul(null,l)):($r(r),Qf(r,C))}var P=t.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(d)r.flags&256?($r(r),r.flags&=-257,r=Kf(t,r,a)):r.memoizedState!==null?(Zr(),r.child=t.child,r.flags|=128,r=null):(Zr(),C=l.fallback,f=r.mode,l=sc({mode:"visible",children:l.children},f),C=qs(C,f,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,$s(r,t.child,null,a),l=r.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,E,a),r.memoizedState=Hf,r=ul(null,l));else if($r(r),Ld(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(s(419)),l.stack="",l.digest=E,Xo({value:l,source:null,stack:null}),r=Kf(t,r,a)}else if(Ut||Pa(t,r,a,!1),E=(a&t.childLanes)!==0,Ut||E){if(E=ht,E!==null&&(l=Oo(E,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,js(t,l),Ln(E,t,l),jf;Ad(C)||pc(),r=Kf(t,r,a)}else Ad(C)?(r.flags|=192,r.child=t.child,r=null):(t=P.treeContext,pt=ei(C.nextSibling),tn=r,Ye=!0,Hr=null,Wn=!1,t!==null&&tm(r,t),r=Qf(r,l.children),r.flags|=4096);return r}return f?(Zr(),C=l.fallback,f=r.mode,P=t.child,$=P.sibling,l=lr(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,$!==null?C=lr($,C):(C=qs(C,f,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,ul(null,l),l=r.child,C=t.child.memoizedState,C===null?C=Ff(a):(f=C.cachePool,f!==null?(P=Pt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=om(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=Gf(t,E,a),r.memoizedState=Hf,ul(t.child,l)):($r(r),a=t.child,t=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Qf(t,r){return r=sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function sc(t,r){return t=Pn(22,t,null,r),t.lanes=0,t}function Kf(t,r,a){return $s(r,t.child,null,a),t=Qf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ev(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),lf(t.return,r,a)}function Yf(t,r,a,l,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function bv(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=Mt.current,C=(E&2)!==0;if(C?(E=E&1|2,r.flags|=128):E&=1,re(Mt,E),rn(t,r,l,a),l=Ye?Zo:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,a,r);else if(t.tag===19)Ev(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yf(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ku(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yf(r,!0,a,null,d,l);break;case"together":Yf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function pr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Pa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=lr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=lr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function $f(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function v1(t,r,a){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),Gr(r,Pt,t.memoizedState.cache),Hs();break;case 27:case 5:we(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ef(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_v(t,r,a):($r(r),t=pr(t,r,a),t!==null?t.sibling:null);$r(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Pa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return bv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Mt,Mt.current),l)break;return null;case 22:return r.lanes=0,dv(t,r,a,r.pendingProps);case 24:Gr(r,Pt,t.memoizedState.cache)}return pr(t,r,a)}function Sv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ut=!0;else{if(!$f(t,a)&&(r.flags&128)===0)return Ut=!1,v1(t,r,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ye&&(r.flags&1048576)!==0&&em(r,Zo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ks(r.elementType),r.type=t,typeof t=="function")Jh(t)?(l=Xs(t,l),r.tag=1,r=vv(null,r,t,l,a)):(r.tag=0,r=qf(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===G){r.tag=11,r=cv(null,r,t,l,a);break e}else if(f===A){r.tag=14,r=hv(null,r,t,l,a);break e}}throw r=me(t)||t,Error(s(306,r,""))}}return r;case 0:return qf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Xs(l,r.pendingProps),vv(t,r,l,f,a);case 3:e:{if(Ce(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,gf(t,r),rl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Gr(r,Pt,l),l!==d.cache&&uf(r,[Pt],a,!0),il(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=yv(t,r,l,a);break e}else if(l!==f){f=$n(Error(s(424)),r),Xo(f),r=yv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ei(t.firstChild),tn=r,Ye=!0,Hr=null,Wn=!0,a=dm(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===f){r=pr(t,r,a);break e}rn(t,r,l,a)}r=r.child}return r;case 26:return rc(t,r),t===null?(a=Iy(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,t=r.pendingProps,l=bc(ve.current).createElement(a),l[It]=r,l[Yt]=t,sn(l,a,t),Nt(l),r.stateNode=l):r.memoizedState=Iy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return we(r),t===null&&Ye&&(l=r.stateNode=Oy(r.type,r.pendingProps,ve.current),tn=r,Wn=!0,f=pt,rs(r.type)?(Rd=f,pt=ei(l.firstChild)):pt=f),rn(t,r,r.pendingProps.children,a),rc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ye&&((f=l=pt)&&(l=K1(l,r.type,r.pendingProps,Wn),l!==null?(r.stateNode=l,tn=r,pt=ei(l.firstChild),Wn=!1,f=!0):f=!1),f||Fr(r)),we(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Td(f,d)?l=null:E!==null&&Td(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Sf(t,r,l1,null,null,a),Cl._currentValue=f),rc(t,r),rn(t,r,l,a),r.child;case 6:return t===null&&Ye&&((t=a=pt)&&(a=Y1(a,r.pendingProps,Wn),a!==null?(r.stateNode=a,tn=r,pt=null,t=!0):t=!1),t||Fr(r)),null;case 13:return _v(t,r,a);case 4:return Ce(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$s(r,null,l,a):rn(t,r,l,a),r.child;case 11:return cv(t,r,r.type,r.pendingProps,a);case 7:return rn(t,r,r.pendingProps,a),r.child;case 8:return rn(t,r,r.pendingProps.children,a),r.child;case 12:return rn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),rn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Gs(r),f=nn(f),l=l(f),r.flags|=1,rn(t,r,l,a),r.child;case 14:return hv(t,r,r.type,r.pendingProps,a);case 15:return fv(t,r,r.type,r.pendingProps,a);case 19:return bv(t,r,a);case 31:return m1(t,r,a);case 22:return dv(t,r,a,r.pendingProps);case 24:return Gs(r),l=nn(Pt),t===null?(f=ff(),f===null&&(f=ht,d=cf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},pf(r),Gr(r,Pt,f)):((t.lanes&a)!==0&&(gf(t,r),rl(r,null,null,a),il()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gr(r,Pt,l)):(l=d.cache,Gr(r,Pt,l),l!==f.cache&&uf(r,[Pt],a,!0))),rn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gr(t){t.flags|=4}function Zf(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if($v())t.flags|=8192;else throw Ys=Hu,df}else t.flags&=-16777217}function Tv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uy(r))if($v())t.flags|=8192;else throw Ys=Hu,df}function ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?tr():536870912,t.lanes|=r,Ya|=r)}function cl(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function y1(t,r,a){var l=r.pendingProps;switch(rf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),hr(Pt),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(r)?gr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,af())),gt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(gr(r),d!==null?(gt(r),Tv(r,d)):(gt(r),Zf(r,f,null,l,a))):d?d!==t.memoizedState?(gr(r),gt(r),Tv(r,d)):(gt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&gr(r),gt(r),Zf(r,f,t,l,a)),null;case 27:if(ze(r),a=ve.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}t=he.current,Va(r)?nm(r):(t=Oy(f,l,a),r.stateNode=t,gr(r))}return gt(r),null;case 5:if(ze(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(d=he.current,Va(r))nm(r);else{var E=bc(ve.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[It]=r,d[Yt]=l;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=d;e:switch(sn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gr(r)}}return gt(r),Zf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ve.current,Va(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_y(t.nodeValue,a)),t||Fr(r,!0)}else t=bc(t).createTextNode(l),t[It]=r,r.stateNode=t}return gt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Va(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else f=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ac(r,r.updateQueue),gt(r),null);case 4:return De(),t===null&&yd(r.stateNode.containerInfo),gt(r),null;case 10:return hr(r.type),gt(r),null;case 19:if(J(Mt),l=r.memoizedState,l===null)return gt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)cl(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Ku(t),d!==null){for(r.flags|=128,cl(l,!1),t=d.updateQueue,r.updateQueue=t,ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Xg(a,t),a=a.sibling;return re(Mt,Mt.current&1|2),Ye&&ur(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Kt()>hc&&(r.flags|=128,f=!0,cl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Ku(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,ac(r,t),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ye)return gt(r),null}else 2*Kt()-l.renderingStartTime>hc&&a!==536870912&&(r.flags|=128,f=!0,cl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=Mt.current,re(Mt,f?a&1|2:a&1),Ye&&ur(r,l.treeForkCount),t):(gt(r),null);case 22:case 23:return Un(r),_f(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),hr(Pt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _1(t,r){switch(rf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hr(Pt),De(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Un(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(Mt),null;case 4:return De(),null;case 10:return hr(r.type),null;case 22:case 23:return Un(r),_f(),t!==null&&J(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hr(Pt),null;case 25:return null;default:return null}}function Cv(t,r){switch(rf(r),r.tag){case 3:hr(Pt),De();break;case 26:case 27:case 5:ze(r);break;case 4:De();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:J(Mt);break;case 10:hr(r.type);break;case 22:case 23:Un(r),_f(),t!==null&&J(Qs);break;case 24:hr(Pt)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(C){at(r,r.return,C)}}function Xr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,f=r;var P=a,$=C;try{$()}catch(ie){at(f,P,ie)}}}l=l.next}while(l!==d)}}catch(ie){at(r,r.return,ie)}}function wv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{gm(r,a)}catch(l){at(t,t.return,l)}}}function Av(t,r,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){at(t,r,f)}}function Ui(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){at(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(t,r,f)}else a.current=null}function Lv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){at(t,t.return,f)}}function Xf(t,r,a){try{var l=t.stateNode;j1(l,t.type,a,r),l[Yt]=r}catch(f){at(t,t.return,f)}}function Rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=li));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Jf(t,r,a),t=t.sibling;t!==null;)Jf(t,r,a),t=t.sibling}function oc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,r,a),t=t.sibling;t!==null;)oc(t,r,a),t=t.sibling}function Mv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,l,a),r[It]=t,r[Yt]=a}catch(d){at(t,t.return,d)}}var mr=!1,zt=!1,ed=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function E1(t,r){if(t=t.containerInfo,bd=Rc,t=qg(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,C=-1,P=-1,$=0,ie=0,ae=t,X=null;t:for(;;){for(var te;ae!==a||f!==0&&ae.nodeType!==3||(C=E+f),ae!==d||l!==0&&ae.nodeType!==3||(P=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(te=ae.firstChild)!==null;)X=ae,ae=te;for(;;){if(ae===t)break t;if(X===a&&++$===f&&(C=E),X===d&&++ie===l&&(P=E),(te=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=te}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Rc=!1,Zt=r;Zt!==null;)if(r=Zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Zt=t;else for(;Zt!==null;){switch(r=Zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=Xs(a.type,f);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){at(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Zt=t;break}Zt=r.return}}function Dv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yr(t,a),l&4&&hl(5,a);break;case 1:if(yr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){at(a,a.return,E)}else{var f=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){at(a,a.return,E)}}l&64&&wv(a),l&512&&fl(a,a.return);break;case 3:if(yr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{gm(t,r)}catch(E){at(a,a.return,E)}}break;case 27:r===null&&l&4&&Mv(a);case 26:case 5:yr(t,a),r===null&&l&4&&Lv(a),l&512&&fl(a,a.return);break;case 12:yr(t,a);break;case 31:yr(t,a),l&4&&Nv(t,a);break;case 13:yr(t,a),l&4&&Vv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=M1.bind(null,a),$1(t,a))));break;case 22:if(l=a.memoizedState!==null||mr,!l){r=r!==null&&r.memoizedState!==null||zt,f=mr;var d=zt;mr=l,(zt=r)&&!d?_r(t,a,(a.subtreeFlags&8772)!==0):yr(t,a),mr=f,zt=d}break;case 30:break;default:yr(t,a)}}function xv(t){var r=t.alternate;r!==null&&(t.alternate=null,xv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ya(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Tn=!1;function vr(t,r,a){for(a=a.child;a!==null;)Iv(t,r,a),a=a.sibling}function Iv(t,r,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||Ui(a,r),vr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Ui(a,r);var l=_t,f=Tn;rs(a.type)&&(_t=a.stateNode,Tn=!1),vr(t,r,a),bl(a.stateNode),_t=l,Tn=f;break;case 5:zt||Ui(a,r);case 6:if(l=_t,f=Tn,_t=null,vr(t,r,a),_t=l,Tn=f,_t!==null)if(Tn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,r,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,r,d)}break;case 18:_t!==null&&(Tn?(t=_t,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):wy(_t,a.stateNode));break;case 4:l=_t,f=Tn,_t=a.stateNode.containerInfo,Tn=!0,vr(t,r,a),_t=l,Tn=f;break;case 0:case 11:case 14:case 15:Xr(2,a,r),zt||Xr(4,a,r),vr(t,r,a);break;case 1:zt||(Ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,r,l)),vr(t,r,a);break;case 21:vr(t,r,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,vr(t,r,a),zt=l;break;default:vr(t,r,a)}}function Nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){at(r,r.return,a)}}}function Vv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){at(r,r.return,a)}}function b1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ov),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ov),r;default:throw Error(s(435,t.tag))}}function lc(t,r){var a=b1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=O1.bind(null,t,l);l.then(f,f)}})}function Cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(rs(C.type)){_t=C.stateNode,Tn=!1;break e}break;case 5:_t=C.stateNode,Tn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,Tn=!0;break e}C=C.return}if(_t===null)throw Error(s(160));Iv(d,E,f),_t=null,Tn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Pv(r,t),r=r.sibling}var pi=null;function Pv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(r,t),wn(t),l&4&&(Xr(3,t,t.return),hl(3,t),Xr(5,t,t.return));break;case 1:Cn(r,t),wn(t),l&512&&(zt||a===null||Ui(a,a.return)),l&64&&mr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(Cn(r,t),wn(t),l&512&&(zt||a===null||Ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ci]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),sn(d,l,a),d[It]=t,Nt(d),l=d;break e;case"link":var E=Py("link","href",f).get(l+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(d=E[C],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Py("meta","content",f).get(l+(a.content||""))){for(C=0;C<E.length;C++)if(d=E[C],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,Nt(d),l=d}t.stateNode=l}else ky(f,t.type,t.stateNode);else t.stateNode=Vy(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ky(f,t.type,t.stateNode):Vy(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,t),wn(t),l&512&&(zt||a===null||Ui(a,a.return)),a!==null&&l&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,t),wn(t),l&512&&(zt||a===null||Ui(a,a.return)),t.flags&32){f=t.stateNode;try{Sn(f,"")}catch(ye){at(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(ed=!0);break;case 6:if(Cn(r,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){at(t,t.return,ye)}}break;case 3:if(Cc=null,f=pi,pi=Sc(r.containerInfo),Cn(r,t),pi=f,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(r.containerInfo)}catch(ye){at(t,t.return,ye)}ed&&(ed=!1,kv(t));break;case 4:l=pi,pi=Sc(t.stateNode.containerInfo),Cn(r,t),wn(t),pi=l;break;case 12:Cn(r,t),wn(t);break;case 31:Cn(r,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:Cn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,$=mr,ie=zt;if(mr=$||f,zt=ie||P,Cn(r,t),zt=ie,mr=$,wn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||P||mr||zt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(d=P.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=P.stateNode;var ae=P.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){at(P,P.return,ye)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(ye){at(P,P.return,ye)}}}else if(r.tag===18){if(a===null){P=r;try{var te=P.stateNode;f?Ay(te,!0):Ay(P.stateNode,!1)}catch(ye){at(P,P.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lc(t,a))));break;case 19:Cn(r,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:Cn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Wf(t);oc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Sn(E,""),a.flags&=-33);var C=Wf(t);oc(t,C,E);break;case 3:case 4:var P=a.stateNode.containerInfo,$=Wf(t);Jf(t,$,P);break;default:throw Error(s(161))}}catch(ie){at(t,t.return,ie)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function kv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function yr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Dv(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Xr(4,r,r.return),Ws(r);break;case 1:Ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Av(r,r.return,a),Ws(r);break;case 27:bl(r.stateNode);case 26:case 5:Ui(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function _r(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:_r(f,d,a),hl(4,d);break;case 1:if(_r(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){at(l,l.return,$)}if(l=d,f=l.updateQueue,f!==null){var C=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)pm(P[f],C)}catch($){at(l,l.return,$)}}a&&E&64&&wv(d),fl(d,d.return);break;case 27:Mv(d);case 26:case 5:_r(f,d,a),a&&l===null&&E&4&&Lv(d),fl(d,d.return);break;case 12:_r(f,d,a);break;case 31:_r(f,d,a),a&&E&4&&Nv(f,d);break;case 13:_r(f,d,a),a&&E&4&&Vv(f,d);break;case 22:d.memoizedState===null&&_r(f,d,a),fl(d,d.return);break;case 30:break;default:_r(f,d,a)}r=r.sibling}}function td(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function nd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function gi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uv(t,r,a,l),r=r.sibling}function Uv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(t,r,a,l),f&2048&&hl(9,r);break;case 1:gi(t,r,a,l);break;case 3:gi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(f&2048){gi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,C=d.onPostCommit;typeof C=="function"&&C(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){at(r,r.return,P)}}else gi(t,r,a,l);break;case 31:gi(t,r,a,l);break;case 13:gi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?gi(t,r,a,l):dl(t,r):d._visibility&2?gi(t,r,a,l):(d._visibility|=2,Ga(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&td(E,r);break;case 24:gi(t,r,a,l),f&2048&&nd(r.alternate,r);break;default:gi(t,r,a,l)}}function Ga(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,E=r,C=a,P=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:Ga(d,E,C,P,f),hl(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Ga(d,E,C,P,f):dl(d,E):(ie._visibility|=2,Ga(d,E,C,P,f)),f&&$&2048&&td(E.alternate,E);break;case 24:Ga(d,E,C,P,f),f&&$&2048&&nd(E.alternate,E);break;default:Ga(d,E,C,P,f)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:dl(a,l),f&2048&&td(l.alternate,l);break;case 24:dl(a,l),f&2048&&nd(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var pl=8192;function Qa(t,r,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)zv(t,r,a),t=t.sibling}function zv(t,r,a){switch(t.tag){case 26:Qa(t,r,a),t.flags&pl&&t.memoizedState!==null&&oC(a,pi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,r,a);break;case 3:case 4:var l=pi;pi=Sc(t.stateNode.containerInfo),Qa(t,r,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,Qa(t,r,a),pl=l):Qa(t,r,a));break;default:Qa(t,r,a)}}function Bv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,qv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jv(t),t=t.sibling}function jv(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Xr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,uc(t)):gl(t);break;default:gl(t)}}function uc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,qv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Xr(8,r,r.return),uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,uc(r));break;default:uc(r)}t=t.sibling}}function qv(t,r){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var f=l.sibling,d=l.return;if(xv(l),l===a){Zt=null;break e}if(f!==null){f.return=d,Zt=f;break e}Zt=d}}}var S1={getCacheForType:function(t){var r=nn(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,je=null,Fe=0,st=0,zn=null,Wr=!1,Ka=!1,id=!1,Er=0,wt=0,Jr=0,Js=0,rd=0,Bn=0,Ya=0,ml=null,An=null,sd=!1,cc=0,Hv=0,hc=1/0,fc=null,es=null,Ht=0,ts=null,$a=null,br=0,ad=0,od=null,Fv=null,vl=0,ld=null;function jn(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:K.T!==null?pd():du()}function Gv(){if(Bn===0)if((Fe&536870912)===0||Ye){var t=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function Ln(t,r,a){(t===ht&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Za(t,0),ns(t,Fe,Bn,!1)),nr(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(Js|=a),wt===4&&ns(t,Fe,Bn,!1)),zi(t))}function Qv(t,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||fn(t,r),f=l?A1(t,r):cd(t,r,!0),d=l;do{if(f===0){Ka&&!l&&ns(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!C1(a)){f=cd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var C=t;f=ml;var P=C.current.memoizedState.isDehydrated;if(P&&(Za(C,E).flags|=256),E=cd(C,E,!1),E!==2){if(id&&!P){C.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Za(t,0),ns(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,Bn,!Wr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=cc+300-Kt(),10<f)){if(ns(l,r,Bn,!Wr),Dn(l,0,!0)!==0)break e;br=r,l.timeoutHandle=Ty(Kv.bind(null,l,a,An,fc,sd,r,Bn,Js,Ya,Wr,d,"Throttled",-0,0),f);break e}Kv(l,a,An,fc,sd,r,Bn,Js,Ya,Wr,d,null,-0,0)}}break}while(!0);zi(t)}function Kv(t,r,a,l,f,d,E,C,P,$,ie,ae,X,te){if(t.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},zv(r,d,ae);var ye=(d&62914560)===d?cc-Kt():(d&4194048)===d?Hv-Kt():0;if(ye=lC(ae,ye),ye!==null){br=d,t.cancelPendingCommit=ye(ty.bind(null,t,r,d,a,l,f,E,C,P,ie,ae,null,X,te)),ns(t,d,E,!$);return}}ty(t,r,d,a,l,f,E,C,P)}function C1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,a,l){r&=~rd,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-vt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Me(t,a,r)}function dc(){return(nt&6)===0?(yl(0),!1):!0}function ud(){if(je!==null){if(st===0)var t=je.return;else t=je,cr=Fs=null,wf(t),Ba=null,el=0,t=je;for(;t!==null;)Cv(t.alternate,t),t=t.return;je=null}}function Za(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,F1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),br=0,ud(),ht=t,je=a=lr(t.current,null),Fe=r,st=0,zn=null,Wr=!1,Ka=fn(t,r),id=!1,Ya=Bn=rd=Js=Jr=wt=0,An=ml=null,sd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-vt(l),d=1<<f;r|=t[f],l&=~d}return Er=r,Nu(),a}function Yv(t,r){Pe=null,K.H=ll,r===za||r===qu?(r=cm(),st=3):r===df?(r=cm(),st=4):st=r===jf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,je===null&&(wt=1,nc(t,$n(r,t.current)))}function $v(){var t=kn.current;return t===null?!0:(Fe&4194048)===Fe?Jn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===Jn:!1}function Zv(){var t=K.H;return K.H=ll,t===null?ll:t}function Xv(){var t=K.A;return K.A=S1,t}function pc(){wt=4,Wr||(Fe&4194048)!==Fe&&kn.current!==null||(Ka=!0),(Jr&134217727)===0&&(Js&134217727)===0||ht===null||ns(ht,Fe,Bn,!1)}function cd(t,r,a){var l=nt;nt|=2;var f=Zv(),d=Xv();(ht!==t||Fe!==r)&&(fc=null,Za(t,r)),r=!1;var E=wt;e:do try{if(st!==0&&je!==null){var C=je,P=zn;switch(st){case 8:ud(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var $=st;if(st=0,zn=null,Xa(t,C,P,$),a&&Ka){E=0;break e}break;default:$=st,st=0,zn=null,Xa(t,C,P,$)}}w1(),E=wt;break}catch(ie){Yv(t,ie)}while(!0);return r&&t.shellSuspendCounter++,cr=Fs=null,nt=l,K.H=f,K.A=d,je===null&&(ht=null,Fe=0,Nu()),E}function w1(){for(;je!==null;)Wv(je)}function A1(t,r){var a=nt;nt|=2;var l=Zv(),f=Xv();ht!==t||Fe!==r?(fc=null,hc=Kt()+500,Za(t,r)):Ka=fn(t,r);e:do try{if(st!==0&&je!==null){r=je;var d=zn;t:switch(st){case 1:st=0,zn=null,Xa(t,r,d,1);break;case 2:case 9:if(lm(d)){st=0,zn=null,Jv(r);break}r=function(){st!==2&&st!==9||ht!==t||(st=7),zi(t)},d.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:lm(d)?(st=0,zn=null,Jv(r)):(st=0,zn=null,Xa(t,r,d,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var C=je;if(E?Uy(E):C.stateNode.complete){st=0,zn=null;var P=C.sibling;if(P!==null)je=P;else{var $=C.return;$!==null?(je=$,gc($)):je=null}break t}}st=0,zn=null,Xa(t,r,d,5);break;case 6:st=0,zn=null,Xa(t,r,d,6);break;case 8:ud(),wt=6;break e;default:throw Error(s(462))}}L1();break}catch(ie){Yv(t,ie)}while(!0);return cr=Fs=null,K.H=l,K.A=f,nt=a,je!==null?0:(ht=null,Fe=0,Nu(),wt)}function L1(){for(;je!==null&&!ga();)Wv(je)}function Wv(t){var r=Sv(t.alternate,t,Er);t.memoizedProps=t.pendingProps,r===null?gc(t):je=r}function Jv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=mv(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=mv(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:wf(r);default:Cv(a,r),r=je=Xg(r,Er),r=Sv(a,r,Er)}t.memoizedProps=t.pendingProps,r===null?gc(t):je=r}function Xa(t,r,a,l){cr=Fs=null,wf(r),Ba=null,el=0;var f=r.return;try{if(g1(t,f,r,a,Fe)){wt=1,nc(t,$n(a,t.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;wt=1,nc(t,$n(a,t.current)),je=null;return}r.flags&32768?(Ye||l===1?t=!0:Ka||(Fe&536870912)!==0?t=!1:(Wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(r,t)):gc(r)}function gc(t){var r=t;do{if((r.flags&32768)!==0){ey(r,Wr);return}t=r.return;var a=y1(r.alternate,r,Er);if(a!==null){je=a;return}if(r=r.sibling,r!==null){je=r;return}je=r=t}while(r!==null);wt===0&&(wt=5)}function ey(t,r){do{var a=_1(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);wt=6,je=null}function ty(t,r,a,l,f,d,E,C,P){t.cancelPendingCommit=null;do mc();while(Ht!==0);if((nt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xh,ir(t,a,d,E,C,P),t===ht&&(je=ht=null,Fe=0),$a=r,ts=t,br=a,ad=d,od=f,Fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(si,function(){return ay(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=ce.p,ce.p=2,E=nt,nt|=4;try{E1(t,r,a)}finally{nt=E,ce.p=f,K.T=l}}Ht=1,ny(),iy(),ry()}}function ny(){if(Ht===1){Ht=0;var t=ts,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ce.p;ce.p=2;var f=nt;nt|=4;try{Pv(r,t);var d=Sd,E=qg(t.containerInfo),C=d.focusedElem,P=d.selectionRange;if(E!==C&&C&&C.ownerDocument&&jg(C.ownerDocument.documentElement,C)){if(P!==null&&Qh(C)){var $=P.start,ie=P.end;if(ie===void 0&&(ie=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(ie,C.value.length);else{var ae=C.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var te=X.getSelection(),ye=C.textContent.length,Re=Math.min(P.start,ye),ct=P.end===void 0?Re:Math.min(P.end,ye);!te.extend&&Re>ct&&(E=ct,ct=Re,Re=E);var q=Bg(C,Re),z=Bg(C,ct);if(q&&z&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var Y=ae.createRange();Y.setStart(q.node,q.offset),te.removeAllRanges(),Re>ct?(te.addRange(Y),te.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),te.addRange(Y))}}}}for(ae=[],te=C;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var se=ae[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Rc=!!bd,Sd=bd=null}finally{nt=f,ce.p=l,K.T=a}}t.current=r,Ht=2}}function iy(){if(Ht===2){Ht=0;var t=ts,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ce.p;ce.p=2;var f=nt;nt|=4;try{Dv(t,r.alternate,r)}finally{nt=f,ce.p=l,K.T=a}}Ht=3}}function ry(){if(Ht===4||Ht===3){Ht=0,Zi();var t=ts,r=$a,a=br,l=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,$a=ts=null,sy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(es=null),rr(a),r=r.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(hn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=ce.p,ce.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var C=l[E];d(C.value,{componentStack:C.stack})}}finally{K.T=r,ce.p=f}}(br&3)!==0&&mc(),zi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===ld?vl++:(vl=0,ld=t):vl=0,yl(0)}}function sy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function mc(){return ny(),iy(),ry(),ay()}function ay(){if(Ht!==5)return!1;var t=ts,r=ad;ad=0;var a=rr(br),l=K.T,f=ce.p;try{ce.p=32>a?32:a,K.T=null,a=od,od=null;var d=ts,E=br;if(Ht=0,$a=ts=null,br=0,(nt&6)!==0)throw Error(s(331));var C=nt;if(nt|=4,jv(d.current),Uv(d,d.current,E,a),nt=C,yl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{ce.p=f,K.T=l,sy(t,r)}}function oy(t,r,a){r=$n(a,r),r=Bf(t.stateNode,r,2),t=Yr(t,r,2),t!==null&&(nr(t,2),zi(t))}function at(t,r,a){if(t.tag===3)oy(t,t,a);else for(;r!==null;){if(r.tag===3){oy(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){t=$n(a,t),a=lv(2),l=Yr(r,a,2),l!==null&&(uv(a,l,r,t),nr(l,2),zi(l));break}}r=r.return}}function hd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new T1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(id=!0,f.add(a),t=R1.bind(null,t,r,a),r.then(t,t))}function R1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Fe&a)===a&&(wt===4||wt===3&&(Fe&62914560)===Fe&&300>Kt()-cc?(nt&2)===0&&Za(t,0):rd|=a,Ya===Fe&&(Ya=0)),zi(t)}function ly(t,r){r===0&&(r=tr()),t=js(t,r),t!==null&&(nr(t,r),zi(t))}function M1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),ly(t,a)}function O1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ly(t,a)}function D1(t,r){return Tt(t,r)}var vc=null,Wa=null,fd=!1,yc=!1,dd=!1,is=0;function zi(t){t!==Wa&&t.next===null&&(Wa===null?vc=Wa=t:Wa=Wa.next=t),yc=!0,fd||(fd=!0,I1())}function yl(t,r){if(!dd&&yc){dd=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(E&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,fy(l,d))}else d=Fe,d=Dn(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fn(l,d)||(a=!0,fy(l,d));l=l.next}while(a);dd=!1}}function x1(){uy()}function uy(){yc=fd=!1;var t=0;is!==0&&H1()&&(t=is);for(var r=Kt(),a=null,l=vc;l!==null;){var f=l.next,d=cy(l,r);d===0?(l.next=null,a===null?vc=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(yc=!0)),l=f}Ht!==0&&Ht!==5||yl(t),is!==0&&(is=0)}function cy(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-vt(d),C=1<<E,P=f[E];P===-1?((C&a)===0||(C&l)!==0)&&(f[E]=ma(C,r)):P<=r&&(t.expiredLanes|=C),d&=~C}if(r=ht,a=Fe,a=Dn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Mn(l),rr(a)){case 2:case 8:a=bi;break;case 32:a=si;break;case 268435456:a=Ls;break;default:a=si}return l=hy.bind(null,t),a=Tt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function hy(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mc()&&t.callbackNode!==a)return null;var l=Fe;return l=Dn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qv(t,l,r),cy(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?hy.bind(null,t):null)}function fy(t,r){if(mc())return null;Qv(t,r,!0)}function I1(){G1(function(){(nt&6)!==0?Tt(Dr,x1):uy()})}function pd(){if(is===0){var t=ka;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),is=t}return is}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function py(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function N1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=dy((f[Yt]||null).action),E=l.submitter;E&&(r=(r=E[Yt]||null)?dy(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var C=new xi("action","action",null,l,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var P=E?py(f,E):new FormData(f);Nf(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(C.preventDefault(),P=E?py(f,E):new FormData(f),Nf(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var gd=0;gd<Zh.length;gd++){var md=Zh[gd],V1=md.toLowerCase(),P1=md[0].toUpperCase()+md.slice(1);di(V1,"on"+P1)}di(Gg,"onAnimationEnd"),di(Qg,"onAnimationIteration"),di(Kg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(WT,"onTransitionRun"),di(JT,"onTransitionStart"),di(e1,"onTransitionCancel"),di(Yg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function gy(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var C=l[E],P=C.instance,$=C.currentTarget;if(C=C.listener,P!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=$;try{d(f)}catch(ie){Iu(ie)}f.currentTarget=null,d=P}else for(E=0;E<l.length;E++){if(C=l[E],P=C.instance,$=C.currentTarget,C=C.listener,P!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=$;try{d(f)}catch(ie){Iu(ie)}f.currentTarget=null,d=P}}}}function qe(t,r){var a=r[va];a===void 0&&(a=r[va]=new Set);var l=t+"__bubble";a.has(l)||(my(r,t,2,!1),a.add(l))}function vd(t,r,a){var l=0;r&&(l|=4),my(a,t,l,r)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,Do.forEach(function(a){a!=="selectionchange"&&(k1.has(a)||vd(a,!1,t),vd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[_c]||(r[_c]=!0,vd("selectionchange",!1,r))}}function my(t,r,a,l){switch(Gy(r)){case 2:var f=hC;break;case 8:f=fC;break;default:f=Id}a=f.bind(null,r,a,t),f=void 0,!Is||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function _d(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var C=l.stateNode.containerInfo;if(C===f)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;C!==null;){if(E=wi(C),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=d=E;continue e}C=C.parentNode}}l=l.return}Ur(function(){var $=d,ie=Gn(a),ae=[];e:{var X=$g.get(t);if(X!==void 0){var te=xi,ye=t;switch(t){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":te=Ou;break;case"focusin":ye="focus",te=ks;break;case"focusout":ye="blur",te=ks;break;case"beforeblur":case"afterblur":te=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=v;break;case Gg:case Qg:case Kg:te=Tu;break;case Yg:te=L;break;case"scroll":case"scrollend":te=Ho;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=or;break;case"toggle":case"beforetoggle":te=Ve}var Re=(r&4)!==0,ct=!Re&&(t==="scroll"||t==="scrollend"),q=Re?X!==null?X+"Capture":null:X;Re=[];for(var z=$,Y;z!==null;){var se=z;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=ui(z,q),se!=null&&Re.push(El(z,se,Y))),ct)break;z=z.return}0<Re.length&&(X=new te(X,ye,null,a,ie),ae.push({event:X,listeners:Re}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",X&&a!==Bo&&(ye=a.relatedTarget||a.fromElement)&&(wi(ye)||ye[Ti]))break e;if((te||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,te?(ye=a.relatedTarget||a.toElement,te=$,ye=ye?wi(ye):null,ye!==null&&(ct=u(ye),Re=ye.tag,ye!==ct||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(te=null,ye=$),te!==ye)){if(Re=Fo,se="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Re=or,se="onPointerLeave",q="onPointerEnter",z="pointer"),ct=te==null?X:In(te),Y=ye==null?X:In(ye),X=new Re(se,z+"leave",te,a,ie),X.target=ct,X.relatedTarget=Y,se=null,wi(ie)===$&&(Re=new Re(q,z+"enter",ye,a,ie),Re.target=Y,Re.relatedTarget=ct,se=Re),ct=se,te&&ye)t:{for(Re=U1,q=te,z=ye,Y=0,se=q;se;se=Re(se))Y++;se=0;for(var Ae=z;Ae;Ae=Re(Ae))se++;for(;0<Y-se;)q=Re(q),Y--;for(;0<se-Y;)z=Re(z),se--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){Re=q;break t}q=Re(q),z=Re(z)}Re=null}else Re=null;te!==null&&vy(ae,X,te,Re,!1),ye!==null&&ct!==null&&vy(ae,ct,ye,Re,!0)}}e:{if(X=$?In($):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var We=Ng;else if(xg(X))if(Vg)We=$T;else{We=KT;var Se=QT}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&ba($.elementType)&&(We=Ng):We=YT;if(We&&(We=We(t,$))){Ig(ae,We,a,ie);break e}Se&&Se(t,X,$),t==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&ko(X,"number",X.value)}switch(Se=$?In($):window,t){case"focusin":(xg(Se)||Se.contentEditable==="true")&&(Ma=Se,Kh=$,$o=null);break;case"focusout":$o=Kh=Ma=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Hg(ae,a,ie);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Hg(ae,a,ie)}var ke;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ra?Us(t,a)&&(Ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Vi&&a.locale!=="ko"&&(Ra||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ra&&(ke=qo()):(Di=ie,jo="value"in Di?Di.value:Di.textContent,Ra=!0)),Se=Ec($,Ge),0<Se.length&&(Ge=new Ni(Ge,t,null,a,ie),ae.push({event:Ge,listeners:Se}),ke?Ge.data=ke:(ke=La(a),ke!==null&&(Ge.data=ke)))),(ke=Kn?qT(t,a):HT(t,a))&&(Ge=Ec($,"onBeforeInput"),0<Ge.length&&(Se=new Ni("onBeforeInput","beforeinput",null,a,ie),ae.push({event:Se,listeners:Ge}),Se.data=ke)),N1(ae,t,$,a,ie)}gy(ae,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ec(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ui(t,a),f!=null&&l.unshift(El(t,f,d)),f=ui(t,r),f!=null&&l.push(El(t,f,d))),t.tag===3)return l;t=t.return}return[]}function U1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var C=a,P=C.alternate,$=C.stateNode;if(C=C.tag,P!==null&&P===l)break;C!==5&&C!==26&&C!==27||$===null||(P=$,f?($=ui(a,d),$!=null&&E.unshift(El(a,$,P))):f||($=ui(a,d),$!=null&&E.push(El(a,$,P)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var z1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(z1,`
`).replace(B1,"")}function _y(t,r){return r=yy(r),yy(t)===r}function ut(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(r!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ut(t,r,"name",f.name,f,null),ut(t,r,"formEncType",f.formEncType,f,null),ut(t,r,"formMethod",f.formMethod,f,null),ut(t,r,"formTarget",f.formTarget,f,null)):(ut(t,r,"encType",f.encType,f,null),ut(t,r,"method",f.method,f,null),ut(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,_a(t,a,l))}}function Ed(t,r,a,l,f,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function sn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,d,E,a,null)}}f&&ut(t,r,"srcSet",a.srcSet,a,null),l&&ut(t,r,"src",a.src,a,null);return;case"input":qe("invalid",t);var C=d=E=f=null,P=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":E=ie;break;case"checked":P=ie;break;case"defaultChecked":$=ie;break;case"value":d=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ut(t,r,l,ie,a,null)}}vu(t,d,C,P,$,E,f,!1);return;case"select":qe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":d=C;break;case"defaultValue":E=C;break;case"multiple":l=C;default:ut(t,r,f,C,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Nr(t,!!l,r,!1):a!=null&&Nr(t,!!l,a,!0);return;case"textarea":qe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":l=C;break;case"defaultValue":f=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ut(t,r,E,C,a,null)}Vr(t,l,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,r,P,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)qe(_l[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,$,l,a,null)}return;default:if(ba(r)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&Ed(t,r,ie,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&ut(t,r,C,l,a,null))}function j1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,C=null,P=null,$=null,ie=null;for(te in a){var ae=a[te];if(a.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":P=ae;default:l.hasOwnProperty(te)||ut(t,r,te,null,l,ae)}}for(var X in l){var te=l[X];if(ae=a[X],l.hasOwnProperty(X)&&(te!=null||ae!=null))switch(X){case"type":d=te;break;case"name":f=te;break;case"checked":$=te;break;case"defaultChecked":ie=te;break;case"value":E=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==ae&&ut(t,r,X,te,l,ae)}}Ea(t,E,C,P,$,ie,d,f);return;case"select":te=E=C=X=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":te=P;default:l.hasOwnProperty(d)||ut(t,r,d,null,l,P)}for(f in l)if(d=l[f],P=a[f],l.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":X=d;break;case"defaultValue":C=d;break;case"multiple":E=d;default:d!==P&&ut(t,r,f,d,l,P)}r=C,a=E,l=te,X!=null?Nr(t,!!a,X,!1):!!l!=!!a&&(r!=null?Nr(t,!!a,r,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":te=X=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ut(t,r,C,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":X=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ut(t,r,E,f,l,d)}yu(t,X,te);return;case"option":for(var ye in a)if(X=a[ye],a.hasOwnProperty(ye)&&X!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:ut(t,r,ye,null,l,X)}for(P in l)if(X=l[P],te=a[P],l.hasOwnProperty(P)&&X!==te&&(X!=null||te!=null))switch(P){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(t,r,P,X,l,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)X=a[Re],a.hasOwnProperty(Re)&&X!=null&&!l.hasOwnProperty(Re)&&ut(t,r,Re,null,l,X);for($ in l)if(X=l[$],te=a[$],l.hasOwnProperty($)&&X!==te&&(X!=null||te!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ut(t,r,$,X,l,te)}return;default:if(ba(r)){for(var ct in a)X=a[ct],a.hasOwnProperty(ct)&&X!==void 0&&!l.hasOwnProperty(ct)&&Ed(t,r,ct,void 0,l,X);for(ie in l)X=l[ie],te=a[ie],!l.hasOwnProperty(ie)||X===te||X===void 0&&te===void 0||Ed(t,r,ie,X,l,te);return}}for(var q in a)X=a[q],a.hasOwnProperty(q)&&X!=null&&!l.hasOwnProperty(q)&&ut(t,r,q,null,l,X);for(ae in l)X=l[ae],te=a[ae],!l.hasOwnProperty(ae)||X===te||X==null&&te==null||ut(t,r,ae,X,l,te)}function Ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,C=f.duration;if(d&&C&&Ey(E)){for(E=0,C=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],$=P.startTime;if($>C)break;var ie=P.transferSize,ae=P.initiatorType;ie&&Ey(ae)&&(P=P.responseEnd,E+=ie*(P<C?1:(C-$)/(P-$)))}if(--l,r+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Sd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function by(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Td(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cd=null;function H1(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var Ty=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(Q1)}:Ty;function Q1(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function wy(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var d=a.firstChild;d;){var E=d.nextSibling,C=d.nodeName;d[Ci]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&bl(t.ownerDocument.body);a=f}while(a);no(r)}function Ay(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function K1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ci])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function Y1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function Ly(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ei(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Rd=null;function Ry(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ei(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Oy(t,r,a){switch(r=bc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ya(t)}var ti=new Map,Dy=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sr=ce.d;ce.d={f:Z1,r:X1,D:W1,C:J1,L:eC,m:tC,X:iC,S:nC,M:rC};function Z1(){var t=Sr.f(),r=dc();return t||r}function X1(t){var r=Fn(t);r!==null&&r.tag===5&&r.type==="form"?Ym(r):Sr.r(t)}var Ja=typeof document>"u"?null:document;function xy(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var f=bn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Dy.has(f)||(Dy.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),sn(r,"link",t),Nt(r),l.head.appendChild(r)))}}function W1(t){Sr.D(t),xy("dns-prefetch",t,null)}function J1(t,r){Sr.C(t,r),xy("preconnect",t,r)}function eC(t,r,a){Sr.L(t,r,a);var l=Ja;if(l&&t&&r){var f='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(t)+'"]';var d=f;switch(r){case"style":d=eo(t);break;case"script":d=to(t)}ti.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ti.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Sl(d))||r==="script"&&l.querySelector(Tl(d))||(r=l.createElement("link"),sn(r,"link",t),Nt(r),l.head.appendChild(r)))}}function tC(t,r){Sr.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!ti.has(d)&&(t=b({rel:"modulepreload",href:t},r),ti.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),sn(l,"link",t),Nt(l),a.head.appendChild(l)}}}function nC(t,r,a){Sr.S(t,r,a);var l=Ja;if(l&&t){var f=Ai(l).hoistableStyles,d=eo(t);r=r||"default";var E=f.get(d);if(!E){var C={loading:0,preload:null};if(E=l.querySelector(Sl(d)))C.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ti.get(d))&&Md(t,a);var P=E=l.createElement("link");Nt(P),sn(P,"link",t),P._p=new Promise(function($,ie){P.onload=$,P.onerror=ie}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Tc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:C},f.set(d,E)}}}function iC(t,r){Sr.X(t,r);var a=Ja;if(a&&t){var l=Ai(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Tl(f)),d||(t=b({src:t,async:!0},r),(r=ti.get(f))&&Od(t,r),d=a.createElement("script"),Nt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function rC(t,r){Sr.M(t,r);var a=Ja;if(a&&t){var l=Ai(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Tl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=ti.get(f))&&Od(t,r),d=a.createElement("script"),Nt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Iy(t,r,a,l){var f=(f=ve.current)?Sc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=Ai(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=Ai(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Sl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||sC(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=Ai(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+bn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Ny(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function sC(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),sn(r,"link",a),Nt(r),t.head.appendChild(r))}function to(t){return'[src="'+bn(t)+'"]'}function Tl(t){return"script[async]"+t}function Vy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return r.instance=l,Nt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),sn(l,"style",f),Tc(l,a.precedence,t),r.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Sl(f));if(d)return r.state.loading|=4,r.instance=d,Nt(d),d;l=Ny(a),(f=ti.get(f))&&Md(l,f),d=(t.ownerDocument||t).createElement("link"),Nt(d);var E=d;return E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),sn(d,"link",l),r.state.loading|=4,Tc(d,a.precedence,t),r.instance=d;case"script":return d=to(a.src),(f=t.querySelector(Tl(d)))?(r.instance=f,Nt(f),f):(l=a,(f=ti.get(d))&&(l=b({},a),Od(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Nt(f),sn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Tc(l,a.precedence,t));return r.instance}function Tc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var C=l[E];if(C.dataset.precedence===r)d=C;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Md(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Od(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Cc=null;function Py(t,r,a){if(Cc===null){var l=new Map,f=Cc=new Map;f.set(a,l)}else f=Cc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ci]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var C=l.get(E);C?C.push(d):l.set(E,[d])}}return l}function ky(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function aC(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oC(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=r.querySelector(Sl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=wc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Nt(d);return}d=r.ownerDocument||r,l=Ny(l),(f=ti.get(f))&&Md(l,f),d=d.createElement("link"),Nt(d);var E=d;E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),sn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Dd=0;function lC(t,r){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Dd===0&&(Dd=62500*q1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dd?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Lc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,r.forEach(uC,t),Ac=null,wc.call(t))}function uC(t,r){if(!(r.state.loading&4)){var a=Ac.get(t);if(a)var l=a.get(null);else{a=new Map,Ac.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=wc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Cl={$$typeof:W,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function cC(t,r,a,l,f,d,E,C,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function zy(t,r,a,l,f,d,E,C,P,$,ie,ae){return t=new cC(t,r,a,E,P,$,ie,ae,C),r=1,d===!0&&(r|=24),d=Pn(3,null,null,r),t.current=d,d.stateNode=t,r=cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},pf(d),t}function By(t){return t?(t=xa,t):xa}function jy(t,r,a,l,f,d){f=By(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Yr(t,l,r),a!==null&&(Ln(a,t,r),nl(a,t,r))}function qy(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function xd(t,r){qy(t,r),(t=t.alternate)&&qy(t,r)}function Hy(t){if(t.tag===13||t.tag===31){var r=js(t,67108864);r!==null&&Ln(r,t,67108864),xd(t,67108864)}}function Fy(t){if(t.tag===13||t.tag===31){var r=jn();r=Ms(r);var a=js(t,r);a!==null&&Ln(a,t,r),xd(t,r)}}var Rc=!0;function hC(t,r,a,l){var f=K.T;K.T=null;var d=ce.p;try{ce.p=2,Id(t,r,a,l)}finally{ce.p=d,K.T=f}}function fC(t,r,a,l){var f=K.T;K.T=null;var d=ce.p;try{ce.p=8,Id(t,r,a,l)}finally{ce.p=d,K.T=f}}function Id(t,r,a,l){if(Rc){var f=Nd(l);if(f===null)_d(t,r,l,Mc,a),Qy(t,l);else if(pC(f,t,r,a,l))l.stopPropagation();else if(Qy(t,l),r&4&&-1<dC.indexOf(t)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=vn(d.pendingLanes);if(E!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var P=1<<31-vt(E);C.entanglements[1]|=P,E&=~P}zi(d),(nt&6)===0&&(hc=Kt()+500,yl(0))}}break;case 31:case 13:C=js(d,2),C!==null&&Ln(C,d,2),dc(),xd(d,2)}if(d=Nd(l),d===null&&_d(t,r,l,Mc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else _d(t,r,l,null,a)}}function Nd(t){return t=Gn(t),Vd(t)}var Mc=null;function Vd(t){if(Mc=null,t=wi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case Dr:return 2;case bi:return 8;case si:case xr:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var Pd=!1,ss=null,as=null,os=null,wl=new Map,Al=new Map,ls=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(r.pointerId)}}function Ll(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Fn(r),r!==null&&Hy(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function pC(t,r,a,l,f){switch(r){case"focusin":return ss=Ll(ss,t,r,a,l,f),!0;case"dragenter":return as=Ll(as,t,r,a,l,f),!0;case"mouseover":return os=Ll(os,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return wl.set(d,Ll(wl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Al.set(d,Ll(Al.get(d)||null,t,r,a,l,f)),!0}return!1}function Ky(t){var r=wi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,ai(t.priority,function(){Fy(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,ai(t.priority,function(){Fy(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return r=Fn(a),r!==null&&Hy(r),t.blockedOn=a,!1;r.shift()}return!0}function Yy(t,r,a){Oc(t)&&a.delete(r)}function gC(){Pd=!1,ss!==null&&Oc(ss)&&(ss=null),as!==null&&Oc(as)&&(as=null),os!==null&&Oc(os)&&(os=null),wl.forEach(Yy),Al.forEach(Yy)}function Dc(t,r){t.blockedOn===r&&(t.blockedOn=null,Pd||(Pd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gC)))}var xc=null;function $y(t){xc!==t&&(xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(r,3),r-=3,Nf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function r(P){return Dc(P,t)}ss!==null&&Dc(ss,t),as!==null&&Dc(as,t),os!==null&&Dc(os,t),wl.forEach(r),Al.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Yt]||null;if(typeof d=="function")E||$y(a);else if(E){var C=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Yt]||null)C=E.formAction;else if(Vd(f)!==null)continue}else C=E.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),$y(a)}}}function Zy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function kd(t){this._internalRoot=t}Ic.prototype.render=kd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=jn();jy(a,l,t,r,null,null)},Ic.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;jy(t.current,2,null,t,null,null),dc(),r[Ti]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var r=du();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,t),a===0&&Ky(t)}};var Xy=e.version;if(Xy!=="19.2.0")throw Error(s(527,Xy,"19.2.0"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var mC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{hn=Nc.inject(mC),xt=Nc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=rv,d=sv,E=av;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=zy(t,1,!1,null,null,a,l,null,f,d,E,Zy),t[Ti]=r.current,yd(t),new kd(r)},Ml.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=rv,E=sv,C=av,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),r=zy(t,1,!0,r,a??null,l,f,P,d,E,C,Zy),r.context=By(null),a=r.current,l=jn(),l=Ms(l),f=Kr(l),f.callback=null,Yr(a,f,l),a=l,r.current.lanes=a,nr(r,a),zi(r),t[Ti]=r.current,yd(t),new Ic(r)},Ml.version="19.2.0",Ml}var o_;function wC(){if(o_)return Bd.exports;o_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=CC(),Bd.exports}var AC=wC();const LC=Gb(AC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function RC(i={}){function e(s,o){let{pathname:u,search:c,hash:p}=s.location;return up("",{pathname:u,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return OC(e,n,null,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function u_(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||MC()}}function Ql({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Eo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function OC(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,p="POP",g=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function b(){p="POP";let I=_(),H=I==null?null:I-m;m=I,g&&g({action:p,location:U.location,delta:H})}function T(I,H){p="PUSH";let B=up(U.location,I,H);m=_()+1;let W=u_(B,m),G=U.createHref(B);try{c.pushState(W,"",G)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(G)}u&&g&&g({action:p,location:U.location,delta:1})}function M(I,H){p="REPLACE";let B=up(U.location,I,H);m=_();let W=u_(B,m),G=U.createHref(B);c.replaceState(W,"",G),u&&g&&g({action:p,location:U.location,delta:0})}function O(I){return DC(I)}let U={get action(){return p},get location(){return i(o,c)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,b),g=I,()=>{o.removeEventListener(l_,b),g=null}},createHref(I){return e(o,I)},createURL:O,encodeLocation(I){let H=O(I);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:M,go(I){return c.go(I)}};return U}function DC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ql(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Yb(i,e,n="/"){return xC(i,e,n,!1)}function xC(i,e,n,s){let o=typeof e=="string"?Eo(e):e,u=wr(o.pathname||"/",n);if(u==null)return null;let c=$b(i);IC(c);let p=null;for(let g=0;p==null&&g<c.length;++g){let m=FC(u);p=qC(c[g],m,s)}return p}function $b(i,e=[],n=[],s="",o=!1){let u=(c,p,g=o,m)=>{let _={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;bt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=Tr([s,_.relativePath]),T=n.concat(_);c.children&&c.children.length>0&&(bt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),$b(c.children,e,T,b,g)),!(c.path==null&&!c.index)&&e.push({path:b,score:BC(b,c.index),routesMeta:T})};return i.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))u(c,p);else for(let g of Zb(c.path))u(c,p,!0,g)}),e}function Zb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=Zb(s.join("/")),p=[];return p.push(...c.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...c),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function IC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:jC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NC=/^:[\w-]+$/,VC=3,PC=2,kC=1,UC=10,zC=-2,c_=i=>i==="*";function BC(i,e){let n=i.split("/"),s=n.length;return n.some(c_)&&(s+=zC),e&&(s+=PC),n.filter(o=>!c_(o)).reduce((o,u)=>o+(NC.test(u)?VC:u===""?kC:UC),s)}function jC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function qC(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let p=0;p<s.length;++p){let g=s[p],m=p===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},_),T=g.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Tr([u,b.pathname]),pathnameBase:YC(Tr([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=Tr([u,b.pathnameBase]))}return c}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=HC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:b},T)=>{if(_==="*"){let O=p[T]||"";c=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const M=p[T];return b&&!M?m[_]=void 0:m[_]=(M||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:i}}function HC(i,e=!1,n=!0){Qi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function GC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Eo(i):i;return{pathname:n?n.startsWith("/")?n:QC(n,e):e,search:$C(s),hash:ZC(o)}}function QC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fd(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xb(i){let e=KC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wb(i,e,n,s=!1){let o;typeof i=="string"?o=Eo(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),Fd("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),Fd("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),Fd("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,p;if(c==null)p=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}p=b>=0?e[b]:"/"}let g=GC(o,p),m=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||_)&&(g.pathname+="/"),g}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),YC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$C=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ZC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function XC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var WC=["GET",...Jb];new Set(WC);var bo=y.createContext(null);bo.displayName="DataRouter";var Ah=y.createContext(null);Ah.displayName="DataRouterState";y.createContext(!1);var e0=y.createContext({isTransitioning:!1});e0.displayName="ViewTransition";var JC=y.createContext(new Map);JC.displayName="Fetchers";var ew=y.createContext(null);ew.displayName="Await";var $i=y.createContext(null);$i.displayName="Navigation";var ru=y.createContext(null);ru.displayName="Location";var Mr=y.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var kp=y.createContext(null);kp.displayName="RouteError";function tw(i,{relative:e}={}){bt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=y.useContext($i),{hash:o,pathname:u,search:c}=au(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Tr([n,u])),s.createHref({pathname:p,search:c,hash:o})}function su(){return y.useContext(ru)!=null}function la(){return bt(su(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(ru).location}var t0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n0(i){y.useContext($i).static||y.useLayoutEffect(i)}function Up(){let{isDataRoute:i}=y.useContext(Mr);return i?pw():nw()}function nw(){bt(su(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(bo),{basename:e,navigator:n}=y.useContext($i),{matches:s}=y.useContext(Mr),{pathname:o}=la(),u=JSON.stringify(Xb(s)),c=y.useRef(!1);return n0(()=>{c.current=!0}),y.useCallback((g,m={})=>{if(Qi(c.current,t0),!c.current)return;if(typeof g=="number"){n.go(g);return}let _=Wb(g,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Tr([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,o,i])}y.createContext(null);function au(i,{relative:e}={}){let{matches:n}=y.useContext(Mr),{pathname:s}=la(),o=JSON.stringify(Xb(n));return y.useMemo(()=>Wb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function iw(i,e){return i0(i,e)}function i0(i,e,n,s,o){bt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext($i),{matches:c}=y.useContext(Mr),p=c[c.length-1],g=p?p.params:{},m=p?p.pathname:"/",_=p?p.pathnameBase:"/",b=p&&p.route;{let B=b&&b.path||"";r0(m,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=la(),M;if(e){let B=typeof e=="string"?Eo(e):e;bt(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),M=B}else M=T;let O=M.pathname||"/",U=O;if(_!=="/"){let B=_.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=Yb(i,{pathname:U});Qi(b||I!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Qi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=lw(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Tr([_,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Tr([_,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,s,o);return e&&H?y.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},H):H}function rw(){let i=dw(),e=XC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:o},n):null,c)}var sw=y.createElement(rw,null),aw=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?y.createElement(Mr.Provider,{value:this.props.routeContext},y.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ow({routeContext:i,match:e,children:n}){let s=y.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Mr.Provider,{value:i},n)}function lw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let m=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(n)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=m),_.route.id){let{loaderData:b,errors:T}=n,M=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||M){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,_,b)=>{let T,M=!1,O=null,U=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||sw,p&&(g<0&&b===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,U=null):g===b&&(M=!0,U=_.route.hydrateFallbackElement||null)));let I=e.concat(u.slice(0,b+1)),H=()=>{let B;return T?B=O:M?B=U:_.route.Component?B=y.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=m,y.createElement(ow,{match:_,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?y.createElement(aw,{location:n.location,revalidation:n.revalidation,component:O,error:T,children:H(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:s}):H()},null)}function zp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(i){let e=y.useContext(bo);return bt(e,zp(i)),e}function cw(i){let e=y.useContext(Ah);return bt(e,zp(i)),e}function hw(i){let e=y.useContext(Mr);return bt(e,zp(i)),e}function Bp(i){let e=hw(i),n=e.matches[e.matches.length-1];return bt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function fw(){return Bp("useRouteId")}function dw(){let i=y.useContext(kp),e=cw("useRouteError"),n=Bp("useRouteError");return i!==void 0?i:e.errors?.[n]}function pw(){let{router:i}=uw("useNavigate"),e=Bp("useNavigate"),n=y.useRef(!1);return n0(()=>{n.current=!0}),y.useCallback(async(o,u={})=>{Qi(n.current,t0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var h_={};function r0(i,e,n){!e&&!h_[i]&&(h_[i]=!0,Qi(!1,n))}y.memo(gw);function gw({routes:i,future:e,state:n,unstable_onError:s}){return i0(i,void 0,n,s,e)}function Qc(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){bt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:m="",hash:_="",state:b=null,key:T="default"}=n,M=y.useMemo(()=>{let O=wr(g,c);return O==null?null:{location:{pathname:O,search:m,hash:_,state:b,key:T},navigationType:s}},[c,g,m,_,b,T,s]);return Qi(M!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:y.createElement($i.Provider,{value:p},y.createElement(ru.Provider,{children:e,value:M}))}function vw({children:i,location:e}){return iw(cp(i),e)}function cp(i,e=[]){let n=[];return y.Children.forEach(i,(s,o)=>{if(!y.isValidElement(s))return;let u=[...e,o];if(s.type===y.Fragment){n.push.apply(n,cp(s.props.children,u));return}bt(s.type===Qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cp(s.props.children,u)),n.push(c)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Lh(i){return i!=null&&typeof i.tagName=="string"}function yw(i){return Lh(i)&&i.tagName.toLowerCase()==="button"}function _w(i){return Lh(i)&&i.tagName.toLowerCase()==="form"}function Ew(i){return Lh(i)&&i.tagName.toLowerCase()==="input"}function bw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Sw(i,e){return i.button===0&&(!e||e==="_self")&&!bw(i)}var Vc=null;function Tw(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var Cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(i){return i!=null&&!Cw.has(i)?(Qi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function ww(i,e){let n,s,o,u,c;if(_w(i)){let p=i.getAttribute("action");s=p?wr(p,e):null,n=i.getAttribute("method")||Kc,o=Gd(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(yw(i)||Ew(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?wr(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Kc,o=Gd(i.getAttribute("formenctype"))||Gd(p.getAttribute("enctype"))||Yc,u=new FormData(p,i),!Tw()){let{name:m,type:_,value:b}=i;if(_==="image"){let T=m?`${m}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else m&&u.append(m,b)}}else{if(Lh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Aw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&wr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Lw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Mw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await Lw(u,n);return c.links?c.links():[]}return[]}));return Iw(s.flat(1).filter(Rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(i,e,n,s,o,u){let c=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>c(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(c(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ow(i,e,{includeHydrateFallback:n}={}){return Dw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Dw(i){return[...new Set(i)]}function xw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Iw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(xw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function s0(){let i=y.useContext(bo);return jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Nw(){let i=y.useContext(Ah);return jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qp=y.createContext(void 0);qp.displayName="FrameworkContext";function a0(){let i=y.useContext(qp);return jp(i,"You must render this element inside a <HydratedRouter> element"),i}function Vw(i,e){let n=y.useContext(qp),[s,o]=y.useState(!1),[u,c]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:_,onTouchStart:b}=e,T=y.useRef(null);y.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let U=H=>{H.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(U,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[i]),y.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let M=()=>{o(!0)},O=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Ol(p,M),onBlur:Ol(g,O),onMouseEnter:Ol(m,M),onMouseLeave:Ol(_,O),onTouchStart:Ol(b,M)}]:[!1,T,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Pw({page:i,...e}){let{router:n}=s0(),s=y.useMemo(()=>Yb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?y.createElement(Uw,{page:i,matches:s,...e}):null}function kw(i){let{manifest:e,routeModules:n}=a0(),[s,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return Mw(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function Uw({page:i,matches:e,...n}){let s=la(),{manifest:o,routeModules:u}=a0(),{basename:c}=s0(),{loaderData:p,matches:g}=Nw(),m=y.useMemo(()=>f_(i,e,g,o,s,"data"),[i,e,g,o,s]),_=y.useMemo(()=>f_(i,e,g,o,s,"assets"),[i,e,g,o,s]),b=y.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,U=!1;if(e.forEach(H=>{let B=o.routes[H.route.id];!B||!B.hasLoader||(!m.some(W=>W.route.id===H.route.id)&&H.route.id in p&&u[H.route.id]?.shouldRevalidate||B.hasClientLoader?U=!0:O.add(H.route.id))}),O.size===0)return[];let I=Aw(i,c,"data");return U&&O.size>0&&I.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[I.pathname+I.search]},[c,p,s,o,m,e,i,u]),T=y.useMemo(()=>Ow(_,o),[_,o]),M=kw(_);return y.createElement(y.Fragment,null,b.map(O=>y.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),T.map(O=>y.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:U})=>y.createElement("link",{key:O,nonce:n.nonce,...U})))}function zw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o0&&(window.__reactRouterVersion="7.9.4")}catch{}function Bw({basename:i,children:e,window:n}){let s=y.useRef();s.current==null&&(s.current=RC({window:n,v5Compat:!0}));let o=s.current,[u,c]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>c(g))},[c]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(mw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ul=y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:p,target:g,to:m,preventScrollReset:_,viewTransition:b,...T},M){let{basename:O}=y.useContext($i),U=typeof m=="string"&&l0.test(m),I,H=!1;if(typeof m=="string"&&U&&(I=m,o0))try{let w=new URL(window.location.href),N=m.startsWith("//")?new URL(w.protocol+m):new URL(m),x=wr(N.pathname,O);N.origin===w.origin&&x!=null?m=x+N.search+N.hash:H=!0}catch{Qi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=tw(m,{relative:o}),[W,G,j]=Vw(s,T),F=Fw(m,{replace:c,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:b});function A(w){e&&e(w),w.defaultPrevented||F(w)}let R=y.createElement("a",{...T,...j,href:I||B,onClick:H||u?e:A,ref:zw(M,G),target:g,"data-discover":!U&&n==="render"?"true":void 0});return W&&!U?y.createElement(y.Fragment,null,R,y.createElement(Pw,{page:B})):R});Ul.displayName="Link";var jw=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:p,children:g,...m},_){let b=au(c,{relative:m.relative}),T=la(),M=y.useContext(Ah),{navigator:O,basename:U}=y.useContext($i),I=M!=null&&$w(b)&&p===!0,H=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,B=T.pathname,W=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(B=B.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&U&&(W=wr(W,U)||W);const G=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let j=B===H||!o&&B.startsWith(H)&&B.charAt(G)==="/",F=W!=null&&(W===H||!o&&W.startsWith(H)&&W.charAt(H.length)==="/"),A={isActive:j,isPending:F,isTransitioning:I},R=j?e:void 0,w;typeof s=="function"?w=s(A):w=[s,j?"active":null,F?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(A):u;return y.createElement(Ul,{...m,"aria-current":R,className:w,ref:_,style:N,to:c,viewTransition:p},typeof g=="function"?g(A):g)});jw.displayName="NavLink";var qw=y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Kc,action:p,onSubmit:g,relative:m,preventScrollReset:_,viewTransition:b,...T},M)=>{let O=Kw(),U=Yw(p,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&l0.test(p),B=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let G=W.nativeEvent.submitter,j=G?.getAttribute("formmethod")||c;O(G||W.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:b})};return y.createElement("form",{ref:M,method:I,action:U,onSubmit:s?g:B,...T,"data-discover":!H&&i==="render"?"true":void 0})});qw.displayName="Form";function Hw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u0(i){let e=y.useContext(bo);return bt(e,Hw(i)),e}function Fw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let p=Up(),g=la(),m=au(i,{relative:u});return y.useCallback(_=>{if(Sw(_,e)){_.preventDefault();let b=n!==void 0?n:Ql(g)===Ql(m);p(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[g,p,m,n,s,e,i,o,u,c])}var Gw=0,Qw=()=>`__${String(++Gw)}__`;function Kw(){let{router:i}=u0("useSubmit"),{basename:e}=y.useContext($i),n=fw();return y.useCallback(async(s,o={})=>{let{action:u,method:c,encType:p,formData:g,body:m}=ww(s,e);if(o.navigate===!1){let _=o.fetcherKey||Qw();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Yw(i,{relative:e}={}){let{basename:n}=y.useContext($i),s=y.useContext(Mr);bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(i||".",{relative:e})},c=la();if(i==null){u.search=c.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let _=p.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Tr([n,u.pathname])),Ql(u)}function $w(i,{relative:e}={}){let n=y.useContext(e0);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u0("useViewTransitionState"),o=au(i,{relative:e});if(!n.isTransitioning)return!1;let u=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,c)!=null||th(o.pathname,u)!=null}var So=Kb();function Kl(i){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(i)}function Zw(i,e){if(Kl(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(Kl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Xw(i){var e=Zw(i,"string");return Kl(e)=="symbol"?e:e+""}function ne(i,e,n){return(e=Xw(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function c0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qd,d_;function Ww(){if(d_)return Qd;d_=1;var i=function(n,s,o,u,c,p,g,m){if(!n){var _;if(s===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[o,u,c,p,g,m],T=0;_=new Error(s.replace(/%s/g,function(){return b[T++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return Qd=i,Qd}var Jw=Ww(),Gt=c0(Jw),Ue=y.createContext(null);function eA(){Gt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=y.useContext(Ue);return Gt(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function tA(i,e,n){return Object.keys(i).reduce(function(o,u){return e(o,i[u],u)},n)}function nA(i,e){Object.keys(i).forEach(n=>e(i[n],n))}function iA(i,e,n,s){var o={},u=(c,p)=>{var g=n[p];g!==e[p]&&(o[p]=g,c(s,g))};return nA(i,u),o}function rA(i,e,n){var s=tA(n,function(u,c,p){return typeof i[p]=="function"&&u.push(google.maps.event.addListener(e,c,i[p])),u},[]);return s}function sA(i){google.maps.event.removeListener(i)}function He(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(sA)}function Be(i){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:o,instance:u}=i,c=rA(o,u,n);return iA(e,s,o,u),c}var p_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},g_={extraMapTypes(i,e){e.forEach(function(s,o){i.mapTypes.set(String(o),s)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function aA(i){var{children:e,options:n,id:s,mapContainerStyle:o,mapContainerClassName:u,center:c,onClick:p,onDblClick:g,onDrag:m,onDragEnd:_,onDragStart:b,onMouseMove:T,onMouseOut:M,onMouseOver:O,onMouseDown:U,onMouseUp:I,onRightClick:H,onCenterChanged:B,onLoad:W,onUnmount:G}=i,[j,F]=y.useState(null),A=y.useRef(null),[R,w]=y.useState(null),[N,x]=y.useState(null),[k,D]=y.useState(null),[me,be]=y.useState(null),[K,ce]=y.useState(null),[fe,Ee]=y.useState(null),[_e,V]=y.useState(null),[J,re]=y.useState(null),[he,Z]=y.useState(null),[ve,Te]=y.useState(null),[Ce,De]=y.useState(null),[we,ze]=y.useState(null);return y.useEffect(()=>{n&&j!==null&&j.setOptions(n)},[j,n]),y.useEffect(()=>{j!==null&&typeof c<"u"&&j.setCenter(c)},[j,c]),y.useEffect(()=>{j&&g&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(j,"dblclick",g)))},[g]),y.useEffect(()=>{j&&_&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(j,"dragend",_)))},[_]),y.useEffect(()=>{j&&b&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(j,"dragstart",b)))},[b]),y.useEffect(()=>{j&&U&&(K!==null&&google.maps.event.removeListener(K),ce(google.maps.event.addListener(j,"mousedown",U)))},[U]),y.useEffect(()=>{j&&T&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(j,"mousemove",T)))},[T]),y.useEffect(()=>{j&&M&&(_e!==null&&google.maps.event.removeListener(_e),V(google.maps.event.addListener(j,"mouseout",M)))},[M]),y.useEffect(()=>{j&&O&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(j,"mouseover",O)))},[O]),y.useEffect(()=>{j&&I&&(he!==null&&google.maps.event.removeListener(he),Z(google.maps.event.addListener(j,"mouseup",I)))},[I]),y.useEffect(()=>{j&&H&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(j,"rightclick",H)))},[H]),y.useEffect(()=>{j&&p&&(Ce!==null&&google.maps.event.removeListener(Ce),De(google.maps.event.addListener(j,"click",p)))},[p]),y.useEffect(()=>{j&&m&&(we!==null&&google.maps.event.removeListener(we),ze(google.maps.event.addListener(j,"drag",m)))},[m]),y.useEffect(()=>{j&&B&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(j,"center_changed",B)))},[p]),y.useEffect(()=>{var Qt=A.current===null?null:new google.maps.Map(A.current,n);return F(Qt),Qt!==null&&W&&W(Qt),()=>{Qt!==null&&G&&G(Qt)}},[]),le.jsx("div",{id:s,ref:A,style:o,className:u,children:le.jsx(Ue.Provider,{value:j,children:j!==null?e:null})})}y.memo(aA);class h0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),He(this.registeredEvents))}render(){return le.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:le.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function m_(i,e,n,s,o,u,c){try{var p=i[u](c),g=p.value}catch(m){return void n(m)}p.done?e(g):Promise.resolve(g).then(s,o)}function f0(i){return function(){var e=this,n=arguments;return new Promise(function(s,o){var u=i.apply(e,n);function c(g){m_(u,s,o,c,p,"next",g)}function p(g){m_(u,s,o,c,p,"throw",g)}c(void 0)})}}function d0(i){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:o,region:u,libraries:c,channel:p,mapIds:g,authReferrerPolicy:m,apiUrl:_="https://maps.googleapis.com"}=i,b=[];return Gt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?b.push("key=".concat(e)):n&&b.push("client=".concat(n)),s&&b.push("v=".concat(s)),o&&b.push("language=".concat(o)),u&&b.push("region=".concat(u)),c&&c.length&&b.push("libraries=".concat(c.sort().join(","))),p&&b.push("channel=".concat(p)),g&&g.length&&b.push("map_ids=".concat(g.join(","))),m&&b.push("auth_referrer_policy=".concat(m)),b.push("loading=async"),b.push("callback=initMap"),"".concat(_,"/maps/api/js?").concat(b.join("&"))}var ds=typeof document<"u";function p0(i){var{url:e,id:n,nonce:s}=i;return ds?new Promise(function(u,c){var p=document.getElementById(n),g=window;if(p){var m=p.getAttribute("data-state");if(p.src===e&&m!=="error"){if(m==="ready")return u(n);var _=g.initMap,b=p.onerror;g.initMap=function(){_&&_(),u(n)},p.onerror=function(M){b&&b(M),c(M)};return}else p.remove()}var T=document.createElement("script");T.type="text/javascript",T.src=e,T.id=n,T.async=!0,T.nonce=s||"",T.onerror=function(O){T.setAttribute("data-state","error"),c(O)},g.initMap=function(){T.setAttribute("data-state","ready"),u(n)},document.head.appendChild(T)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function v_(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function Hp(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(o,u){return v_(o)||Reflect.apply(e,i,[o,u]),o};var n=i.appendChild.bind(i);i.appendChild=function(o){return v_(o)||Reflect.apply(n,i,[o]),o}}}var Dl=!1;function g0(){return le.jsx("div",{children:"Loading..."})}var Yl={id:"script-loader",version:"weekly"};class oA extends y.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",f0(function*(){function e(n){if(!Dl)n();else if(ds)var s=window.setInterval(function(){Dl||(window.clearInterval(s),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Dl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Hp(),Gt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:d0(this.props)};p0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ds){if(window.google&&window.google.maps&&!Dl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ds&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ds){this.cleanup();var e=()=>{this.check||(delete window.google,Dl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return le.jsxs(le.Fragment,{children:[le.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||le.jsx(g0,{})]})}}ne(oA,"defaultProps",Yl);function lA(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.includes(s))continue;n[s]=i[s]}return n}function Fp(i,e){if(i==null)return{};var n,s,o=lA(i,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(s=0;s<u.length;s++)n=u[s],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(o[n]=i[n])}return o}var y_;function uA(i){var{id:e=Yl.id,version:n=Yl.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:u,language:c,region:p,libraries:g,preventGoogleFontsLoading:m,channel:_,mapIds:b,authReferrerPolicy:T,apiUrl:M="https://maps.googleapis.com"}=i,O=y.useRef(!1),[U,I]=y.useState(!1),[H,B]=y.useState(void 0);y.useEffect(function(){return O.current=!0,()=>{O.current=!1}},[]),y.useEffect(function(){ds&&m&&Hp()},[m]),y.useEffect(function(){U&&Gt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[U]);var W=d0({version:n,googleMapsApiKey:o,googleMapsClientId:u,language:c,region:p,libraries:g,channel:_,mapIds:b,authReferrerPolicy:T,apiUrl:M});y.useEffect(function(){if(!ds)return;function F(){O.current&&(I(!0),y_=W)}if(window.google&&window.google.maps&&y_===W){F();return}p0({id:e,url:W,nonce:s}).then(F).catch(function(R){O.current&&B(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[e,W,s]);var G=y.useRef(void 0);return y.useEffect(function(){G.current&&g!==G.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),G.current=g},[g]),{isLoaded:U,loadError:H,url:W}}var cA=["loadingElement","onLoad","onError","onUnmount","children"],hA=le.jsx(g0,{});function fA(i){var{loadingElement:e,onLoad:n,onError:s,onUnmount:o,children:u}=i,c=Fp(i,cA),{isLoaded:p,loadError:g}=uA(c);return y.useEffect(function(){p&&typeof n=="function"&&n()},[p,n]),y.useEffect(function(){g&&typeof s=="function"&&s(g)},[g,s]),y.useEffect(function(){return()=>{o&&o()}},[o]),p?u:e||hA}y.memo(fA);function dA(i,e,n,s){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function p(_){try{m(s.next(_))}catch(b){c(b)}}function g(_){try{m(s.throw(_))}catch(b){c(b)}}function m(_){_.done?u(_.value):o(_.value).then(p,g)}m((s=s.apply(i,[])).next())})}function pA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gA=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,u;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=s;o--!==0;){var c=u[o];if(!i(e[c],n[c]))return!1}return!0}return e!==e&&n!==n},mA=pA(gA),__="__googleMapsScriptId",oo;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(oo||(oo={}));class na{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:o,client:u,id:c=__,language:p,libraries:g=[],mapIds:m,nonce:_,region:b,retries:T=3,url:M="https://maps.googleapis.com/maps/api/js",version:O}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=o,this.client=u,this.id=c||__,this.language=p,this.libraries=g,this.mapIds=m,this.nonce=_,this.region=b,this.retries=T,this.url=M,this.version=O,na.instance){if(!mA(this.options,na.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(na.instance.options)));return na.instance}na.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?oo.FAILURE:this.done?oo.SUCCESS:this.loading?oo.LOADING:oo.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(u=>!s[u]&&delete s[u]),!((n=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(u=>{var c,p,g,m="The Google Maps JavaScript API",_="google",b="importLibrary",T="__ib__",M=document,O=window;O=O[_]||(O[_]={});var U=O.maps||(O.maps={}),I=new Set,H=new URLSearchParams,B=()=>c||(c=new Promise((W,G)=>dA(this,void 0,void 0,function*(){var j;yield p=M.createElement("script"),p.id=this.id,H.set("libraries",[...I]+"");for(g in u)H.set(g.replace(/[A-Z]/g,F=>"_"+F[0].toLowerCase()),u[g]);H.set("callback",_+".maps."+T),p.src=this.url+"?"+H,U[T]=W,p.onerror=()=>c=G(Error(m+" could not load.")),p.nonce=this.nonce||((j=M.querySelector("script[nonce]"))===null||j===void 0?void 0:j.nonce)||"",M.head.append(p)})));U[b]?console.warn(m+" only loads once. Ignoring:",u):U[b]=function(W){for(var G=arguments.length,j=new Array(G>1?G-1:0),F=1;F<G;F++)j[F-1]=arguments[F];return I.add(W)&&B().then(()=>U[b](W,...j))}})(s);var o=this.libraries.map(u=>this.importLibrary(u));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),u=>{var c=new ErrorEvent("error",{error:u});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var vA=["maps"];function m0(i){var{id:e=Yl.id,version:n=Yl.version,nonce:s,googleMapsApiKey:o,language:u,region:c,libraries:p=vA,preventGoogleFontsLoading:g,mapIds:m,authReferrerPolicy:_}=i,b=y.useRef(!1),[T,M]=y.useState(!1),[O,U]=y.useState(void 0);y.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]);var I=y.useMemo(()=>new na({id:e,apiKey:o,version:n,libraries:p,language:u||"en",region:c||"US",mapIds:m||[],nonce:s||"",authReferrerPolicy:_||"origin"}),[e,o,n,p,u,c,m,s,_]);y.useEffect(function(){T||I.load().then(()=>{b.current&&M(!0)}).catch(W=>{U(W)})},[]),y.useEffect(()=>{ds&&g&&Hp()},[g]);var H=y.useRef();return y.useEffect(()=>{H.current&&p!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=p},[p]),{isLoaded:T,loadError:O}}function E_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function nh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var b_={},S_={options(i,e){i.setOptions(e)}};function yA(i){var{options:e,onLoad:n,onUnmount:s}=i,o=y.useContext(Ue),[u,c]=y.useState(null);return y.useEffect(()=>{u!==null&&u.setMap(o)},[o]),y.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),y.useEffect(()=>{var p=new google.maps.TrafficLayer(nh(nh({},e),{},{map:o}));return c(p),n&&n(p),()=>{u!==null&&(s&&s(u),u.setMap(null))}},[]),null}y.memo(yA);class _A extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(nh(nh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:S_,eventMap:b_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:S_,eventMap:b_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),He(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(_A,"contextType",Ue);function EA(i){var{onLoad:e,onUnmount:n}=i,s=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(s)},[s]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return u(c),c.setMap(s),e&&e(c),()=>{c!==null&&(n&&n(c),c.setMap(null))}},[]),null}y.memo(EA);class bA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(bA,"contextType",Ue);function SA(i){var{onLoad:e,onUnmount:n}=i,s=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(s)},[s]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return u(c),c.setMap(s),e&&e(c),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(SA);class TA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(TA,"contextType",Ue);function T_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function ih(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var C_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},w_={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function CA(i){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:u,onPolygonComplete:c,onPolylineComplete:p,onRectangleComplete:g,onLoad:m,onUnmount:_}=i,b=y.useContext(Ue),[T,M]=y.useState(null),[O,U]=y.useState(null),[I,H]=y.useState(null),[B,W]=y.useState(null),[G,j]=y.useState(null),[F,A]=y.useState(null),[R,w]=y.useState(null);return y.useEffect(()=>{T!==null&&T.setMap(b)},[b]),y.useEffect(()=>{e&&T!==null&&T.setOptions(e)},[T,e]),y.useEffect(()=>{T!==null&&T.setDrawingMode(n??null)},[T,n]),y.useEffect(()=>{T&&s&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(T,"circlecomplete",s)))},[T,s]),y.useEffect(()=>{T&&o&&(I!==null&&google.maps.event.removeListener(I),H(google.maps.event.addListener(T,"markercomplete",o)))},[T,o]),y.useEffect(()=>{T&&u&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(T,"overlaycomplete",u)))},[T,u]),y.useEffect(()=>{T&&c&&(G!==null&&google.maps.event.removeListener(G),j(google.maps.event.addListener(T,"polygoncomplete",c)))},[T,c]),y.useEffect(()=>{T&&p&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(T,"polylinecomplete",p)))},[T,p]),y.useEffect(()=>{T&&g&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(T,"rectanglecomplete",g)))},[T,g]),y.useEffect(()=>{Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var N=new google.maps.drawing.DrawingManager(ih(ih({},e),{},{map:b}));return n&&N.setDrawingMode(n),s&&U(google.maps.event.addListener(N,"circlecomplete",s)),o&&H(google.maps.event.addListener(N,"markercomplete",o)),u&&W(google.maps.event.addListener(N,"overlaycomplete",u)),c&&j(google.maps.event.addListener(N,"polygoncomplete",c)),p&&A(google.maps.event.addListener(N,"polylinecomplete",p)),g&&w(google.maps.event.addListener(N,"rectanglecomplete",g)),M(N),m&&m(N),()=>{T!==null&&(O&&google.maps.event.removeListener(O),I&&google.maps.event.removeListener(I),B&&google.maps.event.removeListener(B),G&&google.maps.event.removeListener(G),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),_&&_(T),T.setMap(null))}},[]),null}y.memo(CA);class wA extends y.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(ih(ih({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:w_,eventMap:C_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:w_,eventMap:C_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),He(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(wA,"contextType",Ue);function A_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function lo(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var L_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},R_={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},rh={};function AA(i){var{position:e,options:n,clusterer:s,noClustererRedraw:o,children:u,draggable:c,visible:p,animation:g,clickable:m,cursor:_,icon:b,label:T,opacity:M,shape:O,title:U,zIndex:I,onClick:H,onDblClick:B,onDrag:W,onDragEnd:G,onDragStart:j,onMouseOut:F,onMouseOver:A,onMouseUp:R,onMouseDown:w,onRightClick:N,onClickableChanged:x,onCursorChanged:k,onAnimationChanged:D,onDraggableChanged:me,onFlatChanged:be,onIconChanged:K,onPositionChanged:ce,onShapeChanged:fe,onTitleChanged:Ee,onVisibleChanged:_e,onZindexChanged:V,onLoad:J,onUnmount:re}=i,he=y.useContext(Ue),[Z,ve]=y.useState(null),[Te,Ce]=y.useState(null),[De,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null),[$e,yi]=y.useState(null),[_i,Or]=y.useState(null),[dt,Tt]=y.useState(null),[Mn,ga]=y.useState(null),[Zi,Kt]=y.useState(null),[Ei,Dr]=y.useState(null),[bi,si]=y.useState(null),[xr,Ls]=y.useState(null),[Xi,Rs]=y.useState(null),[hn,xt]=y.useState(null),[Jt,vt]=y.useState(null),[Wi,Ji]=y.useState(null),[er,On]=y.useState(null),[Si,Et]=y.useState(null),[vn,Dn]=y.useState(null),[fn,ma]=y.useState(null),[tr,xn]=y.useState(null);y.useEffect(()=>{Z!==null&&Z.setMap(he)},[he]),y.useEffect(()=>{typeof n<"u"&&Z!==null&&Z.setOptions(n)},[Z,n]),y.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setDraggable(c)},[Z,c]),y.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),y.useEffect(()=>{typeof p<"u"&&Z!==null&&Z.setVisible(p)},[Z,p]),y.useEffect(()=>{Z?.setAnimation(g)},[Z,g]),y.useEffect(()=>{Z&&m!==void 0&&Z.setClickable(m)},[Z,m]),y.useEffect(()=>{Z&&_!==void 0&&Z.setCursor(_)},[Z,_]),y.useEffect(()=>{Z&&b!==void 0&&Z.setIcon(b)},[Z,b]),y.useEffect(()=>{Z&&T!==void 0&&Z.setLabel(T)},[Z,T]),y.useEffect(()=>{Z&&M!==void 0&&Z.setOpacity(M)},[Z,M]),y.useEffect(()=>{Z&&O!==void 0&&Z.setShape(O)},[Z,O]),y.useEffect(()=>{Z&&U!==void 0&&Z.setTitle(U)},[Z,U]),y.useEffect(()=>{Z&&I!==void 0&&Z.setZIndex(I)},[Z,I]),y.useEffect(()=>{Z&&B&&(Te!==null&&google.maps.event.removeListener(Te),Ce(google.maps.event.addListener(Z,"dblclick",B)))},[B]),y.useEffect(()=>{Z&&G&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener(Z,"dragend",G)))},[G]),y.useEffect(()=>{Z&&j&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener(Z,"dragstart",j)))},[j]),y.useEffect(()=>{Z&&w&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener(Z,"mousedown",w)))},[w]),y.useEffect(()=>{Z&&F&&($e!==null&&google.maps.event.removeListener($e),yi(google.maps.event.addListener(Z,"mouseout",F)))},[F]),y.useEffect(()=>{Z&&A&&(_i!==null&&google.maps.event.removeListener(_i),Or(google.maps.event.addListener(Z,"mouseover",A)))},[A]),y.useEffect(()=>{Z&&R&&(dt!==null&&google.maps.event.removeListener(dt),Tt(google.maps.event.addListener(Z,"mouseup",R)))},[R]),y.useEffect(()=>{Z&&N&&(Mn!==null&&google.maps.event.removeListener(Mn),ga(google.maps.event.addListener(Z,"rightclick",N)))},[N]),y.useEffect(()=>{Z&&H&&(Zi!==null&&google.maps.event.removeListener(Zi),Kt(google.maps.event.addListener(Z,"click",H)))},[H]),y.useEffect(()=>{Z&&W&&(Ei!==null&&google.maps.event.removeListener(Ei),Dr(google.maps.event.addListener(Z,"drag",W)))},[W]),y.useEffect(()=>{Z&&x&&(bi!==null&&google.maps.event.removeListener(bi),si(google.maps.event.addListener(Z,"clickable_changed",x)))},[x]),y.useEffect(()=>{Z&&k&&(xr!==null&&google.maps.event.removeListener(xr),Ls(google.maps.event.addListener(Z,"cursor_changed",k)))},[k]),y.useEffect(()=>{Z&&D&&(Xi!==null&&google.maps.event.removeListener(Xi),Rs(google.maps.event.addListener(Z,"animation_changed",D)))},[D]),y.useEffect(()=>{Z&&me&&(hn!==null&&google.maps.event.removeListener(hn),xt(google.maps.event.addListener(Z,"draggable_changed",me)))},[me]),y.useEffect(()=>{Z&&be&&(Jt!==null&&google.maps.event.removeListener(Jt),vt(google.maps.event.addListener(Z,"flat_changed",be)))},[be]),y.useEffect(()=>{Z&&K&&(Wi!==null&&google.maps.event.removeListener(Wi),Ji(google.maps.event.addListener(Z,"icon_changed",K)))},[K]),y.useEffect(()=>{Z&&ce&&(er!==null&&google.maps.event.removeListener(er),On(google.maps.event.addListener(Z,"position_changed",ce)))},[ce]),y.useEffect(()=>{Z&&fe&&(Si!==null&&google.maps.event.removeListener(Si),Et(google.maps.event.addListener(Z,"shape_changed",fe)))},[fe]),y.useEffect(()=>{Z&&Ee&&(vn!==null&&google.maps.event.removeListener(vn),Dn(google.maps.event.addListener(Z,"title_changed",Ee)))},[Ee]),y.useEffect(()=>{Z&&_e&&(fn!==null&&google.maps.event.removeListener(fn),ma(google.maps.event.addListener(Z,"visible_changed",_e)))},[_e]),y.useEffect(()=>{Z&&V&&(tr!==null&&google.maps.event.removeListener(tr),xn(google.maps.event.addListener(Z,"zindex_changed",V)))},[V]),y.useEffect(()=>{var ir=lo(lo(lo({},n||rh),s?rh:{map:he}),{},{position:e}),Me=new google.maps.Marker(ir);return s?s.addMarker(Me,!!o):Me.setMap(he),e&&Me.setPosition(e),typeof p<"u"&&Me.setVisible(p),typeof c<"u"&&Me.setDraggable(c),typeof m<"u"&&Me.setClickable(m),typeof _=="string"&&Me.setCursor(_),b&&Me.setIcon(b),typeof T<"u"&&Me.setLabel(T),typeof M<"u"&&Me.setOpacity(M),O&&Me.setShape(O),typeof U=="string"&&Me.setTitle(U),typeof I=="number"&&Me.setZIndex(I),B&&Ce(google.maps.event.addListener(Me,"dblclick",B)),G&&we(google.maps.event.addListener(Me,"dragend",G)),j&&Qt(google.maps.event.addListener(Me,"dragstart",j)),w&&cn(google.maps.event.addListener(Me,"mousedown",w)),F&&yi(google.maps.event.addListener(Me,"mouseout",F)),A&&Or(google.maps.event.addListener(Me,"mouseover",A)),R&&Tt(google.maps.event.addListener(Me,"mouseup",R)),N&&ga(google.maps.event.addListener(Me,"rightclick",N)),H&&Kt(google.maps.event.addListener(Me,"click",H)),W&&Dr(google.maps.event.addListener(Me,"drag",W)),x&&si(google.maps.event.addListener(Me,"clickable_changed",x)),k&&Ls(google.maps.event.addListener(Me,"cursor_changed",k)),D&&Rs(google.maps.event.addListener(Me,"animation_changed",D)),me&&xt(google.maps.event.addListener(Me,"draggable_changed",me)),be&&vt(google.maps.event.addListener(Me,"flat_changed",be)),K&&Ji(google.maps.event.addListener(Me,"icon_changed",K)),ce&&On(google.maps.event.addListener(Me,"position_changed",ce)),fe&&Et(google.maps.event.addListener(Me,"shape_changed",fe)),Ee&&Dn(google.maps.event.addListener(Me,"title_changed",Ee)),_e&&ma(google.maps.event.addListener(Me,"visible_changed",_e)),V&&xn(google.maps.event.addListener(Me,"zindex_changed",V)),ve(Me),J&&J(Me),()=>{Te!==null&&google.maps.event.removeListener(Te),De!==null&&google.maps.event.removeListener(De),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),$e!==null&&google.maps.event.removeListener($e),_i!==null&&google.maps.event.removeListener(_i),dt!==null&&google.maps.event.removeListener(dt),Mn!==null&&google.maps.event.removeListener(Mn),Zi!==null&&google.maps.event.removeListener(Zi),bi!==null&&google.maps.event.removeListener(bi),xr!==null&&google.maps.event.removeListener(xr),Xi!==null&&google.maps.event.removeListener(Xi),hn!==null&&google.maps.event.removeListener(hn),Jt!==null&&google.maps.event.removeListener(Jt),Wi!==null&&google.maps.event.removeListener(Wi),er!==null&&google.maps.event.removeListener(er),vn!==null&&google.maps.event.removeListener(vn),fn!==null&&google.maps.event.removeListener(fn),tr!==null&&google.maps.event.removeListener(tr),re&&re(Me),s?s.removeMarker(Me,!!o):Me&&Me.setMap(null)}},[]);var nr=y.useMemo(()=>u?y.Children.map(u,ir=>{if(!y.isValidElement(ir))return ir;var Me=ir;return y.cloneElement(Me,{anchor:Z})}):null,[u,Z]);return le.jsx(le.Fragment,{children:nr})||null}y.memo(AA);class Gp extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return f0(function*(){var n=lo(lo(lo({},e.props.options||rh),e.props.clusterer?rh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:R_,eventMap:L_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:R_,eventMap:L_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),He(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var s=n;return y.cloneElement(s,{anchor:this.marker})}):null;return e||null}}ne(Gp,"contextType",Ue);var LA=(function(){function i(e,n){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),o=this.cluster.getBounds(),u=n.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(o),this.timeOut=window.setTimeout(function(){var c=n.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(o);var p=c.getZoom()||0;s!==null&&p>s&&c.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,n,s,o,u,c;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,g=this.backgroundPosition.split(" "),m=parseInt(((e=g[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((n=g[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),b=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(b!==null?"".concat(b.y,"px"):"0","; left: ").concat(b!==null?"".concat(b.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var T=document.createElement("img");T.alt=p,T.src=this.url,T.width=this.width,T.height=this.height,T.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(T.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var M=document.createElement("div");M.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(M.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(M.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(T),this.div.appendChild(M),this.div.title=p,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},i})(),RA=(function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new LA(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,o=n;s<o.length;s++){var u=o[s],c=u.getPosition();c&&e.extend(c)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+s.lat())/o,(this.center.lng()*(o-1)+s.lng())/o),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,c=this.markerClusterer.getMaxZoom(),p=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(c!==null&&typeof p<"u"&&p>c)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var g=0,m=this.markers;g<m.length;g++){var _=m[g];_.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof o<"u"&&o>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},i})();function MA(i,e){var n=i.length,s=n.toString().length,o=Math.min(s,e);return{text:n.toString(),index:o,title:""}}var OA=2e3,DA=500,xA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",IA="png",NA=[53,56,66,78,90],VA="cluster",v0=(function(){function i(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||xA,this.imageExtension=s.imageExtension||IA,this.imageSizes=s.imageSizes||NA,this.calculator=s.calculator||MA,this.batchSize=s.batchSize||OA,this.batchSizeIE=s.batchSizeIE||DA,this.clusterClass=s.clusterClass||VA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var o=0,u=this.clusters;o<u.length;o++){var c=u[o];c.remove()}this.clusters=[];for(var p=0,g=this.listeners;p<g.length;p++){var m=g[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,o=e;s<o.length;s++){var u=o[s],c=u.getPosition();c&&n.extend(c)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},i.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=e[s];o&&this.pushMarkerTo(o)}n||this.redraw()},i.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},i.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},i.prototype.removeMarkers=function(e,n){for(var s=!1,o=0,u=e;o<u.length;o++){var c=u[o];s=s||this.removeMarker_(c)}return!n&&s&&this.repaint(),s},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,o=e;s<o.length;s++){var u=o[s];u.remove()}},0)},i.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),s!==null){var u=n.fromDivPixelToLatLng(s);u!==null&&e.extend(u)}if(o!==null){var c=n.fromDivPixelToLatLng(o);c!==null&&e.extend(c)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var o=s[n];o.remove()}this.clusters=[];for(var u=0,c=this.markers;u<c.length;u++){var p=c[u];p.isAdded=!1,e&&p.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,n){var s=6371,o=(n.lat()-e.lat())*Math.PI/180,u=(n.lng()-e.lng())*Math.PI/180,c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return s*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},i.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},i.prototype.addToClosestCluster=function(e){for(var n,s=4e4,o=null,u=0,c=this.clusters;u<c.length;u++){var p=c[u];n=p;var g=n.getCenter(),m=e.getPosition();if(g&&m){var _=this.distanceBetweenPoints(g,m);_<s&&(s=_,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new RA(this),n.addMarker(e),this.clusters.push(n))},i.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),o=s!==null&&("getBounds"in s)?s.getBounds():null,u=s?.getZoom()||0,c=u>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(c),g=Math.min(e+this.batchSize,this.markers.length),m=e;m<g;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,p)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(g<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(g)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var b=0,T=this.clusters;b<T.length;b++){var M=T[b];M.updateIcon()}}}},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype){var c=u;this.prototype[c]=o.prototype[c]}return this}).apply(e,[n])},i})();function M_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function PA(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var ni={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},kA={};function UA(i){var{children:e,options:n,averageCenter:s,batchSizeIE:o,calculator:u,clusterClass:c,enableRetinaIcons:p,gridSize:g,ignoreHidden:m,imageExtension:_,imagePath:b,imageSizes:T,maxZoom:M,minimumClusterSize:O,styles:U,title:I,zoomOnClick:H,onClick:B,onClusteringBegin:W,onClusteringEnd:G,onMouseOver:j,onMouseOut:F,onLoad:A,onUnmount:R}=i,[w,N]=y.useState(null),x=y.useContext(Ue),[k,D]=y.useState(null),[me,be]=y.useState(null),[K,ce]=y.useState(null),[fe,Ee]=y.useState(null),[_e,V]=y.useState(null);return y.useEffect(()=>{w&&F&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(w,ni.onMouseOut,F)))},[F]),y.useEffect(()=>{w&&j&&(_e!==null&&google.maps.event.removeListener(_e),V(google.maps.event.addListener(w,ni.onMouseOver,j)))},[j]),y.useEffect(()=>{w&&B&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(w,ni.onClick,B)))},[B]),y.useEffect(()=>{w&&W&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(w,ni.onClusteringBegin,W)))},[W]),y.useEffect(()=>{w&&G&&(K!==null&&google.maps.event.removeListener(K),be(google.maps.event.addListener(w,ni.onClusteringEnd,G)))},[G]),y.useEffect(()=>{typeof s<"u"&&w!==null&&et.averageCenter(w,s)},[w,s]),y.useEffect(()=>{typeof o<"u"&&w!==null&&et.batchSizeIE(w,o)},[w,o]),y.useEffect(()=>{typeof u<"u"&&w!==null&&et.calculator(w,u)},[w,u]),y.useEffect(()=>{typeof c<"u"&&w!==null&&et.clusterClass(w,c)},[w,c]),y.useEffect(()=>{typeof p<"u"&&w!==null&&et.enableRetinaIcons(w,p)},[w,p]),y.useEffect(()=>{typeof g<"u"&&w!==null&&et.gridSize(w,g)},[w,g]),y.useEffect(()=>{typeof m<"u"&&w!==null&&et.ignoreHidden(w,m)},[w,m]),y.useEffect(()=>{typeof _<"u"&&w!==null&&et.imageExtension(w,_)},[w,_]),y.useEffect(()=>{typeof b<"u"&&w!==null&&et.imagePath(w,b)},[w,b]),y.useEffect(()=>{typeof T<"u"&&w!==null&&et.imageSizes(w,T)},[w,T]),y.useEffect(()=>{typeof M<"u"&&w!==null&&et.maxZoom(w,M)},[w,M]),y.useEffect(()=>{typeof O<"u"&&w!==null&&et.minimumClusterSize(w,O)},[w,O]),y.useEffect(()=>{typeof U<"u"&&w!==null&&et.styles(w,U)},[w,U]),y.useEffect(()=>{typeof I<"u"&&w!==null&&et.title(w,I)},[w,I]),y.useEffect(()=>{typeof H<"u"&&w!==null&&et.zoomOnClick(w,H)},[w,H]),y.useEffect(()=>{if(x){var J=PA({},n||kA),re=new v0(x,[],J);return s&&et.averageCenter(re,s),o&&et.batchSizeIE(re,o),u&&et.calculator(re,u),c&&et.clusterClass(re,c),p&&et.enableRetinaIcons(re,p),g&&et.gridSize(re,g),m&&et.ignoreHidden(re,m),_&&et.imageExtension(re,_),b&&et.imagePath(re,b),T&&et.imageSizes(re,T),M&&et.maxZoom(re,M),O&&et.minimumClusterSize(re,O),U&&et.styles(re,U),I&&et.title(re,I),H&&et.zoomOnClick(re,H),F&&Ee(google.maps.event.addListener(re,ni.onMouseOut,F)),j&&V(google.maps.event.addListener(re,ni.onMouseOver,j)),B&&D(google.maps.event.addListener(re,ni.onClick,B)),W&&be(google.maps.event.addListener(re,ni.onClusteringBegin,W)),G&&ce(google.maps.event.addListener(re,ni.onClusteringEnd,G)),N(re),A&&A(re),()=>{fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),K!==null&&google.maps.event.removeListener(K),R&&R(re)}}},[]),w!==null&&e(w)||null}y.memo(UA);class zA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new v0(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),He(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(zA,"contextType",Ue);function O_(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var y0=(function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,n=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||O_(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,p=u;c<p.length;c++){var g=p[c];this.eventListeners.push(google.maps.event.addListener(this.div,g,O_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,o=0,u=n.getBounds();u&&!u.contains(this.position)&&n.setCenter(this.position);var c=n.getDiv(),p=c.offsetWidth,g=c.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,b=this.div.offsetWidth,T=this.div.offsetHeight,M=this.infoBoxClearance.width,O=this.infoBoxClearance.height,U=this.getProjection(),I=U.fromLatLngToContainerPixel(this.position);I!==null&&(I.x<-m+M?s=I.x+m-M:I.x+b+m+M>p&&(s=I.x+b+m+M-p),this.alignBottom?I.y<-_+O+T?o=I.y+_-O-T:I.y+_+O>g&&(o=I.y+_+O-g):I.y<-_+O?o=I.y+_-O:I.y+T+_+O>g&&(o=I.y+T+_+O-g)),s===0&&o===0||n.panBy(s,o)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();s.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=o.prototype[u]);return this}).apply(e,[n])},i})(),BA=["position"],jA=["position"];function D_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function sh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var x_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},I_={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},qA={};function HA(i){var{children:e,anchor:n,options:s,position:o,zIndex:u,onCloseClick:c,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:b,onUnmount:T}=i,M=y.useContext(Ue),[O,U]=y.useState(null),[I,H]=y.useState(null),[B,W]=y.useState(null),[G,j]=y.useState(null),[F,A]=y.useState(null),[R,w]=y.useState(null),N=y.useRef(null);return y.useEffect(()=>{M&&O!==null&&(O.close(),n?O.open(M,n):O.getPosition()&&O.open(M))},[M,O,n]),y.useEffect(()=>{s&&O!==null&&O.setOptions(s)},[O,s]),y.useEffect(()=>{if(o&&O!==null){var x=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);O.setPosition(x)}},[o]),y.useEffect(()=>{typeof u=="number"&&O!==null&&O.setZIndex(u)},[u]),y.useEffect(()=>{O&&c&&(I!==null&&google.maps.event.removeListener(I),H(google.maps.event.addListener(O,"closeclick",c)))},[c]),y.useEffect(()=>{O&&p&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(O,"domready",p)))},[p]),y.useEffect(()=>{O&&g&&(G!==null&&google.maps.event.removeListener(G),j(google.maps.event.addListener(O,"content_changed",g)))},[g]),y.useEffect(()=>{O&&m&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(O,"position_changed",m)))},[m]),y.useEffect(()=>{O&&_&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(O,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(M){var x=s||qA,{position:k}=x,D=Fp(x,BA),me;k&&!(k instanceof google.maps.LatLng)&&(me=new google.maps.LatLng(k.lat,k.lng));var be=new y0(sh(sh({},D),me?{position:me}:{}));N.current=document.createElement("div"),U(be),c&&H(google.maps.event.addListener(be,"closeclick",c)),p&&W(google.maps.event.addListener(be,"domready",p)),g&&j(google.maps.event.addListener(be,"content_changed",g)),m&&A(google.maps.event.addListener(be,"position_changed",m)),_&&w(google.maps.event.addListener(be,"zindex_changed",_)),be.setContent(N.current),n?be.open(M,n):be.getPosition()?be.open(M):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),b&&b(be)}return()=>{O!==null&&(I&&google.maps.event.removeListener(I),G&&google.maps.event.removeListener(G),B&&google.maps.event.removeListener(B),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),T&&T(O),O.close())}},[]),N.current?So.createPortal(y.Children.only(e),N.current):null}y.memo(HA);class FA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=Fp(e,jA),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var u=new y0(sh(sh({},s),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),He(this.registeredEvents),n.close())}render(){return this.containerElement?So.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(FA,"contextType",Ue);var Kd,N_;function GA(){return N_||(N_=1,Kd=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,u;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=s;o--!==0;){var c=u[o];if(!i(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),Kd}var QA=GA(),V_=c0(QA),P_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Yd=1,xl=8;class Qp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=s>>4;if(o!==Yd)throw new Error("Got v".concat(o," data when expected v").concat(Yd,"."));var u=P_[s&15];if(!u)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new Qp(p,c,u,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=P_.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-p%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(s,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,xl,e),this.coords=new this.ArrayType(this.data,xl+p+g,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(xl+c+p+g),this.ids=new this.IndexArrayType(this.data,xl,e),this.coords=new this.ArrayType(this.data,xl+p+g,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Yd<<4)+u]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return hp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:c,nodeSize:p}=this,g=[0,u.length-1,0],m=[];g.length;){var _=g.pop()||0,b=g.pop()||0,T=g.pop()||0;if(b-T<=p){for(var M=T;M<=b;M++){var O=c[2*M],U=c[2*M+1];O>=e&&O<=s&&U>=n&&U<=o&&m.push(u[M])}continue}var I=T+b>>1,H=c[2*I],B=c[2*I+1];H>=e&&H<=s&&B>=n&&B<=o&&m.push(u[I]),(_===0?e<=H:n<=B)&&(g.push(T),g.push(I-1),g.push(1-_)),(_===0?s>=H:o>=B)&&(g.push(I+1),g.push(b),g.push(1-_))}return m}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:u,nodeSize:c}=this,p=[0,o.length-1,0],g=[],m=s*s;p.length;){var _=p.pop()||0,b=p.pop()||0,T=p.pop()||0;if(b-T<=c){for(var M=T;M<=b;M++)k_(u[2*M],u[2*M+1],e,n)<=m&&g.push(o[M]);continue}var O=T+b>>1,U=u[2*O],I=u[2*O+1];k_(U,I,e,n)<=m&&g.push(o[O]),(_===0?e-s<=U:n-s<=I)&&(p.push(T),p.push(O-1),p.push(1-_)),(_===0?e+s>=U:n+s>=I)&&(p.push(O+1),p.push(b),p.push(1-_))}return g}}function hp(i,e,n,s,o,u){if(!(o-s<=n)){var c=s+o>>1;_0(i,e,c,s,o,u),hp(i,e,n,s,c-1,1-u),hp(i,e,n,c+1,o,1-u)}}function _0(i,e,n,s,o,u){for(;o>s;){if(o-s>600){var c=o-s+1,p=n-s+1,g=Math.log(c),m=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*m*(c-m)/c)*(p-c/2<0?-1:1),b=Math.max(s,Math.floor(n-p*m/c+_)),T=Math.min(o,Math.floor(n+(c-p)*m/c+_));_0(i,e,n,b,T,u)}var M=e[2*n+u],O=s,U=o;for(Il(i,e,s,n),e[2*o+u]>M&&Il(i,e,s,o);O<U;){for(Il(i,e,O,U),O++,U--;e[2*O+u]<M;)O++;for(;e[2*U+u]>M;)U--}e[2*s+u]===M?Il(i,e,s,U):(U++,Il(i,e,U,o)),U<=n&&(s=U+1),n<=U&&(o=U-1)}}function Il(i,e,n,s){$d(i,n,s),$d(e,2*n,2*s),$d(e,2*n+1,2*s+1)}function $d(i,e,n){var s=i[e];i[e]=i[n],i[n]=s}function k_(i,e,n,s){var o=i-n,u=e-s;return o*o+u*u}var KA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},U_=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),ea=2,hs=3,Zd=4,cs=5,E0=6;class YA{constructor(e){this.options=Object.assign(Object.create(KA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:o}=this.options;n&&console.time("total time");var u="prepare ".concat(e.length," points");n&&console.time(u),this.points=e;for(var c=[],p=0;p<e.length;p++){var g=e[p];if(g.geometry){var[m,_]=g.geometry.coordinates,b=U_(Pc(m)),T=U_(kc(_));c.push(b,T,1/0,p,-1,1),this.options.reduce&&c.push(0)}}var M=this.trees[o+1]=this._createTree(c);n&&console.timeEnd(u);for(var O=o;O>=s;O--){var U=+Date.now();M=this.trees[O]=this._createTree(this._cluster(M,O)),n&&console.log("z%d: %d clusters in %dms",O,M.numItems,+Date.now()-U)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,u=180;else if(s>u){var p=this.getClusters([s,o,180,c],n),g=this.getClusters([-180,o,u,c],n);return p.concat(g)}var m=this.trees[this._limitZoom(n)],_=m.range(Pc(s),kc(c),Pc(u),kc(o)),b=m.data,T=[];for(var M of _){var O=this.stride*M;T.push(b[O+cs]>1?z_(b,O,this.clusterProps):this.points[b[O+hs]])}return T}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),o="No cluster with the specified id.",u=this.trees[s];if(!u)throw new Error(o);var c=u.data;if(n*this.stride>=c.length)throw new Error(o);var p=this.options.radius/(this.options.extent*Math.pow(2,s-1)),g=c[n*this.stride],m=c[n*this.stride+1],_=u.within(g,m,p),b=[];for(var T of _){var M=T*this.stride;c[M+Zd]===e&&b.push(c[M+cs]>1?z_(c,M,this.clusterProps):this.points[c[M+hs]])}if(b.length===0)throw new Error(o);return b}getLeaves(e,n,s){n=n||10,s=s||0;var o=[];return this._appendLeaves(o,e,n,s,0),o}getTile(e,n,s){var o=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:c,radius:p}=this.options,g=p/c,m=(s-g)/u,_=(s+1+g)/u,b={features:[]};return this._addTileFeatures(o.range((n-g)/u,m,(n+1+g)/u,_),o.data,n,s,u,b),n===0&&this._addTileFeatures(o.range(1-g/u,m,1,_),o.data,u,s,u,b),n===u-1&&this._addTileFeatures(o.range(0,m,g/u,_),o.data,-1,s,u,b),b.features.length?b:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,o,u){var c=this.getChildren(n);for(var p of c){var g=p.properties;if(g&&g.cluster?u+g.point_count<=o?u+=g.point_count:u=this._appendLeaves(e,g.cluster_id,s,o,u):u<o?u++:e.push(p),e.length===s)break}return u}_createTree(e){for(var n=new Qp(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,o,u,c){for(var p of e){var g=p*this.stride,m=n[g+cs]>1,_=void 0,b=void 0,T=void 0;if(m)_=b0(n,g,this.clusterProps),b=n[g],T=n[g+1];else{var M=this.points[n[g+hs]];_=M.properties;var[O,U]=M.geometry.coordinates;b=Pc(O),T=kc(U)}var I={type:1,geometry:[[Math.round(this.options.extent*(b*u-s)),Math.round(this.options.extent*(T*u-o))]],tags:_},H=void 0;m||this.options.generateId?H=n[g+hs]:H=this.points[n[g+hs]].id,H!==void 0&&(I.id=H),c.features.push(I)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:o,reduce:u,minPoints:c}=this.options,p=s/(o*Math.pow(2,n)),g=e.data,m=[],_=this.stride,b=0;b<g.length;b+=_)if(!(g[b+ea]<=n)){g[b+ea]=n;var T=g[b],M=g[b+1],O=e.within(g[b],g[b+1],p),U=g[b+cs],I=U;for(var H of O){var B=H*_;g[B+ea]>n&&(I+=g[B+cs])}if(I>U&&I>=c){var W=T*U,G=M*U,j=void 0,F=-1,A=((b/_|0)<<5)+(n+1)+this.points.length;for(var R of O){var w=R*_;if(!(g[w+ea]<=n)){g[w+ea]=n;var N=g[w+cs];W+=g[w]*N,G+=g[w+1]*N,g[w+Zd]=A,u&&(j||(j=this._map(g,b,!0),F=this.clusterProps.length,this.clusterProps.push(j)),u(j,this._map(g,w)))}}g[b+Zd]=A,m.push(W/I,G/I,1/0,A,-1,I),u&&m.push(F)}else{for(var x=0;x<_;x++)m.push(g[b+x]);if(I>1)for(var k of O){var D=k*_;if(!(g[D+ea]<=n)){g[D+ea]=n;for(var me=0;me<_;me++)m.push(g[D+me])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+cs]>1){var o=this.clusterProps[e[n+E0]];return s?Object.assign({},o):o}var u=this.points[e[n+hs]].properties,c=this.options.map(u);return s&&c===u?Object.assign({},c):c}}function z_(i,e,n){return{type:"Feature",id:i[e+hs],properties:b0(i,e,n),geometry:{type:"Point",coordinates:[$A(i[e]),ZA(i[e+1])]}}}function b0(i,e,n){var s=i[e+cs],o=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,u=i[e+E0],c=u===-1?{}:Object.assign({},n[u]);return Object.assign(c,{cluster:!0,cluster_id:i[e+hs],point_count:s,point_count_abbreviated:o})}function Pc(i){return i/360+.5}function kc(i){var e=Math.sin(i*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function $A(i){return(i-.5)*360}function ZA(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function XA(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}class qn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class fp{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(qn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>qn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(qn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class WA{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return JA(n)}}var JA=i=>{var e=i.map(n=>new fp({position:qn.getPosition(n),markers:[n]}));return e};class eL extends WA{constructor(e){var{maxZoom:n,radius:s=60}=e,o=XA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new YA(Object.assign({maxZoom:this.maxZoom,radius:s},o))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!V_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(u=>{var c=qn.getPosition(u),p=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:u}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!V_(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:o}=e;if(o.cluster)return new fp({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:s,lng:n}});var u=o.marker;return new fp({markers:[u],position:qn.getPosition(u)})}}class tL{constructor(e,n){this.markers={sum:e.length};var s=n.map(u=>u.count),o=s.reduce((u,c)=>u+c,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...s),max:Math.max(...s)}}}}class nL{render(e,n,s){var{count:o,position:u}=e,c=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),g="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(qn.isAdvancedMarkerAvailable(s)){var _=new DOMParser,b=_.parseFromString(p,"image/svg+xml").documentElement;b.setAttribute("transform","translate(0 25)");var T={map:s,position:u,zIndex:m,title:g,content:b};return new google.maps.marker.AdvancedMarkerElement(T)}var M={position:u,zIndex:m,title:g,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(M)}}function iL(i,e){for(var n in e.prototype)i.prototype[n]=e.prototype[n]}class Kp{constructor(){iL(Kp,google.maps.OverlayView)}}var zl;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(zl||(zl={}));var rL=(i,e,n)=>{n.fitBounds(e.bounds)};class sL extends Kp{constructor(e){var{map:n,markers:s=[],algorithmOptions:o={},algorithm:u=new eL(o),renderer:c=new nL,onClusterClick:p=rL}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=u,this.renderer=c,this.onClusterClick=p,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(qn.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(o=>{s=this.removeMarker(o,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,zl.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var o=new Set;for(var u of n)u.markers.length==1&&o.add(u.markers[0]);var c=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?o.has(p.marker)||qn.setMap(p.marker,null):c.push(p.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>c.forEach(g=>qn.setMap(g,null)))}google.maps.event.trigger(this,zl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>qn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new tL(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(o=>qn.setMap(o,null)),this.onClusterClick&&s.marker.addListener("click",o=>{google.maps.event.trigger(this,zl.CLUSTER_CLICK,s),this.onClusterClick(o,s,n)})),qn.setMap(s.marker,n)})}}function B_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function j_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function aL(i){var e=eA(),[n,s]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var o=new sL(j_(j_({},i),{},{map:e}));s(o)}},[e]),n}function oL(i){var{children:e,options:n}=i,s=aL(n);return s!==null?e(s):null}y.memo(oL);var q_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},H_={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function lL(i){var{children:e,anchor:n,options:s,position:o,zIndex:u,onCloseClick:c,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:b,onUnmount:T}=i,M=y.useContext(Ue),[O,U]=y.useState(null),[I,H]=y.useState(null),[B,W]=y.useState(null),[G,j]=y.useState(null),[F,A]=y.useState(null),[R,w]=y.useState(null),N=y.useRef(null);return y.useEffect(()=>{O!==null&&(O.close(),n?O.open(M,n):O.getPosition()&&O.open(M))},[M,O,n]),y.useEffect(()=>{s&&O!==null&&O.setOptions(s)},[O,s]),y.useEffect(()=>{o&&O!==null&&O.setPosition(o)},[o]),y.useEffect(()=>{typeof u=="number"&&O!==null&&O.setZIndex(u)},[u]),y.useEffect(()=>{O&&c&&(I!==null&&google.maps.event.removeListener(I),H(google.maps.event.addListener(O,"closeclick",c)))},[c]),y.useEffect(()=>{O&&p&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(O,"domready",p)))},[p]),y.useEffect(()=>{O&&g&&(G!==null&&google.maps.event.removeListener(G),j(google.maps.event.addListener(O,"content_changed",g)))},[g]),y.useEffect(()=>{O&&m&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(O,"position_changed",m)))},[m]),y.useEffect(()=>{O&&_&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(O,"zindex_changed",_)))},[_]),y.useEffect(()=>{var x=new google.maps.InfoWindow(s);return U(x),N.current=document.createElement("div"),c&&H(google.maps.event.addListener(x,"closeclick",c)),p&&W(google.maps.event.addListener(x,"domready",p)),g&&j(google.maps.event.addListener(x,"content_changed",g)),m&&A(google.maps.event.addListener(x,"position_changed",m)),_&&w(google.maps.event.addListener(x,"zindex_changed",_)),x.setContent(N.current),o&&x.setPosition(o),u&&x.setZIndex(u),n?x.open(M,n):x.getPosition()?x.open(M):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),b&&b(x),()=>{I&&google.maps.event.removeListener(I),G&&google.maps.event.removeListener(G),B&&google.maps.event.removeListener(B),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),T&&T(x),x.close()}},[]),N.current?So.createPortal(y.Children.only(e),N.current):null}y.memo(lL);class S0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:H_,eventMap:q_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:H_,eventMap:q_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(He(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?So.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(S0,"contextType",Ue);function F_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function ah(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var G_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Q_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},uL={};function cL(i){var{options:e,draggable:n,editable:s,visible:o,path:u,onDblClick:c,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:b,onMouseOver:T,onMouseUp:M,onRightClick:O,onClick:U,onDrag:I,onLoad:H,onUnmount:B}=i,W=y.useContext(Ue),[G,j]=y.useState(null),[F,A]=y.useState(null),[R,w]=y.useState(null),[N,x]=y.useState(null),[k,D]=y.useState(null),[me,be]=y.useState(null),[K,ce]=y.useState(null),[fe,Ee]=y.useState(null),[_e,V]=y.useState(null),[J,re]=y.useState(null),[he,Z]=y.useState(null),[ve,Te]=y.useState(null);return y.useEffect(()=>{G!==null&&G.setMap(W)},[W]),y.useEffect(()=>{typeof e<"u"&&G!==null&&G.setOptions(e)},[G,e]),y.useEffect(()=>{typeof n<"u"&&G!==null&&G.setDraggable(n)},[G,n]),y.useEffect(()=>{typeof s<"u"&&G!==null&&G.setEditable(s)},[G,s]),y.useEffect(()=>{typeof o<"u"&&G!==null&&G.setVisible(o)},[G,o]),y.useEffect(()=>{typeof u<"u"&&G!==null&&G.setPath(u)},[G,u]),y.useEffect(()=>{G&&c&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(G,"dblclick",c)))},[c]),y.useEffect(()=>{G&&p&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(G,"dragend",p)))},[p]),y.useEffect(()=>{G&&g&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(G,"dragstart",g)))},[g]),y.useEffect(()=>{G&&m&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(G,"mousedown",m)))},[m]),y.useEffect(()=>{G&&_&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(G,"mousemove",_)))},[_]),y.useEffect(()=>{G&&b&&(K!==null&&google.maps.event.removeListener(K),ce(google.maps.event.addListener(G,"mouseout",b)))},[b]),y.useEffect(()=>{G&&T&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(G,"mouseover",T)))},[T]),y.useEffect(()=>{G&&M&&(_e!==null&&google.maps.event.removeListener(_e),V(google.maps.event.addListener(G,"mouseup",M)))},[M]),y.useEffect(()=>{G&&O&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(G,"rightclick",O)))},[O]),y.useEffect(()=>{G&&U&&(he!==null&&google.maps.event.removeListener(he),Z(google.maps.event.addListener(G,"click",U)))},[U]),y.useEffect(()=>{G&&I&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(G,"drag",I)))},[I]),y.useEffect(()=>{var Ce=new google.maps.Polyline(ah(ah({},e||uL),{},{map:W}));return u&&Ce.setPath(u),typeof o<"u"&&Ce.setVisible(o),typeof s<"u"&&Ce.setEditable(s),typeof n<"u"&&Ce.setDraggable(n),c&&A(google.maps.event.addListener(Ce,"dblclick",c)),p&&w(google.maps.event.addListener(Ce,"dragend",p)),g&&x(google.maps.event.addListener(Ce,"dragstart",g)),m&&D(google.maps.event.addListener(Ce,"mousedown",m)),_&&be(google.maps.event.addListener(Ce,"mousemove",_)),b&&ce(google.maps.event.addListener(Ce,"mouseout",b)),T&&Ee(google.maps.event.addListener(Ce,"mouseover",T)),M&&V(google.maps.event.addListener(Ce,"mouseup",M)),O&&re(google.maps.event.addListener(Ce,"rightclick",O)),U&&Z(google.maps.event.addListener(Ce,"click",U)),I&&Te(google.maps.event.addListener(Ce,"drag",I)),j(Ce),H&&H(Ce),()=>{F!==null&&google.maps.event.removeListener(F),R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),K!==null&&google.maps.event.removeListener(K),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),he!==null&&google.maps.event.removeListener(he),B&&B(Ce),Ce.setMap(null)}},[]),null}y.memo(cL);class hL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(ah(ah({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),He(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(hL,"contextType",Ue);function K_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Y_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var $_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Z_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function fL(i){var{options:e,draggable:n,editable:s,visible:o,path:u,paths:c,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:b,onMouseOut:T,onMouseOver:M,onMouseUp:O,onRightClick:U,onClick:I,onDrag:H,onLoad:B,onUnmount:W,onEdit:G}=i,j=y.useContext(Ue),[F,A]=y.useState(null),[R,w]=y.useState(null),[N,x]=y.useState(null),[k,D]=y.useState(null),[me,be]=y.useState(null),[K,ce]=y.useState(null),[fe,Ee]=y.useState(null),[_e,V]=y.useState(null),[J,re]=y.useState(null),[he,Z]=y.useState(null),[ve,Te]=y.useState(null),[Ce,De]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(j)},[j]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof n<"u"&&F!==null&&F.setDraggable(n)},[F,n]),y.useEffect(()=>{typeof s<"u"&&F!==null&&F.setEditable(s)},[F,s]),y.useEffect(()=>{typeof o<"u"&&F!==null&&F.setVisible(o)},[F,o]),y.useEffect(()=>{typeof u<"u"&&F!==null&&F.setPath(u)},[F,u]),y.useEffect(()=>{typeof c<"u"&&F!==null&&F.setPaths(c)},[F,c]),y.useEffect(()=>{F&&typeof p=="function"&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(F,"dblclick",p)))},[p]),y.useEffect(()=>{F&&(google.maps.event.addListener(F.getPath(),"insert_at",()=>{G?.(F)}),google.maps.event.addListener(F.getPath(),"set_at",()=>{G?.(F)}),google.maps.event.addListener(F.getPath(),"remove_at",()=>{G?.(F)}))},[F,G]),y.useEffect(()=>{F&&typeof g=="function"&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(F,"dragend",g)))},[g]),y.useEffect(()=>{F&&typeof m=="function"&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(F,"dragstart",m)))},[m]),y.useEffect(()=>{F&&typeof _=="function"&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(F,"mousedown",_)))},[_]),y.useEffect(()=>{F&&typeof b=="function"&&(K!==null&&google.maps.event.removeListener(K),ce(google.maps.event.addListener(F,"mousemove",b)))},[b]),y.useEffect(()=>{F&&typeof T=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(F,"mouseout",T)))},[T]),y.useEffect(()=>{F&&typeof M=="function"&&(_e!==null&&google.maps.event.removeListener(_e),V(google.maps.event.addListener(F,"mouseover",M)))},[M]),y.useEffect(()=>{F&&typeof O=="function"&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(F,"mouseup",O)))},[O]),y.useEffect(()=>{F&&typeof U=="function"&&(he!==null&&google.maps.event.removeListener(he),Z(google.maps.event.addListener(F,"rightclick",U)))},[U]),y.useEffect(()=>{F&&typeof I=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(F,"click",I)))},[I]),y.useEffect(()=>{F&&typeof H=="function"&&(Ce!==null&&google.maps.event.removeListener(Ce),De(google.maps.event.addListener(F,"drag",H)))},[H]),y.useEffect(()=>{var we=new google.maps.Polygon(Y_(Y_({},e),{},{map:j}));return u&&we.setPath(u),c&&we.setPaths(c),typeof o<"u"&&we.setVisible(o),typeof s<"u"&&we.setEditable(s),typeof n<"u"&&we.setDraggable(n),p&&w(google.maps.event.addListener(we,"dblclick",p)),g&&x(google.maps.event.addListener(we,"dragend",g)),m&&D(google.maps.event.addListener(we,"dragstart",m)),_&&be(google.maps.event.addListener(we,"mousedown",_)),b&&ce(google.maps.event.addListener(we,"mousemove",b)),T&&Ee(google.maps.event.addListener(we,"mouseout",T)),M&&V(google.maps.event.addListener(we,"mouseover",M)),O&&re(google.maps.event.addListener(we,"mouseup",O)),U&&Z(google.maps.event.addListener(we,"rightclick",U)),I&&Te(google.maps.event.addListener(we,"click",I)),H&&De(google.maps.event.addListener(we,"drag",H)),A(we),B&&B(we),()=>{R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),K!==null&&google.maps.event.removeListener(K),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),W&&W(we),we.setMap(null)}},[]),null}y.memo(fL);class dL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:Z_,eventMap:$_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:Z_,eventMap:$_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),He(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(dL,"contextType",Ue);function X_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function oh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var W_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},J_={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function pL(i){var{options:e,bounds:n,draggable:s,editable:o,visible:u,onDblClick:c,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:b,onMouseOver:T,onMouseUp:M,onRightClick:O,onClick:U,onDrag:I,onBoundsChanged:H,onLoad:B,onUnmount:W}=i,G=y.useContext(Ue),[j,F]=y.useState(null),[A,R]=y.useState(null),[w,N]=y.useState(null),[x,k]=y.useState(null),[D,me]=y.useState(null),[be,K]=y.useState(null),[ce,fe]=y.useState(null),[Ee,_e]=y.useState(null),[V,J]=y.useState(null),[re,he]=y.useState(null),[Z,ve]=y.useState(null),[Te,Ce]=y.useState(null),[De,we]=y.useState(null);return y.useEffect(()=>{j!==null&&j.setMap(G)},[G]),y.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),y.useEffect(()=>{typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),y.useEffect(()=>{typeof o<"u"&&j!==null&&j.setEditable(o)},[j,o]),y.useEffect(()=>{typeof u<"u"&&j!==null&&j.setVisible(u)},[j,u]),y.useEffect(()=>{typeof n<"u"&&j!==null&&j.setBounds(n)},[j,n]),y.useEffect(()=>{j&&c&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(j,"dblclick",c)))},[c]),y.useEffect(()=>{j&&p&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(j,"dragend",p)))},[p]),y.useEffect(()=>{j&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(j,"dragstart",g)))},[g]),y.useEffect(()=>{j&&m&&(D!==null&&google.maps.event.removeListener(D),me(google.maps.event.addListener(j,"mousedown",m)))},[m]),y.useEffect(()=>{j&&_&&(be!==null&&google.maps.event.removeListener(be),K(google.maps.event.addListener(j,"mousemove",_)))},[_]),y.useEffect(()=>{j&&b&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(j,"mouseout",b)))},[b]),y.useEffect(()=>{j&&T&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(j,"mouseover",T)))},[T]),y.useEffect(()=>{j&&M&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(j,"mouseup",M)))},[M]),y.useEffect(()=>{j&&O&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(j,"rightclick",O)))},[O]),y.useEffect(()=>{j&&U&&(Z!==null&&google.maps.event.removeListener(Z),ve(google.maps.event.addListener(j,"click",U)))},[U]),y.useEffect(()=>{j&&I&&(Te!==null&&google.maps.event.removeListener(Te),Ce(google.maps.event.addListener(j,"drag",I)))},[I]),y.useEffect(()=>{j&&H&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener(j,"bounds_changed",H)))},[H]),y.useEffect(()=>{var ze=new google.maps.Rectangle(oh(oh({},e),{},{map:G}));return typeof u<"u"&&ze.setVisible(u),typeof o<"u"&&ze.setEditable(o),typeof s<"u"&&ze.setDraggable(s),typeof n<"u"&&ze.setBounds(n),c&&R(google.maps.event.addListener(ze,"dblclick",c)),p&&N(google.maps.event.addListener(ze,"dragend",p)),g&&k(google.maps.event.addListener(ze,"dragstart",g)),m&&me(google.maps.event.addListener(ze,"mousedown",m)),_&&K(google.maps.event.addListener(ze,"mousemove",_)),b&&fe(google.maps.event.addListener(ze,"mouseout",b)),T&&_e(google.maps.event.addListener(ze,"mouseover",T)),M&&J(google.maps.event.addListener(ze,"mouseup",M)),O&&he(google.maps.event.addListener(ze,"rightclick",O)),U&&ve(google.maps.event.addListener(ze,"click",U)),I&&Ce(google.maps.event.addListener(ze,"drag",I)),H&&we(google.maps.event.addListener(ze,"bounds_changed",H)),F(ze),B&&B(ze),()=>{A!==null&&google.maps.event.removeListener(A),w!==null&&google.maps.event.removeListener(w),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),be!==null&&google.maps.event.removeListener(be),ce!==null&&google.maps.event.removeListener(ce),Ee!==null&&google.maps.event.removeListener(Ee),V!==null&&google.maps.event.removeListener(V),re!==null&&google.maps.event.removeListener(re),Z!==null&&google.maps.event.removeListener(Z),Te!==null&&google.maps.event.removeListener(Te),De!==null&&google.maps.event.removeListener(De),W&&W(ze),ze.setMap(null)}},[]),null}y.memo(pL);class gL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(oh(oh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:J_,eventMap:W_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:J_,eventMap:W_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),He(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(gL,"contextType",Ue);function eE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function lh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var tE={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nE={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},mL={};function vL(i){var{options:e,center:n,radius:s,draggable:o,editable:u,visible:c,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:b,onMouseOut:T,onMouseOver:M,onMouseUp:O,onRightClick:U,onClick:I,onDrag:H,onCenterChanged:B,onRadiusChanged:W,onLoad:G,onUnmount:j}=i,F=y.useContext(Ue),[A,R]=y.useState(null),[w,N]=y.useState(null),[x,k]=y.useState(null),[D,me]=y.useState(null),[be,K]=y.useState(null),[ce,fe]=y.useState(null),[Ee,_e]=y.useState(null),[V,J]=y.useState(null),[re,he]=y.useState(null),[Z,ve]=y.useState(null),[Te,Ce]=y.useState(null),[De,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null);return y.useEffect(()=>{A!==null&&A.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),y.useEffect(()=>{typeof o<"u"&&A!==null&&A.setDraggable(o)},[A,o]),y.useEffect(()=>{typeof u<"u"&&A!==null&&A.setEditable(u)},[A,u]),y.useEffect(()=>{typeof c<"u"&&A!==null&&A.setVisible(c)},[A,c]),y.useEffect(()=>{typeof s=="number"&&A!==null&&A.setRadius(s)},[A,s]),y.useEffect(()=>{typeof n<"u"&&A!==null&&A.setCenter(n)},[A,n]),y.useEffect(()=>{A&&p&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(A,"dblclick",p)))},[p]),y.useEffect(()=>{A&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(A,"dragend",g)))},[g]),y.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),me(google.maps.event.addListener(A,"dragstart",m)))},[m]),y.useEffect(()=>{A&&_&&(be!==null&&google.maps.event.removeListener(be),K(google.maps.event.addListener(A,"mousedown",_)))},[_]),y.useEffect(()=>{A&&b&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(A,"mousemove",b)))},[b]),y.useEffect(()=>{A&&T&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(A,"mouseout",T)))},[T]),y.useEffect(()=>{A&&M&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(A,"mouseover",M)))},[M]),y.useEffect(()=>{A&&O&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(A,"mouseup",O)))},[O]),y.useEffect(()=>{A&&U&&(Z!==null&&google.maps.event.removeListener(Z),ve(google.maps.event.addListener(A,"rightclick",U)))},[U]),y.useEffect(()=>{A&&I&&(Te!==null&&google.maps.event.removeListener(Te),Ce(google.maps.event.addListener(A,"click",I)))},[I]),y.useEffect(()=>{A&&H&&(De!==null&&google.maps.event.removeListener(De),we(google.maps.event.addListener(A,"drag",H)))},[H]),y.useEffect(()=>{A&&B&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener(A,"center_changed",B)))},[I]),y.useEffect(()=>{A&&W&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener(A,"radius_changed",W)))},[W]),y.useEffect(()=>{var $e=new google.maps.Circle(lh(lh({},e||mL),{},{map:F}));return typeof s=="number"&&$e.setRadius(s),typeof n<"u"&&$e.setCenter(n),typeof s=="number"&&$e.setRadius(s),typeof c<"u"&&$e.setVisible(c),typeof u<"u"&&$e.setEditable(u),typeof o<"u"&&$e.setDraggable(o),p&&N(google.maps.event.addListener($e,"dblclick",p)),g&&k(google.maps.event.addListener($e,"dragend",g)),m&&me(google.maps.event.addListener($e,"dragstart",m)),_&&K(google.maps.event.addListener($e,"mousedown",_)),b&&fe(google.maps.event.addListener($e,"mousemove",b)),T&&_e(google.maps.event.addListener($e,"mouseout",T)),M&&J(google.maps.event.addListener($e,"mouseover",M)),O&&he(google.maps.event.addListener($e,"mouseup",O)),U&&ve(google.maps.event.addListener($e,"rightclick",U)),I&&Ce(google.maps.event.addListener($e,"click",I)),H&&we(google.maps.event.addListener($e,"drag",H)),B&&Qt(google.maps.event.addListener($e,"center_changed",B)),W&&cn(google.maps.event.addListener($e,"radius_changed",W)),R($e),G&&G($e),()=>{w!==null&&google.maps.event.removeListener(w),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),be!==null&&google.maps.event.removeListener(be),ce!==null&&google.maps.event.removeListener(ce),Ee!==null&&google.maps.event.removeListener(Ee),V!==null&&google.maps.event.removeListener(V),re!==null&&google.maps.event.removeListener(re),Z!==null&&google.maps.event.removeListener(Z),Te!==null&&google.maps.event.removeListener(Te),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),j&&j($e),$e.setMap(null)}},[]),null}y.memo(vL);class yL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(lh(lh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),He(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(yL,"contextType",Ue);function iE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function uh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var rE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},sE={add(i,e){i.add(e)},addgeojson(i,e,n){i.addGeoJson(e,n)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,n,s){i.loadGeoJson(e,n,s)},overridestyle(i,e,n){i.overrideStyle(e,n)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function _L(i){var{options:e,onClick:n,onDblClick:s,onMouseDown:o,onMouseMove:u,onMouseOut:c,onMouseOver:p,onMouseUp:g,onRightClick:m,onAddFeature:_,onRemoveFeature:b,onRemoveProperty:T,onSetGeometry:M,onSetProperty:O,onLoad:U,onUnmount:I}=i,H=y.useContext(Ue),[B,W]=y.useState(null),[G,j]=y.useState(null),[F,A]=y.useState(null),[R,w]=y.useState(null),[N,x]=y.useState(null),[k,D]=y.useState(null),[me,be]=y.useState(null),[K,ce]=y.useState(null),[fe,Ee]=y.useState(null),[_e,V]=y.useState(null),[J,re]=y.useState(null),[he,Z]=y.useState(null),[ve,Te]=y.useState(null),[Ce,De]=y.useState(null);return y.useEffect(()=>{B!==null&&B.setMap(H)},[H]),y.useEffect(()=>{B&&s&&(G!==null&&google.maps.event.removeListener(G),j(google.maps.event.addListener(B,"dblclick",s)))},[s]),y.useEffect(()=>{B&&o&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(B,"mousedown",o)))},[o]),y.useEffect(()=>{B&&u&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(B,"mousemove",u)))},[u]),y.useEffect(()=>{B&&c&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(B,"mouseout",c)))},[c]),y.useEffect(()=>{B&&p&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(B,"mouseover",p)))},[p]),y.useEffect(()=>{B&&g&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(B,"mouseup",g)))},[g]),y.useEffect(()=>{B&&m&&(K!==null&&google.maps.event.removeListener(K),ce(google.maps.event.addListener(B,"rightclick",m)))},[m]),y.useEffect(()=>{B&&n&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(B,"click",n)))},[n]),y.useEffect(()=>{B&&_&&(_e!==null&&google.maps.event.removeListener(_e),V(google.maps.event.addListener(B,"addfeature",_)))},[_]),y.useEffect(()=>{B&&b&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(B,"removefeature",b)))},[b]),y.useEffect(()=>{B&&T&&(he!==null&&google.maps.event.removeListener(he),Z(google.maps.event.addListener(B,"removeproperty",T)))},[T]),y.useEffect(()=>{B&&M&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(B,"setgeometry",M)))},[M]),y.useEffect(()=>{B&&O&&(Ce!==null&&google.maps.event.removeListener(Ce),De(google.maps.event.addListener(B,"setproperty",O)))},[O]),y.useEffect(()=>{if(H!==null){var we=new google.maps.Data(uh(uh({},e),{},{map:H}));s&&j(google.maps.event.addListener(we,"dblclick",s)),o&&A(google.maps.event.addListener(we,"mousedown",o)),u&&w(google.maps.event.addListener(we,"mousemove",u)),c&&x(google.maps.event.addListener(we,"mouseout",c)),p&&D(google.maps.event.addListener(we,"mouseover",p)),g&&be(google.maps.event.addListener(we,"mouseup",g)),m&&ce(google.maps.event.addListener(we,"rightclick",m)),n&&Ee(google.maps.event.addListener(we,"click",n)),_&&V(google.maps.event.addListener(we,"addfeature",_)),b&&re(google.maps.event.addListener(we,"removefeature",b)),T&&Z(google.maps.event.addListener(we,"removeproperty",T)),M&&Te(google.maps.event.addListener(we,"setgeometry",M)),O&&De(google.maps.event.addListener(we,"setproperty",O)),W(we),U&&U(we)}return()=>{B&&(G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),K!==null&&google.maps.event.removeListener(K),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),Ce!==null&&google.maps.event.removeListener(Ce),I&&I(B),B.setMap(null))}},[]),null}y.memo(_L);class EL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(uh(uh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:sE,eventMap:rE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:sE,eventMap:rE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),He(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(EL,"contextType",Ue);function aE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function oE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var lE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},uE={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class bL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(oE(oE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:uE,eventMap:lE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:uE,eventMap:lE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),He(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(bL,"contextType",Ue);function T0(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function SL(i,e){return new e(i.lat,i.lng)}function TL(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function CL(i,e,n){return i instanceof e?i:n(i,e)}function wL(i,e,n){return i instanceof e?i:n(i,e)}function AL(i,e,n){var s=i&&i.fromLatLngToDivPixel(n.getNorthEast()),o=i&&i.fromLatLngToDivPixel(n.getSouthWest());return s&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-o.x-e.x,"px"),height:"".concat(o.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function LL(i,e,n){var s=i&&i.fromLatLngToDivPixel(n);if(s){var{x:o,y:u}=s;return{left:"".concat(o+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function C0(i,e,n,s){return n!==void 0?AL(i,e,wL(n,google.maps.LatLngBounds,TL)):LL(i,e,CL(s,google.maps.LatLng,SL))}function RL(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function cE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function ML(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function OL(i,e,n,s,o){class u extends google.maps.OverlayView{constructor(p,g,m,_){super(),this.container=p,this.pane=g,this.position=m,this.bounds=_}onAdd(){var p,g=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];g?.appendChild(this.container)}draw(){var p=this.getProjection(),g=ML({},this.container?T0(this.container,o):{x:0,y:0}),m=C0(p,g,this.bounds,this.position);for(var[_,b]of Object.entries(m))this.container.style[_]=b}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(i,e,n,s)}function hE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function DL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function fE(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function dE(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function xL(i){var{position:e,bounds:n,mapPaneName:s,zIndex:o,onLoad:u,onUnmount:c,getPixelPositionOffset:p,children:g}=i,m=y.useContext(Ue),_=y.useMemo(()=>{var T=document.createElement("div");return T.style.position="absolute",T},[]),b=y.useMemo(()=>OL(_,s,e,n,p),[_,s,e,n]);return y.useEffect(()=>(u?.(b),b?.setMap(m),()=>{c?.(b),b?.setMap(null)}),[m,b]),y.useEffect(()=>{_.style.zIndex="".concat(o)},[o,_]),So.createPortal(g,_)}y.memo(xL);class To extends y.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var s=this.props.mapPaneName,o=this.overlayView.getPanes();Gt(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?this.setState({paneEl:o[s]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var s,o;this.updatePane(),(s=(o=this.props).onLoad)===null||s===void 0||s.call(o,this.overlayView)}),ne(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),o=DL({x:0,y:0},this.containerRef.current?T0(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=C0(s,o,this.props.bounds,this.props.position);if(!RL(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,p,g,m;this.setState({containerStyle:{top:(c=u.top)!==null&&c!==void 0?c:0,left:(p=u.left)!==null&&p!==void 0?p:0,width:(g=u.width)!==null&&g!==void 0?g:0,height:(m=u.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var s,o;this.setState(()=>({paneEl:null})),(s=(o=this.props).onUnmount)===null||s===void 0||s.call(o,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=fE(e.position),s=fE(this.props.position),o=dE(e.bounds),u=dE(this.props.bounds);(n!==s||o!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?So.createPortal(le.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ne(To,"FLOAT_PANE","floatPane");ne(To,"MAP_PANE","mapPane");ne(To,"MARKER_LAYER","markerLayer");ne(To,"OVERLAY_LAYER","overlayLayer");ne(To,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(To,"contextType",Ue);function IL(){}function pE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function gE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var mE={onDblClick:"dblclick",onClick:"click"},vE={opacity(i,e){i.setOpacity(e)}};function NL(i){var{url:e,bounds:n,options:s,visible:o}=i,u=y.useContext(Ue),c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),p=y.useMemo(()=>new google.maps.GroundOverlay(e,c,s),[]);return y.useEffect(()=>{p!==null&&p.setMap(u)},[u]),y.useEffect(()=>{typeof e<"u"&&p!==null&&(p.set("url",e),p.setMap(u))},[p,e]),y.useEffect(()=>{typeof o<"u"&&p!==null&&p.setOpacity(o?1:0)},[p,o]),y.useEffect(()=>{var g=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&p!==null&&(p.set("bounds",g),p.setMap(u))},[p,n]),null}y.memo(NL);class w0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Gt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,gE(gE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(w0,"defaultProps",{onLoad:IL});ne(w0,"contextType",Ue);function yE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function ch(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(s){ne(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}var _E={},EE={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function VL(i){var{data:e,onLoad:n,onUnmount:s,options:o}=i,u=y.useContext(Ue),[c,p]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Gt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(u)},[u]),y.useEffect(()=>{o&&c!==null&&c.setOptions(o)},[c,o]),y.useEffect(()=>{var g=new google.maps.visualization.HeatmapLayer(ch(ch({},o),{},{data:e,map:u}));return p(g),n&&n(g),()=>{c!==null&&(s&&s(c),c.setMap(null))}},[]),null}y.memo(VL);class PL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Gt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(ch(ch({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:EE,eventMap:_E,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=Be({updaterMap:EE,eventMap:_E,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),He(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(PL,"contextType",Ue);var bE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},SE={register(i,e,n){i.registerPanoProvider(e,n)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class kL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:SE,eventMap:bE,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:SE,eventMap:bE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),He(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(kL,"contextType",Ue);class UL extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(UL,"contextType",Ue);var TE={onDirectionsChanged:"directions_changed"},CE={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class zL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:CE,eventMap:TE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:CE,eventMap:TE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),He(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(zL,"contextType",Ue);var wE={onPlacesChanged:"places_changed"},AE={bounds(i,e){i.setBounds(e)}};class BL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:AE,eventMap:wE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:AE,eventMap:wE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),He(this.registeredEvents))}render(){return le.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ne(BL,"contextType",Ue);var LE={onPlaceChanged:"place_changed"},RE={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class A0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Be({updaterMap:RE,eventMap:LE,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=Be({updaterMap:RE,eventMap:LE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&He(this.registeredEvents)}render(){return le.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ne(A0,"defaultProps",{className:""});ne(A0,"contextType",Ue);const jL={width:"100%",height:"calc(100vh - 100px)"},qL={lat:35.681236,lng:139.767125},ME=i=>{if(!i||typeof i!="string")return null;const e=i.match(/: ([\d.-]+)/),n=i.match(/: ([\d.-]+)/);return e&&n?{lat:parseFloat(e[1]),lng:parseFloat(n[1])}:null};function HL({posts:i}){const{isLoaded:e}=m0({id:"google-map-script",googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc"}),[n,s]=y.useState(null);return e?le.jsxs(h0,{mapContainerStyle:jL,center:qL,zoom:12,children:[i.map(o=>{const u=ME(o.location);return u?le.jsx(Gp,{position:u,onClick:()=>{s(o)}},o.id):null}),n&&le.jsx(S0,{position:ME(n.location),onCloseClick:()=>{s(null)},children:le.jsxs("div",{className:"info-window-content",children:[le.jsx("p",{children:le.jsx("strong",{children:n.message})}),n.riskLevel&&le.jsxs("p",{className:"risk-level",children:[": ",n.riskLevel]}),n.imageUrl&&le.jsx("img",{src:n.imageUrl,alt:"",style:{maxWidth:"150px"}}),le.jsx("small",{children:new Date(n.createdAt.seconds*1e3).toLocaleString("ja-JP")})]})})]}):le.jsx("div",{children:"..."})}const FL=Qb.memo(HL),GL=()=>{};var OE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QL=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,p=c?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,_=u>>2,b=(u&3)<<4|p>>4;let T=(p&15)<<2|m>>6,M=m&63;g||(M=64,c||(T=64)),s.push(n[_],n[b],n[T],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(L0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):QL(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||m==null||b==null)throw new KL;const T=u<<2|p>>4;if(s.push(T),m!==64){const M=p<<4&240|m>>2;if(s.push(M),b!==64){const O=m<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YL=function(i){const e=L0(i);return R0.encodeByteArray(e,!0)},hh=function(i){return YL(i).replace(/\./g,"")},$L=function(i){try{return R0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=()=>ZL().__FIREBASE_DEFAULTS__,WL=()=>{if(typeof process>"u"||typeof OE>"u")return;const i=OE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},JL=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$L(i[1]);return e&&JSON.parse(e)},Yp=()=>{try{return GL()||XL()||WL()||JL()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eR=i=>Yp()?.emulatorHosts?.[i],M0=i=>{const e=eR(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},O0=()=>Yp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[hh(JSON.stringify(n)),hh(JSON.stringify(c)),""].join(".")}const Bl={};function nR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?i.emulator.push(e):i.prod.push(e);return i}function iR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let DE=!1;function I0(i,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||Bl[i]===e||Bl[i]||DE)return;Bl[i]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=nR().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,M){T.setAttribute("width","24"),T.setAttribute("id",M),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{DE=!0,c()},T}function _(T,M){T.setAttribute("id",M),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=iR(s),M=n("text"),O=document.getElementById(M)||document.createElement("span"),U=n("learnmore"),I=document.getElementById(U)||document.createElement("a"),H=n("preprendIcon"),B=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;p(W),_(I,U);const G=m();g(B,H),W.append(B,O,I,G),document.body.appendChild(W)}u?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){const i=Yp()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return!sR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class ua extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?cR(u,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new ua(o,p,s)}}function cR(i,e){return i.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(xE(u)&&xE(c)){if(!fh(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function xE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(i){return i&&i._delegate?i._delegate:i}class fo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(i){return i===ta?void 0:i}function pR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const mR={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},vR=Xe.INFO,yR={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},_R=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=yR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=_R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const ER=(i,e)=>e.some(n=>i instanceof n);let IE,NE;function bR(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,dp=new WeakMap,k0=new WeakMap,Xd=new WeakMap,$p=new WeakMap;function TR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(gs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&P0.set(n,i)}).catch(()=>{}),$p.set(e,i),e}function CR(i){if(dp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});dp.set(i,e)}let pp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return dp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||k0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function wR(i){pp=i(pp)}function AR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Wd(this),e,...n);return k0.set(s,e.sort?e.sort():[e]),gs(s)}:SR().includes(i)?function(...e){return i.apply(Wd(this),e),gs(P0.get(this))}:function(...e){return gs(i.apply(Wd(this),e))}}function LR(i){return typeof i=="function"?AR(i):(i instanceof IDBTransaction&&CR(i),ER(i,bR())?new Proxy(i,pp):i)}function gs(i){if(i instanceof IDBRequest)return TR(i);if(Xd.has(i))return Xd.get(i);const e=LR(i);return e!==i&&(Xd.set(i,e),$p.set(e,i)),e}const Wd=i=>$p.get(i);function RR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),p=gs(c);return s&&c.addEventListener("upgradeneeded",g=>{s(gs(c.result),g.oldVersion,g.newVersion,gs(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const MR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Jd=new Map;function VE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(c,...p){const g=this.transaction(c,o?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Jd.set(e,u),u}wR(i=>({...i,get:(e,n,s)=>VE(e,n)||i.get(e,n,s),has:(e,n)=>!!VE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xR(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",PE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new V0("@firebase/app"),IR="@firebase/app-compat",NR="@firebase/analytics-compat",VR="@firebase/analytics",PR="@firebase/app-check-compat",kR="@firebase/app-check",UR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",jR="@firebase/data-connect",qR="@firebase/database-compat",HR="@firebase/functions",FR="@firebase/functions-compat",GR="@firebase/installations",QR="@firebase/installations-compat",KR="@firebase/messaging",YR="@firebase/messaging-compat",$R="@firebase/performance",ZR="@firebase/performance-compat",XR="@firebase/remote-config",WR="@firebase/remote-config-compat",JR="@firebase/storage",eM="@firebase/storage-compat",tM="@firebase/firestore",nM="@firebase/ai",iM="@firebase/firestore-compat",rM="firebase",sM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",aM={[gp]:"fire-core",[IR]:"fire-core-compat",[VR]:"fire-analytics",[NR]:"fire-analytics-compat",[kR]:"fire-app-check",[PR]:"fire-app-check-compat",[UR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[jR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[HR]:"fire-fn",[FR]:"fire-fn-compat",[GR]:"fire-iid",[QR]:"fire-iid-compat",[KR]:"fire-fcm",[YR]:"fire-fcm-compat",[$R]:"fire-perf",[ZR]:"fire-perf-compat",[XR]:"fire-rc",[WR]:"fire-rc-compat",[JR]:"fire-gcs",[eM]:"fire-gcs-compat",[tM]:"fire-fst",[iM]:"fire-fst-compat",[nM]:"fire-vertex","fire-js":"fire-js",[rM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,oM=new Map,vp=new Map;function kE(i,e){try{i.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $l(i){const e=i.name;if(vp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,i);for(const n of dh.values())kE(n,i);for(const n of oM.values())kE(n,i);return!0}function U0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function z0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new N0("app","Firebase",lM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=sM;function j0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=O0()),!n)throw ms.create("no-options");const u=dh.get(o);if(u){if(fh(n,u.options)&&fh(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const c=new gR(o);for(const g of vp.values())c.addComponent(g);const p=new uM(n,s,c);return dh.set(o,p),p}function q0(i=mp){const e=dh.get(i);if(!e&&i===mp&&O0())return j0();if(!e)throw ms.create("no-app",{appName:i});return e}function vs(i,e,n){let s=aM[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(c.join(" "));return}$l(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="firebase-heartbeat-database",hM=1,Zl="firebase-heartbeat-store";let ep=null;function H0(){return ep||(ep=RR(cM,hM,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),ep}async function fM(i){try{const n=(await H0()).transaction(Zl),s=await n.objectStore(Zl).get(F0(i));return await n.done,s}catch(e){if(e instanceof ua)Ar.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(n.message)}}}async function UE(i,e){try{const s=(await H0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,F0(i)),await s.done}catch(n){if(n instanceof ua)Ar.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});Ar.warn(s.message)}}}function F0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=1024,pM=30;class gM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pM){const o=yM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zE(),{heartbeatsToSend:n,unsentEntries:s}=mM(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ar.warn(e),""}}}function zE(){return new Date().toISOString().substring(0,10)}function mM(i,e=dM){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),BE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),BE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BE(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function yM(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i){$l(new fo("platform-logger",e=>new DR(e),"PRIVATE")),$l(new fo("heartbeat",e=>new gM(e),"PRIVATE")),vs(gp,PE,i),vs(gp,PE,"esm2020"),vs("fire-js","")}_M("");var EM="firebase",bM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(EM,bM,"app");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,G0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function w(){}w.prototype=R.prototype,A.F=R.prototype,A.prototype=new w,A.prototype.constructor=A,A.D=function(N,x,k){for(var D=Array(arguments.length-2),me=2;me<arguments.length;me++)D[me-2]=arguments[me];return R.prototype[x].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,R,w){w||(w=0);const N=Array(16);if(typeof R=="string")for(var x=0;x<16;++x)N[x]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(x=0;x<16;++x)N[x]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=A.g[0],w=A.g[1],x=A.g[2];let k=A.g[3],D;D=R+(k^w&(x^k))+N[0]+3614090360&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+N[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+N[2]+606105819&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+N[3]+3250441966&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+N[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+N[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+N[6]+2821735955&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+N[7]+4249261313&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+N[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+N[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+N[10]+4294925233&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+N[11]+2304563134&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(k^w&(x^k))+N[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(x^R&(w^x))+N[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(w^k&(R^w))+N[14]+2792965006&4294967295,x=k+(D<<17&4294967295|D>>>15),D=w+(R^x&(k^R))+N[15]+1236535329&4294967295,w=x+(D<<22&4294967295|D>>>10),D=R+(x^k&(w^x))+N[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+N[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+N[11]+643717713&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+N[0]+3921069994&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+N[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+N[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+N[15]+3634488961&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+N[4]+3889429448&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+N[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+N[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+N[3]+4107603335&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+N[8]+1163531501&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(w^x))+N[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^x&(R^w))+N[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^w&(k^R))+N[7]+1735328473&4294967295,x=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(x^k))+N[12]+2368359562&4294967295,w=x+(D<<20&4294967295|D>>>12),D=R+(w^x^k)+N[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+N[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+N[11]+1839030562&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+N[14]+4259657740&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+N[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+N[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+N[7]+4139469664&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+N[10]+3200236656&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+N[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+N[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+N[3]+3572445317&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+N[6]+76029189&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(w^x^k)+N[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^x)+N[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^w)+N[15]+530742520&4294967295,x=k+(D<<16&4294967295|D>>>16),D=w+(x^k^R)+N[2]+3299628645&4294967295,w=x+(D<<23&4294967295|D>>>9),D=R+(x^(w|~k))+N[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+N[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+N[14]+2878612391&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+N[5]+4237533241&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+N[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+N[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+N[10]+4293915773&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+N[1]+2240044497&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+N[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+N[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+N[6]+2734768916&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+N[13]+1309151649&4294967295,w=x+(D<<21&4294967295|D>>>11),D=R+(x^(w|~k))+N[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~x))+N[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~w))+N[2]+718787259&4294967295,x=k+(D<<15&4294967295|D>>>17),D=w+(k^(x|~R))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+k&4294967295}s.prototype.v=function(A,R){R===void 0&&(R=A.length);const w=R-this.blockSize,N=this.C;let x=this.h,k=0;for(;k<R;){if(x==0)for(;k<=w;)o(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<R;)if(N[x++]=A.charCodeAt(k++),x==this.blockSize){o(this,N),x=0;break}}else for(;k<R;)if(N[x++]=A[k++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=R},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;R=this.o*8;for(var w=A.length-8;w<A.length;++w)A[w]=R&255,R/=256;for(this.v(A),A=Array(16),R=0,w=0;w<4;++w)for(let N=0;N<32;N+=8)A[R++]=this.g[w]>>>N&255;return A};function u(A,R){var w=p;return Object.prototype.hasOwnProperty.call(w,A)?w[A]:w[A]=R(A)}function c(A,R){this.h=R;const w=[];let N=!0;for(let x=A.length-1;x>=0;x--){const k=A[x]|0;N&&k==R||(w[x]=k,N=!1)}this.g=w}var p={};function g(A){return-128<=A&&A<128?u(A,function(R){return new c([R|0],R<0?-1:0)}):new c([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return b;if(A<0)return I(m(-A));const R=[];let w=1;for(let N=0;A>=w;N++)R[N]=A/w|0,w*=4294967296;return new c(R,0)}function _(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return I(_(A.substring(1),R));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=m(Math.pow(R,8));let N=b;for(let k=0;k<A.length;k+=8){var x=Math.min(8,A.length-k);const D=parseInt(A.substring(k,k+x),R);x<8?(x=m(Math.pow(R,x)),N=N.j(x).add(m(D))):(N=N.j(w),N=N.add(m(D)))}return N}var b=g(0),T=g(1),M=g(16777216);i=c.prototype,i.m=function(){if(U(this))return-I(this).m();let A=0,R=1;for(let w=0;w<this.g.length;w++){const N=this.i(w);A+=(N>=0?N:4294967296+N)*R,R*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(U(this))return"-"+I(this).toString(A);const R=m(Math.pow(A,6));var w=this;let N="";for(;;){const x=G(w,R).g;w=H(w,x.j(R));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(A);if(w=x,O(w))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(let R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function U(A){return A.h==-1}i.l=function(A){return A=H(this,A),U(A)?-1:O(A)?0:1};function I(A){const R=A.g.length,w=[];for(let N=0;N<R;N++)w[N]=~A.g[N];return new c(w,~A.h).add(T)}i.abs=function(){return U(this)?I(this):this},i.add=function(A){const R=Math.max(this.g.length,A.g.length),w=[];let N=0;for(let x=0;x<=R;x++){let k=N+(this.i(x)&65535)+(A.i(x)&65535),D=(k>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);N=D>>>16,k&=65535,D&=65535,w[x]=D<<16|k}return new c(w,w[w.length-1]&-2147483648?-1:0)};function H(A,R){return A.add(I(R))}i.j=function(A){if(O(this)||O(A))return b;if(U(this))return U(A)?I(this).j(I(A)):I(I(this).j(A));if(U(A))return I(this.j(I(A)));if(this.l(M)<0&&A.l(M)<0)return m(this.m()*A.m());const R=this.g.length+A.g.length,w=[];for(var N=0;N<2*R;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(let x=0;x<A.g.length;x++){const k=this.i(N)>>>16,D=this.i(N)&65535,me=A.i(x)>>>16,be=A.i(x)&65535;w[2*N+2*x]+=D*be,B(w,2*N+2*x),w[2*N+2*x+1]+=k*be,B(w,2*N+2*x+1),w[2*N+2*x+1]+=D*me,B(w,2*N+2*x+1),w[2*N+2*x+2]+=k*me,B(w,2*N+2*x+2)}for(A=0;A<R;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=R;A<2*R;A++)w[A]=0;return new c(w,0)};function B(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function W(A,R){this.g=A,this.h=R}function G(A,R){if(O(R))throw Error("division by zero");if(O(A))return new W(b,b);if(U(A))return R=G(I(A),R),new W(I(R.g),I(R.h));if(U(R))return R=G(A,I(R)),new W(I(R.g),R.h);if(A.g.length>30){if(U(A)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var w=T,N=R;N.l(A)<=0;)w=j(w),N=j(N);var x=F(w,1),k=F(N,1);for(N=F(N,2),w=F(w,2);!O(N);){var D=k.add(N);D.l(A)<=0&&(x=x.add(w),k=D),N=F(N,1),w=F(w,1)}return R=H(A,x.j(R)),new W(x,R)}for(x=b;A.l(R)>=0;){for(w=Math.max(1,Math.floor(A.m()/R.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=m(w),D=k.j(R);U(D)||D.l(A)>0;)w-=N,k=m(w),D=k.j(R);O(k)&&(k=T),x=x.add(k),A=H(A,D)}return new W(x,A)}i.B=function(A){return G(this,A).h},i.and=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)&A.i(N);return new c(w,this.h&A.h)},i.or=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)|A.i(N);return new c(w,this.h|A.h)},i.xor=function(A){const R=Math.max(this.g.length,A.g.length),w=[];for(let N=0;N<R;N++)w[N]=this.i(N)^A.i(N);return new c(w,this.h^A.h)};function j(A){const R=A.g.length+1,w=[];for(let N=0;N<R;N++)w[N]=A.i(N)<<1|A.i(N-1)>>>31;return new c(w,A.h)}function F(A,R){const w=R>>5;R%=32;const N=A.g.length-w,x=[];for(let k=0;k<N;k++)x[k]=R>0?A.i(k+w)>>>R|A.i(k+w+1)<<32-R:A.i(k+w);return new c(x,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,G0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,ys=c}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,Vl,K0,$c,yp,Y0,$0,Z0;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var S=s;h=h.split(".");for(var L=0;L<h.length-1;L++){var Q=h[L];if(!(Q in S))break e;S=S[Q]}h=h[h.length-1],L=S[h],v=v(L),v!=L&&v!=null&&e(S,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var S=[],L;for(L in v)Object.prototype.hasOwnProperty.call(v,L)&&S.push([L,v[L]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,S){return h.call.apply(h.bind,arguments)}function m(h,v,S){return m=g,m.apply(null,arguments)}function _(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var L=S.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function b(h,v){function S(){}S.prototype=v.prototype,h.Z=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(L,Q,ee){for(var de=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)de[Ve-2]=arguments[Ve];return v.prototype[Q].apply(L,de)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const v=h.length;if(v>0){const S=Array(v);for(let L=0;L<v;L++)S[L]=h[L];return S}return[]}function O(h,v){for(let L=1;L<arguments.length;L++){const Q=arguments[L];var S=typeof Q;if(S=S!="object"?S:Q?Array.isArray(Q)?"array":S:"null",S=="array"||S=="object"&&typeof Q.length=="number"){S=h.length||0;const ee=Q.length||0;h.length=S+ee;for(let de=0;de<ee;de++)h[S+de]=Q[de]}else h.push(Q)}}class U{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(h){c.setTimeout(()=>{throw h},0)}function H(){var h=A;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,S){const L=W.get();L.set(v,S),this.h?this.h.next=L:this.g=L,this.h=L}}var W=new U(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let j,F=!1,A=new B,R=()=>{const h=Promise.resolve(void 0);j=()=>{h.then(w)}};function w(){for(var h;h=H();){try{h.h.call(h.g)}catch(S){I(S)}var v=W;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}F=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,v),c.removeEventListener("test",S,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function me(h,v){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(me,x),me.prototype.init=function(h,v){const S=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),K=0;function ce(h,v,S,L,Q){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!L,this.ha=Q,this.key=++K,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h,v,S){for(const L in h)v.call(S,h[L],L,h)}function _e(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function V(h){const v={};for(const S in h)v[S]=h[S];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,v){let S,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(S in L)h[S]=L[S];for(let ee=0;ee<J.length;ee++)S=J[ee],Object.prototype.hasOwnProperty.call(L,S)&&(h[S]=L[S])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,v,S,L,Q){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const de=ve(h,v,L,Q);return de>-1?(v=h[de],S||(v.fa=!1)):(v=new ce(v,this.src,ee,!!L,Q),v.fa=S,h.push(v)),v};function Z(h,v){const S=v.type;if(S in h.g){var L=h.g[S],Q=Array.prototype.indexOf.call(L,v,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(L,Q,1),ee&&(fe(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function ve(h,v,S,L){for(let Q=0;Q<h.length;++Q){const ee=h[Q];if(!ee.da&&ee.listener==v&&ee.capture==!!S&&ee.ha==L)return Q}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Ce={};function De(h,v,S,L,Q){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)De(h,v[ee],S,L,Q);return null}return S=Or(S),h&&h[be]?h.J(v,S,p(L)?!!L.capture:!1,Q):we(h,v,S,!1,L,Q)}function we(h,v,S,L,Q,ee){if(!v)throw Error("Invalid event type");const de=p(Q)?!!Q.capture:!!Q;let Ve=yi(h);if(Ve||(h[Te]=Ve=new he(h)),S=Ve.add(v,S,L,de,ee),S.proxy)return S;if(L=ze(),S.proxy=L,L.src=h,L.listener=S,h.addEventListener)k||(Q=de),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),L,Q);else if(h.attachEvent)h.attachEvent(cn(v.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ze(){function h(S){return v.call(h.src,h.listener,S)}const v=$e;return h}function Qt(h,v,S,L,Q){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Qt(h,v[ee],S,L,Q);else L=p(L)?!!L.capture:!!L,S=Or(S),h&&h[be]?(h=h.i,ee=String(v).toString(),ee in h.g&&(v=h.g[ee],S=ve(v,S,L,Q),S>-1&&(fe(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete h.g[ee],h.h--)))):h&&(h=yi(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ve(v,S,L,Q)),(S=h>-1?v[h]:null)&&un(S))}function un(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[be])Z(v.i,h);else{var S=h.type,L=h.proxy;v.removeEventListener?v.removeEventListener(S,L,h.capture):v.detachEvent?v.detachEvent(cn(S),L):v.addListener&&v.removeListener&&v.removeListener(L),(S=yi(v))?(Z(S,h),S.h==0&&(S.src=null,v[Te]=null)):fe(h)}}}function cn(h){return h in Ce?Ce[h]:Ce[h]="on"+h}function $e(h,v){if(h.da)h=!0;else{v=new me(v,this);const S=h.listener,L=h.ha||h.src;h.fa&&un(h),h=S.call(L,v)}return h}function yi(h){return h=h[Te],h instanceof he?h:null}var _i="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[_i]||(h[_i]=function(v){return h.handleEvent(v)}),h[_i])}function dt(){N.call(this),this.i=new he(this),this.M=this,this.G=null}b(dt,N),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(h,v,S,L){Qt(this,h,v,S,L)};function Tt(h,v){var S,L=h.G;if(L)for(S=[];L;L=L.G)S.push(L);if(h=h.M,L=v.type||v,typeof v=="string")v=new x(v,h);else if(v instanceof x)v.target=v.target||h;else{var Q=v;v=new x(L,h),re(v,Q)}Q=!0;let ee,de;if(S)for(de=S.length-1;de>=0;de--)ee=v.g=S[de],Q=Mn(ee,L,!0,v)&&Q;if(ee=v.g=h,Q=Mn(ee,L,!0,v)&&Q,Q=Mn(ee,L,!1,v)&&Q,S)for(de=0;de<S.length;de++)ee=v.g=S[de],Q=Mn(ee,L,!1,v)&&Q}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const S=h.g[v];for(let L=0;L<S.length;L++)fe(S[L]);delete h.g[v],h.h--}}this.G=null},dt.prototype.J=function(h,v,S,L){return this.i.add(String(h),v,!1,S,L)},dt.prototype.K=function(h,v,S,L){return this.i.add(String(h),v,!0,S,L)};function Mn(h,v,S,L){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let ee=0;ee<v.length;++ee){const de=v[ee];if(de&&!de.da&&de.capture==S){const Ve=de.listener,Rt=de.ha||de.src;de.fa&&Z(h.i,de),Q=Ve.call(Rt,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function ga(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Zi(h){h.g=ga(()=>{h.g=null,h.i&&(h.i=!1,Zi(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Kt extends N{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(h){N.call(this),this.h=h,this.g={}}b(Ei,N);var Dr=[];function bi(h){Ee(h.g,function(v,S){this.g.hasOwnProperty(S)&&un(v)},h),h.g={}}Ei.prototype.N=function(){Ei.Z.N.call(this),bi(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=c.JSON.stringify,xr=c.JSON.parse,Ls=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Xi(){}function Rs(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){x.call(this,"d")}b(xt,x);function Jt(){x.call(this,"c")}b(Jt,x);var vt={},Wi=null;function Ji(){return Wi=Wi||new dt}vt.Ia="serverreachability";function er(h){x.call(this,vt.Ia,h)}b(er,x);function On(h){const v=Ji();Tt(v,new er(v))}vt.STAT_EVENT="statevent";function Si(h,v){x.call(this,vt.STAT_EVENT,h),this.stat=v}b(Si,x);function Et(h){const v=Ji();Tt(v,new Si(v,h))}vt.Ja="timingevent";function vn(h,v){x.call(this,vt.Ja,h),this.size=v}b(vn,x);function Dn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function ma(h,v,S,L,Q,ee){h.info(function(){if(h.g)if(ee){var de="",Ve=ee.split("&");for(let tt=0;tt<Ve.length;tt++){var Rt=Ve[tt].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const Kn=yt.split("_");de=Kn.length>=2&&Kn[1]=="type"?de+(yt+"="+Rt+"&"):de+(yt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+v+`
`+S+`
`+de})}function tr(h,v,S,L,Q,ee,de){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ee+" "+de})}function xn(h,v,S,L){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ir(h,S)+(L?" "+L:"")})}function nr(h,v){h.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function ir(h,v){if(!h.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var S=ee[h];if(!(S.length<2)){var L=S[1];if(Array.isArray(L)&&!(L.length<1)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let de=1;de<L.length;de++)L[de]=""}}}}return si(ee)}catch{return v}}var Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Ms(){}b(Ms,Xi),Ms.prototype.g=function(){return new XMLHttpRequest},Oo=new Ms;function rr(h){return encodeURIComponent(String(h))}function du(h){var v=1;h=h.split(":");const S=[];for(;v>0&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function ai(h,v,S,L){this.j=h,this.i=v,this.l=S,this.S=L||1,this.V=new Ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var It={},Yt={};function Ti(h,v,S){h.M=1,h.A=Os(Vt(v)),h.u=S,h.R=!0,va(h,null)}function va(h,v){h.F=Date.now(),Ci(h),h.B=Vt(h.A);var S=h.B,L=h.S;Array.isArray(L)||(L=[String(L)]),ba(S.i,"t",L),h.C=0,S=h.j.L,h.h=new oi,h.g=Ru(h.j,S?v:null,!h.u),h.P>0&&(h.O=new Kt(m(h.Y,h,h.g),h.P)),v=h.V,S=h.g,L=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Dr[0]=Q.toString()),Q=Dr);for(let ee=0;ee<Q.length;ee++){const de=De(S,Q[ee],L||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),On(),ma(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const v=this.O;v&&ci(h)==3?v.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=ci(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ve!=4||Rt==7||(Rt==8||tt<=0?On(3):On(2)),wi(this);var v=this.g.ca();this.X=v;var S=Hh(this);if(this.o=v==200,tr(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Q=this.g;if((L=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(L)){var ee=L;break t}}ee=null}if(h=ee)xn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,Et(12),In(this),Fn(this);break e}}if(this.R){h=!0;let yt;for(;!this.K&&this.C<S.length;)if(yt=gu(this,S),yt==Yt){Ve==4&&(this.m=4,Et(14),h=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==It){this.m=4,Et(15),xn(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else xn(this.i,this.l,yt,null),Ai(this,yt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||S.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)xn(this.i,this.l,S,"[Invalid Chunked Response]"),In(this),Fn(this);else if(S.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Go(de),de.P=!0,Et(11))}}else xn(this.i,this.l,S,null),Ai(this,S);Ve==4&&In(this),this.o&&!this.K&&(Ve==4?Cu(this.j,this):(this.o=!1,Ci(this)))}else ar(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),In(this),Fn(this)}}}catch{}finally{}};function Hh(h){if(!pu(h))return h.g.la();const v=en(h.g);if(v==="")return"";let S="";const L=v.length,Q=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Fn(h),"";h.h.i=new c.TextDecoder}for(let ee=0;ee<L;ee++)h.h.h=!0,S+=h.h.i.decode(v[ee],{stream:!(Q&&ee==L-1)});return v.length=0,h.h.g+=S,h.C=0,h.h.g}function pu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function gu(h,v){var S=h.C,L=v.indexOf(`
`,S);return L==-1?Yt:(S=Number(v.substring(S,L)),isNaN(S)?It:(L+=1,L+S>v.length?Yt:(v=v.slice(L,L+S),h.C=L+S,v)))}ai.prototype.cancel=function(){this.K=!0,In(this)};function Ci(h){h.T=Date.now()+h.H,ya(h,h.H)}function ya(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Dn(m(h.aa,h),v)}function wi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(nr(this.i,this.B),this.M!=2&&(On(),Et(17)),In(this),this.m=2,Fn(this)):ya(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Cu(h.j,h)}function In(h){wi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,bi(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ai(h,v){try{var S=h.j;if(S.I!=0&&(S.g==h||Ri(S.h,h))){if(!h.L&&Ri(S.h,h)&&S.I==3){try{var L=S.Ba.g.parse(v)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Aa(S),Br(S);else break e;ks(S),Et(18)}}else S.xa=Q[1],0<S.xa-S.K&&Q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Dn(m(S.Va,S),6e3));Li(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ni(S,11)}else if((h.L||S.g==h)&&Aa(S),!D(v))for(Q=S.Ba.g.parse(v),v=0;v<Q.length;v++){let tt=Q[v];const yt=tt[0];if(!(yt<=S.K))if(S.K=yt,tt=tt[1],S.I==2)if(tt[0]=="c"){S.M=tt[1],S.ba=tt[2];const Kn=tt[3];Kn!=null&&(S.ka=Kn,S.j.info("VER="+S.ka));const Vi=tt[4];Vi!=null&&(S.za=Vi,S.j.info("SVER="+S.za));const hi=tt[5];hi!=null&&typeof hi=="number"&&hi>0&&(L=1.5*hi,S.O=L,S.j.info("backChannelRequestTimeoutMs_="+L)),L=S;const fi=h.g;if(fi){const Us=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ee=L.h;ee.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Io(ee,ee.h),ee.h=null))}if(L.G){const La=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(L.wa=La,rt(L.J,L.G,La))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),L=S;var de=h;if(L.na=Lu(L,L.L?L.ba:null,L.W),de.L){No(L.h,de);var Ve=de,Rt=L.O;Rt&&(Ve.H=Rt),Ve.D&&(wi(Ve),Ci(Ve)),L.g=de}else Su(L);S.i.length>0&&Ii(S)}else tt[0]!="stop"&&tt[0]!="close"||Ni(S,7);else S.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ni(S,7):Ho(S):tt[0]!="noop"&&S.l&&S.l.qa(tt),S.A=0)}}On(4)}catch{}}var Nt=class{constructor(h,v){this.g=h,this.map=v}};function Do(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function Ri(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Io(h,v){h.g?h.g.add(v):h.h=v}function No(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Do.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Vo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.G);return v}return M(h.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(h,v){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const L=h[S].indexOf("=");let Q,ee=null;L>=0?(Q=h[S].substring(0,L),ee=h[S].substring(L+1)):Q=h[S],v(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Nn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Nn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,Ir(this,h.u),this.h=h.h,Po(this,Eu(h.i)),this.m=h.m):h&&(v=String(h).match(mu))?(this.l=!1,$t(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Ir(this,v[4]),this.h=Mi(v[5]||"",!0),Po(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}Nn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ds(v,Ea,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ds(v,Ea,!0),"@"),h.push(rr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ds(S,S.charAt(0)=="/"?ko:vu,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ds(S,yu)),h.join("")},Nn.prototype.resolve=function(h){const v=Vt(this);let S=!!h.j;S?$t(v,h.j):S=!!h.o,S?v.o=h.o:S=!!h.g,S?v.g=h.g:S=h.u!=null;var L=h.h;if(S)Ir(v,h.u);else if(S=!!h.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(L=v.h.slice(0,Q+1)+L)}if(Q=L,Q==".."||Q==".")L="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){L=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let de=0;de<Q.length;){const Ve=Q[de++];Ve=="."?L&&de==Q.length&&ee.push(""):Ve==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),L&&de==Q.length&&ee.push("")):(ee.push(Ve),L=!0)}L=ee.join("/")}else L=Q}return S?v.h=L:S=h.i.toString()!=="",S?Po(v,Eu(h.i)):S=!!h.m,S&&(v.m=h.m),v};function Vt(h){return new Nn(h)}function $t(h,v,S){h.j=S?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ir(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Po(h,v,S){v instanceof Vr?(h.i=v,Sa(h.i,h.l)):(S||(v=Ds(v,Nr)),h.i=new Vr(v,h.l))}function rt(h,v,S){h.i.set(v,S)}function Os(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ds(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,bn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ea=/[#\/\?@]/g,vu=/[#\?:]/g,ko=/[#\?]/g,Nr=/[#\?@]/g,yu=/#/g;function Vr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&_a(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}i=Vr.prototype,i.add=function(h,v){Sn(this),this.i=null,h=Pr(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function _u(h,v){Sn(h),v=Pr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Uo(h,v){return Sn(h),v=Pr(h,v),h.g.has(v)}i.forEach=function(h,v){Sn(this),this.g.forEach(function(S,L){S.forEach(function(Q){h.call(v,Q,L,this)},this)},this)};function zo(h,v){Sn(h);let S=[];if(typeof v=="string")Uo(h,v)&&(S=S.concat(h.g.get(Pr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)S=S.concat(h[v]);return S}i.set=function(h,v){return Sn(this),this.i=null,h=Pr(this,h),Uo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=zo(this,h),h.length>0?String(h[0]):v):v};function ba(h,v,S){_u(h,v),S.length>0&&(h.i=null,h.g.set(Pr(h,v),M(S)),h.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let L=0;L<v.length;L++){var S=v[L];const Q=rr(S);S=zo(this,S);for(let ee=0;ee<S.length;ee++){let de=Q;S[ee]!==""&&(de+="="+rr(S[ee])),h.push(de)}}return this.i=h.join("&")};function Eu(h){const v=new Vr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Pr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Sa(h,v){v&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(S,L){const Q=L.toLowerCase();L!=Q&&(_u(this,L),ba(this,Q,S))},h)),h.j=v}function li(h,v){const S=new fn;if(c.Image){const L=new Image;L.onload=_(Gn,S,"TestLoadImage: loaded",!0,v,L),L.onerror=_(Gn,S,"TestLoadImage: error",!1,v,L),L.onabort=_(Gn,S,"TestLoadImage: abort",!1,v,L),L.ontimeout=_(Gn,S,"TestLoadImage: timeout",!1,v,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else v(!1)}function Bo(h,v){const S=new fn,L=new AbortController,Q=setTimeout(()=>{L.abort(),Gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:L.signal}).then(ee=>{clearTimeout(Q),ee.ok?Gn(S,"TestPingServer: ok",!0,v):Gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Gn(S,"TestPingServer: error",!1,v)})}function Gn(h,v,S,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(S)}catch{}}function kr(){this.g=new Ls}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Oi,Xi),Oi.prototype.g=function(){return new xs(this.i,this.h)};function xs(h,v){dt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(xs,dt),i=xs.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ui(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ur(this):ui(this),this.readyState==3&&Ta(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},i.Na=function(h){this.g&&(this.response=h,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qn(h){let v="";return Ee(h,function(S,L){v+=L,v+=":",v+=S,v+=`\r
`}),v}function Is(h,v,S){e:{for(L in S){var L=!1;break e}L=!0}L||(S=Qn(S),typeof h=="string"?S!=null&&rr(S):rt(h,v,S))}function ot(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ot,dt);var Di=/^https?$/i,jo=["POST","PUT"];i=ot.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,S,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ee){Ns(this,ee);return}if(h=S||"",S=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)S.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ee of L.keys())S.set(ee,L.get(ee));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(jo,v,void 0)>=0)||L||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of S)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){Ns(this,ee)}};function Ns(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,qo(h),sr(h)}function qo(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Tt(this,"complete"),Tt(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),ot.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},i.Xa=function(){Vs(this)};function Vs(h){if(h.h&&typeof u<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(Tt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var L;if(L=ee===0){let de=String(h.D).match(mu)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),L=!Di.test(de?de.toLowerCase():"")}S=L}if(S)Tt(h,"complete"),Tt(h,"success");else{h.o=6;try{var Q=ci(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",qo(h)}}finally{sr(h)}}}}function sr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,v||Tt(h,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xr(v)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(h){const v={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(D(h[L]))continue;var S=du(h[L]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=v[Q]||[];v[Q]=ee,ee.push(S)}_e(v,function(L){return L.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function zr(h){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(h&&h.concurrentRequestLimit),this.Ba=new kr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=zr.prototype,i.ka=8,i.I=1,i.connect=function(h,v,S,L){Et(0),this.W=h,this.H=v||{},S&&L!==void 0&&(this.H.OSID=S,this.H.OAID=L),this.F=this.X,this.J=Lu(this,null,this.W),Ii(this)};function Ho(h){if(Ca(h),h.I==3){var v=h.V++,S=Vt(h.J);if(rt(S,"SID",h.M),rt(S,"RID",v),rt(S,"TYPE","terminate"),Ps(h,S),v=new ai(h,h.j,v),v.M=2,v.A=Os(Vt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=v.A,S=!0),S||(v.g=Ru(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}Au(h)}function Br(h){h.g&&(Go(h),h.g.cancel(),h.g=null)}function Ca(h){Br(h),h.v&&(c.clearTimeout(h.v),h.v=null),Aa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!xo(h.h)&&!h.m){h.m=!0;var v=h.Ea;j||R(),F||(j(),F=!0),A.add(v,h),h.D=0}}function wa(h,v){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Dn(m(h.Ea,h,v),wu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new ai(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=V(ee),re(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var L=this.i[S];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(v+=L,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=bu(this,Q,v),S=Vt(this.J),rt(S,"RID",h),rt(S,"CVER",22),this.G&&rt(S,"X-HTTP-Session-Id",this.G),Ps(this,S),ee&&(this.R?v="headers="+rr(Qn(ee))+"&"+v:this.u&&Is(S,this.u,ee)),Io(this.h,Q),this.Ra&&rt(S,"TYPE","init"),this.S?(rt(S,"$req",v),rt(S,"SID","null"),Q.U=!0,Ti(Q,S,null)):Ti(Q,S,v),this.I=2}}else this.I==3&&(h?Fo(this,h):this.i.length==0||xo(this.h)||Fo(this))};function Fo(h,v){var S;v?S=v.l:S=h.V++;const L=Vt(h.J);rt(L,"SID",h.M),rt(L,"RID",S),rt(L,"AID",h.K),Ps(h,L),h.u&&h.o&&Is(L,h.u,h.o),S=new ai(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),v&&(h.i=v.G.concat(h.i)),v=bu(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Io(h.h,S),Ti(S,L,v)}function Ps(h,v){h.H&&Ee(h.H,function(S,L){rt(v,L,S)}),h.l&&Ee({},function(S,L){rt(v,L,S)})}function bu(h,v,S){S=Math.min(h.i.length,S);const L=h.l?m(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Ve=-1;for(;;){const Rt=["count="+S];Ve==-1?S>0?(Ve=Q[0].g,Rt.push("ofs="+Ve)):Ve=0:Rt.push("ofs="+Ve);let tt=!0;for(let yt=0;yt<S;yt++){var ee=Q[yt].g;const Kn=Q[yt].map;if(ee-=Ve,ee<0)Ve=Math.max(0,Q[yt].g-100),tt=!1;else try{ee="req"+ee+"_"||"";try{var de=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Vi,hi]of de){let fi=hi;p(hi)&&(fi=si(hi)),Rt.push(ee+Vi+"="+encodeURIComponent(fi))}}catch(Vi){throw Rt.push(ee+"type="+encodeURIComponent("_badmap")),Vi}}catch{L&&L(Kn)}}if(tt){de=Rt.join("&");break e}}de=void 0}return h=h.i.splice(0,S),v.G=h,de}function Su(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;j||R(),F||(j(),F=!0),A.add(v,h),h.A=0}}function ks(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Dn(m(h.Da,h),wu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Dn(m(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Br(this),Tu(this))};function Go(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Tu(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Vt(h.na);rt(v,"RID","rpc"),rt(v,"SID",h.M),rt(v,"AID",h.K),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(v,"TO",h.ia),rt(v,"TYPE","xmlhttp"),Ps(h,v),h.u&&h.o&&Is(v,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Os(Vt(v)),S.u=null,S.R=!0,va(S,h)}i.Va=function(){this.C!=null&&(this.C=null,Br(this),ks(this),Et(19))};function Aa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Cu(h,v){var S=null;if(h.g==v){Aa(h),Go(h),h.g=null;var L=2}else if(Ri(h.h,v))S=v.G,No(h.h,v),L=1;else return;if(h.I!=0){if(v.o)if(L==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var Q=h.D;L=Ji(),Tt(L,new vn(L,S)),Ii(h)}else Su(h);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(L==1&&wa(h,v)||L==2&&ks(h)))switch(S&&S.length>0&&(v=h.h,v.i=v.i.concat(S)),Q){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function wu(h,v){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*v}function Ni(h,v){if(h.j.info("Error code "+v),v==2){var S=m(h.bb,h),L=h.Ua;const Q=!L;L=new Nn(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(L,"https"),Os(L),Q?li(L.toString(),S):Bo(L.toString(),S)}else Et(2);h.I=0,h.l&&h.l.pa(v),Au(h),Ca(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Au(h){if(h.I=0,h.ja=[],h.l){const v=Vo(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Lu(h,v,S){var L=S instanceof Nn?Vt(S):new Nn(S);if(L.g!="")v&&(L.g=v+"."+L.g),Ir(L,L.u);else{var Q=c.location;L=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new Nn(null);L&&$t(ee,L),v&&(ee.g=v),Q&&Ir(ee,Q),S&&(ee.h=S),L=ee}return S=h.G,v=h.wa,S&&v&&rt(L,S,v),rt(L,"VER",h.ka),Ps(h,L),L}function Ru(h,v,S){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new ot(new Oi({ab:S})):new ot(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}i=Mu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function jr(){}jr.prototype.g=function(h,v){return new yn(h,v)};function yn(h,v){dt.call(this),this.g=new zr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new or(this)}b(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ho(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=si(h),h=S);v.i.push(new Nt(v.Ya++,h)),v.I==3&&Ii(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,yn.Z.N.call(this)};function Ou(h){xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const S in v){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(Ou,xt);function Du(){Jt.call(this),this.status=1}b(Du,Jt);function or(h){this.g=h}b(or,Mu),or.prototype.ra=function(){Tt(this.g,"a")},or.prototype.qa=function(h){Tt(this.g,new Ou(h))},or.prototype.pa=function(h){Tt(this.g,new Du)},or.prototype.oa=function(){Tt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Z0=function(){return new jr},$0=function(){return Ji()},Y0=vt,yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,$c=Me,Mo.COMPLETE="complete",K0=Mo,Rs.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Vl=Rs,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,Q0=ot}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",HE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new V0("@firebase/firestore");function io(){return sa.logLevel}function ge(i,...e){if(sa.logLevel<=Xe.DEBUG){const n=e.map(Zp);sa.debug(`Firestore (${Co}): ${i}`,...n)}}function Lr(i,...e){if(sa.logLevel<=Xe.ERROR){const n=e.map(Zp);sa.error(`Firestore (${Co}): ${i}`,...n)}}function po(i,...e){if(sa.logLevel<=Xe.WARN){const n=e.map(Zp);sa.warn(`Firestore (${Co}): ${i}`,...n)}}function Zp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,X0(i,s,n)}function X0(i,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Lr(s),new Error(s)}function it(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||X0(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class TM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CM{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new W0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class wM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,z0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RM(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(i,e){return i<e?-1:i>e?1:0}function _p(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return tp(o)===tp(u)?Qe(o,u):tp(o)?1:-1}return Qe(i.length,e.length)}const MM=55296,OM=57343;function tp(i){const e=i.charCodeAt(0);return e>=MM&&e<=OM}function go(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__name__";class Bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const s=Bi.isNumericId(e),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):_p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class ft extends Bi{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const DM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Bi{construct(e,n,s){return new on(e,n,s)}static isValidIdentifier(e){return DM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GE}static keyField(){return new on([GE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(s+=p,o++):(u(),o++)}if(u(),c)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(ft.fromString(e))}static fromName(e){return new Le(ft.fromString(e).popFirst(5))}static empty(){return new Le(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(i,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xM(i,e,n,s){if(e===!0&&s===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function QE(i){if(!Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function KE(i){if(Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function eS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Rh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function ph(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(i,e){const n={typeString:i};return e&&(n.value=e),n}function lu(i,e){if(!eS(i))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=-62135596800,$E=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$E);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YE)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$E}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:qt("string",mt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function IM(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new bs(o,Le.empty(),e)}function NM(i){return new bs(i.readTime,i.key,Xl)}class bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bs(xe.min(),Le.empty(),Xl)}static max(){return new bs(xe.max(),Le.empty(),Xl)}}function VM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==PM)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let o=0,u=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&n()}),(g=>s(g)))})),c=!0,u===o&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((o=>o?ue.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,o)=>{const u=e.length,c=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((_=>{c[m]=_,++p,p===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ue(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function UM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function Oh(i){return i==null}function gh(i){return i===0&&1/i==-1/0}function zM(i){return typeof i=="number"&&Number.isInteger(i)&&!gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="";function BM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ZE(e)),e=jM(i.get(n),e);return ZE(e)}function jM(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function ZE(i){return i+tS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ca(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function nS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new an(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new mi([])}unionWith(e){let n=new Ft(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const qM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(it(!!i,39018),typeof i=="string"){let e=0;const n=qM.exec(i);if(it(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(i.seconds),nanos:Dt(i.nanos)}}function Dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ts(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="server_timestamp",sS="__type__",aS="__previous_value__",oS="__local_write_time__";function Jp(i){return(i?.mapValue?.fields||{})[sS]?.stringValue===rS}function Dh(i){const e=i.mapValue.fields[aS];return Jp(e)?Dh(e):e}function Wl(i){const e=Ss(i.mapValue.fields[oS].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,s,o,u,c,p,g,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=_}}const mh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="__type__",FM="__max__",Bc={mapValue:{}},uS="__vector__",vh="value";function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:QM(i)?9007199254740991:GM(i)?10:11:Oe(28295,{value:i})}function Yi(i,e){if(i===e)return!0;const n=Cs(i);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wl(i).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ss(o.timestampValue),p=Ss(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ts(o.bytesValue).isEqual(Ts(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Dt(o.doubleValue),p=Dt(u.doubleValue);return c===p?gh(c)===gh(p):isNaN(c)&&isNaN(p)}return!1})(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(XE(c)!==XE(p))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(p[g]===void 0||!Yi(c[g],p[g])))return!1;return!0})(i,e);default:return Oe(52216,{left:i})}}function eu(i,e){return(i.values||[]).find((n=>Yi(n,e)))!==void 0}function mo(i,e){if(i===e)return 0;const n=Cs(i),s=Cs(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const p=Dt(u.integerValue||u.doubleValue),g=Dt(c.integerValue||c.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return JE(i.timestampValue,e.timestampValue);case 4:return JE(Wl(i),Wl(e));case 5:return _p(i.stringValue,e.stringValue);case 6:return(function(u,c){const p=Ts(u),g=Ts(c);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const p=u.split("/"),g=c.split("/");for(let m=0;m<p.length&&m<g.length;m++){const _=Qe(p[m],g[m]);if(_!==0)return _}return Qe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const p=Qe(Dt(u.latitude),Dt(c.latitude));return p!==0?p:Qe(Dt(u.longitude),Dt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return eb(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const p=u.fields||{},g=c.fields||{},m=p[vh]?.arrayValue,_=g[vh]?.arrayValue,b=Qe(m?.values?.length||0,_?.values?.length||0);return b!==0?b:eb(m,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Bc.mapValue&&c===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(c===Bc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=c.fields||{},_=Object.keys(m);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const T=_p(g[b],_[b]);if(T!==0)return T;const M=mo(p[g[b]],m[_[b]]);if(M!==0)return M}return Qe(g.length,_.length)})(i.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function JE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=Ss(i),s=Ss(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function eb(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function vo(i){return Ep(i)}function Ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ts(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Le.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ep(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Ep(n.fields[c])}`;return o+"}"})(i.mapValue):Oe(61005,{value:i})}function Zc(i){switch(Cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(i);return e?16+Zc(e):16;case 5:return 2*i.stringValue.length;case 6:return Ts(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Zc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ca(s.fields,((u,c)=>{o+=u.length+Zc(c)})),o})(i.mapValue);default:throw Oe(13486,{value:i})}}function tb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bp(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function nb(i){return!!i&&"nullValue"in i}function ib(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xc(i){return!!i&&"mapValue"in i}function GM(i){return(i?.mapValue?.fields||{})[lS]?.stringValue===uS}function jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ca(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=jl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(i.arrayValue.values[n]);return e}return{...i}}function QM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=on.emptyPath(),s={},o=[];e.forEach(((c,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}c?s[p.lastSegment()]=jl(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ca(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ii(jl(this.value))}}function cS(i){const e=[];return ca(i.fields,((n,s)=>{const o=new on([n]);if(Xc(s)){const u=cS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,o,u,c,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),ii.empty(),0)}static newFoundDocument(e,n,s,o){return new mn(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new mn(e,2,n,xe.min(),xe.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,xe.min(),xe.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function rb(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=Le.comparator(Le.fromName(c.referenceValue),n.key):s=mo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class jt extends hS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $M(e,n,s):n==="array-contains"?new WM(e,s):n==="in"?new JM(e,s):n==="not-in"?new e2(e,s):n==="array-contains-any"?new t2(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZM(e,s):new XM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return fS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(i){return i.op==="and"}function dS(i){return YM(i)&&fS(i)}function YM(i){for(const e of i.filters)if(e instanceof vi)return!1;return!0}function Sp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+vo(i.value);if(dS(i))return i.filters.map((e=>Sp(e))).join(",");{const e=i.filters.map((n=>Sp(n))).join(",");return`${i.op}(${e})`}}function pS(i,e){return i instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(i,e):i instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,p)=>u&&pS(c,o.filters[p])),!0):!1})(i,e):void Oe(19439)}function gS(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(i):i instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"})(i):"Filter"}class $M extends jt{constructor(e,n,s){super(e,n,s),this.key=Le.fromName(s.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZM extends jt{constructor(e,n){super(e,"in",n),this.keys=mS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XM extends jt{constructor(e,n){super(e,"not-in",n),this.keys=mS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mS(i,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class WM extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eg(n)&&eu(n.arrayValue,this.value)}}class JM extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class e2 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class t2 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,s=[],o=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function ab(i,e=null,n=[],s=[],o=null,u=null,c=null){return new n2(i,e,n,s,o,u,c)}function tg(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!KM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!pS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sb(i.startAt,e.startAt)&&sb(i.endAt,e.endAt)}function Tp(i){return Le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],o=[],u=null,c="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i2(i,e,n,s,o,u,c,p){return new Lo(i,e,n,s,o,u,c,p)}function vS(i){return new Lo(i)}function ob(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function yS(i){return i.collectionGroup!==null}function ql(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Ft(on.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,s))})),n.has(on.keyField().canonicalString())||e.Ie.push(new tu(on.keyField(),s))}return e.Ie}function qi(i){const e=Ne(i);return e.Ee||(e.Ee=r2(e,ql(i))),e.Ee}function r2(i,e){if(i.limitType==="F")return ab(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)}));const n=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return ab(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Cp(i,e){const n=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xh(i,e){return ng(qi(i),qi(e))&&i.limitType===e.limitType}function _S(i){return`${tg(qi(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>gS(o))).join(", ")}]`),Oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(qi(i))}; limitType=${i.limitType})`}function Ih(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Le.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,p,g){const m=rb(c,p,g);return c.inclusive?m<=0:m<0})(s.startAt,ql(s),o)||s.endAt&&!(function(c,p,g){const m=rb(c,p,g);return c.inclusive?m>=0:m>0})(s.endAt,ql(s),o))})(i,e)}function s2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ES(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=a2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function a2(i,e,n){const s=i.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,c,p){const g=c.data.field(u),m=p.data.field(u);return g!==null&&m!==null?mo(g,m):Oe(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new St(Le.comparator);function Rr(){return o2}const bS=new St(Le.comparator);function Pl(...i){let e=bS;for(const n of i)e=e.insert(n.key,n);return e}function SS(i){let e=bS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return Hl()}function TS(){return Hl()}function Hl(){return new ha((i=>i.toString()),((i,e)=>i.isEqual(e)))}const l2=new St(Le.comparator),u2=new Ft(Le.comparator);function Ke(...i){let e=u2;for(const n of i)e=e.add(n);return e}const c2=new Ft(Qe);function h2(){return c2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function CS(i){return{integerValue:""+i}}function f2(i,e){return zM(e)?CS(e):ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function d2(i,e,n){return i instanceof _h?(function(o,u){const c={fields:{[sS]:{stringValue:rS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=Dh(u)),u&&(c.fields[aS]=u),{mapValue:c}})(n,e):i instanceof nu?AS(i,e):i instanceof iu?LS(i,e):(function(o,u){const c=wS(o,u),p=lb(c)+lb(o.Ae);return bp(c)&&bp(o.Ae)?CS(p):ig(o.serializer,p)})(i,e)}function p2(i,e,n){return i instanceof nu?AS(i,e):i instanceof iu?LS(i,e):n}function wS(i,e){return i instanceof Eh?(function(s){return bp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class _h extends Nh{}class nu extends Nh{constructor(e){super(),this.elements=e}}function AS(i,e){const n=RS(e);for(const s of i.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Nh{constructor(e){super(),this.elements=e}}function LS(i,e){let n=RS(e);for(const s of i.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class Eh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lb(i){return Dt(i.integerValue||i.doubleValue)}function RS(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function g2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?go(s.elements,o.elements,Yi):s instanceof Eh&&o instanceof Eh?Yi(s.Ae,o.Ae):s instanceof _h&&o instanceof _h})(i.transform,e.transform)}class m2{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vh{}function MS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new DS(i.key,Cr.none()):new uu(i.key,i.data,Cr.none());{const n=i.data,s=ii.empty();let o=new Ft(on.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new fa(i.key,s,new mi(o.toArray()),Cr.none())}}function v2(i,e,n){i instanceof uu?(function(o,u,c){const p=o.value.clone(),g=cb(o.fieldTransforms,u,c.transformResults);p.setAll(g),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):i instanceof fa?(function(o,u,c){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=cb(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(OS(o)),g.setAll(p),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Fl(i,e,n,s){return i instanceof uu?(function(u,c,p,g){if(!Wc(u.precondition,c))return p;const m=u.value.clone(),_=hb(u.fieldTransforms,g,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(i,e,n,s):i instanceof fa?(function(u,c,p,g){if(!Wc(u.precondition,c))return p;const m=hb(u.fieldTransforms,g,c),_=c.data;return _.setAll(OS(u)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,c,p){return Wc(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(i,e,n)}function y2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=wS(s.transform,o||null);u!=null&&(n===null&&(n=ii.empty()),n.set(s.field,u))}return n||null}function ub(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,c)=>g2(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class uu extends Vh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fa extends Vh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function cb(i,e,n){const s=new Map;it(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,p=e.data.field(u.field);s.set(u.field,p2(c,p,n[o]))}return s}function hb(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,d2(u,c,e))}return s}class DS extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&v2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=n.has(o.key)?null:p;const g=MS(c,p);g!==null&&s.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>ub(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>ub(n,s)))}}class rg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return l2})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new rg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function T2(i){switch(i){case oe.OK:return Oe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function xS(i){if(i===void 0)return Lr("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Bt.OK:return oe.OK;case Bt.CANCELLED:return oe.CANCELLED;case Bt.UNKNOWN:return oe.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return oe.INTERNAL;case Bt.UNAVAILABLE:return oe.UNAVAILABLE;case Bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Bt.NOT_FOUND:return oe.NOT_FOUND;case Bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Bt.ABORTED:return oe.ABORTED;case Bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Bt.DATA_LOSS:return oe.DATA_LOSS;default:return Oe(39323,{code:i})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new ys([4294967295,4294967295],0);function fb(i){const e=C2().encode(i),n=new G0;return n.update(e),new Uint8Array(n.digest())}function db(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,u],0)]}class sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(w2)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fb(e),[s,o]=db(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new sg(u,o,n);return s.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const n=fb(e),[s,o]=db(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(xe.min(),o,new St(Qe),Rr(),Ke())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class IS{constructor(e,n){this.targetId=e,this.Ce=n}}class NS{constructor(e,n,s=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pb{constructor(){this.ve=0,this.Fe=gb(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),s=Ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=gb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=jc(),this.He=jc(),this.Ye=new St(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Tp(u))if(s===0){const c=new Le(u.path);this.et(n,c,mn.newNoDocument(c,xe.min()))}else it(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const p=this.ut(e),g=p?this.ct(p,e,c):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,p;try{c=Ts(s).toUint8Array()}catch(g){if(g instanceof iS)return po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new sg(c,o,u)}catch(g){return po(g instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Tp(p.target)){const g=new Le(p.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,mn.newNoDocument(g,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Ke();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Ph(e,n,this.Ye,this.je,s);return this.je=Rr(),this.Je=jc(),this.He=jc(),this.Ye=new St(Qe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jc(){return new St(Le.comparator)}function gb(){return new St(Le.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},R2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class O2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ap(i,e){return i.useProto3Json||Oh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function D2(i,e){return bh(i,e.toTimestamp())}function Hi(i){return it(!!i,49232),xe.fromTimestamp((function(n){const s=Ss(n);return new mt(s.seconds,s.nanos)})(i))}function ag(i,e){return Lp(i,e).canonicalString()}function Lp(i,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function PS(i){const e=ft.fromString(i);return it(jS(e),10190,{key:e.toString()}),e}function Rp(i,e){return ag(i.databaseId,e.path)}function np(i,e){const n=PS(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Le(US(n))}function kS(i,e){return ag(i.databaseId,e)}function x2(i){const e=PS(i);return e.length===4?ft.emptyPath():US(e)}function Mp(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function US(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mb(i,e,n){return{name:Rp(i,e),fields:n.value.mapValue.fields}}function I2(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(it(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(m){const _=m.code===void 0?oe.UNKNOWN:xS(m.code);return new pe(_,m.message||"")})(c);n=new NS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(i,s.document.name),u=Hi(s.document.updateTime),c=s.document.createTime?Hi(s.document.createTime):xe.min(),p=new ii({mapValue:{fields:s.document.fields}}),g=mn.newFoundDocument(o,u,c,p),m=s.targetIds||[],_=s.removedTargetIds||[];n=new Jc(m,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(i,s.document),u=s.readTime?Hi(s.readTime):xe.min(),c=mn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Jc([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(i,s.document),u=s.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new S2(o,u),p=s.targetId;n=new IS(p,c)}}return n}function N2(i,e){let n;if(e instanceof uu)n={update:mb(i,e.key,e.value)};else if(e instanceof DS)n={delete:Rp(i,e.key)};else if(e instanceof fa)n={update:mb(i,e.key,e.data),updateMask:H2(e.fieldMask)};else{if(!(e instanceof _2))return Oe(16599,{Vt:e.type});n={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const p=c.transform;if(p instanceof _h)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw Oe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:D2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)})(i,e.precondition)),n}function V2(i,e){return i&&i.length>0?(it(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Hi(o.updateTime):Hi(u);return c.isEqual(xe.min())&&(c=Hi(u)),new m2(c,o.transformResults||[])})(n,e)))):[]}function P2(i,e){return{documents:[kS(i,e.path)]}}function k2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kS(i,o);const u=(function(m){if(m.length!==0)return BS(vi.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(m){if(m.length!==0)return m.map((_=>(function(T){return{field:so(T.field),direction:B2(T.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const p=Ap(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function U2(i){let e=x2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(b){const T=zS(b);return T instanceof vi&&dS(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((T=>(function(O){return new tu(ao(O.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let T;return T=typeof b=="object"?b.value:b,Oh(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(b){const T=!!b.before,M=b.values||[];return new yh(M,T)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const T=!b.before,M=b.values||[];return new yh(M,T)})(n.endAt)),i2(e,o,c,u,p,"F",g,m)}function z2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ao(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>zS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(i):Oe(30097,{filter:i})}function B2(i){return L2[i]}function j2(i){return R2[i]}function q2(i){return M2[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return on.fromServerFormat(i.fieldPath)}function BS(i){return i instanceof jt?(function(n){if(n.op==="=="){if(ib(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(nb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ib(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(nb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:j2(n.op),value:n.value}}})(i):i instanceof vi?(function(n){const s=n.getFilters().map((o=>BS(o)));return s.length===1?s[0]:{compositeFilter:{op:q2(n.op),filters:s}}})(i):Oe(54877,{filter:i})}function H2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s,o,u=xe.min(),c=xe.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.yt=e}}function G2(i){const e=U2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Cn=new K2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(bs.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class K2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(qS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="LruGarbageCollector",Y2=1048576;function _b([i,e],[n,s]){const o=Qe(i,n);return o===0?Qe(e,s):o}class $2{constructor(e){this.Ir=e,this.buffer=new Ft(_b),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_b(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(yb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ge(yb,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class X2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Mh.ce);const s=new $2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(vb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,p,g,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),io()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(m-g)+`ms
Total Duration: ${m-_}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function W2(i,e){return new X2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,mi.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ke()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Pl();return u.forEach(((p,g)=>{c=c.insert(p,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,p)=>{n.set(c,p)}))}))}computeViews(e,n,s,o){let u=Rr();const c=Hl(),p=(function(){return Hl()})();return n.forEach(((g,m)=>{const _=s.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof fa)?u=u.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Fl(_.mutation,m,_.mutation.getFieldMask(),mt.now())):c.set(m.key,mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,_)=>c.set(m,_))),n.forEach(((m,_)=>p.set(m,new eO(_,c.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new St(((c,p)=>c-p)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const p of c)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let _=s.get(g)||mi.empty();_=p.applyToLocalView(m,_),s.set(g,_);const b=(o.get(p.batchId)||Ke()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,_=g.value,b=TS();_.forEach((T=>{if(!u.has(T)){const M=MS(n.get(T),s.get(T));M!==null&&b.set(T,M),u=u.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ue.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ue.resolve(ia());let p=Xl,g=u;return c.next((m=>ue.forEach(m,((_,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(_)?ue.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{g=g.insert(_,T)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Ke()))).next((_=>({batchId:p,changes:SS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Pl();return this.indexManager.getCollectionParents(e,u).next((p=>ue.forEach(p,(g=>{const m=(function(b,T){return new Lo(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((_=>{_.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((g,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,mn.newInvalidDocument(_)))}));let p=Pl();return c.forEach(((g,m)=>{const _=u.get(g);_!==void 0&&Fl(_.mutation,m,mi.empty(),mt.now()),Ih(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:G2(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.overlays=new St(Le.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return ue.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,c=new Le(n.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new St(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let _=u.get(m.largestBatchId);_===null&&(_=ia(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const p=ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,_)=>p.set(m,_))),!(p.size()>=o)););return ue.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new b2(n,s));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Le(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=Ke();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new E2(u,n,s,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new Xt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Qe);return n.forEach((o=>{const u=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{s=s.add(p.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Le.isDocumentKey(u)||(u=u.child(""));const c=new Xt(new Le(u),0);let p=new Ft(Qe);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),c),ue.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.ri=e,this.docs=(function(){return new St(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Rr();const c=n.path,p=new Le(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:_}}=g.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||VM(NM(_),s)<=0||(o.has(_.key)||Ih(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Oe(9500)}ii(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oO(this)}getSize(e){return ue.resolve(this.size)}}class oO extends J2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.persistence=e,this.si=new ha((n=>tg(n)),ng),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ue.waitFor(u).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ue.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new rO,this.referenceDelegate=e(this),this.Pi=new lO(this),this.indexManager=new Q2,this.remoteDocumentCache=(function(o){return new aO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new F2(n),this.Ii=new nO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new uO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class uO extends kM{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Vi=null}static mi(e){return new lg(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const o=Le.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>BM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=W2(this,n)}static mi(e,n){return new Sh(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ue.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((p=>{p||(s++,u.removeEntry(c,xe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,s){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ke(),o=Ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:UM(rR())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new cO;return this.Ss(e,n,c).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,c,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(io()<=Xe.DEBUG&&ge("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):ue.resolve())}ys(e,n){if(ob(n))return ue.resolve(null);let s=qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),s=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Ke(...u);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,c,g.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,s,o){return ob(n)||o.isEqual(xe.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ue.resolve(null):(io()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,c,n,IM(o,Xl)).next((p=>p)))}))}Ds(e,n){let s=new Ft(ES(e));return n.forEach(((o,u)=>{Ih(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,bs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",fO=3e8;class dO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new St(Qe),this.xs=new ha((u=>tg(u)),ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function pO(i,e,n,s){return new dO(i,e,n,s)}async function FS(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],p=[];let g=Ke();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}for(const m of u){p.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:p})))}))}))}function gO(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,_){const b=m.batch,T=b.keys();let M=ue.resolve();return T.forEach((O=>{M=M.next((()=>_.getEntry(g,O))).next((U=>{const I=m.docVersions.get(O);it(I!==null,48541),U.version.compareTo(I)<0&&(b.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),_.addEntry(U)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ke();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function GS(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mO(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,b)=>{const T=o.get(b);if(!T)return;p.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,b))));let M=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,s)),o=o.insert(b,M),(function(U,I,H){return U.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=fO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(T,M,_)&&p.push(n.Pi.updateTargetData(u,M))}));let g=Rr(),m=Ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(vO(u,c,e.documentUpdates).next((_=>{g=_.ks,m=_.qs}))),!s.isEqual(xe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(_)}return ue.waitFor(p).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function vO(i,e,n){let s=Ke(),o=Ke();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Rr();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),c=c.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),c=c.insert(p,g)):ge(cg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function yO(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _O(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ue.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new ps(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Op(i,e,n){const s=Ne(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ao(c))throw c;ge(cg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Eb(i,e,n){const s=Ne(i);let o=xe.min(),u=Ke();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,m,_){const b=Ne(g),T=b.xs.get(_);return T!==void 0?ue.resolve(b.Ms.get(T)):b.Pi.getTargetData(m,_)})(s,c,qi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:xe.min(),n?u:Ke()))).next((p=>(EO(s,s2(e),p),{documents:p,Qs:u})))))}function EO(i,e,n){let s=i.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class bb{constructor(){this.activeTargetIds=h2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bO{constructor(){this.Mo=new bb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="ConnectivityMonitor";class Tb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Dp(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=Dp(),p=this.zo(e,n.toUriEncodedString());ge(ip,`Sending RPC '${e}' ${c}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),_=ou(m);return this.Jo(e,p,g,s,_).then((b=>(ge(ip,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw po(ip,`RPC '${e}' ${c} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=TO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class AO extends CO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=Dp();return new Promise(((p,g)=>{const m=new Q0;m.setWithCredentials(!0),m.listenOnce(K0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case $c.NO_ERROR:const b=m.getResponseJson();ge(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),p(b);break;case $c.TIMEOUT:ge(pn,`RPC '${e}' ${c} timed out`),g(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const T=m.getStatus();if(ge(pn,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const U=(function(H){const B=H.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN})(O.status);g(new pe(U,O.message))}else g(new pe(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(pn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);ge(pn,`RPC '${e}' ${c} sending request:`,o),m.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Z0(),p=$0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=u.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const b=c.createWebChannel(_,g);this.I_(b);let T=!1,M=!1;const O=new wO({Yo:I=>{M?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(T||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,I),b.send(I))},Zo:()=>b.close()}),U=(I,H,B)=>{I.listen(H,(W=>{try{B(W)}catch(G){setTimeout((()=>{throw G}),0)}}))};return U(b,Vl.EventType.OPEN,(()=>{M||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),U(b,Vl.EventType.CLOSE,(()=>{M||(M=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(b))})),U(b,Vl.EventType.ERROR,(I=>{M||(M=!0,po(pn,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),O.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))})),U(b,Vl.EventType.MESSAGE,(I=>{if(!M){const H=I.data[0];it(!!H,16349);const B=H,W=B?.error||B[0]?.error;if(W){ge(pn,`RPC '${e}' stream ${o} received error:`,W);const G=W.status;let j=(function(R){const w=Bt[R];if(w!==void 0)return xS(w)})(G),F=W.message;j===void 0&&(j=oe.INTERNAL,F="Unknown error status: "+G+" with message "+W.message),M=!0,O.a_(new pe(j,F)),b.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,H),O.u_(H)}})),U(p,Y0.STAT_EVENT,(I=>{I.stat===yp.PROXY?ge(pn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===yp.NOPROXY&&ge(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){return new O2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class KS{constructor(e,n,s,o,u,c,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new pe(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LO extends KS{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=I2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return xe.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Hi(c.readTime):xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(u,c){let p;const g=c.target;if(p=Tp(g)?{documents:P2(u,g)}:{query:k2(u,g).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=VS(u,c.resumeToken);const m=Ap(u,c.expectedCount);m!==null&&(p.expectedCount=m)}else if(c.snapshotVersion.compareTo(xe.min())>0){p.readTime=bh(u,c.snapshotVersion.toTimestamp());const m=Ap(u,c.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const s=z2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.q_(n)}}class RO extends KS{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=V2(e.writeResults,e.commitTime),s=Hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>N2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class OO extends MO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Lp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,Lp(n,s),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class xO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{da(this)&&(ge(aa,"Restarting streams for network reachability change."),await(async function(g){const m=Ne(g);m.Ea.add(4),await hu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Uh(m)})(this))}))})),this.Ra=new DO(s,o)}}async function Uh(i){if(da(i))for(const e of i.da)await e(!0)}async function hu(i){for(const e of i.da)await e(!1)}function YS(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?dg(n):Ro(n).O_()&&fg(n,e))}function hg(i,e){const n=Ne(i),s=Ro(n);n.Ia.delete(e),s.O_()&&$S(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function fg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).Y_(e)}function $S(i,e){i.Va.Ue(e),Ro(i).Z_(e)}function dg(i){i.Va=new A2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function pg(i){return da(i)&&!Ro(i).x_()&&i.Ia.size>0}function da(i){return Ne(i).Ea.size===0}function ZS(i){i.Va=void 0}async function IO(i){i.Ra.set("Online")}async function NO(i){i.Ia.forEach(((e,n)=>{fg(i,e)}))}async function VO(i,e){ZS(i),pg(i)?(i.Ra.ha(e),dg(i)):i.Ra.set("Unknown")}async function PO(i,e,n){if(i.Ra.set("Online"),e instanceof NS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){ge(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(i,s)}else if(e instanceof Jc?i.Va.Ze(e):e instanceof IS?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const s=await GS(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(g.resumeToken,c))}})),p.targetMismatches.forEach(((g,m)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),$S(u,g);const b=new ps(_.target,g,m,_.sequenceNumber);fg(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){ge(aa,"Failed to raise snapshot:",s),await Th(i,s)}}async function Th(i,e,n){if(!Ao(e))throw e;i.Ea.add(1),await hu(i),i.Ra.set("Offline"),n||(n=()=>GS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(aa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Uh(i)}))}function XS(i,e){return e().catch((n=>Th(i,n,e)))}async function zh(i){const e=Ne(i),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;kO(e);)try{const o=await yO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,UO(e,o)}catch(o){await Th(e,o)}WS(e)&&JS(e)}function kO(i){return da(i)&&i.Ta.length<10}function UO(i,e){i.Ta.push(e);const n=ws(i);n.O_()&&n.X_&&n.ea(e.mutations)}function WS(i){return da(i)&&!ws(i).x_()&&i.Ta.length>0}function JS(i){ws(i).start()}async function zO(i){ws(i).ra()}async function BO(i){const e=ws(i);for(const n of i.Ta)e.ea(n.mutations)}async function jO(i,e,n){const s=i.Ta.shift(),o=rg.from(s,e,n);await XS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await zh(i)}async function qO(i,e){e&&ws(i).X_&&await(async function(s,o){if((function(c){return T2(c)&&c!==oe.ABORTED})(o.code)){const u=s.Ta.shift();ws(s).B_(),await XS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(s)}})(i,e),WS(i)&&JS(i)}async function wb(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),ge(aa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function HO(i,e){const n=Ne(i);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(n,s,o){const u=Ne(n);return u.sa(),new LO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:IO.bind(null,i),t_:NO.bind(null,i),r_:VO.bind(null,i),H_:PO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),pg(i)?dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ZS(i))}))),i.ma}function ws(i){return i.fa||(i.fa=(function(n,s,o){const u=Ne(n);return u.sa(),new RO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:zO.bind(null,i),r_:qO.bind(null,i),ta:BO.bind(null,i),na:jO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await zh(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,p=new gg(e,n,c,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),Ao(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Le.comparator(n.key,s.key):(n,s)=>Le.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.ga=new St(Le.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,c,p,g,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((p=>{c.push({type:0,doc:p})})),new _o(e,n,uo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GO{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=Lb(),u.forEach(((c,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function Lb(){return new ha((i=>_S(i)),xh)}async function QO(i,e){const n=Ne(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new FO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const p=mg(c,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&vg(n)}async function KO(i,e){const n=Ne(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YO(i,e){const n=Ne(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(s=!0);c.wa=o}}s&&vg(n)}function $O(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function vg(i){i.Ca.forEach((e=>{e.next()}))}var xp,Rb;(Rb=xp||(xp={})).Ma="default",Rb.Cache="cache";class ZO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class XO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=ES(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ab,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const T=o.get(_),M=Ih(this.query,b)?b:null,O=!!T&&this.mutatedKeys.has(T.key),U=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let I=!1;T&&M?T.data.isEqual(M.data)?O!==U&&(s.track({type:3,doc:M}),I=!0):this.su(T,M)||(s.track({type:2,doc:M}),I=!0,(g&&this.eu(M,g)>0||m&&this.eu(M,m)<0)&&(p=!0)):!T&&M?(s.track({type:0,doc:M}),I=!0):T&&!M&&(s.track({type:1,doc:T}),I=!0,(g||m)&&(p=!0)),I&&(M?(c=c.add(M),u=U?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(M,O){const U=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:I})}};return U(M)-U(O)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,c.length!==0||m?{snapshot:new _o(this.query,e.tu,u,c,e.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new tT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new eT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class WO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JO{constructor(e){this.key=e,this.hu=!1}}class eD{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ha((p=>_S(p)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new St(Le.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tD(i,e,n=!0){const s=oT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nT(s,e,n,!0),o}async function nD(i,e){const n=oT(i);await nT(n,e,!0,!1)}async function nT(i,e,n,s){const o=await _O(i.localStore,qi(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await iD(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&YS(i.remoteStore,o),p}async function iD(i,e,n,s,o){i.pu=(b,T,M)=>(async function(U,I,H,B){let W=I.view.ru(H);W.Cs&&(W=await Eb(U.localStore,I.query,!1).then((({documents:A})=>I.view.ru(A,W))));const G=B&&B.targetChanges.get(I.targetId),j=B&&B.targetMismatches.get(I.targetId)!=null,F=I.view.applyChanges(W,U.isPrimaryClient,G,j);return Ob(U,I.targetId,F.au),F.snapshot})(i,b,T,M);const u=await Eb(i.localStore,e,!0),c=new XO(e,u.Qs),p=c.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),m=c.applyChanges(p,i.isPrimaryClient,g);Ob(i,n,m.au);const _=new WO(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),m.snapshot}async function rD(i,e,n){const s=Ne(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!xh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),Ip(s,o.targetId)})).catch(wo)):(Ip(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function sD(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function aD(i,e,n){const s=dD(i);try{const o=await(function(c,p){const g=Ne(c),m=mt.now(),_=p.reduce(((M,O)=>M.add(O.key)),Ke());let b,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let O=Rr(),U=Ke();return g.Ns.getEntries(M,_).next((I=>{O=I,O.forEach(((H,B)=>{B.isValidDocument()||(U=U.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,O))).next((I=>{b=I;const H=[];for(const B of p){const W=y2(B,b.get(B.key).overlayedDocument);W!=null&&H.push(new fa(B.key,W,cS(W.value.mapValue),Cr.exists(!0)))}return g.mutationQueue.addMutationBatch(M,m,H,p)})).next((I=>{T=I;const H=I.applyToLocalDocumentSet(b,U);return g.documentOverlayCache.saveOverlays(M,I.batchId,H)}))})).then((()=>({batchId:T.batchId,changes:SS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,p,g){let m=c.Vu[c.currentUser.toKey()];m||(m=new St(Qe)),m=m.insert(p,g),c.Vu[c.currentUser.toKey()]=m})(s,o.batchId,n),await fu(s,o.changes),await zh(s.remoteStore)}catch(o){const u=mg(o,"Failed to persist write");n.reject(u)}}async function iT(i,e){const n=Ne(i);try{const s=await mO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?it(c.hu,14607):o.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await fu(n,s,e)}catch(s){await wo(s)}}function Mb(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const g=Ne(c);g.onlineState=p;let m=!1;g.queries.forEach(((_,b)=>{for(const T of b.Sa)T.va(p)&&(m=!0)})),m&&vg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oD(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new St(Le.comparator);c=c.insert(u,mn.newNoDocument(u,xe.min()));const p=Ke().add(u),g=new Ph(xe.min(),new Map,new St(Qe),c,p);await iT(s,g),s.du=s.du.remove(u),s.Au.delete(e),_g(s)}else await Op(s.localStore,e,!1).then((()=>Ip(s,e,n))).catch(wo)}async function lD(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await gO(n.localStore,e);sT(n,s,null),rT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await wo(o)}}async function uD(i,e,n){const s=Ne(i);try{const o=await(function(c,p){const g=Ne(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return g.mutationQueue.lookupMutationBatch(m,p).next((b=>(it(b!==null,37113),_=b.keys(),g.mutationQueue.removeMutationBatch(m,b)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>g.localDocuments.getDocuments(m,_)))}))})(s.localStore,e);sT(s,e,n),rT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await wo(o)}}function rT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function sT(i,e,n){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ip(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||aT(i,s)}))}function aT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(hg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),_g(i))}function Ob(i,e,n){for(const s of n)s instanceof eT?(i.Ru.addReference(s.key,e),cD(i,s)):s instanceof tT?(ge(yg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||aT(i,s.key)):Oe(19791,{wu:s})}function cD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ge(yg,"New document in limbo: "+n),i.Eu.add(s),_g(i))}function _g(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Le(ft.fromString(e)),s=i.fu.next();i.Au.set(s,new JO(n)),i.du=i.du.insert(n,s),YS(i.remoteStore,new ps(qi(vS(n.path)),s,"TargetPurposeLimboResolution",Mh.ce))}}async function fu(i,e,n){const s=Ne(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{c.push(s.pu(g,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const _=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(m){o.push(m);const _=ug.As(g.targetId,m);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(g,m){const _=Ne(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ue.forEach(m,(T=>ue.forEach(T.Es,(M=>_.persistence.referenceDelegate.addReference(b,T.targetId,M))).next((()=>ue.forEach(T.ds,(M=>_.persistence.referenceDelegate.removeReference(b,T.targetId,M)))))))))}catch(b){if(!Ao(b))throw b;ge(cg,"Failed to update sequence numbers: "+b)}for(const b of m){const T=b.targetId;if(!b.fromCache){const M=_.Ms.get(T),O=M.snapshotVersion,U=M.withLastLimboFreeSnapshotVersion(O);_.Ms=_.Ms.insert(T,U)}}})(s.localStore,u))}async function hD(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){ge(yg,"User change. New user:",e.toKey());const s=await FS(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(oe.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function fD(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return Ke().add(s.key);{let o=Ke();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const p=n.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function oT(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.Pu.H_=YO.bind(null,e.eventManager),e.Pu.yu=$O.bind(null,e.eventManager),e}function dD(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pO(this.persistence,new hO,e.initialUser,this.serializer)}Cu(e){return new HS(lg.mi,this.serializer)}Du(e){return new bO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class pD extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new HS((s=>Sh.mi(s,n)),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await HO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GO})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=(function(u){return new AO(u)})(e.databaseInfo);return(function(u,c,p,g){return new OO(u,c,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,p){return new xO(s,o,u,c,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Mb(this.syncEngine,n,0)),(function(){return Tb.v()?new Tb:new SO})())}createSyncEngine(e,n){return(function(o,u,c,p,g,m,_){const b=new eD(o,u,c,p,g,m);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);ge(aa,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class mD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ge(As,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(As,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=mg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),ge(As,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await FS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Db(i,e){i.asyncQueue.verifyOperationInProgress();const n=await vD(i);ge(As,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>wb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>wb(e.remoteStore,o))),i._onlineComponents=e}async function vD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(As,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await sp(i,new Ch)}}else ge(As,"Using default OfflineComponentProvider"),await sp(i,new pD(void 0));return i._offlineComponents}async function lT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(As,"Using user provided OnlineComponentProvider"),await Db(i,i._uninitializedComponentsProvider._online)):(ge(As,"Using default OnlineComponentProvider"),await Db(i,new Np))),i._onlineComponents}function yD(i){return lT(i).then((e=>e.syncEngine))}async function _D(i){const e=await lT(i),n=e.eventManager;return n.onListen=tD.bind(null,e.syncEngine),n.onUnlisten=rD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sD.bind(null,e.syncEngine),n}function ED(i,e,n={}){const s=new _s;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,g,m){const _=new gD({next:T=>{_.Nu(),c.enqueueAndForget((()=>KO(u,b))),T.fromCache&&g.source==="server"?m.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new ZO(p,_,{includeMetadataChanges:!0,qa:!0});return QO(u,b)})(await _D(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firestore.googleapis.com",Ib=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=Ib}else this.host=e.host,this.ssl=e.ssl??Ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y2)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SM;switch(s.type){case"firstParty":return new AM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xb.get(n);s&&(ge("ComponentProvider","Removing Datastore"),xb.delete(n),s.terminate())})(this),Promise.resolve()}}function bD(i,e,n,s={}){i=ph(i,Bh);const o=ou(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(D0(`https://${p}`),I0("Firestore",!0)),u.host!==cT&&u.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!fh(g,c)&&(i._setSettings(g),s.mockUserToken)){let m,_;if(typeof s.mockUserToken=="string")m=s.mockUserToken,_=gn.MOCK_USER;else{m=x0(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(b)}i._authCredentials=new TM(new W0(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,Wt._jsonSchema))return new Wt(e,s||null,new Le(ft.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:qt("string",Wt._jsonSchemaVersion),referencePath:qt("string")};class Es extends pa{constructor(e,n,s){super(e,n,vS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Le(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function hT(i,e,...n){if(i=Ki(i),J0("collection","path",e),i instanceof Bh){const s=ft.fromString(e,...n);return KE(s),new Es(i,null,s)}{if(!(i instanceof Wt||i instanceof Es))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return KE(s),new Es(i.firestore,null,s)}}function SD(i,e,...n){if(i=Ki(i),arguments.length===1&&(e=Xp.newId()),J0("doc","path",e),i instanceof Bh){const s=ft.fromString(e,...n);return QE(s),new Wt(i,null,new Le(s))}{if(!(i instanceof Wt||i instanceof Es))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return QE(s),new Wt(i.firestore,i instanceof Es?i.converter:null,new Le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="AsyncQueue";class Pb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QS(this,"async_queue_retry"),this._c=()=>{const s=rp();s&&ge(Vb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ge(Vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",kb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Eg extends Bh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Pb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pb(e),this._firestoreClient=void 0,await e}}}function TD(i,e){const n=typeof i=="object"?i:q0(),s=typeof i=="string"?i:mh,o=U0(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=M0("firestore");u&&bD(o,...u)}return o}function fT(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||CD(i),i._firestoreClient}function CD(i){const e=i._freezeSettings(),n=(function(o,u,c,p){return new HM(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,uT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new mD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(ln.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:qt("string",ri._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:qt("string",Fi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:qt("string",Gi._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class AD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function pT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:i})}}class Sg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&wD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}Cc(e,n,s,o=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gT(i){const e=i._freezeSettings(),n=kh(i._databaseId);return new LD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);yT("Data must be an object, but it was:",c,s);const p=mT(s,c);let g,m;if(u.merge)g=new mi(c.fieldMask),m=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const T=OD(e,b,n);if(!c.contains(T))throw new pe(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);xD(_,T)||_.push(T)}g=new mi(_),m=c.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,m=c.fieldTransforms;return new AD(new ii(p),g,m)}function MD(i,e,n,s=!1){return Tg(n,i.Cc(s?4:3,e))}function Tg(i,e){if(vT(i=Ki(i)))return yT("Unsupported field value:",e,i),mT(i,e);if(i instanceof dT)return(function(s,o){if(!pT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const p of s){let g=Tg(p,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ki(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return f2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:VS(o.serializer,s._byteString)};if(s instanceof Wt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return(function(c,p){return{mapValue:{fields:{[lS]:{stringValue:uS},[vh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return ig(p.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Rh(s)}`)})(i,e)}function mT(i,e){const n={};return nS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(i,((s,o)=>{const u=Tg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Fi||i instanceof ri||i instanceof Wt||i instanceof dT||i instanceof Gi)}function yT(i,e,n){if(!vT(n)||!eS(n)){const s=Rh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function OD(i,e,n){if((e=Ki(e))instanceof bg)return e._internalPath;if(typeof e=="string")return _T(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const DD=new RegExp("[~\\*/\\[\\]]");function _T(i,e,n){if(e.search(DD)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${s}`),c&&(g+=` in document ${o}`),g+=")"),new pe(oe.INVALID_ARGUMENT,p+i+g)}function xD(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ID(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ID extends ET{data(){return super.data()}}function jh(i,e){return typeof e=="string"?_T(i,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class bT extends Cg{}function VD(i,e,...n){let s=[];e instanceof Cg&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((g=>g instanceof wg)).length,p=u.filter((g=>g instanceof qh)).length;if(c>1||c>0&&p>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class qh extends bT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new qh(e,n,s)}_apply(e){const n=this._parse(e);return ST(e._query,n),new pa(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=gT(e.firestore);return(function(u,c,p,g,m,_,b){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zb(b,_);const O=[];for(const U of b)O.push(Ub(g,u,U));T={arrayValue:{values:O}}}else T=Ub(g,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zb(b,_),T=MD(p,c,b,_==="in"||_==="not-in");return jt.create(m,_,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PD(i,e,n){const s=e,o=jh("where",i);return qh._create(o,s,n)}class wg extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const p=u.getFlattenedFilters();for(const g of p)ST(c,g),c=Cp(c,g)})(e._query,n),new pa(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends bT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,c)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function kD(i,e="asc"){const n=e,s=jh("orderBy",i);return Ag._create(s,n)}function Ub(i,e,n){if(typeof(n=Ki(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yS(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!Le.isDocumentKey(s))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tb(i,new Le(s))}if(n instanceof Wt)return tb(i,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function zb(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ST(i,e){const n=(function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UD{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ca(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new Fi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);it(jS(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),u=new Le(s.popFirst(5));return o.isEqual(n)||Lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends ET{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:qt("string",co._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class eh extends co{data(e={}){return super.data(e)}}class ho{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return p.type!==0&&(m=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),_=c.indexOf(p.doc.key)),{type:BD(p.type),doc:g,oldIndex:m,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:qt("string",ho._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class jD extends UD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function qD(i){i=ph(i,pa);const e=ph(i.firestore,Eg),n=fT(e),s=new jD(e);return ND(i._query),ED(n,i._query).then((o=>new ho(e,s,i,o)))}function HD(i,e){const n=ph(i.firestore,Eg),s=SD(i),o=zD(i.converter,e);return FD(n,[RD(gT(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Cr.exists(!1))]).then((()=>s))}function FD(i,e){return(function(s,o){const u=new _s;return s.asyncQueue.enqueueAndForget((async()=>aD(await yD(s),o,u))),u.promise})(fT(i),e)}(function(e,n=!0){(function(o){Co=o})(B0),$l(new fo("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),p=new Eg(new CM(s.getProvider("auth-internal")),new LM(c,s.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(m.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),vs(qE,HE,e),vs(qE,HE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebasestorage.googleapis.com",CT="storageBucket",GD=120*1e3,QD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends ua{constructor(e,n,s=0){super(ap(e),`Firebase Storage: ${n} (${ap(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function ap(i){return"storage/"+i}function Lg(){const i="An unknown error occurred, please check the error payload for server response.";return new Lt(At.UNKNOWN,i)}function KD(i){return new Lt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function YD(i){return new Lt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $D(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(At.UNAUTHENTICATED,i)}function ZD(){return new Lt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XD(i){return new Lt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function WD(){return new Lt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JD(){return new Lt(At.CANCELED,"User canceled the upload/download.")}function ex(i){return new Lt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function tx(i){return new Lt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function nx(){return new Lt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CT+"' property when initializing the app?")}function ix(){return new Lt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rx(){return new Lt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sx(i){return new Lt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vp(i){return new Lt(At.INVALID_ARGUMENT,i)}function wT(){return new Lt(At.APP_DELETED,"The Firebase app was deleted.")}function ax(i){return new Lt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gl(i,e){return new Lt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Nl(i){throw new Lt(At.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(s.path==="")return s;throw tx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",p=new RegExp("^gs://"+o+c,"i"),g={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const _="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",M=new RegExp(`^https?://${b}/${_}/b/${o}/o${T}`,"i"),O={bucket:1,path:3},U=n===TT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",H=new RegExp(`^https?://${U}/${o}/${I}`,"i"),W=[{regex:p,indices:g,postModify:u},{regex:M,indices:O,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<W.length;G++){const j=W[G],F=j.regex.exec(e);if(F){const A=F[j.indices.bucket];let R=F[j.indices.path];R||(R=""),s=new Hn(A,R),j.postModify(s);break}}if(s==null)throw ex(e);return s}}class ox{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(i,e,n){let s=1,o=null,u=null,c=!1,p=0;function g(){return p===2}let m=!1;function _(...I){m||(m=!0,e.apply(null,I))}function b(I){o=setTimeout(()=>{o=null,i(M,g())},I)}function T(){u&&clearTimeout(u)}function M(I,...H){if(m){T();return}if(I){T(),_.call(null,I,...H);return}if(g()||c){T(),_.call(null,I,...H);return}s<64&&(s*=2);let W;p===1?(p=2,W=0):W=(s+Math.random())*1e3,b(W)}let O=!1;function U(I){O||(O=!0,T(),!m&&(o!==null?(I||(p=2),clearTimeout(o),b(0)):I||(p=1)))}return b(0),u=setTimeout(()=>{c=!0,U(!0)},n),U}function ux(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(i){return i!==void 0}function hx(i){return typeof i=="object"&&!Array.isArray(i)}function Rg(i){return typeof i=="string"||i instanceof String}function Bb(i){return Mg()&&i instanceof Blob}function Mg(){return typeof Blob<"u"}function jb(i,e,n,s){if(s<e)throw Vp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Vp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function AT(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ra;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ra||(ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,s,o,u,c,p,g,m,_,b,T=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,U)=>{this.resolve_=O,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Fc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const p=u.getErrorCode()===ra.NO_ERROR,g=u.getStatus();if(!p||fx(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ra.ABORT;s(!1,new Fc(!1,null,_));return}const m=this.successCodes_.indexOf(g)!==-1;s(!0,new Fc(m,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());cx(g)?u(g):u()}catch(g){c(g)}else if(p!==null){const g=Lg();g.serverResponse=p.getErrorText(),this.errorCallback_?c(this.errorCallback_(p,g)):c(g)}else if(o.canceled){const g=this.appDelete_?wT():JD();c(g)}else{const g=WD();c(g)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=lx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ux(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function px(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function gx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function vx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function yx(i,e,n,s,o,u,c=!0,p=!1){const g=AT(i.urlParams),m=i.url+g,_=Object.assign({},i.headers);return mx(_,e),px(_,n),gx(_,u),vx(_,s),new dx(m,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ex(...i){const e=_x();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Mg())return new Blob(i);throw new Lt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(i){if(typeof atob>"u")throw sx("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,n){this.data=e,this.contentType=n||null}}function Tx(i,e){switch(i){case ji.RAW:return new op(LT(e));case ji.BASE64:case ji.BASE64URL:return new op(RT(i,e));case ji.DATA_URL:return new op(wx(e),Ax(e))}throw Lg()}function LT(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=i.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Cx(i){let e;try{e=decodeURIComponent(i)}catch{throw Gl(ji.DATA_URL,"Malformed data URL.")}return LT(e)}function RT(i,e){switch(i){case ji.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Gl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ji.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Gl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sx(e)}catch(o){throw o.message.includes("polyfill")?o:Gl(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class MT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gl(ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Lx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function wx(i){const e=new MT(i);return e.base64?RT(ji.BASE64,e.rest):Cx(e.rest)}function Ax(i){return new MT(i).contentType}function Lx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){let s=0,o="";Bb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Bb(this.data_)){const s=this.data_,o=bx(s,e,n);return o===null?null:new fs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new fs(s,!0)}}static getBlob(...e){if(Mg()){const n=e.map(s=>s instanceof fs?s.data_:s);return new fs(Ex.apply(null,n))}else{const n=e.map(c=>Rg(c)?Tx(ji.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let p=0;p<c.length;p++)o[u++]=c[p]}),new fs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i){let e;try{e=JSON.parse(i)}catch{return null}return hx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Mx(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function DT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(i,e){return e}class En{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Ox}}let Gc=null;function Dx(i){return!Rg(i)||i.length<2?i:DT(i)}function xT(){if(Gc)return Gc;const i=[];i.push(new En("bucket")),i.push(new En("generation")),i.push(new En("metageneration")),i.push(new En("name","fullPath",!0));function e(u,c){return Dx(c)}const n=new En("name");n.xform=e,i.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new En("size");return o.xform=s,i.push(o),i.push(new En("timeCreated")),i.push(new En("updated")),i.push(new En("md5Hash",null,!0)),i.push(new En("cacheControl",null,!0)),i.push(new En("contentDisposition",null,!0)),i.push(new En("contentEncoding",null,!0)),i.push(new En("contentLanguage",null,!0)),i.push(new En("contentType",null,!0)),i.push(new En("metadata","customMetadata",!0)),Gc=i,Gc}function xx(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Hn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Ix(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,e[c.server])}return xx(s,i),s}function IT(i,e,n){const s=OT(e);return s===null?null:Ix(i,s,n)}function Nx(i,e,n,s){const o=OT(e);if(o===null||!Rg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(m=>{const _=i.bucket,b=i.fullPath,T="/b/"+c(_)+"/o/"+c(b),M=Og(T,n,s),O=AT({alt:"media",token:m});return M+O})[0]}function Vx(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class NT{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){if(!i)throw Lg()}function Px(i,e){function n(s,o){const u=IT(i,o,e);return VT(u!==null),u}return n}function kx(i,e){function n(s,o){const u=IT(i,o,e);return VT(u!==null),Nx(u,o,i.host,i._protocol)}return n}function PT(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=ZD():o=$D():n.getStatus()===402?o=YD(i.bucket):n.getStatus()===403?o=XD(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Ux(i){const e=PT(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=KD(i.path)),u.serverResponse=o.serverResponse,u}return n}function zx(i,e,n){const s=e.fullServerUrl(),o=Og(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,p=new NT(o,u,kx(i,n),c);return p.errorHandler=Ux(e),p}function Bx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function jx(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Bx(null,e)),s}function qx(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function p(){let W="";for(let G=0;G<2;G++)W=W+Math.random().toString().slice(2);return W}const g=p();c["Content-Type"]="multipart/related; boundary="+g;const m=jx(e,s,o),_=Vx(m,n),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+g+"--",M=fs.getBlob(b,s,T);if(M===null)throw ix();const O={name:m.fullPath},U=Og(u,i.host,i._protocol),I="POST",H=i.maxUploadRetryTime,B=new NT(U,I,Px(i,n),H);return B.urlParams=O,B.headers=c,B.body=M.uploadData(),B.errorHandler=PT(e),B}class Hx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Nl("cannot .send() more than once");if(ou(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Fx extends Hx{initXhr(){this.xhr_.responseType="text"}}function kT(){return new Fx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DT(this._location.path)}get storage(){return this._service}get parent(){const e=Rx(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ax(e)}}function Gx(i,e,n){i._throwIfRoot("uploadBytes");const s=qx(i.storage,i._location,xT(),new fs(e,!0),n);return i.storage.makeRequestWithTokens(s,kT).then(o=>({metadata:o,ref:i}))}function Qx(i){i._throwIfRoot("getDownloadURL");const e=zx(i.storage,i._location,xT());return i.storage.makeRequestWithTokens(e,kT).then(n=>{if(n===null)throw rx();return n})}function Kx(i,e){const n=Mx(i._location.path,e),s=new Hn(i._location.bucket,n);return new oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(i){return/^[A-Za-z]+:\/\//.test(i)}function $x(i,e){return new oa(i,e)}function UT(i,e){if(i instanceof Dg){const n=i;if(n._bucket==null)throw nx();const s=new oa(n,n._bucket);return e!=null?UT(s,e):s}else return e!==void 0?Kx(i,e):i}function Zx(i,e){if(e&&Yx(e)){if(i instanceof Dg)return $x(i,e);throw Vp("To use ref(service, url), the first argument must be a Storage instance.")}else return UT(i,e)}function qb(i,e){const n=e?.[CT];return n==null?null:Hn.makeFromBucketSpec(n,i)}function Xx(i,e,n,s={}){i.host=`${e}:${n}`;const o=ou(e);o&&(D0(`https://${i.host}/b`),I0("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:x0(u,i.app.options.projectId))}class Dg{constructor(e,n,s,o,u,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=TT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GD,this._maxUploadRetryTime=QD,this._requests=new Set,o!=null?this._bucket=Hn.makeFromBucketSpec(o,this._host):this._bucket=qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(z0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new ox(wT());{const c=yx(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Hb="@firebase/storage",Fb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="storage";function Wx(i,e,n){return i=Ki(i),Gx(i,e,n)}function Jx(i){return i=Ki(i),Qx(i)}function eI(i,e){return i=Ki(i),Zx(i,e)}function tI(i=q0(),e){i=Ki(i);const s=U0(i,zT).getImmediate({identifier:e}),o=M0("storage");return o&&nI(s,...o),s}function nI(i,e,n,s={}){Xx(i,e,n,s)}function iI(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Dg(n,s,o,e,B0)}function rI(){$l(new fo(zT,iI,"PUBLIC").setMultipleInstances(!0)),vs(Hb,Fb,""),vs(Hb,Fb,"esm2020")}rI();const sI={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},BT=j0(sI),jT=TD(BT),aI=tI(BT),oI=[{type:"",icon:""},{type:"",icon:""},{type:"",icon:""},{type:"",icon:""},{type:"",icon:""}];function lI(){const[i,e]=y.useState(null),[n,s]=y.useState([]),[o,u]=y.useState(!1),c=y.useRef(null),p=y.useRef(null),g=m=>{e(_=>_===m?null:m)};return y.useEffect(()=>{(async()=>{if(!i){s([]);return}u(!0);try{const _=hT(jT,"posts"),b=VD(_,PD("tag","==",i),kD("createdAt","desc")),M=(await qD(b)).docs.map(O=>({id:O.id,...O.data()}));s(M)}catch(_){console.error(": ",_),alert("")}finally{u(!1)}})()},[i]),y.useEffect(()=>{const m=_=>{c.current&&!c.current.contains(_.target)&&p.current&&!p.current.contains(_.target)&&e(null)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),le.jsxs("div",{className:"container",children:[le.jsx("div",{className:"top-nav",ref:c,children:oI.map(m=>le.jsxs("button",{className:`circular-btn ${i===m.type?"active":""}`,onClick:()=>g(m.type),children:[le.jsx("div",{className:"btn-icon",children:m.icon}),m.type]},m.type))}),le.jsxs("div",{className:"map-area",children:[le.jsx(FL,{posts:n}),le.jsxs("div",{id:"info-panel",className:`info-panel ${i?"active":""}`,ref:p,children:[i&&le.jsx("h3",{children:i}),o?le.jsx("p",{children:"..."}):n.length>0?le.jsx("ul",{className:"info-list",children:n.map(m=>le.jsxs("li",{className:"info-item",children:[le.jsx("p",{children:m.message}),m.imageUrl&&le.jsx("img",{src:m.imageUrl,alt:""}),m.riskLevel&&le.jsx("span",{className:"risk-level",children:m.riskLevel}),le.jsx("small",{children:new Date(m.createdAt.seconds*1e3).toLocaleString("ja-JP")})]},m.id))}):i&&le.jsx("p",{children:""})]})]})]})}const lp={message:`
`,imageUrl:"https://placehold.co/600x800/EFEFEF/AAAAAA?text=Post+Image",goodCount:15};function uI(){const i=Up(),[e,n]=y.useState(lp.goodCount),s=()=>{n(u=>u+1),console.log("Good+1 ()"),alert("Good")},o=()=>{i(-1)};return le.jsxs("div",{className:"post-detail-container",children:[le.jsxs("div",{className:"post-content",children:[le.jsx("p",{className:"message-text",children:lp.message}),le.jsx("img",{src:lp.imageUrl,alt:""})]}),le.jsxs("div",{className:"button-area",children:[le.jsxs("button",{onClick:s,className:"btn good-btn",children:["Good (",e,")"]}),le.jsx("button",{onClick:o,className:"btn back-btn",children:""})]})]})}const cI={width:"100%",height:"70vh"},hI={lat:35.681236,lng:139.767125};function fI({onClose:i,onSelectLocation:e}){const{isLoaded:n}=m0({id:"google-map-script",googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc"}),[s,o]=y.useState(null),[u,c]=y.useState(null),p=y.useCallback(function(T){o(T)},[]),g=y.useCallback(function(T){o(null)},[]),m=y.useCallback(b=>{const T=b.latLng.lat(),M=b.latLng.lng();c({lat:T,lng:M})},[]),_=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(b=>{const T={lat:b.coords.latitude,lng:b.coords.longitude};c(T),s&&(s.panTo(T),s.setZoom(15))},b=>{console.error("Error getting user location: ",b),alert("")}):alert("")};return le.jsx("div",{className:"map-modal-overlay",children:le.jsxs("div",{className:"map-modal",children:[le.jsx("h3",{children:""}),n?le.jsxs(le.Fragment,{children:[le.jsx("div",{style:{marginBottom:"10px"},children:le.jsx("button",{className:"btn",onClick:_,children:""})}),le.jsx(h0,{mapContainerStyle:cI,center:hI,zoom:13,onClick:m,onLoad:p,onUnmount:g,children:u&&le.jsx(Gp,{position:u})})]}):le.jsx("p",{children:"..."}),le.jsxs("div",{className:"map-modal-buttons",children:[le.jsx("button",{className:"btn cancel-btn",onClick:i,children:""}),le.jsx("button",{className:"btn select-btn",disabled:!u,onClick:()=>{u&&e(u.lat,u.lng)},children:""})]})]})})}function dI(){const[i,e]=y.useState(""),[n,s]=y.useState(""),[o,u]=y.useState(null),[c,p]=y.useState(null),[g,m]=y.useState(!1),[_,b]=y.useState(""),[T,M]=y.useState(!1),[O,U]=y.useState(""),I=Up(),H=j=>{const F=j.target.files[0];F&&(p(F),u(URL.createObjectURL(F)))},B=()=>{u(null),p(null),document.getElementById("imageUpload").value=""},W=j=>{const F=j.target.value;s(F),F!==""&&U("")},G=async j=>{if(j.preventDefault(),!i||!n){alert("");return}if(n===""&&!O){alert("");return}if(_===""){alert("");return}m(!0);try{let F="";if(c){const R=eI(aI,`images/${c.name+Date.now()}`);await Wx(R,c),F=await Jx(R)}const A={message:i,location:_,tag:n,imageUrl:F,createdAt:new Date,...O&&{riskLevel:O}};await HD(hT(jT,"posts"),A),alert(""),I("/map")}catch(F){console.error(": ",F),alert(`
: ${F.message}`)}finally{m(!1)}};return le.jsxs("div",{className:"container",children:[le.jsxs("form",{onSubmit:G,children:[le.jsxs("div",{className:"form-group",children:[le.jsx("label",{htmlFor:"message",children:""}),le.jsxs("div",{className:"message-box-container",children:[le.jsx("textarea",{id:"message",name:"message",placeholder:"...",value:i,onChange:j=>e(j.target.value)}),le.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:H}),le.jsx("label",{htmlFor:"imageUpload",className:"btn image-btn",children:""})]}),o&&le.jsxs("div",{id:"imagePreviewContainer",children:[le.jsx("img",{src:o,alt:"Preview"}),le.jsx("button",{type:"button",onClick:B,className:"btn clear-btn",children:""})]})]}),le.jsxs("div",{className:"form-group",children:[le.jsx("label",{children:""}),le.jsx("button",{type:"button",className:"btn map-btn",onClick:()=>M(!0),children:""}),le.jsx("input",{type:"text",id:"location",name:"location",readOnly:!0,value:_})]}),le.jsxs("div",{className:"form-group",children:[le.jsx("label",{htmlFor:"tag",children:""}),le.jsxs("select",{id:"tag",name:"tag",value:n,onChange:W,children:[le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""})]})]}),n===""&&le.jsxs("div",{className:"form-group",children:[le.jsx("label",{htmlFor:"riskLevel",children:""}),le.jsxs("select",{id:"riskLevel",name:"riskLevel",value:O,onChange:j=>U(j.target.value),children:[le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""}),le.jsx("option",{value:"",children:""})]})]}),le.jsx("div",{className:"form-group",children:le.jsx("button",{type:"submit",className:"btn submit-btn",disabled:g,children:g?"...":""})})]}),T&&le.jsx(fI,{onClose:()=>M(!1),onSelectLocation:(j,F)=>{b(`: ${j.toFixed(5)}, : ${F.toFixed(5)}`),M(!1)}})]})}function pI(){return le.jsxs("div",{children:[le.jsxs("nav",{style:{padding:"10px",backgroundColor:"#eee",marginBottom:"20px"},children:[le.jsx("strong",{children:":"}),le.jsx(Ul,{to:"/post",style:{marginLeft:"15px"},children:""}),le.jsx(Ul,{to:"/post/1",style:{marginLeft:"15px"},children:""}),le.jsx(Ul,{to:"/map",style:{marginLeft:"15px"},children:""})]}),le.jsxs(vw,{children:[le.jsx(Qc,{path:"/post",element:le.jsx(dI,{})}),le.jsx(Qc,{path:"/post/1",element:le.jsx(uI,{})}),le.jsx(Qc,{path:"/map",element:le.jsx(lI,{})})]})]})}const gI=LC.createRoot(document.getElementById("root"));gI.render(le.jsx(Qb.StrictMode,{children:le.jsx(Bw,{children:le.jsx(pI,{})})}));
