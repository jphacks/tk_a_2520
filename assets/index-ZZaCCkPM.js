(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function lT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var td={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function uT(){if(Xv)return ll;Xv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return ll.Fragment=e,ll.jsx=i,ll.jsxs=i,ll}var $v;function cT(){return $v||($v=1,td.exports=uT()),td.exports}var qe=cT(),nd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function hT(){if(Jv)return Ie;Jv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,U={};function Y(V,Z,ie){this.props=V,this.context=Z,this.refs=U,this.updater=ie||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=Y.prototype;function oe(V,Z,ie){this.props=V,this.context=Z,this.refs=U,this.updater=ie||x}var ee=oe.prototype=new J;ee.constructor=oe,j(ee,Y.prototype),ee.isPureReactComponent=!0;var Q=Array.isArray;function $(){}var L={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function C(V,Z,ie){var ce=ie.ref;return{$$typeof:s,type:V,key:Z,ref:ce!==void 0?ce:null,props:ie}}function D(V,Z){return C(V.type,Z,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Z[ie]})}var R=/\/+/g;function ge(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function _e(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then($,$):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,Z,ie,ce,F){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case s:case e:be=!0;break;case b:return be=V._init,q(be(V._payload),Z,ie,ce,F)}}if(be)return F=F(V),be=ce===""?"."+ge(V,0):ce,Q(F)?(ie="",be!=null&&(ie=be.replace(R,"$&/")+"/"),q(F,Z,ie,"",function(Ce){return Ce})):F!=null&&(O(F)&&(F=D(F,ie+(F.key==null||V&&V.key===F.key?"":(""+F.key).replace(R,"$&/")+"/")+be)),Z.push(F)),1;be=0;var Se=ce===""?".":ce+":";if(Q(V))for(var Oe=0;Oe<V.length;Oe++)ce=V[Oe],pe=Se+ge(ce,Oe),be+=q(ce,Z,ie,pe,F);else if(Oe=I(V),typeof Oe=="function")for(V=Oe.call(V),Oe=0;!(ce=V.next()).done;)ce=ce.value,pe=Se+ge(ce,Oe++),be+=q(ce,Z,ie,pe,F);else if(pe==="object"){if(typeof V.then=="function")return q(_e(V),Z,ie,ce,F);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return be}function le(V,Z,ie){if(V==null)return V;var ce=[],F=0;return q(V,ce,"","",function(pe){return Z.call(ie,pe,F++)}),ce}function he(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ve={map:le,forEach:function(V,Z,ie){le(V,function(){Z.apply(this,arguments)},ie)},count:function(V){var Z=0;return le(V,function(){Z++}),Z},toArray:function(V){return le(V,function(Z){return Z})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=S,Ie.Children=ve,Ie.Component=Y,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=oe,Ie.StrictMode=r,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return L.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,Z,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=j({},V.props),F=V.key;if(Z!=null)for(pe in Z.key!==void 0&&(F=""+Z.key),Z)!M.call(Z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Z.ref===void 0||(ce[pe]=Z[pe]);var pe=arguments.length-2;if(pe===1)ce.children=ie;else if(1<pe){for(var be=Array(pe),Se=0;Se<pe;Se++)be[Se]=arguments[Se+2];ce.children=be}return C(V.type,F,ce)},Ie.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,Z,ie){var ce,F={},pe=null;if(Z!=null)for(ce in Z.key!==void 0&&(pe=""+Z.key),Z)M.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(F[ce]=Z[ce]);var be=arguments.length-2;if(be===1)F.children=ie;else if(1<be){for(var Se=Array(be),Oe=0;Oe<be;Oe++)Se[Oe]=arguments[Oe+2];F.children=Se}if(V&&V.defaultProps)for(ce in be=V.defaultProps,be)F[ce]===void 0&&(F[ce]=be[ce]);return C(V,pe,F)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:g,render:V}},Ie.isValidElement=O,Ie.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:he}},Ie.memo=function(V,Z){return{$$typeof:v,type:V,compare:Z===void 0?null:Z}},Ie.startTransition=function(V){var Z=L.T,ie={};L.T=ie;try{var ce=V(),F=L.S;F!==null&&F(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then($,ye)}catch(pe){ye(pe)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),L.T=Z}},Ie.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ie.use=function(V){return L.H.use(V)},Ie.useActionState=function(V,Z,ie){return L.H.useActionState(V,Z,ie)},Ie.useCallback=function(V,Z){return L.H.useCallback(V,Z)},Ie.useContext=function(V){return L.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,Z){return L.H.useDeferredValue(V,Z)},Ie.useEffect=function(V,Z){return L.H.useEffect(V,Z)},Ie.useEffectEvent=function(V){return L.H.useEffectEvent(V)},Ie.useId=function(){return L.H.useId()},Ie.useImperativeHandle=function(V,Z,ie){return L.H.useImperativeHandle(V,Z,ie)},Ie.useInsertionEffect=function(V,Z){return L.H.useInsertionEffect(V,Z)},Ie.useLayoutEffect=function(V,Z){return L.H.useLayoutEffect(V,Z)},Ie.useMemo=function(V,Z){return L.H.useMemo(V,Z)},Ie.useOptimistic=function(V,Z){return L.H.useOptimistic(V,Z)},Ie.useReducer=function(V,Z,ie){return L.H.useReducer(V,Z,ie)},Ie.useRef=function(V){return L.H.useRef(V)},Ie.useState=function(V){return L.H.useState(V)},Ie.useSyncExternalStore=function(V,Z,ie){return L.H.useSyncExternalStore(V,Z,ie)},Ie.useTransition=function(){return L.H.useTransition()},Ie.version="19.2.0",Ie}var Wv;function Qd(){return Wv||(Wv=1,nd.exports=hT()),nd.exports}var E=Qd();const fT=lT(E);var id={exports:{}},ul={},sd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function dT(){return ey||(ey=1,(function(s){function e(q,le){var he=q.length;q.push(le);e:for(;0<he;){var ye=he-1>>>1,ve=q[ye];if(0<l(ve,le))q[ye]=le,q[he]=ve,he=ye;else break e}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var le=q[0],he=q.pop();if(he!==le){q[0]=he;e:for(var ye=0,ve=q.length,V=ve>>>1;ye<V;){var Z=2*(ye+1)-1,ie=q[Z],ce=Z+1,F=q[ce];if(0>l(ie,he))ce<ve&&0>l(F,ie)?(q[ye]=F,q[ce]=he,ye=ce):(q[ye]=ie,q[Z]=he,ye=Z);else if(ce<ve&&0>l(F,he))q[ye]=F,q[ce]=he,ye=ce;else break e}}return le}function l(q,le){var he=q.sortIndex-le.sortIndex;return he!==0?he:q.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],v=[],b=1,S=null,w=3,I=!1,x=!1,j=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ee(q){for(var le=i(v);le!==null;){if(le.callback===null)r(v);else if(le.startTime<=q)r(v),le.sortIndex=le.expirationTime,e(p,le);else break;le=i(v)}}function Q(q){if(j=!1,ee(q),!x)if(i(p)!==null)x=!0,$||($=!0,P());else{var le=i(v);le!==null&&_e(Q,le.startTime-q)}}var $=!1,L=-1,M=5,C=-1;function D(){return U?!0:!(s.unstable_now()-C<M)}function O(){if(U=!1,$){var q=s.unstable_now();C=q;var le=!0;try{e:{x=!1,j&&(j=!1,J(L),L=-1),I=!0;var he=w;try{t:{for(ee(q),S=i(p);S!==null&&!(S.expirationTime>q&&D());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,w=S.priorityLevel;var ve=ye(S.expirationTime<=q);if(q=s.unstable_now(),typeof ve=="function"){S.callback=ve,ee(q),le=!0;break t}S===i(p)&&r(p),ee(q)}else r(p);S=i(p)}if(S!==null)le=!0;else{var V=i(v);V!==null&&_e(Q,V.startTime-q),le=!1}}break e}finally{S=null,w=he,I=!1}le=void 0}}finally{le?P():$=!1}}}var P;if(typeof oe=="function")P=function(){oe(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ge=R.port2;R.port1.onmessage=O,P=function(){ge.postMessage(null)}}else P=function(){Y(O,0)};function _e(q,le){L=Y(function(){q(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var he=w;w=le;try{return q()}finally{w=he}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(q,le){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=w;w=q;try{return le()}finally{w=he}},s.unstable_scheduleCallback=function(q,le,he){var ye=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ye+he:ye):he=ye,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,q={id:b++,callback:le,priorityLevel:q,startTime:he,expirationTime:ve,sortIndex:-1},he>ye?(q.sortIndex=he,e(v,q),i(p)===null&&q===i(v)&&(j?(J(L),L=-1):j=!0,_e(Q,he-ye))):(q.sortIndex=ve,e(p,q),x||I||(x=!0,$||($=!0,P()))),q},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(q){var le=w;return function(){var he=w;w=le;try{return q.apply(this,arguments)}finally{w=he}}}})(rd)),rd}var ty;function gT(){return ty||(ty=1,sd.exports=dT()),sd.exports}var ad={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function pT(){if(ny)return cn;ny=1;var s=Qd();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,v,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(p,v,null,b)},cn.flushSync=function(p){var v=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=v,r.p=b,r.d.f()}},cn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},cn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},cn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,I=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:I}):b==="script"&&r.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:I,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},cn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},cn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin);r.d.L(p,b,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},cn.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},cn.requestFormReset=function(p){r.d.r(p)},cn.unstable_batchedUpdates=function(p,v){return p(v)},cn.useFormState=function(p,v,b){return f.H.useFormState(p,v,b)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var iy;function xE(){if(iy)return ad.exports;iy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ad.exports=pT(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function mT(){if(sy)return ul;sy=1;var s=gT(),e=Qd(),i=xE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,o=d;break}if(T===o){y=!0,o=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,o=h;break}if(T===o){y=!0,o=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case Q:return"Suspense";case $:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case oe:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:ge(t.type)||"Memo";case M:n=t._payload,t=t._init;try{return ge(t(n))}catch{}}return null}var _e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ye=[],ve=-1;function V(t){return{current:t}}function Z(t){0>ve||(t.current=ye[ve],ye[ve]=null,ve--)}function ie(t,n){ve++,ye[ve]=t.current,t.current=n}var ce=V(null),F=V(null),pe=V(null),be=V(null);function Se(t,n){switch(ie(pe,n),ie(F,t),ie(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_v(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_v(n),t=Ev(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),ie(ce,t)}function Oe(){Z(ce),Z(F),Z(pe)}function Ce(t){t.memoizedState!==null&&ie(be,t);var n=ce.current,a=Ev(n,t.type);n!==a&&(ie(F,t),ie(ce,a))}function Ue(t){F.current===t&&(Z(ce),Z(F)),be.current===t&&(Z(be),sl._currentValue=he)}var Ht,an;function on(t){if(Ht===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ht=n&&n[1]||"",an=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ht+t+an}var Ze=!1;function fi(t,n){if(!t||Ze)return"";Ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var K=W}Reflect.construct(t,[],re)}else{try{re.call()}catch(W){K=W}t.call(re.prototype)}}else{try{throw Error()}catch(W){K=W}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var N=y.split(`
`),G=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===G.length)for(o=N.length-1,h=G.length-1;1<=o&&0<=h&&N[o]!==G[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==G[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==G[h]){var ne=`
`+N[o].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=o&&0<=h);break}}}finally{Ze=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?on(a):""}function di(t,n){switch(t.tag){case 26:case 27:case 5:return on(t.type);case 16:return on("Lazy");case 13:return t.child!==n&&n!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return fi(t.type,!1);case 11:return fi(t.type.render,!1);case 1:return fi(t.type,!0);case 31:return on("Activity");default:return""}}function ys(t){try{var n="",a=null;do n+=di(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ft=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,An=s.unstable_cancelCallback,$r=s.unstable_shouldYield,ji=s.unstable_requestPaint,Gt=s.unstable_now,gi=s.unstable_getCurrentPriorityLevel,_s=s.unstable_ImmediatePriority,pi=s.unstable_UserBlockingPriority,ei=s.unstable_NormalPriority,Es=s.unstable_LowPriority,fr=s.unstable_IdlePriority,qi=s.log,dr=s.unstable_setDisableYieldValue,ln=null,Rt=null;function Xt(t){if(typeof qi=="function"&&dr(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ln,t)}catch{}}var vt=Math.clz32?Math.clz32:Fi,Hi=Math.log,Gi=Math.LN2;function Fi(t){return t>>>=0,t===0?32:31-(Hi(t)/Gi|0)|0}var wn=256,mi=262144,Et=4194304;function gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ln(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=gn(o):(y&=T,y!==0?h=gn(y):a||(a=T&~t,a!==0&&(h=gn(a))))):(T=o&~d,T!==0?h=gn(T):y!==0?h=gn(y):a||(a=o&~t,a!==0&&(h=gn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function Mn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ki(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,n,a,o,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(a=y&~a;0<a;){var ne=31-vt(a),re=1<<ne;T[ne]=0,N[ne]=-1;var K=G[ne];if(K!==null)for(G[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}a&=~re}o!==0&&Me(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function Me(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function lo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-vt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function uo(t,n){var a=n&-n;return a=(a&42)!==0?1:gr(a),(a&(t.suspendedLanes|n))!==0?0:a}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bl(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Hv(t.type))}function ti(t,n){var a=le.p;try{return le.p=t,n()}finally{le.p=a}}var ni=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ni,Ft="__reactProps$"+ni,vi="__reactContainer$"+ni,Wr="__reactEvents$"+ni,ah="__reactListeners$"+ni,jl="__reactHandles$"+ni,ql="__reactResources$"+ni,yi="__reactMarker$"+ni;function ea(t){delete t[Ot],delete t[Ft],delete t[Wr],delete t[ah],delete t[jl]}function _i(t){var n=t[Ot];if(n)return n;for(var a=t.parentNode;a;){if(n=a[vi]||a[Ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Lv(t);t!==null;){if(a=t[Ot])return a;t=Lv(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Ot]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ei(t){var n=t[ql];return n||(n=t[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[yi]=!0}var co=new Set,ho={};function bi(t,n){Si(t,n),Si(t+"Capture",n)}function Si(t,n){for(ho[t]=n,t=0;t<n.length;t++)co.add(n[t])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},po={};function Hl(t){return ft.call(po,t)?!0:ft.call(go,t)?!1:fo.test(t)?po[t]=!0:(go[t]=!0,!1)}function ta(t,n,a){if(Hl(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function On(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function It(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=bs(t)?"checked":"value";t._valueTracker=mo(t,n,""+t[n])}}function pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=bs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mr=/[\n"\\]/g;function vn(t){return t.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(t,n,a,o,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?vo(t,y,Qt(n)):a!=null?vo(t,y,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function Gl(t,n,a,o,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){st(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),st(t)}function vo(t,n,a){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Fl(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function Ts(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(_e(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),st(t)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ql=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Ql.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function _o(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&yo(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&yo(t,d,n[d])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Eo=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,Ci=null;function vr(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[Ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ft]||null;if(!h)throw Error(r(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&pr(o)}break e;case"textarea":Fl(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var ra=!1;function ws(t,n,a){if(ra)return t(n,a);ra=!0;try{var o=t(n);return o}finally{if(ra=!1,(As!==null||Ci!==null)&&(Bu(),As&&(n=As,t=Ci,Ci=As=null,vr(n),t)))for(n=0;n<t.length;n++)vr(t[n])}}function si(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ft]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(jn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){yr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{yr=!1}var Ai=null,bo=null,_r=null;function So(){if(_r)return _r;var t,n=bo,a=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[d-o];o++);return _r=h.slice(t,1<o?1-o:void 0)}function Er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ri(){return!1}function $t(t){function n(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ri,this.isPropagationStopped=ri,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=$t($i),Ls=S({},$i,{view:0,detail:0}),To=$t(Ls),Ms,aa,Li,oa=S({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Ms=t.screenX-Li.screenX,aa=t.screenY-Li.screenY):aa=Ms=0,Li=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Co=$t(oa),br=S({},oa,{dataTransfer:0}),Yl=$t(br),Zl=S({},Ls,{relatedTarget:0}),Sr=$t(Zl),Ao=S({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=$t(Ao),la=S({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$l=$t(la),Jl=S({},$i,{data:0}),Mi=$t(Jl),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=tu[t])?!!n[t]:!1}function Rs(){return nu}var pn=S({},Ls,{key:function(t){if(t.key){var n=Wl[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iu=$t(pn),su=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=$t(su),c=S({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=$t(c),_=S({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$t(_),B=S({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=$t(B),fe=S({},$i,{newState:0,oldState:0}),Ve=$t(fe),At=[9,13,27,32],tt=jn&&"CompositionEvent"in window,yt=null;jn&&"documentMode"in document&&(yt=document.documentMode);var qn=jn&&"TextEvent"in window&&!yt,Ri=jn&&(!tt||yt&&8<yt&&11>=yt),ai=" ",oi=!1;function Tr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function Ib(t,n){switch(t){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return t=n.data,t===ai&&oi?null:t;default:return null}}function xb(t,n){if(ca)return t==="compositionend"||!tt&&Tr(t,n)?(t=So(),_r=bo=Ai=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Vb[t.type]:n==="textarea"}function Dg(t,n,a,o){As?Ci?Ci.push(o):Ci=[o]:As=o,n=Ku(n,"onChange"),0<n.length&&(a=new wi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var wo=null,Lo=null;function Nb(t){dv(t,0)}function ru(t){var n=Rn(t);if(pr(n))return t}function Ig(t,n){if(t==="change")return n}var xg=!1;if(jn){var oh;if(jn){var lh="oninput"in document;if(!lh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),lh=typeof Vg.oninput=="function"}oh=lh}else oh=!1;xg=oh&&(!document.documentMode||9<document.documentMode)}function Ng(){wo&&(wo.detachEvent("onpropertychange",Pg),Lo=wo=null)}function Pg(t){if(t.propertyName==="value"&&ru(Lo)){var n=[];Dg(n,Lo,t,Bn(t)),ws(Nb,n)}}function Pb(t,n,a){t==="focusin"?(Ng(),wo=n,Lo=a,wo.attachEvent("onpropertychange",Pg)):t==="focusout"&&Ng()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(Lo)}function Ub(t,n){if(t==="click")return ru(n)}function zb(t,n){if(t==="input"||t==="change")return ru(n)}function Bb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:Bb;function Mo(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ft.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,n){var a=kg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function zg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ti(t.document)}return n}function uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jb=jn&&"documentMode"in document&&11>=document.documentMode,ha=null,ch=null,Ro=null,hh=!1;function jg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hh||ha==null||ha!==Ti(o)||(o=ha,"selectionStart"in o&&uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&Mo(Ro,o)||(Ro=o,o=Ku(ch,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ha)))}function Cr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var fa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},fh={},qg={};jn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Ar(t){if(fh[t])return fh[t];if(!fa[t])return t;var n=fa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return fh[t]=n[a];return t}var Hg=Ar("animationend"),Gg=Ar("animationiteration"),Fg=Ar("animationstart"),qb=Ar("transitionrun"),Hb=Ar("transitionstart"),Gb=Ar("transitioncancel"),Qg=Ar("transitionend"),Kg=new Map,dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dh.push("scrollEnd");function li(t,n){Kg.set(t,n),bi(n,[t])}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],da=0,gh=0;function ou(){for(var t=da,n=gh=da=0;n<t;){var a=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var d=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&Yg(a,h,d)}}function lu(t,n,a,o){Hn[da++]=t,Hn[da++]=n,Hn[da++]=a,Hn[da++]=o,gh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ph(t,n,a,o){return lu(t,n,a,o),uu(t)}function wr(t,n){return lu(t,null,null,n),uu(t)}function Yg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-vt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function uu(t){if(50<$o)throw $o=0,Af=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function Fb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,a,o){return new Fb(t,n,a,o)}function mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=In(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function cu(t,n,a,o,h,d){var y=0;if(o=t,typeof t=="function")mh(t)&&(y=1);else if(typeof t=="string")y=XS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=In(31,a,n,h),t.elementType=C,t.lanes=d,t;case j:return Lr(a.children,h,d,n);case U:y=8,h|=24;break;case Y:return t=In(12,a,n,h|2),t.elementType=Y,t.lanes=d,t;case Q:return t=In(13,a,n,h),t.elementType=Q,t.lanes=d,t;case $:return t=In(19,a,n,h),t.elementType=$,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:y=10;break e;case J:y=9;break e;case ee:y=11;break e;case L:y=14;break e;case M:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=In(y,a,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function Lr(t,n,a,o){return t=In(7,t,o,n),t.lanes=a,t}function vh(t,n,a){return t=In(6,t,null,n),t.lanes=a,t}function Xg(t){var n=In(18,null,null,0);return n.stateNode=t,n}function yh(t,n,a){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $g=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ys(n)},$g.set(t,n),n)}return{value:t,source:n,stack:ys(n)}}var pa=[],ma=0,hu=null,Oo=0,Fn=[],Qn=0,Os=null,Oi=1,Di="";function es(t,n){pa[ma++]=Oo,pa[ma++]=hu,hu=t,Oo=n}function Jg(t,n,a){Fn[Qn++]=Oi,Fn[Qn++]=Di,Fn[Qn++]=Os,Os=t;var o=Oi;t=Di;var h=32-vt(o)-1;o&=~(1<<h),a+=1;var d=32-vt(n)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Oi=1<<32-vt(n)+h|a<<h|o,Di=d+t}else Oi=1<<d|a<<h|o,Di=t}function _h(t){t.return!==null&&(es(t,1),Jg(t,1,0))}function Eh(t){for(;t===hu;)hu=pa[--ma],pa[ma]=null,Oo=pa[--ma],pa[ma]=null;for(;t===Os;)Os=Fn[--Qn],Fn[Qn]=null,Di=Fn[--Qn],Fn[Qn]=null,Oi=Fn[--Qn],Fn[Qn]=null}function Wg(t,n){Fn[Qn++]=Oi,Fn[Qn++]=Di,Fn[Qn++]=Os,Oi=n.id,Di=n.overflow,Os=t}var Jt=null,dt=null,Ye=!1,Ds=null,Kn=!1,bh=Error(r(519));function Is(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Do(Gn(n,t)),bh}function ep(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Ot]=t,n[Ft]=o,a){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<Wo.length;a++)je(Wo[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),Gl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||vv(n.textContent,a)?(o.popover!=null&&(je("beforetoggle",n),je("toggle",n)),o.onScroll!=null&&je("scroll",n),o.onScrollEnd!=null&&je("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Is(t,!0)}function tp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function va(t){if(t!==Jt)return!1;if(!Ye)return tp(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&dt&&Is(t),tp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=wv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=wv(t)}else n===27?(n=dt,Qs(t.type)?(t=Ff,Ff=null,dt=t):dt=n):dt=Jt?Zn(t.stateNode.nextSibling):null;return!0}function Mr(){dt=Jt=null,Ye=!1}function Sh(){var t=Ds;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ds=null),t}function Do(t){Ds===null?Ds=[t]:Ds.push(t)}var Th=V(null),Rr=null,ts=null;function xs(t,n,a){ie(Th,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=Th.current,Z(Th)}function Ch(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Ah(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ch(d.return,a,t),o||(y=null);break e}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Ch(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ya(t,n,a,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Dn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===be.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}h=h.return}t!==null&&Ah(n,t,a,o),n.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Rr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return np(Rr,t)}function du(t,n){return Rr===null&&Or(t),np(t,n)}function np(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var Qb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Kb=s.unstable_scheduleCallback,Yb=s.unstable_NormalPriority,xt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new Qb,data:new Map,refCount:0}}function Io(t){t.refCount--,t.refCount===0&&Kb(Yb,function(){t.controller.abort()})}var xo=null,Lh=0,_a=0,Ea=null;function Zb(t,n){if(xo===null){var a=xo=[];Lh=0,_a=Df(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lh++,n.then(ip,ip),n}function ip(){if(--Lh===0&&xo!==null){Ea!==null&&(Ea.status="fulfilled");var t=xo;xo=null,_a=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Xb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=q.S;q.S=function(t,n){jm=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zb(t,n),sp!==null&&sp(t,n)};var Dr=V(null);function Mh(){var t=Dr.current;return t!==null?t:ht.pooledCache}function gu(t,n){n===null?ie(Dr,Dr.current):ie(Dr,n.pool)}function rp(){var t=Mh();return t===null?null:{parent:xt._currentValue,pool:t}}var ba=Error(r(460)),Rh=Error(r(474)),pu=Error(r(542)),mu={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ii,ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,up(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,up(t),t}throw xr=n,ba}}function Ir(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xr=a,ba):a}}var xr=null;function lp(){if(xr===null)throw Error(r(459));var t=xr;return xr=null,t}function up(t){if(t===ba||t===pu)throw Error(r(483))}var Sa=null,Vo=0;function vu(t){var n=Vo;return Vo+=1,Sa===null&&(Sa=[]),op(Sa,t,n)}function No(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cp(t){function n(z,k){if(t){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!t)return null;for(;k!==null;)n(z,k),k=k.sibling;return null}function o(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=Wi(z,k),z.index=0,z.sibling=null,z}function d(z,k,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,k,H,se){return k===null||k.tag!==6?(k=vh(H,z.mode,se),k.return=z,k):(k=h(k,H),k.return=z,k)}function N(z,k,H,se){var Ae=H.type;return Ae===j?ne(z,k,H.props.children,se,H.key):k!==null&&(k.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===M&&Ir(Ae)===k.type)?(k=h(k,H.props),No(k,H),k.return=z,k):(k=cu(H.type,H.key,H.props,null,z.mode,se),No(k,H),k.return=z,k)}function G(z,k,H,se){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=yh(H,z.mode,se),k.return=z,k):(k=h(k,H.children||[]),k.return=z,k)}function ne(z,k,H,se,Ae){return k===null||k.tag!==7?(k=Lr(H,z.mode,se,Ae),k.return=z,k):(k=h(k,H),k.return=z,k)}function re(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=vh(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return H=cu(k.type,k.key,k.props,null,z.mode,H),No(H,k),H.return=z,H;case x:return k=yh(k,z.mode,H),k.return=z,k;case M:return k=Ir(k),re(z,k,H)}if(_e(k)||P(k))return k=Lr(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return re(z,vu(k),H);if(k.$$typeof===oe)return re(z,du(z,k),H);yu(z,k)}return null}function K(z,k,H,se){var Ae=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ae!==null?null:T(z,k,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===Ae?N(z,k,H,se):null;case x:return H.key===Ae?G(z,k,H,se):null;case M:return H=Ir(H),K(z,k,H,se)}if(_e(H)||P(H))return Ae!==null?null:ne(z,k,H,se,null);if(typeof H.then=="function")return K(z,k,vu(H),se);if(H.$$typeof===oe)return K(z,k,du(z,H),se);yu(z,H)}return null}function W(z,k,H,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get(H)||null,T(k,z,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return z=z.get(se.key===null?H:se.key)||null,N(k,z,se,Ae);case x:return z=z.get(se.key===null?H:se.key)||null,G(k,z,se,Ae);case M:return se=Ir(se),W(z,k,H,se,Ae)}if(_e(se)||P(se))return z=z.get(H)||null,ne(k,z,se,Ae,null);if(typeof se.then=="function")return W(z,k,H,vu(se),Ae);if(se.$$typeof===oe)return W(z,k,H,du(k,se),Ae);yu(k,se)}return null}function me(z,k,H,se){for(var Ae=null,Je=null,Ee=k,Pe=k=0,Fe=null;Ee!==null&&Pe<H.length;Pe++){Ee.index>Pe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var We=K(z,Ee,H[Pe],se);if(We===null){Ee===null&&(Ee=Fe);break}t&&Ee&&We.alternate===null&&n(z,Ee),k=d(We,k,Pe),Je===null?Ae=We:Je.sibling=We,Je=We,Ee=Fe}if(Pe===H.length)return a(z,Ee),Ye&&es(z,Pe),Ae;if(Ee===null){for(;Pe<H.length;Pe++)Ee=re(z,H[Pe],se),Ee!==null&&(k=d(Ee,k,Pe),Je===null?Ae=Ee:Je.sibling=Ee,Je=Ee);return Ye&&es(z,Pe),Ae}for(Ee=o(Ee);Pe<H.length;Pe++)Fe=W(Ee,z,Pe,H[Pe],se),Fe!==null&&(t&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Pe:Fe.key),k=d(Fe,k,Pe),Je===null?Ae=Fe:Je.sibling=Fe,Je=Fe);return t&&Ee.forEach(function($s){return n(z,$s)}),Ye&&es(z,Pe),Ae}function Le(z,k,H,se){if(H==null)throw Error(r(151));for(var Ae=null,Je=null,Ee=k,Pe=k=0,Fe=null,We=H.next();Ee!==null&&!We.done;Pe++,We=H.next()){Ee.index>Pe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var $s=K(z,Ee,We.value,se);if($s===null){Ee===null&&(Ee=Fe);break}t&&Ee&&$s.alternate===null&&n(z,Ee),k=d($s,k,Pe),Je===null?Ae=$s:Je.sibling=$s,Je=$s,Ee=Fe}if(We.done)return a(z,Ee),Ye&&es(z,Pe),Ae;if(Ee===null){for(;!We.done;Pe++,We=H.next())We=re(z,We.value,se),We!==null&&(k=d(We,k,Pe),Je===null?Ae=We:Je.sibling=We,Je=We);return Ye&&es(z,Pe),Ae}for(Ee=o(Ee);!We.done;Pe++,We=H.next())We=W(Ee,z,Pe,We.value,se),We!==null&&(t&&We.alternate!==null&&Ee.delete(We.key===null?Pe:We.key),k=d(We,k,Pe),Je===null?Ae=We:Je.sibling=We,Je=We);return t&&Ee.forEach(function(oT){return n(z,oT)}),Ye&&es(z,Pe),Ae}function ct(z,k,H,se){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:e:{for(var Ae=H.key;k!==null;){if(k.key===Ae){if(Ae=H.type,Ae===j){if(k.tag===7){a(z,k.sibling),se=h(k,H.props.children),se.return=z,z=se;break e}}else if(k.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===M&&Ir(Ae)===k.type){a(z,k.sibling),se=h(k,H.props),No(se,H),se.return=z,z=se;break e}a(z,k);break}else n(z,k);k=k.sibling}H.type===j?(se=Lr(H.props.children,z.mode,se,H.key),se.return=z,z=se):(se=cu(H.type,H.key,H.props,null,z.mode,se),No(se,H),se.return=z,z=se)}return y(z);case x:e:{for(Ae=H.key;k!==null;){if(k.key===Ae)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),se=h(k,H.children||[]),se.return=z,z=se;break e}else{a(z,k);break}else n(z,k);k=k.sibling}se=yh(H,z.mode,se),se.return=z,z=se}return y(z);case M:return H=Ir(H),ct(z,k,H,se)}if(_e(H))return me(z,k,H,se);if(P(H)){if(Ae=P(H),typeof Ae!="function")throw Error(r(150));return H=Ae.call(H),Le(z,k,H,se)}if(typeof H.then=="function")return ct(z,k,vu(H),se);if(H.$$typeof===oe)return ct(z,k,du(z,H),se);yu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),se=h(k,H),se.return=z,z=se):(a(z,k),se=vh(H,z.mode,se),se.return=z,z=se),y(z)):a(z,k)}return function(z,k,H,se){try{Vo=0;var Ae=ct(z,k,H,se);return Sa=null,Ae}catch(Ee){if(Ee===ba||Ee===pu)throw Ee;var Je=In(29,Ee,null,z.mode);return Je.lanes=se,Je.return=z,Je}finally{}}}var Vr=cp(!0),hp=cp(!1),Vs=!1;function Oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=uu(t),Yg(t,null,a),n}return lu(t,o,n,a),uu(t)}function Po(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,lo(t,a)}}function Ih(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var xh=!1;function ko(){if(xh){var t=Ea;if(t!==null)throw t}}function Uo(t,n,a,o){xh=!1;var h=t.updateQueue;Vs=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,G=N.next;N.next=null,y===null?d=G:y.next=G,y=N;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==y&&(T===null?ne.firstBaseUpdate=G:T.next=G,ne.lastBaseUpdate=N))}if(d!==null){var re=h.baseState;y=0,ne=G=N=null,T=d;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(Ge&K)===K:(o&K)===K){K!==0&&K===_a&&(xh=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Le=T;K=n;var ct=a;switch(Le.tag){case 1:if(me=Le.payload,typeof me=="function"){re=me.call(ct,re,K);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Le.payload,K=typeof me=="function"?me.call(ct,re,K):me,K==null)break e;re=S({},re,K);break e;case 2:Vs=!0}}K=T.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(G=ne=W,N=re):ne=ne.next=W,y|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(N=re),h.baseState=N,h.firstBaseUpdate=G,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),js|=y,t.lanes=y,t.memoizedState=re}}function fp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fp(a[t],n)}var Ta=V(null),_u=V(0);function gp(t,n){t=hs,ie(_u,t),ie(Ta,n),hs=t|n.baseLanes}function Vh(){ie(_u,hs),ie(Ta,Ta.current)}function Nh(){hs=_u.current,Z(Ta),Z(_u)}var xn=V(null),Yn=null;function ks(t){var n=t.alternate;ie(wt,wt.current&1),ie(xn,t),Yn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Yn=t)}function Ph(t){ie(wt,wt.current),ie(xn,t),Yn===null&&(Yn=t)}function pp(t){t.tag===22?(ie(wt,wt.current),ie(xn,t),Yn===null&&(Yn=t)):Us()}function Us(){ie(wt,wt.current),ie(xn,xn.current)}function Vn(t){Z(xn),Yn===t&&(Yn=null),Z(wt)}var wt=V(0);function Eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hf(a)||Gf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ne=null,lt=null,Vt=null,bu=!1,Ca=!1,Nr=!1,Su=0,zo=0,Aa=null,$b=0;function Tt(){throw Error(r(321))}function kh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dn(t[a],n[a]))return!1;return!0}function Uh(t,n,a,o,h,d){return is=d,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Jp:Wh,Nr=!1,d=a(o,h),Nr=!1,Ca&&(d=vp(n,a,o,h)),mp(t),d}function mp(t){q.H=qo;var n=lt!==null&&lt.next!==null;if(is=0,Vt=lt=Ne=null,bu=!1,zo=0,Aa=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&fu(t)&&(Nt=!0))}function vp(t,n,a,o){Ne=t;var h=0;do{if(Ca&&(Aa=null),zo=0,Ca=!1,25<=h)throw Error(r(301));if(h+=1,Vt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Wp,d=n(a,o)}while(Ca);return d}function Jb(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Bo(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function zh(){var t=Su!==0;return Su=0,t}function Bh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function jh(t){if(bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}bu=!1}is=0,Vt=lt=Ne=null,Ca=!1,zo=Su=0,Aa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Lt(){if(lt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=Vt===null?Ne.memoizedState:Vt.next;if(n!==null)Vt=n,lt=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(t){var n=zo;return zo+=1,Aa===null&&(Aa=[]),t=op(Aa,t,n),n=Ne,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Jp:Wh),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===oe)return Wt(t)}throw Error(r(438,String(t)))}function qh(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Tu(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=D;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Au(t){var n=Lt();return Hh(n,lt,t)}function Hh(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=y=null,N=null,G=n,ne=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ge&re)===re:(is&re)===re){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===_a&&(ne=!0);else if((is&K)===K){G=G.next,K===_a&&(ne=!0);continue}else re={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=re,y=d):N=N.next=re,Ne.lanes|=K,js|=K;re=G.action,Nr&&a(d,re),d=G.hasEagerState?G.eagerState:a(d,re)}else K={lane:re,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=K,y=d):N=N.next=K,Ne.lanes|=re,js|=re;G=G.next}while(G!==null&&G!==n);if(N===null?y=d:N.next=T,!Dn(d,t.memoizedState)&&(Nt=!0,ne&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Gh(t){var n=Lt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);Dn(d,n.memoizedState)||(Nt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function yp(t,n,a){var o=Ne,h=Lt(),d=Ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Dn((lt||h).memoizedState,a);if(y&&(h.memoizedState=a,Nt=!0),h=h.queue,Kh(bp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Ep.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));d||(is&127)!==0||_p(o,n,a)}return a}function _p(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Tu(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ep(t,n,a,o){n.value=a,n.getSnapshot=o,Sp(n)&&Tp(t)}function bp(t,n,a){return a(function(){Sp(n)&&Tp(t)})}function Sp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dn(t,a)}catch{return!0}}function Tp(t){var n=wr(t,2);n!==null&&Tn(n,t,2)}function Fh(t){var n=mn();if(typeof t=="function"){var a=t;if(t=a(),Nr){Xt(!0);try{a()}finally{Xt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Cp(t,n,a,o){return t.baseState=a,Hh(t,lt,typeof o=="function"?o:ss)}function Wb(t,n,a,o,h){if(Mu(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};q.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Ap(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ap(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=q.T,y={};q.T=y;try{var T=a(h,o),N=q.S;N!==null&&N(y,T),wp(t,n,T)}catch(G){Qh(t,n,G)}finally{d!==null&&y.types!==null&&(d.types=y.types),q.T=d}}else try{d=a(h,o),wp(t,n,d)}catch(G){Qh(t,n,G)}}function wp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Lp(t,n,o)},function(o){return Qh(t,n,o)}):Lp(t,n,a)}function Lp(t,n,a){n.status="fulfilled",n.value=a,Mp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ap(t,a)))}function Qh(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Mp(n),n=n.next;while(n!==o)}t.action=null}function Mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Op(t,n){if(Ye){var a=ht.formState;if(a!==null){e:{var o=Ne;if(Ye){if(dt){t:{for(var h=dt,d=Kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Zn(h.nextSibling),o=h.data==="F!";break e}}Is(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},a.queue=o,a=Zp.bind(null,Ne,o),o.dispatch=a,o=Fh(!1),d=Jh.bind(null,Ne,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Wb.bind(null,Ne,h,d,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Dp(t){var n=Lt();return Ip(n,lt,t)}function Ip(t,n,a){if(n=Hh(t,n,Rp)[0],t=Au(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bo(n)}catch(y){throw y===ba?pu:y}else o=n;n=Lt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,wa(9,{destroy:void 0},eS.bind(null,h,a),null)),[o,d,t]}function eS(t,n){t.action=n}function xp(t){var n=Lt(),a=lt;if(a!==null)return Ip(n,a,t);Lt(),n=n.memoizedState,a=Lt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function wa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Tu(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vp(){return Lt().memoizedState}function wu(t,n,a,o){var h=mn();Ne.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Lu(t,n,a,o){var h=Lt();o=o===void 0?null:o;var d=h.memoizedState.inst;lt!==null&&o!==null&&kh(o,lt.memoizedState.deps)?h.memoizedState=wa(n,d,a,o):(Ne.flags|=t,h.memoizedState=wa(1|n,d,a,o))}function Np(t,n){wu(8390656,8,t,n)}function Kh(t,n){Lu(2048,8,t,n)}function tS(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Tu(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Pp(t){var n=Lt().memoizedState;return tS({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(t,n){return Lu(4,2,t,n)}function Up(t,n){return Lu(4,4,t,n)}function zp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,a){a=a!=null?a.concat([t]):null,Lu(4,4,zp.bind(null,n,t),a)}function Yh(){}function jp(t,n){var a=Lt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&kh(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function qp(t,n){var a=Lt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&kh(n,o[1]))return o[0];if(o=t(),Nr){Xt(!0);try{t()}finally{Xt(!1)}}return a.memoizedState=[o,n],o}function Zh(t,n,a){return a===void 0||(is&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hm(),Ne.lanes|=t,js|=t,a)}function Hp(t,n,a,o){return Dn(a,n)?a:Ta.current!==null?(t=Zh(t,a,o),Dn(t,n)||(Nt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Ge&261930)===0?(Nt=!0,t.memoizedState=a):(t=Hm(),Ne.lanes|=t,js|=t,n)}function Gp(t,n,a,o,h){var d=le.p;le.p=d!==0&&8>d?d:8;var y=q.T,T={};q.T=T,Jh(t,!1,n,a);try{var N=h(),G=q.S;if(G!==null&&G(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=Xb(N,o);jo(t,n,ne,kn(t))}else jo(t,n,o,kn(t))}catch(re){jo(t,n,{then:function(){},status:"rejected",reason:re},kn())}finally{le.p=d,y!==null&&T.types!==null&&(y.types=T.types),q.T=y}}function nS(){}function Xh(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Fp(t).queue;Gp(t,h,n,he,a===null?nS:function(){return Qp(t),a(o)})}function Fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qp(t){var n=Fp(t);n.next===null&&(n=t.alternate.memoizedState),jo(t,n.next.queue,{},kn())}function $h(){return Wt(sl)}function Kp(){return Lt().memoizedState}function Yp(){return Lt().memoizedState}function iS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();t=Ns(a);var o=Ps(n,t,a);o!==null&&(Tn(o,n,a),Po(o,n,a)),n={cache:wh()},t.payload=n;return}n=n.return}}function sS(t,n,a){var o=kn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t)?Xp(n,a):(a=ph(t,n,a,o),a!==null&&(Tn(a,t,o),$p(a,n,o)))}function Zp(t,n,a){var o=kn();jo(t,n,a,o)}function jo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))Xp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,y))return lu(t,n,h,0),ht===null&&ou(),!1}catch{}finally{}if(a=ph(t,n,h,o),a!==null)return Tn(a,t,o),$p(a,n,o),!0}return!1}function Jh(t,n,a,o){if(o={lane:2,revertLane:Df(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(n)throw Error(r(479))}else n=ph(t,a,o,2),n!==null&&Tn(n,t,2)}function Mu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Xp(t,n){Ca=bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function $p(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,lo(t,a)}}var qo={readContext:Wt,use:Cu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};qo.useEffectEvent=Tt;var Jp={readContext:Wt,use:Cu,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Np,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,wu(4194308,4,zp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return wu(4194308,4,t,n)},useInsertionEffect:function(t,n){wu(4,2,t,n)},useMemo:function(t,n){var a=mn();n=n===void 0?null:n;var o=t();if(Nr){Xt(!0);try{t()}finally{Xt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=mn();if(a!==void 0){var h=a(n);if(Nr){Xt(!0);try{a(n)}finally{Xt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=sS.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Fh(t);var n=t.queue,a=Zp.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(t,n){var a=mn();return Zh(a,t,n)},useTransition:function(){var t=Fh(!1);return t=Gp.bind(null,Ne,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=mn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Ge&127)!==0||_p(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Np(bp.bind(null,o,d,t),[t]),o.flags|=2048,wa(9,{destroy:void 0},Ep.bind(null,o,d,a,n),null),a},useId:function(){var t=mn(),n=ht.identifierPrefix;if(Ye){var a=Di,o=Oi;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Su++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$b++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$h,useFormState:Op,useActionState:Op,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Jh.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:qh,useCacheRefresh:function(){return mn().memoizedState=iS.bind(null,Ne)},useEffectEvent:function(t){var n=mn(),a={impl:t};return n.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Wh={readContext:Wt,use:Cu,useCallback:jp,useContext:Wt,useEffect:Kh,useImperativeHandle:Bp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:qp,useReducer:Au,useRef:Vp,useState:function(){return Au(ss)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=Lt();return Hp(a,lt.memoizedState,t,n)},useTransition:function(){var t=Au(ss)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:$h,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var a=Lt();return Cp(a,lt,t,n)},useMemoCache:qh,useCacheRefresh:Yp};Wh.useEffectEvent=Pp;var Wp={readContext:Wt,use:Cu,useCallback:jp,useContext:Wt,useEffect:Kh,useImperativeHandle:Bp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:qp,useReducer:Gh,useRef:Vp,useState:function(){return Gh(ss)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=Lt();return lt===null?Zh(a,t,n):Hp(a,lt.memoizedState,t,n)},useTransition:function(){var t=Gh(ss)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:$h,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var a=Lt();return lt!==null?Cp(a,lt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qh,useCacheRefresh:Yp};Wp.useEffectEvent=Pp;function ef(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=kn(),h=Ns(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(Tn(n,t,o),Po(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=kn(),h=Ns(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(Tn(n,t,o),Po(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kn(),o=Ns(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,a),n!==null&&(Tn(n,t,a),Po(n,t,a))}};function em(t,n,a,o,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Mo(a,o)||!Mo(h,d):!0}function tm(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&tf.enqueueReplaceState(n,n.state,null)}function Pr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function nm(t){au(t)}function im(t){console.error(t)}function sm(t){au(t)}function Ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function rm(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nf(t,n,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Ru(t,n)},a}function am(t){return t=Ns(t),t.tag=3,t}function om(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){rm(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){rm(n,a,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?ju():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Mf(t,o,h)),!1;case 22:return a.flags|=65536,o===mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Mf(t,o,h)),!1}throw Error(r(435,a.tag))}return Mf(t,o,h),ju(),!1}if(Ye)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==bh&&(t=Error(r(422),{cause:o}),Do(Gn(t,a)))):(o!==bh&&(n=Error(r(423),{cause:o}),Do(Gn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Gn(o,a),h=nf(t.stateNode,o,h),Ih(t,h),Ct!==4&&(Ct=2)),!1;var d=Error(r(520),{cause:o});if(d=Gn(d,a),Xo===null?Xo=[d]:Xo.push(d),Ct!==4&&(Ct=2),n===null)return!0;o=Gn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nf(a.stateNode,o,t),Ih(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=am(h),om(h,t,a,o),Ih(a,h),!1}a=a.return}while(a!==null);return!1}var sf=Error(r(461)),Nt=!1;function en(t,n,a,o){n.child=t===null?hp(n,null,a,o):Vr(n,t.child,a,o)}function lm(t,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Or(n),o=Uh(t,n,a,y,d,h),T=zh(),t!==null&&!Nt?(Bh(t,n,h),rs(t,n,h)):(Ye&&T&&_h(n),n.flags|=1,en(t,n,o,h),n.child)}function um(t,n,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!mh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,cm(t,n,d,o,h)):(t=cu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!ff(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(y,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(d,o),t.ref=n.ref,t.return=n,n.child=t}function cm(t,n,a,o,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,o)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=o=d,ff(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return rf(t,n,a,o,h)}function hm(t,n,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return fm(t,n,d,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&gu(n,d!==null?d.cachePool:null),d!==null?gp(n,d):Vh(),pp(n);else return o=n.lanes=536870912,fm(t,n,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(gu(n,d.cachePool),gp(n,d),Us(),n.memoizedState=null):(t!==null&&gu(n,null),Vh(),Us());return en(t,n,h,a),n.child}function Ho(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fm(t,n,a,o,h){var d=Mh();return d=d===null?null:{parent:xt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&gu(n,null),Vh(),pp(n),t!==null&&ya(t,n,o,!0),n.childLanes=h,null}function Ou(t,n){return n=Iu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dm(t,n,a){return Vr(n,t.child,null,a),t=Ou(n,n.pendingProps),t.flags|=2,Vn(n),n.memoizedState=null,t}function aS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(o.mode==="hidden")return t=Ou(n,o),n.lanes=536870912,Ho(null,t);if(Ph(n),(t=dt)?(t=Av(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Is(n);return n.lanes=536870912,null}return Ou(n,o)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Ph(n),h)if(n.flags&256)n.flags&=-257,n=dm(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||ya(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(o=ht,o!==null&&(y=uo(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,wr(t,y),Tn(o,t,y),sf;ju(),n=dm(t,n,a)}else t=d.treeContext,dt=Zn(y.nextSibling),Jt=n,Ye=!0,Ds=null,Kn=!1,t!==null&&Wg(n,t),n=Ou(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function rf(t,n,a,o,h){return Or(n),a=Uh(t,n,a,o,void 0,h),o=zh(),t!==null&&!Nt?(Bh(t,n,h),rs(t,n,h)):(Ye&&o&&_h(n),n.flags|=1,en(t,n,a,h),n.child)}function gm(t,n,a,o,h,d){return Or(n),n.updateQueue=null,a=vp(n,o,a,h),mp(t),o=zh(),t!==null&&!Nt?(Bh(t,n,d),rs(t,n,d)):(Ye&&o&&_h(n),n.flags|=1,en(t,n,a,d),n.child)}function pm(t,n,a,o,h){if(Or(n),n.stateNode===null){var d=ga,y=a.contextType;typeof y=="object"&&y!==null&&(d=Wt(y)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Oh(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?Wt(y):ga,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ef(n,a,y,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&tf.enqueueReplaceState(d,d.state,null),Uo(n,o,d,h),ko(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,N=Pr(a,T);d.props=N;var G=d.context,ne=a.contextType;y=ga,typeof ne=="object"&&ne!==null&&(y=Wt(ne));var re=a.getDerivedStateFromProps;ne=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==y)&&tm(n,d,o,y),Vs=!1;var K=n.memoizedState;d.state=K,Uo(n,o,d,h),ko(),G=n.memoizedState,T||K!==G||Vs?(typeof re=="function"&&(ef(n,a,re,o),G=n.memoizedState),(N=Vs||em(n,a,N,o,K,G,y))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=y,o=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Dh(t,n),y=n.memoizedProps,ne=Pr(a,y),d.props=ne,re=n.pendingProps,K=d.context,G=a.contextType,N=ga,typeof G=="object"&&G!==null&&(N=Wt(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==re||K!==N)&&tm(n,d,o,N),Vs=!1,K=n.memoizedState,d.state=K,Uo(n,o,d,h),ko();var W=n.memoizedState;y!==re||K!==W||Vs||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof T=="function"&&(ef(n,a,T,o),W=n.memoizedState),(ne=Vs||em(n,a,ne,o,K,W,N)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,W,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,W,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=W),d.props=o,d.state=W,d.context=N,o=ne):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Du(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Vr(n,t.child,null,h),n.child=Vr(n,null,a,h)):en(t,n,a,h),n.memoizedState=d.state,t=n.child):t=rs(t,n,h),t}function mm(t,n,a,o){return Mr(),n.flags|=256,en(t,n,a,o),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:rp()}}function lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Pn),t}function vm(t,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?ks(n):Us(),(t=dt)?(t=Av(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Is(n);return Gf(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Us(),h=n.mode,T=Iu({mode:"hidden",children:T},h),o=Lr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=of(a),o.childLanes=lf(t,y,a),n.memoizedState=af,Ho(null,o)):(ks(n),uf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)n.flags&256?(ks(n),n.flags&=-257,n=cf(t,n,a)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),T=o.fallback,h=n.mode,o=Iu({mode:"visible",children:o.children},h),T=Lr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Vr(n,t.child,null,a),o=n.child,o.memoizedState=of(a),o.childLanes=lf(t,y,a),n.memoizedState=af,n=Ho(null,o));else if(ks(n),Gf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var G=y.dgst;y=G,o=Error(r(419)),o.stack="",o.digest=y,Do({value:o,source:null,stack:null}),n=cf(t,n,a)}else if(Nt||ya(t,n,a,!1),y=(a&t.childLanes)!==0,Nt||y){if(y=ht,y!==null&&(o=uo(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,wr(t,o),Tn(y,t,o),sf;Hf(T)||ju(),n=cf(t,n,a)}else Hf(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,dt=Zn(T.nextSibling),Jt=n,Ye=!0,Ds=null,Kn=!1,t!==null&&Wg(n,t),n=uf(n,o.children),n.flags|=4096);return n}return h?(Us(),T=o.fallback,h=n.mode,N=t.child,G=N.sibling,o=Wi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,G!==null?T=Wi(G,T):(T=Lr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Ho(null,o),o=n.child,T=t.child.memoizedState,T===null?T=of(a):(h=T.cachePool,h!==null?(N=xt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=rp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=lf(t,y,a),n.memoizedState=af,Ho(t.child,o)):(ks(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function uf(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=In(22,t,null,n),t.lanes=0,t}function cf(t,n,a){return Vr(n,t.child,null,a),t=uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ym(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ch(t.return,n,a)}function hf(t,n,a,o,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function _m(t,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=wt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,ie(wt,y),en(t,n,o,a),o=Ye?Oo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,a,n);else if(t.tag===19)ym(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Eu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),hf(n,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Eu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hf(n,!0,a,null,d,o);break;case"together":hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ya(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function oS(t,n,a){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),xs(n,xt,t.memoizedState.cache),Mr();break;case 27:case 5:Ce(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ph(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(a&n.child.childLanes)!==0?vm(t,n,a):(ks(n),t=rs(t,n,a),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ya(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return _m(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),o)break;return null;case 22:return n.lanes=0,hm(t,n,a,n.pendingProps);case 24:xs(n,xt,t.memoizedState.cache)}return rs(t,n,a)}function Em(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!ff(t,a)&&(n.flags&128)===0)return Nt=!1,oS(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,Ye&&(n.flags&1048576)!==0&&Jg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ir(n.elementType),n.type=t,typeof t=="function")mh(t)?(o=Pr(t,o),n.tag=1,n=pm(null,n,t,o,a)):(n.tag=0,n=rf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ee){n.tag=11,n=lm(null,n,t,o,a);break e}else if(h===L){n.tag=14,n=um(null,n,t,o,a);break e}}throw n=ge(t)||t,Error(r(306,n,""))}}return n;case 0:return rf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Pr(o,n.pendingProps),pm(t,n,o,h,a);case 3:e:{if(Se(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Dh(t,n),Uo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,xs(n,xt,o),o!==d.cache&&Ah(n,[xt],a,!0),ko(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=mm(t,n,o,a);break e}else if(o!==h){h=Gn(Error(r(424)),n),Do(h),n=mm(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Zn(t.firstChild),Jt=n,Ye=!0,Ds=null,Kn=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mr(),o===h){n=rs(t,n,a);break e}en(t,n,o,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=Dv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,o=Yu(pe.current).createElement(a),o[Ot]=n,o[Ft]=t,tn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=Dv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ce(n),t===null&&Ye&&(o=n.stateNode=Mv(n.type,n.pendingProps,pe.current),Jt=n,Kn=!0,h=dt,Qs(n.type)?(Ff=h,dt=Zn(o.firstChild)):dt=h),en(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=o=dt)&&(o=kS(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Jt=n,dt=Zn(o.firstChild),Kn=!1,h=!0):h=!1),h||Is(n)),Ce(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,o=d.children,Bf(h,d)?o=null:y!==null&&Bf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Uh(t,n,Jb,null,null,a),sl._currentValue=h),Du(t,n),en(t,n,o,a),n.child;case 6:return t===null&&Ye&&((t=a=dt)&&(a=US(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Jt=n,dt=null,t=!0):t=!1),t||Is(n)),null;case 13:return vm(t,n,a);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vr(n,null,o,a):en(t,n,o,a),n.child;case 11:return lm(t,n,n.type,n.pendingProps,a);case 7:return en(t,n,n.pendingProps,a),n.child;case 8:return en(t,n,n.pendingProps.children,a),n.child;case 12:return en(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,xs(n,n.type,o.value),en(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Or(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,a),n.child;case 14:return um(t,n,n.type,n.pendingProps,a);case 15:return cm(t,n,n.type,n.pendingProps,a);case 19:return _m(t,n,a);case 31:return aS(t,n,a);case 22:return hm(t,n,a,n.pendingProps);case 24:return Or(n),o=Wt(xt),t===null?(h=Mh(),h===null&&(h=ht,d=wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Oh(n),xs(n,xt,h)):((t.lanes&a)!==0&&(Dh(t,n),Uo(n,null,null,a),ko()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,xt,o)):(o=d.cache,xs(n,xt,o),o!==h.cache&&Ah(n,[xt],a,!0))),en(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function df(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Km())t.flags|=8192;else throw xr=mu,Rh}else t.flags&=-16777217}function bm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(n))if(Km())t.flags|=8192;else throw xr=mu,Rh}function xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Qi():536870912,t.lanes|=n,Oa|=n)}function Go(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function lS(t,n,a){var o=n.pendingProps;switch(Eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(xt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(va(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),gt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(as(n),d!==null?(gt(n),bm(n,d)):(gt(n),df(n,h,null,o,a))):d?d!==t.memoizedState?(as(n),gt(n),bm(n,d)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),gt(n),df(n,h,t,o,a)),null;case 27:if(Ue(n),a=pe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}t=ce.current,va(n)?ep(n):(t=Mv(h,o,a),n.stateNode=t,as(n))}return gt(n),null;case 5:if(Ue(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}if(d=ce.current,va(n))ep(n);else{var y=Yu(pe.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Ot]=n,d[Ft]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(tn(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return gt(n),df(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=pe.current,va(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ot]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||vv(t.nodeValue,a)),t||Is(n,!0)}else t=Yu(t).createTextNode(o),t[Ot]=n,n.stateNode=t}return gt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=va(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ot]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else a=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ot]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),xu(n,n.updateQueue),gt(n),null);case 4:return Oe(),t===null&&Nf(n.stateNode.containerInfo),gt(n),null;case 10:return ns(n.type),gt(n),null;case 19:if(Z(wt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)Go(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Eu(t),d!==null){for(n.flags|=128,Go(o,!1),t=d.updateQueue,n.updateQueue=t,xu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zg(a,t),a=a.sibling;return ie(wt,wt.current&1|2),Ye&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>Uu&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304)}else{if(!h)if(t=Eu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,xu(n,t),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ye)return gt(n),null}else 2*Gt()-o.renderingStartTime>Uu&&a!==536870912&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=wt.current,ie(wt,h?a&1|2:a&1),Ye&&es(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return Vn(n),Nh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),a=n.updateQueue,a!==null&&xu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Z(Dr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(xt),gt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function uS(t,n){switch(Eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(xt),Oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ue(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(wt),null;case 4:return Oe(),null;case 10:return ns(n.type),null;case 22:case 23:return Vn(n),Nh(),t!==null&&Z(Dr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(xt),null;case 25:return null;default:return null}}function Sm(t,n){switch(Eh(n),n.tag){case 3:ns(xt),Oe();break;case 26:case 27:case 5:Ue(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:Z(wt);break;case 10:ns(n.type);break;case 22:case 23:Vn(n),Nh(),t!==null&&Z(Dr);break;case 24:ns(xt)}}function Fo(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(T){at(n,n.return,T)}}function zs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var N=a,G=T;try{G()}catch(ne){at(h,N,ne)}}}o=o.next}while(o!==d)}}catch(ne){at(n,n.return,ne)}}function Tm(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dp(n,a)}catch(o){at(t,t.return,o)}}}function Cm(t,n,a){a.props=Pr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,n,o)}}function Qo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,n,h)}}function Ii(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function Am(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function gf(t,n,a){try{var o=t.stateNode;DS(o,t.type,a,n),o[Ft]=n}catch(h){at(t,t.return,h)}}function wm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(mf(t,n,a),t=t.sibling;t!==null;)mf(t,n,a),t=t.sibling}function Vu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vu(t,n,a),t=t.sibling;t!==null;)Vu(t,n,a),t=t.sibling}function Lm(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[Ot]=t,n[Ft]=a}catch(d){at(t,t.return,d)}}var os=!1,Pt=!1,vf=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function cS(t,n){if(t=t.containerInfo,Uf=tc,t=Bg(t),uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,T=-1,N=-1,G=0,ne=0,re=t,K=null;t:for(;;){for(var W;re!==a||h!==0&&re.nodeType!==3||(T=y+h),re!==d||o!==0&&re.nodeType!==3||(N=y+o),re.nodeType===3&&(y+=re.nodeValue.length),(W=re.firstChild)!==null;)K=re,re=W;for(;;){if(re===t)break t;if(K===a&&++G===h&&(T=y),K===d&&++ne===o&&(N=y),(W=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=W}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(zf={focusedElem:t,selectionRange:a},tc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var me=Pr(a.type,h);t=o.getSnapshotBeforeUpdate(me,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Le){at(a,a.return,Le)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function Rm(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&Fo(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){at(a,a.return,y)}else{var h=Pr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){at(a,a.return,y)}}o&64&&Tm(a),o&512&&Qo(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dp(t,n)}catch(y){at(a,a.return,y)}}break;case 27:n===null&&o&4&&Lm(a);case 26:case 5:us(t,a),n===null&&o&4&&Am(a),o&512&&Qo(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&Im(t,a);break;case 13:us(t,a),o&4&&xm(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),zS(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||Pt,h=os;var d=Pt;os=o,(Pt=n)&&!d?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,Pt=d}break;case 30:break;default:us(t,a)}}function Om(t){var n=t.alternate;n!==null&&(t.alternate=null,Om(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,_n=!1;function ls(t,n,a){for(a=a.child;a!==null;)Dm(t,n,a),a=a.sibling}function Dm(t,n,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ln,a)}catch{}switch(a.tag){case 26:Pt||Ii(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Ii(a,n);var o=_t,h=_n;Qs(a.type)&&(_t=a.stateNode,_n=!1),ls(t,n,a),tl(a.stateNode),_t=o,_n=h;break;case 5:Pt||Ii(a,n);case 6:if(o=_t,h=_n,_t=null,ls(t,n,a),_t=o,_n=h,_t!==null)if(_n)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,n,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,n,d)}break;case 18:_t!==null&&(_n?(t=_t,Tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ua(t)):Tv(_t,a.stateNode));break;case 4:o=_t,h=_n,_t=a.stateNode.containerInfo,_n=!0,ls(t,n,a),_t=o,_n=h;break;case 0:case 11:case 14:case 15:zs(2,a,n),Pt||zs(4,a,n),ls(t,n,a);break;case 1:Pt||(Ii(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cm(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:Pt=(o=Pt)||a.memoizedState!==null,ls(t,n,a),Pt=o;break;default:ls(t,n,a)}}function Im(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(a){at(n,n.return,a)}}}function xm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(a){at(n,n.return,a)}}function hS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Mm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Mm),n;default:throw Error(r(435,t.tag))}}function Nu(t,n){var a=hS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ES.bind(null,t,o);o.then(h,h)}})}function En(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Qs(T.type)){_t=T.stateNode,_n=!1;break e}break;case 5:_t=T.stateNode,_n=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(_t===null)throw Error(r(160));Dm(d,y,h),_t=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vm(n,t),n=n.sibling}var ui=null;function Vm(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),bn(t),o&4&&(zs(3,t,t.return),Fo(3,t),zs(5,t,t.return));break;case 1:En(n,t),bn(t),o&512&&(Pt||a===null||Ii(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ui;if(En(n,t),bn(t),o&512&&(Pt||a===null||Ii(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,o,a),d[Ot]=t,Dt(d),o=d;break e;case"link":var y=Vv("link","href",h).get(o+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}d=h.createElement(o),tn(d,o,a),h.head.appendChild(d);break;case"meta":if(y=Vv("meta","content",h).get(o+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}d=h.createElement(o),tn(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Ot]=t,Dt(d),o=d}t.stateNode=o}else Nv(h,t.type,t.stateNode);else t.stateNode=xv(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Nv(h,t.type,t.stateNode):xv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(n,t),bn(t),o&512&&(Pt||a===null||Ii(a,a.return)),a!==null&&o&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(n,t),bn(t),o&512&&(Pt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(me){at(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(vf=!0);break;case 6:if(En(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){at(t,t.return,me)}}break;case 3:if($u=null,h=ui,ui=Zu(n.containerInfo),En(n,t),ui=h,bn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(me){at(t,t.return,me)}vf&&(vf=!1,Nm(t));break;case 4:o=ui,ui=Zu(t.stateNode.containerInfo),En(n,t),bn(t),ui=o;break;case 12:En(n,t),bn(t);break;case 31:En(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 13:En(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ku=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=os,ne=Pt;if(os=G||h,Pt=ne||N,En(n,t),Pt=ne,os=G,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||os||Pt||kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(d=N.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=N.stateNode;var re=N.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){at(N,N.return,me)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){at(N,N.return,me)}}}else if(n.tag===18){if(a===null){N=n;try{var W=N.stateNode;h?Cv(W,!0):Cv(N.stateNode,!1)}catch(me){at(N,N.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Nu(t,a))));break;case 19:En(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 30:break;case 21:break;default:En(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(wm(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=pf(t);Vu(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(yn(y,""),a.flags&=-33);var T=pf(t);Vu(t,T,y);break;case 3:case 4:var N=a.stateNode.containerInfo,G=pf(t);mf(t,G,N);break;default:throw Error(r(161))}}catch(ne){at(t,t.return,ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Nm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Nm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rm(t,n.alternate,n),n=n.sibling}function kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),kr(n);break;case 1:Ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Cm(n,n.return,a),kr(n);break;case 27:tl(n.stateNode);case 26:case 5:Ii(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:cs(h,d,a),Fo(4,d);break;case 1:if(cs(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){at(o,o.return,G)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)fp(N[h],T)}catch(G){at(o,o.return,G)}}a&&y&64&&Tm(d),Qo(d,d.return);break;case 27:Lm(d);case 26:case 5:cs(h,d,a),a&&o===null&&y&4&&Am(d),Qo(d,d.return);break;case 12:cs(h,d,a);break;case 31:cs(h,d,a),a&&y&4&&Im(h,d);break;case 13:cs(h,d,a),a&&y&4&&xm(h,d);break;case 22:d.memoizedState===null&&cs(h,d,a),Qo(d,d.return);break;case 30:break;default:cs(h,d,a)}n=n.sibling}}function yf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Io(a))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Io(t))}function ci(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pm(t,n,a,o),n=n.sibling}function Pm(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,a,o),h&2048&&Fo(9,n);break;case 1:ci(t,n,a,o);break;case 3:ci(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Io(t)));break;case 12:if(h&2048){ci(t,n,a,o),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(n,n.return,N)}}else ci(t,n,a,o);break;case 31:ci(t,n,a,o);break;case 13:ci(t,n,a,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?ci(t,n,a,o):Ko(t,n):d._visibility&2?ci(t,n,a,o):(d._visibility|=2,La(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&yf(y,n);break;case 24:ci(t,n,a,o),h&2048&&_f(n.alternate,n);break;default:ci(t,n,a,o)}}function La(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,T=a,N=o,G=y.flags;switch(y.tag){case 0:case 11:case 15:La(d,y,T,N,h),Fo(8,y);break;case 23:break;case 22:var ne=y.stateNode;y.memoizedState!==null?ne._visibility&2?La(d,y,T,N,h):Ko(d,y):(ne._visibility|=2,La(d,y,T,N,h)),h&&G&2048&&yf(y.alternate,y);break;case 24:La(d,y,T,N,h),h&&G&2048&&_f(y.alternate,y);break;default:La(d,y,T,N,h)}n=n.sibling}}function Ko(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Ko(a,o),h&2048&&yf(o.alternate,o);break;case 24:Ko(a,o),h&2048&&_f(o.alternate,o);break;default:Ko(a,o)}n=n.sibling}}var Yo=8192;function Ma(t,n,a){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)km(t,n,a),t=t.sibling}function km(t,n,a){switch(t.tag){case 26:Ma(t,n,a),t.flags&Yo&&t.memoizedState!==null&&$S(a,ui,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,n,a);break;case 3:case 4:var o=ui;ui=Zu(t.stateNode.containerInfo),Ma(t,n,a),ui=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Yo,Yo=16777216,Ma(t,n,a),Yo=o):Ma(t,n,a));break;default:Ma(t,n,a)}}function Um(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Bm(o,t)}Um(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zm(t),t=t.sibling}function zm(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&zs(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Pu(t)):Zo(t);break;default:Zo(t)}}function Pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Bm(o,t)}Um(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),Pu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Pu(n));break;default:Pu(n)}t=t.sibling}}function Bm(t,n){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Io(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,d=o.return;if(Om(o),o===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var fS={getCacheForType:function(t){var n=Wt(xt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Wt(xt).controller.signal}},dS=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Be=null,Ge=0,rt=0,Nn=null,Bs=!1,Ra=!1,Ef=!1,hs=0,Ct=0,js=0,Ur=0,bf=0,Pn=0,Oa=0,Xo=null,Sn=null,Sf=!1,ku=0,jm=0,Uu=1/0,zu=null,qs=null,zt=0,Hs=null,Da=null,fs=0,Tf=0,Cf=null,qm=null,$o=0,Af=null;function kn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:q.T!==null?Df():Bl()}function Hm(){if(Pn===0)if((Ge&536870912)===0||Ye){var t=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),Pn=t}else Pn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Pn}function Tn(t,n,a){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Gs(t,Ge,Pn,!1)),Ki(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(Ur|=a),Ct===4&&Gs(t,Ge,Pn,!1)),xi(t))}function Gm(t,n,a){if((nt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||un(t,n),h=o?mS(t,n):Lf(t,n,!0),d=o;do{if(h===0){Ra&&!o&&Gs(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){h=Lf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=Xo;var N=T.current.memoizedState.isDehydrated;if(N&&(Ia(T,y).flags|=256),y=Lf(T,y,!1),y!==2){if(Ef&&!N){T.errorRecoveryDisabledLanes|=d,Ur|=d,h=4;break e}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ia(t,0),Gs(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Pn,!Bs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ku+300-Gt(),10<h)){if(Gs(o,n,Pn,!Bs),Ln(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=bv(Fm.bind(null,o,a,Sn,zu,Sf,n,Pn,Ur,Oa,Bs,d,"Throttled",-0,0),h);break e}Fm(o,a,Sn,zu,Sf,n,Pn,Ur,Oa,Bs,d,null,-0,0)}}break}while(!0);xi(t)}function Fm(t,n,a,o,h,d,y,T,N,G,ne,re,K,W){if(t.timeoutHandle=-1,re=n.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},km(n,d,re);var me=(d&62914560)===d?ku-Gt():(d&4194048)===d?jm-Gt():0;if(me=JS(re,me),me!==null){fs=d,t.cancelPendingCommit=me(Wm.bind(null,t,n,d,a,o,h,y,T,N,ne,re,null,K,W)),Gs(t,d,y,!G);return}}Wm(t,n,d,a,o,h,y,T,N)}function gS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,a,o){n&=~bf,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-vt(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&Me(t,a,n)}function Bu(){return(nt&6)===0?(Jo(0),!1):!0}function wf(){if(Be!==null){if(rt===0)var t=Be.return;else t=Be,ts=Rr=null,jh(t),Sa=null,Vo=0,t=Be;for(;t!==null;)Sm(t.alternate,t),t=t.return;Be=null}}function Ia(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,wf(),ht=t,Be=a=Wi(t.current,null),Ge=n,rt=0,Nn=null,Bs=!1,Ra=un(t,n),Ef=!1,Oa=Pn=bf=Ur=js=Ct=0,Sn=Xo=null,Sf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-vt(o),d=1<<h;n|=t[h],o&=~d}return hs=n,ou(),a}function Qm(t,n){Ne=null,q.H=qo,n===ba||n===pu?(n=lp(),rt=3):n===Rh?(n=lp(),rt=4):rt=n===sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Be===null&&(Ct=1,Ru(t,Gn(n,t.current)))}function Km(){var t=xn.current;return t===null?!0:(Ge&4194048)===Ge?Yn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Yn:!1}function Ym(){var t=q.H;return q.H=qo,t===null?qo:t}function Zm(){var t=q.A;return q.A=fS,t}function ju(){Ct=4,Bs||(Ge&4194048)!==Ge&&xn.current!==null||(Ra=!0),(js&134217727)===0&&(Ur&134217727)===0||ht===null||Gs(ht,Ge,Pn,!1)}function Lf(t,n,a){var o=nt;nt|=2;var h=Ym(),d=Zm();(ht!==t||Ge!==n)&&(zu=null,Ia(t,n)),n=!1;var y=Ct;e:do try{if(rt!==0&&Be!==null){var T=Be,N=Nn;switch(rt){case 8:wf(),y=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var G=rt;if(rt=0,Nn=null,xa(t,T,N,G),a&&Ra){y=0;break e}break;default:G=rt,rt=0,Nn=null,xa(t,T,N,G)}}pS(),y=Ct;break}catch(ne){Qm(t,ne)}while(!0);return n&&t.shellSuspendCounter++,ts=Rr=null,nt=o,q.H=h,q.A=d,Be===null&&(ht=null,Ge=0,ou()),y}function pS(){for(;Be!==null;)Xm(Be)}function mS(t,n){var a=nt;nt|=2;var o=Ym(),h=Zm();ht!==t||Ge!==n?(zu=null,Uu=Gt()+500,Ia(t,n)):Ra=un(t,n);e:do try{if(rt!==0&&Be!==null){n=Be;var d=Nn;t:switch(rt){case 1:rt=0,Nn=null,xa(t,n,d,1);break;case 2:case 9:if(ap(d)){rt=0,Nn=null,$m(n);break}n=function(){rt!==2&&rt!==9||ht!==t||(rt=7),xi(t)},d.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:ap(d)?(rt=0,Nn=null,$m(n)):(rt=0,Nn=null,xa(t,n,d,7));break;case 5:var y=null;switch(Be.tag){case 26:y=Be.memoizedState;case 5:case 27:var T=Be;if(y?Pv(y):T.stateNode.complete){rt=0,Nn=null;var N=T.sibling;if(N!==null)Be=N;else{var G=T.return;G!==null?(Be=G,qu(G)):Be=null}break t}}rt=0,Nn=null,xa(t,n,d,5);break;case 6:rt=0,Nn=null,xa(t,n,d,6);break;case 8:wf(),Ct=6;break e;default:throw Error(r(462))}}vS();break}catch(ne){Qm(t,ne)}while(!0);return ts=Rr=null,q.H=o,q.A=h,nt=a,Be!==null?0:(ht=null,Ge=0,ou(),Ct)}function vS(){for(;Be!==null&&!$r();)Xm(Be)}function Xm(t){var n=Em(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?qu(t):Be=n}function $m(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=gm(a,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=gm(a,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:jh(n);default:Sm(a,n),n=Be=Zg(n,hs),n=Em(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?qu(t):Be=n}function xa(t,n,a,o){ts=Rr=null,jh(n),Sa=null,Vo=0;var h=n.return;try{if(rS(t,h,n,a,Ge)){Ct=1,Ru(t,Gn(a,t.current)),Be=null;return}}catch(d){if(h!==null)throw Be=h,d;Ct=1,Ru(t,Gn(a,t.current)),Be=null;return}n.flags&32768?(Ye||o===1?t=!0:Ra||(Ge&536870912)!==0?t=!1:(Bs=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jm(n,t)):qu(n)}function qu(t){var n=t;do{if((n.flags&32768)!==0){Jm(n,Bs);return}t=n.return;var a=lS(n.alternate,n,hs);if(a!==null){Be=a;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Ct===0&&(Ct=5)}function Jm(t,n){do{var a=uS(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);Ct=6,Be=null}function Wm(t,n,a,o,h,d,y,T,N){t.cancelPendingCommit=null;do Hu();while(zt!==0);if((nt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=gh,Yi(t,a,d,y,T,N),t===ht&&(Be=ht=null,Ge=0),Da=n,Hs=t,fs=a,Tf=d,Cf=h,qm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bS(ei,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=le.p,le.p=2,y=nt,nt|=4;try{cS(t,n,a)}finally{nt=y,le.p=h,q.T=o}}zt=1,ev(),tv(),nv()}}function ev(){if(zt===1){zt=0;var t=Hs,n=Da,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=le.p;le.p=2;var h=nt;nt|=4;try{Vm(n,t);var d=zf,y=Bg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&zg(T.ownerDocument.documentElement,T)){if(N!==null&&uh(T)){var G=N.start,ne=N.end;if(ne===void 0&&(ne=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(ne,T.value.length);else{var re=T.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var W=K.getSelection(),me=T.textContent.length,Le=Math.min(N.start,me),ct=N.end===void 0?Le:Math.min(N.end,me);!W.extend&&Le>ct&&(y=ct,ct=Le,Le=y);var z=Ug(T,Le),k=Ug(T,ct);if(z&&k&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==k.node||W.focusOffset!==k.offset)){var H=re.createRange();H.setStart(z.node,z.offset),W.removeAllRanges(),Le>ct?(W.addRange(H),W.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),W.addRange(H))}}}}for(re=[],W=T;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var se=re[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}tc=!!Uf,zf=Uf=null}finally{nt=h,le.p=o,q.T=a}}t.current=n,zt=2}}function tv(){if(zt===2){zt=0;var t=Hs,n=Da,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=le.p;le.p=2;var h=nt;nt|=4;try{Rm(t,n.alternate,n)}finally{nt=h,le.p=o,q.T=a}}zt=3}}function nv(){if(zt===4||zt===3){zt=0,ji();var t=Hs,n=Da,a=fs,o=qm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,Da=Hs=null,iv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Zi(a),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=le.p,le.p=2,q.T=null;try{for(var d=t.onRecoverableError,y=0;y<o.length;y++){var T=o[y];d(T.value,{componentStack:T.stack})}}finally{q.T=n,le.p=h}}(fs&3)!==0&&Hu(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Af?$o++:($o=0,Af=t):$o=0,Jo(0)}}function iv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Io(n)))}function Hu(){return ev(),tv(),nv(),sv()}function sv(){if(zt!==5)return!1;var t=Hs,n=Tf;Tf=0;var a=Zi(fs),o=q.T,h=le.p;try{le.p=32>a?32:a,q.T=null,a=Cf,Cf=null;var d=Hs,y=fs;if(zt=0,Da=Hs=null,fs=0,(nt&6)!==0)throw Error(r(331));var T=nt;if(nt|=4,zm(d.current),Pm(d,d.current,y,a),nt=T,Jo(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ln,d)}catch{}return!0}finally{le.p=h,q.T=o,iv(t,n)}}function rv(t,n,a){n=Gn(a,n),n=nf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ki(t,2),xi(t))}function at(t,n,a){if(t.tag===3)rv(t,t,a);else for(;n!==null;){if(n.tag===3){rv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Gn(a,t),a=am(2),o=Ps(n,a,2),o!==null&&(om(a,o,n,t),Ki(o,2),xi(o));break}}n=n.return}}function Mf(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new dS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Ef=!0,h.add(a),t=yS.bind(null,t,n,a),n.then(t,t))}function yS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Ge&a)===a&&(Ct===4||Ct===3&&(Ge&62914560)===Ge&&300>Gt()-ku?(nt&2)===0&&Ia(t,0):bf|=a,Oa===Ge&&(Oa=0)),xi(t)}function av(t,n){n===0&&(n=Qi()),t=wr(t,n),t!==null&&(Ki(t,n),xi(t))}function _S(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),av(t,a)}function ES(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),av(t,a)}function bS(t,n){return St(t,n)}var Gu=null,Va=null,Rf=!1,Fu=!1,Of=!1,Fs=0;function xi(t){t!==Va&&t.next===null&&(Va===null?Gu=Va=t:Va=Va.next=t),Fu=!0,Rf||(Rf=!0,TS())}function Jo(t,n){if(!Of&&Fu){Of=!0;do for(var a=!1,o=Gu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,cv(o,d))}else d=Ge,d=Ln(o,o===ht?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||un(o,d)||(a=!0,cv(o,d));o=o.next}while(a);Of=!1}}function SS(){ov()}function ov(){Fu=Rf=!1;var t=0;Fs!==0&&xS()&&(t=Fs);for(var n=Gt(),a=null,o=Gu;o!==null;){var h=o.next,d=lv(o,n);d===0?(o.next=null,a===null?Gu=h:a.next=h,h===null&&(Va=a)):(a=o,(t!==0||(d&3)!==0)&&(Fu=!0)),o=h}zt!==0&&zt!==5||Jo(t),Fs!==0&&(Fs=0)}function lv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-vt(d),T=1<<y,N=h[y];N===-1?((T&a)===0||(T&o)!==0)&&(h[y]=Jr(T,n)):N<=n&&(t.expiredLanes|=T),d&=~T}if(n=ht,a=Ge,a=Ln(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&An(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&An(o),Zi(a)){case 2:case 8:a=pi;break;case 32:a=ei;break;case 268435456:a=fr;break;default:a=ei}return o=uv.bind(null,t),a=St(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&An(o),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hu()&&t.callbackNode!==a)return null;var o=Ge;return o=Ln(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gm(t,o,n),lv(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function cv(t,n){if(Hu())return null;Gm(t,n,!0)}function TS(){NS(function(){(nt&6)!==0?St(_s,SS):ov()})}function Df(){if(Fs===0){var t=_a;t===0&&(t=wn,wn<<=1,(wn&261888)===0&&(wn=256)),Fs=t}return Fs}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function fv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=hv((h[Ft]||null).action),y=o.submitter;y&&(n=(n=y[Ft]||null)?hv(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var T=new wi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var N=y?fv(h,y):new FormData(h);Xh(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=y?fv(h,y):new FormData(h),Xh(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var If=0;If<dh.length;If++){var xf=dh[If],AS=xf.toLowerCase(),wS=xf[0].toUpperCase()+xf.slice(1);li(AS,"on"+wS)}li(Hg,"onAnimationEnd"),li(Gg,"onAnimationIteration"),li(Fg,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(qb,"onTransitionRun"),li(Hb,"onTransitionStart"),li(Gb,"onTransitionCancel"),li(Qg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function dv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],N=T.instance,G=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=G;try{d(h)}catch(ne){au(ne)}h.currentTarget=null,d=N}else for(y=0;y<o.length;y++){if(T=o[y],N=T.instance,G=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=G;try{d(h)}catch(ne){au(ne)}h.currentTarget=null,d=N}}}}function je(t,n){var a=n[Wr];a===void 0&&(a=n[Wr]=new Set);var o=t+"__bubble";a.has(o)||(gv(n,t,2,!1),a.add(o))}function Vf(t,n,a){var o=0;n&&(o|=4),gv(a,t,o,n)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[Qu]){t[Qu]=!0,co.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||Vf(a,!1,t),Vf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qu]||(n[Qu]=!0,Vf("selectionchange",!1,n))}}function gv(t,n,a,o){switch(Hv(n)){case 2:var h=tT;break;case 8:h=nT;break;default:h=Xf}a=h.bind(null,n,a,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Pf(t,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=_i(T),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=d=y;continue e}T=T.parentNode}}o=o.return}ws(function(){var G=d,ne=Bn(a),re=[];e:{var K=Kg.get(t);if(K!==void 0){var W=wi,me=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":W=iu;break;case"focusin":me="focus",W=Sr;break;case"focusout":me="blur",W=Sr;break;case"beforeblur":case"afterblur":W=Sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=m;break;case Hg:case Gg:case Fg:W=Xl;break;case Qg:W=A;break;case"scroll":case"scrollend":W=To;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ji;break;case"toggle":case"beforetoggle":W=Ve}var Le=(n&4)!==0,ct=!Le&&(t==="scroll"||t==="scrollend"),z=Le?K!==null?K+"Capture":null:K;Le=[];for(var k=G,H;k!==null;){var se=k;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||z===null||(se=si(k,z),se!=null&&Le.push(el(k,se,H))),ct)break;k=k.return}0<Le.length&&(K=new W(K,me,null,a,ne),re.push({event:K,listeners:Le}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==Eo&&(me=a.relatedTarget||a.fromElement)&&(_i(me)||me[vi]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=a.relatedTarget||a.toElement,W=G,me=me?_i(me):null,me!==null&&(ct=u(me),Le=me.tag,me!==ct||Le!==5&&Le!==27&&Le!==6)&&(me=null)):(W=null,me=G),W!==me)){if(Le=Co,se="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Le=Ji,se="onPointerLeave",z="onPointerEnter",k="pointer"),ct=W==null?K:Rn(W),H=me==null?K:Rn(me),K=new Le(se,k+"leave",W,a,ne),K.target=ct,K.relatedTarget=H,se=null,_i(ne)===G&&(Le=new Le(z,k+"enter",me,a,ne),Le.target=H,Le.relatedTarget=ct,se=Le),ct=se,W&&me)t:{for(Le=MS,z=W,k=me,H=0,se=z;se;se=Le(se))H++;se=0;for(var Ae=k;Ae;Ae=Le(Ae))se++;for(;0<H-se;)z=Le(z),H--;for(;0<se-H;)k=Le(k),se--;for(;H--;){if(z===k||k!==null&&z===k.alternate){Le=z;break t}z=Le(z),k=Le(k)}Le=null}else Le=null;W!==null&&pv(re,K,W,Le,!1),me!==null&&ct!==null&&pv(re,ct,me,Le,!0)}}e:{if(K=G?Rn(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Je=Ig;else if(Og(K))if(xg)Je=zb;else{Je=kb;var Ee=Pb}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&ia(G.elementType)&&(Je=Ig):Je=Ub;if(Je&&(Je=Je(t,G))){Dg(re,Je,a,ne);break e}Ee&&Ee(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&vo(K,"number",K.value)}switch(Ee=G?Rn(G):window,t){case"focusin":(Og(Ee)||Ee.contentEditable==="true")&&(ha=Ee,ch=G,Ro=null);break;case"focusout":Ro=ch=ha=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,jg(re,a,ne);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":jg(re,a,ne)}var Pe;if(tt)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ca?Tr(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ri&&a.locale!=="ko"&&(ca||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ca&&(Pe=So()):(Ai=ne,bo="value"in Ai?Ai.value:Ai.textContent,ca=!0)),Ee=Ku(G,Fe),0<Ee.length&&(Fe=new Mi(Fe,t,null,a,ne),re.push({event:Fe,listeners:Ee}),Pe?Fe.data=Pe:(Pe=ua(a),Pe!==null&&(Fe.data=Pe)))),(Pe=qn?Ib(t,a):xb(t,a))&&(Fe=Ku(G,"onBeforeInput"),0<Fe.length&&(Ee=new Mi("onBeforeInput","beforeinput",null,a,ne),re.push({event:Ee,listeners:Fe}),Ee.data=Pe)),CS(re,t,G,a,ne)}dv(re,n)})}function el(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ku(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=si(t,a),h!=null&&o.unshift(el(t,h,d)),h=si(t,n),h!=null&&o.push(el(t,h,d))),t.tag===3)return o;t=t.return}return[]}function MS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,n,a,o,h){for(var d=n._reactName,y=[];a!==null&&a!==o;){var T=a,N=T.alternate,G=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||G===null||(N=G,h?(G=si(a,d),G!=null&&y.unshift(el(a,G,N))):h||(G=si(a,d),G!=null&&y.push(el(a,G,N)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var RS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(RS,`
`).replace(OS,"")}function vv(t,n){return n=mv(n),mv(t)===n}function ut(t,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":On(t,"class",o);break;case"tabIndex":On(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,a,o);break;case"style":_o(t,o,d);break;case"data":if(n!=="object"){On(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),ta(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kl.get(a)||a,ta(t,a,o))}}function kf(t,n,a,o,h,d){switch(a){case"style":_o(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Ft]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ta(t,a,o)}}}function tn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,d,y,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),o&&ut(t,n,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=y=h=null,N=null,G=null;for(o in a)if(a.hasOwnProperty(o)){var ne=a[o];if(ne!=null)switch(o){case"name":h=ne;break;case"type":y=ne;break;case"checked":N=ne;break;case"defaultChecked":G=ne;break;case"value":d=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,n));break;default:ut(t,n,o,ne,a,null)}}Gl(t,d,T,N,G,y,h,!1);return;case"select":je("invalid",t),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:ut(t,n,h,T,a,null)}n=d,a=y,t.multiple=!!o,n!=null?Ss(t,!!o,n,!1):a!=null&&Ss(t,!!o,a,!0);return;case"textarea":je("invalid",t),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ut(t,n,y,T,a,null)}Ts(t,o,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ut(t,n,N,o,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<Wo.length;o++)je(Wo[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,G,o,a,null)}return;default:if(ia(n)){for(ne in a)a.hasOwnProperty(ne)&&(o=a[ne],o!==void 0&&kf(t,n,ne,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ut(t,n,T,o,a,null))}function DS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,N=null,G=null,ne=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":N=re;default:o.hasOwnProperty(W)||ut(t,n,W,null,o,re)}}for(var K in o){var W=o[K];if(re=a[K],o.hasOwnProperty(K)&&(W!=null||re!=null))switch(K){case"type":d=W;break;case"name":h=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":y=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:W!==re&&ut(t,n,K,W,o,re)}}na(t,y,T,N,G,ne,d,h);return;case"select":W=y=T=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":W=N;default:o.hasOwnProperty(d)||ut(t,n,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==N&&ut(t,n,h,d,o,N)}n=T,a=y,o=W,K!=null?Ss(t,!!a,K,!1):!!o!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ut(t,n,y,h,o,d)}Fl(t,K,W);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ut(t,n,me,null,o,K)}for(N in o)if(K=o[N],W=a[N],o.hasOwnProperty(N)&&K!==W&&(K!=null||W!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ut(t,n,N,K,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)K=a[Le],a.hasOwnProperty(Le)&&K!=null&&!o.hasOwnProperty(Le)&&ut(t,n,Le,null,o,K);for(G in o)if(K=o[G],W=a[G],o.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:ut(t,n,G,K,o,W)}return;default:if(ia(n)){for(var ct in a)K=a[ct],a.hasOwnProperty(ct)&&K!==void 0&&!o.hasOwnProperty(ct)&&kf(t,n,ct,void 0,o,K);for(ne in o)K=o[ne],W=a[ne],!o.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||kf(t,n,ne,K,o,W);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!o.hasOwnProperty(z)&&ut(t,n,z,null,o,K);for(re in o)K=o[re],W=a[re],!o.hasOwnProperty(re)||K===W||K==null&&W==null||ut(t,n,re,K,o,W)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&yv(y)){for(y=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],G=N.startTime;if(G>T)break;var ne=N.transferSize,re=N.initiatorType;ne&&yv(re)&&(N=N.responseEnd,y+=ne*(N<T?1:(T-G)/(N-G)))}if(--o,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,zf=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function _v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jf=null;function xS(){var t=window.event;return t&&t.type==="popstate"?t===jf?!1:(jf=t,!0):(jf=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(t){return Sv.resolve(null).then(t).catch(PS)}:bv;function PS(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function Tv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ua(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,tl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&tl(t.ownerDocument.body);a=h}while(a);Ua(n)}function Cv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qf(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function US(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function Av(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$?"||t.data==="$~"}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ff=null;function wv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Lv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Mv(t,n,a){switch(n=Yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ea(t)}var Xn=new Map,Rv=new Set;function Zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=le.d;le.d={f:BS,r:jS,D:qS,C:HS,L:GS,m:FS,X:KS,S:QS,M:YS};function BS(){var t=ds.f(),n=Bu();return t||n}function jS(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Qp(n):ds.r(t)}var Na=typeof document>"u"?null:document;function Ov(t,n,a){var o=Na;if(o&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Rv.has(h)||(Rv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function qS(t){ds.D(t),Ov("dns-prefetch",t,null)}function HS(t,n){ds.C(t,n),Ov("preconnect",t,n)}function GS(t,n,a){ds.L(t,n,a);var o=Na;if(o&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var d=h;switch(n){case"style":d=Pa(t);break;case"script":d=ka(t)}Xn.has(d)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Xn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(nl(d))||n==="script"&&o.querySelector(il(d))||(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function FS(t,n){ds.m(t,n);var a=Na;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(t)}if(!Xn.has(d)&&(t=S({rel:"modulepreload",href:t},n),Xn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}o=a.createElement("link"),tn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function QS(t,n,a){ds.S(t,n,a);var o=Na;if(o&&t){var h=Ei(o).hoistableStyles,d=Pa(t);n=n||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(nl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Xn.get(d))&&Qf(t,a);var N=y=o.createElement("link");Dt(N),tn(N,"link",t),N._p=new Promise(function(G,ne){N.onload=G,N.onerror=ne}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function KS(t,n){ds.X(t,n);var a=Na;if(a&&t){var o=Ei(a).hoistableScripts,h=ka(t),d=o.get(h);d||(d=a.querySelector(il(h)),d||(t=S({src:t,async:!0},n),(n=Xn.get(h))&&Kf(t,n),d=a.createElement("script"),Dt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function YS(t,n){ds.M(t,n);var a=Na;if(a&&t){var o=Ei(a).hoistableScripts,h=ka(t),d=o.get(h);d||(d=a.querySelector(il(h)),d||(t=S({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&Kf(t,n),d=a.createElement("script"),Dt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Dv(t,n,a,o){var h=(h=pe.current)?Zu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var d=Ei(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(nl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||ZS(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Pa(t){return'href="'+vn(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function Iv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function ZS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),Dt(n),t.head.appendChild(n))}function ka(t){return'[src="'+vn(t)+'"]'}function il(t){return"script[async]"+t}function xv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),tn(o,"style",h),Xu(o,a.precedence,t),n.instance=o;case"stylesheet":h=Pa(a.href);var d=t.querySelector(nl(h));if(d)return n.state.loading|=4,n.instance=d,Dt(d),d;o=Iv(a),(h=Xn.get(h))&&Qf(o,h),d=(t.ownerDocument||t).createElement("link"),Dt(d);var y=d;return y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),tn(d,"link",o),n.state.loading|=4,Xu(d,a.precedence,t),n.instance=d;case"script":return d=ka(a.src),(h=t.querySelector(il(d)))?(n.instance=h,Dt(h),h):(o=a,(h=Xn.get(d))&&(o=S({},a),Kf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Xu(o,a.precedence,t));return n.instance}function Xu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var $u=null;function Vv(t,n,a){if($u===null){var o=new Map,h=$u=new Map;h.set(a,o)}else h=$u,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yi]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var T=o.get(y);T?T.push(d):o.set(y,[d])}}return o}function Nv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function XS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $S(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),d=n.querySelector(nl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ju.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Dt(d);return}d=n.ownerDocument||n,o=Iv(o),(h=Xn.get(h))&&Qf(o,h),d=d.createElement("link"),Dt(d);var y=d;y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),tn(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ju.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Yf=0;function JS(t,n){return t.stylesheets&&t.count===0&&ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Yf===0&&(Yf=62500*IS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Yf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,n.forEach(WS,t),Wu=null,Ju.call(t))}function WS(t,n){if(!(n.state.loading&4)){var a=Wu.get(t);if(a)var o=a.get(null);else{a=new Map,Wu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=Ju.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var sl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function eT(t,n,a,o,h,d,y,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function kv(t,n,a,o,h,d,y,T,N,G,ne,re){return t=new eT(t,n,a,y,N,G,ne,re,T),n=1,d===!0&&(n|=24),d=In(3,null,null,n),t.current=d,d.stateNode=t,n=wh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Oh(d),t}function Uv(t){return t?(t=ga,t):ga}function zv(t,n,a,o,h,d){h=Uv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ns(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ps(t,o,n),a!==null&&(Tn(a,t,n),Po(a,t,n))}function Bv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){Bv(t,n),(t=t.alternate)&&Bv(t,n)}function jv(t){if(t.tag===13||t.tag===31){var n=wr(t,67108864);n!==null&&Tn(n,t,67108864),Zf(t,67108864)}}function qv(t){if(t.tag===13||t.tag===31){var n=kn();n=gr(n);var a=wr(t,n);a!==null&&Tn(a,t,n),Zf(t,n)}}var tc=!0;function tT(t,n,a,o){var h=q.T;q.T=null;var d=le.p;try{le.p=2,Xf(t,n,a,o)}finally{le.p=d,q.T=h}}function nT(t,n,a,o){var h=q.T;q.T=null;var d=le.p;try{le.p=8,Xf(t,n,a,o)}finally{le.p=d,q.T=h}}function Xf(t,n,a,o){if(tc){var h=$f(o);if(h===null)Pf(t,n,o,nc,a),Gv(t,o);else if(sT(h,t,n,a,o))o.stopPropagation();else if(Gv(t,o),n&4&&-1<iT.indexOf(t)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=gn(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var N=1<<31-vt(y);T.entanglements[1]|=N,y&=~N}xi(d),(nt&6)===0&&(Uu=Gt()+500,Jo(0))}}break;case 31:case 13:T=wr(d,2),T!==null&&Tn(T,d,2),Bu(),Zf(d,2)}if(d=$f(o),d===null&&Pf(t,n,o,nc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Pf(t,n,o,null,a)}}function $f(t){return t=Bn(t),Jf(t)}var nc=null;function Jf(t){if(nc=null,t=_i(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nc=t,null}function Hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case _s:return 2;case pi:return 8;case ei:case Es:return 32;case fr:return 268435456;default:return 32}default:return 32}}var Wf=!1,Ks=null,Ys=null,Zs=null,rl=new Map,al=new Map,Xs=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(t,n,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&jv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function sT(t,n,a,o,h){switch(n){case"focusin":return Ks=ol(Ks,t,n,a,o,h),!0;case"dragenter":return Ys=ol(Ys,t,n,a,o,h),!0;case"mouseover":return Zs=ol(Zs,t,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return rl.set(d,ol(rl.get(d)||null,t,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,al.set(d,ol(al.get(d)||null,t,n,a,o,h)),!0}return!1}function Fv(t){var n=_i(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,ti(t.priority,function(){qv(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,ti(t.priority,function(){qv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Eo=o,a.target.dispatchEvent(o),Eo=null}else return n=zn(a),n!==null&&jv(n),t.blockedOn=a,!1;n.shift()}return!0}function Qv(t,n,a){ic(t)&&a.delete(n)}function rT(){Wf=!1,Ks!==null&&ic(Ks)&&(Ks=null),Ys!==null&&ic(Ys)&&(Ys=null),Zs!==null&&ic(Zs)&&(Zs=null),rl.forEach(Qv),al.forEach(Qv)}function sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rT)))}var rc=null;function Kv(t){rc!==t&&(rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Jf(o||a)===null)continue;break}var d=zn(a);d!==null&&(t.splice(n,3),n-=3,Xh(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(t){function n(N){return sc(N,t)}Ks!==null&&sc(Ks,t),Ys!==null&&sc(Ys,t),Zs!==null&&sc(Zs,t),rl.forEach(n),al.forEach(n);for(var a=0;a<Xs.length;a++){var o=Xs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)Fv(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[Ft]||null;if(typeof d=="function")y||Kv(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ft]||null)T=y.formAction;else if(Jf(h)!==null)continue}else T=y.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Kv(a)}}}function Yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ed(t){this._internalRoot=t}ac.prototype.render=ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=kn();zv(a,o,t,n,null,null)},ac.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;zv(t.current,2,null,t,null,null),Bu(),n[vi]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bl();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Xs.length&&n!==0&&n<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&Fv(t)}};var Zv=e.version;if(Zv!=="19.2.0")throw Error(r(527,Zv,"19.2.0"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ln=oc.inject(aT),Rt=oc}catch{}}return ul.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=nm,d=im,y=sm;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=kv(t,1,!1,null,null,a,o,null,h,d,y,Yv),t[vi]=n.current,Nf(t),new ed(n)},ul.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=nm,y=im,T=sm,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=kv(t,1,!0,n,a??null,o,h,N,d,y,T,Yv),n.context=Uv(null),a=n.current,o=kn(),o=gr(o),h=Ns(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,Ki(n,a),xi(n),t[vi]=n.current,Nf(t),new ac(n)},ul.version="19.2.0",ul}var ry;function vT(){if(ry)return id.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),id.exports=mT(),id.exports}var yT=vT(),to=xE();function Cl(s){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(s)}function _T(s,e){if(Cl(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function ET(s){var e=_T(s,"string");return Cl(e)=="symbol"?e:e+""}function te(s,e,i){return(e=ET(e))in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function VE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var od,ay;function bT(){if(ay)return od;ay=1;var s=function(i,r,l,u,f,g,p,v){if(!i){var b;if(r===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[l,u,f,g,p,v],w=0;b=new Error(r.replace(/%s/g,function(){return S[w++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}};return od=s,od}var ST=bT(),qt=VE(ST),ke=E.createContext(null);function TT(){qt(!!E.useContext,"useGoogleMap is React hook and requires React version 16.8+");var s=E.useContext(ke);return qt(!!s,"useGoogleMap needs a GoogleMap available up in the tree"),s}function CT(s,e,i){return Object.keys(s).reduce(function(l,u){return e(l,s[u],u)},i)}function AT(s,e){Object.keys(s).forEach(i=>e(s[i],i))}function wT(s,e,i,r){var l={},u=(f,g)=>{var p=i[g];p!==e[g]&&(l[g]=p,f(r,p))};return AT(s,u),l}function LT(s,e,i){var r=CT(i,function(u,f,g){return typeof s[g]=="function"&&u.push(google.maps.event.addListener(e,f,s[g])),u},[]);return r}function MT(s){google.maps.event.removeListener(s)}function He(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(MT)}function ze(s){var{updaterMap:e,eventMap:i,prevProps:r,nextProps:l,instance:u}=s,f=LT(l,u,i);return wT(e,r,l,u),f}var oy={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},ly={extraMapTypes(s,e){e.forEach(function(r,l){s.mapTypes.set(String(l),r)})},center(s,e){s.setCenter(e)},clickableIcons(s,e){s.setClickableIcons(e)},heading(s,e){s.setHeading(e)},mapTypeId(s,e){s.setMapTypeId(e)},options(s,e){s.setOptions(e)},streetView(s,e){s.setStreetView(e)},tilt(s,e){s.setTilt(e)},zoom(s,e){s.setZoom(e)}};function RT(s){var{children:e,options:i,id:r,mapContainerStyle:l,mapContainerClassName:u,center:f,onClick:g,onDblClick:p,onDrag:v,onDragEnd:b,onDragStart:S,onMouseMove:w,onMouseOut:I,onMouseOver:x,onMouseDown:j,onMouseUp:U,onRightClick:Y,onCenterChanged:J,onLoad:oe,onUnmount:ee}=s,[Q,$]=E.useState(null),L=E.useRef(null),[M,C]=E.useState(null),[D,O]=E.useState(null),[P,R]=E.useState(null),[ge,_e]=E.useState(null),[q,le]=E.useState(null),[he,ye]=E.useState(null),[ve,V]=E.useState(null),[Z,ie]=E.useState(null),[ce,F]=E.useState(null),[pe,be]=E.useState(null),[Se,Oe]=E.useState(null),[Ce,Ue]=E.useState(null);return E.useEffect(()=>{i&&Q!==null&&Q.setOptions(i)},[Q,i]),E.useEffect(()=>{Q!==null&&typeof f<"u"&&Q.setCenter(f)},[Q,f]),E.useEffect(()=>{Q&&p&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(Q,"dblclick",p)))},[p]),E.useEffect(()=>{Q&&b&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(Q,"dragend",b)))},[b]),E.useEffect(()=>{Q&&S&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(Q,"dragstart",S)))},[S]),E.useEffect(()=>{Q&&j&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(Q,"mousedown",j)))},[j]),E.useEffect(()=>{Q&&w&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener(Q,"mousemove",w)))},[w]),E.useEffect(()=>{Q&&I&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(Q,"mouseout",I)))},[I]),E.useEffect(()=>{Q&&x&&(Z!==null&&google.maps.event.removeListener(Z),ie(google.maps.event.addListener(Q,"mouseover",x)))},[x]),E.useEffect(()=>{Q&&U&&(ce!==null&&google.maps.event.removeListener(ce),F(google.maps.event.addListener(Q,"mouseup",U)))},[U]),E.useEffect(()=>{Q&&Y&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(Q,"rightclick",Y)))},[Y]),E.useEffect(()=>{Q&&g&&(Se!==null&&google.maps.event.removeListener(Se),Oe(google.maps.event.addListener(Q,"click",g)))},[g]),E.useEffect(()=>{Q&&v&&(Ce!==null&&google.maps.event.removeListener(Ce),Ue(google.maps.event.addListener(Q,"drag",v)))},[v]),E.useEffect(()=>{Q&&J&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(Q,"center_changed",J)))},[g]),E.useEffect(()=>{var Ht=L.current===null?null:new google.maps.Map(L.current,i);return $(Ht),Ht!==null&&oe&&oe(Ht),()=>{Ht!==null&&ee&&ee(Ht)}},[]),qe.jsx("div",{id:r,ref:L,style:l,className:u,children:qe.jsx(ke.Provider,{value:Q,children:Q!==null?e:null})})}E.memo(RT);class OT extends E.PureComponent{constructor(){super(...arguments),te(this,"state",{map:null}),te(this,"registeredEvents",[]),te(this,"mapRef",null),te(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),te(this,"panTo",e=>{var i=this.getInstance();i&&i.panTo(e)}),te(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),te(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ze({updaterMap:ly,eventMap:oy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:ly,eventMap:oy,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),He(this.registeredEvents))}render(){return qe.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:qe.jsx(ke.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function uy(s,e,i,r,l,u,f){try{var g=s[u](f),p=g.value}catch(v){return void i(v)}g.done?e(p):Promise.resolve(p).then(r,l)}function NE(s){return function(){var e=this,i=arguments;return new Promise(function(r,l){var u=s.apply(e,i);function f(p){uy(u,r,l,f,g,"next",p)}function g(p){uy(u,r,l,f,g,"throw",p)}f(void 0)})}}function PE(s){var{googleMapsApiKey:e,googleMapsClientId:i,version:r="weekly",language:l,region:u,libraries:f,channel:g,mapIds:p,authReferrerPolicy:v,apiUrl:b="https://maps.googleapis.com"}=s,S=[];return qt(e&&i||!(e&&i),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?S.push("key=".concat(e)):i&&S.push("client=".concat(i)),r&&S.push("v=".concat(r)),l&&S.push("language=".concat(l)),u&&S.push("region=".concat(u)),f&&f.length&&S.push("libraries=".concat(f.sort().join(","))),g&&S.push("channel=".concat(g)),p&&p.length&&S.push("map_ids=".concat(p.join(","))),v&&S.push("auth_referrer_policy=".concat(v)),S.push("loading=async"),S.push("callback=initMap"),"".concat(b,"/maps/api/js?").concat(S.join("&"))}var er=typeof document<"u";function kE(s){var{url:e,id:i,nonce:r}=s;return er?new Promise(function(u,f){var g=document.getElementById(i),p=window;if(g){var v=g.getAttribute("data-state");if(g.src===e&&v!=="error"){if(v==="ready")return u(i);var b=p.initMap,S=g.onerror;p.initMap=function(){b&&b(),u(i)},g.onerror=function(I){S&&S(I),f(I)};return}else g.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=e,w.id=i,w.async=!0,w.nonce=r||"",w.onerror=function(x){w.setAttribute("data-state","error"),f(x)},p.initMap=function(){w.setAttribute("data-state","ready"),u(i)},document.head.appendChild(w)}).catch(l=>{throw console.error("injectScript error: ",l),l}):Promise.reject(new Error("document is undefined"))}function cy(s){var e=s.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:s.tagName.toLowerCase()==="style"&&s.styleSheet&&s.styleSheet.cssText&&s.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(s.styleSheet.cssText="",!0):s.tagName.toLowerCase()==="style"&&s.innerHTML&&s.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(s.innerHTML="",!0):s.tagName.toLowerCase()==="style"&&!s.styleSheet&&!s.innerHTML}function Kd(){var s=document.getElementsByTagName("head")[0];if(s){var e=s.insertBefore.bind(s);s.insertBefore=function(l,u){return cy(l)||Reflect.apply(e,s,[l,u]),l};var i=s.appendChild.bind(s);s.appendChild=function(l){return cy(l)||Reflect.apply(i,s,[l]),l}}}var cl=!1;function UE(){return qe.jsx("div",{children:"Loading..."})}var Al={id:"script-loader",version:"weekly"};class DT extends E.PureComponent{constructor(){super(...arguments),te(this,"check",null),te(this,"state",{loaded:!1}),te(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),te(this,"isCleaningUp",NE(function*(){function e(i){if(!cl)i();else if(er)var r=window.setInterval(function(){cl||(window.clearInterval(r),i())},1)}return new Promise(e)})),te(this,"cleanup",()=>{cl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),te(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Kd(),qt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:PE(this.props)};kE(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(i=>{this.props.onError&&this.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),te(this,"getRef",e=>{this.check=e})}componentDidMount(){if(er){if(window.google&&window.google.maps&&!cl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(i){console.error("Error at injecting script after cleaning up: ",i)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),er&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(er){this.cleanup();var e=()=>{this.check||(delete window.google,cl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return qe.jsxs(qe.Fragment,{children:[qe.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||qe.jsx(UE,{})]})}}te(DT,"defaultProps",Al);function IT(s,e){if(s==null)return{};var i={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(e.includes(r))continue;i[r]=s[r]}return i}function Yd(s,e){if(s==null)return{};var i,r,l=IT(s,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(r=0;r<u.length;r++)i=u[r],e.includes(i)||{}.propertyIsEnumerable.call(s,i)&&(l[i]=s[i])}return l}var hy;function xT(s){var{id:e=Al.id,version:i=Al.version,nonce:r,googleMapsApiKey:l,googleMapsClientId:u,language:f,region:g,libraries:p,preventGoogleFontsLoading:v,channel:b,mapIds:S,authReferrerPolicy:w,apiUrl:I="https://maps.googleapis.com"}=s,x=E.useRef(!1),[j,U]=E.useState(!1),[Y,J]=E.useState(void 0);E.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),E.useEffect(function(){er&&v&&Kd()},[v]),E.useEffect(function(){j&&qt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[j]);var oe=PE({version:i,googleMapsApiKey:l,googleMapsClientId:u,language:f,region:g,libraries:p,channel:b,mapIds:S,authReferrerPolicy:w,apiUrl:I});E.useEffect(function(){if(!er)return;function $(){x.current&&(U(!0),hy=oe)}if(window.google&&window.google.maps&&hy===oe){$();return}kE({id:e,url:oe,nonce:r}).then($).catch(function(M){x.current&&J(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(l||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[e,oe,r]);var ee=E.useRef(void 0);return E.useEffect(function(){ee.current&&p!==ee.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ee.current=p},[p]),{isLoaded:j,loadError:Y,url:oe}}var VT=["loadingElement","onLoad","onError","onUnmount","children"],NT=qe.jsx(UE,{});function PT(s){var{loadingElement:e,onLoad:i,onError:r,onUnmount:l,children:u}=s,f=Yd(s,VT),{isLoaded:g,loadError:p}=xT(f);return E.useEffect(function(){g&&typeof i=="function"&&i()},[g,i]),E.useEffect(function(){p&&typeof r=="function"&&r(p)},[p,r]),E.useEffect(function(){return()=>{l&&l()}},[l]),g?u:e||NT}E.memo(PT);function kT(s,e,i,r){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function g(b){try{v(r.next(b))}catch(S){f(S)}}function p(b){try{v(r.throw(b))}catch(S){f(S)}}function v(b){b.done?u(b.value):l(b.value).then(g,p)}v((r=r.apply(s,[])).next())})}function UT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zT=function s(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,l,u;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(l=r;l--!==0;)if(!s(e[l],i[l]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(i).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(i,u[l]))return!1;for(l=r;l--!==0;){var f=u[l];if(!s(e[f],i[f]))return!1}return!0}return e!==e&&i!==i},BT=UT(zT),fy="__googleMapsScriptId",Ha;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(Ha||(Ha={}));class jr{constructor(e){var{apiKey:i,authReferrerPolicy:r,channel:l,client:u,id:f=fy,language:g,libraries:p=[],mapIds:v,nonce:b,region:S,retries:w=3,url:I="https://maps.googleapis.com/maps/api/js",version:x}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=i,this.authReferrerPolicy=r,this.channel=l,this.client=u,this.id=f||fy,this.language=g,this.libraries=p,this.mapIds=v,this.nonce=b,this.region=S,this.retries=w,this.url=I,this.version=x,jr.instance){if(!BT(this.options,jr.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(jr.instance.options)));return jr.instance}jr.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ha.FAILURE:this.done?Ha.SUCCESS:this.loading?Ha.LOADING:Ha.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,i)=>{this.loadCallback(r=>{r?i(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,i;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(u=>!r[u]&&delete r[u]),!((i=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||i===void 0)&&i.importLibrary||(u=>{var f,g,p,v="The Google Maps JavaScript API",b="google",S="importLibrary",w="__ib__",I=document,x=window;x=x[b]||(x[b]={});var j=x.maps||(x.maps={}),U=new Set,Y=new URLSearchParams,J=()=>f||(f=new Promise((oe,ee)=>kT(this,void 0,void 0,function*(){var Q;yield g=I.createElement("script"),g.id=this.id,Y.set("libraries",[...U]+"");for(p in u)Y.set(p.replace(/[A-Z]/g,$=>"_"+$[0].toLowerCase()),u[p]);Y.set("callback",b+".maps."+w),g.src=this.url+"?"+Y,j[w]=oe,g.onerror=()=>f=ee(Error(v+" could not load.")),g.nonce=this.nonce||((Q=I.querySelector("script[nonce]"))===null||Q===void 0?void 0:Q.nonce)||"",I.head.append(g)})));j[S]?console.warn(v+" only loads once. Ignoring:",u):j[S]=function(oe){for(var ee=arguments.length,Q=new Array(ee>1?ee-1:0),$=1;$<ee;$++)Q[$-1]=arguments[$];return U.add(oe)&&J().then(()=>j[S](oe,...Q))}})(r);var l=this.libraries.map(u=>this.importLibrary(u));l.length||l.push(this.importLibrary("core")),Promise.all(l).then(()=>this.callback(),u=>{var f=new ErrorEvent("error",{error:u});this.loadErrorCallback(f)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(i," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},i)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var jT=["maps"];function qT(s){var{id:e=Al.id,version:i=Al.version,nonce:r,googleMapsApiKey:l,language:u,region:f,libraries:g=jT,preventGoogleFontsLoading:p,mapIds:v,authReferrerPolicy:b}=s,S=E.useRef(!1),[w,I]=E.useState(!1),[x,j]=E.useState(void 0);E.useEffect(function(){return S.current=!0,()=>{S.current=!1}},[]);var U=E.useMemo(()=>new jr({id:e,apiKey:l,version:i,libraries:g,language:u||"en",region:f||"US",mapIds:v||[],nonce:r||"",authReferrerPolicy:b||"origin"}),[e,l,i,g,u,f,v,r,b]);E.useEffect(function(){w||U.load().then(()=>{S.current&&I(!0)}).catch(oe=>{j(oe)})},[]),E.useEffect(()=>{er&&p&&Kd()},[p]);var Y=E.useRef();return E.useEffect(()=>{Y.current&&g!==Y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Y.current=g},[g]),{isLoaded:w,loadError:x}}function dy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function bc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):dy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var gy={},py={options(s,e){s.setOptions(e)}};function HT(s){var{options:e,onLoad:i,onUnmount:r}=s,l=E.useContext(ke),[u,f]=E.useState(null);return E.useEffect(()=>{u!==null&&u.setMap(l)},[l]),E.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),E.useEffect(()=>{var g=new google.maps.TrafficLayer(bc(bc({},e),{},{map:l}));return f(g),i&&i(g),()=>{u!==null&&(r&&r(u),u.setMap(null))}},[]),null}E.memo(HT);class GT extends E.PureComponent{constructor(){super(...arguments),te(this,"state",{trafficLayer:null}),te(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),te(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(bc(bc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:py,eventMap:gy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:py,eventMap:gy,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),He(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}te(GT,"contextType",ke);function FT(s){var{onLoad:e,onUnmount:i}=s,r=E.useContext(ke),[l,u]=E.useState(null);return E.useEffect(()=>{l!==null&&l.setMap(r)},[r]),E.useEffect(()=>{var f=new google.maps.BicyclingLayer;return u(f),f.setMap(r),e&&e(f),()=>{f!==null&&(i&&i(f),f.setMap(null))}},[]),null}E.memo(FT);class QT extends E.PureComponent{constructor(){super(...arguments),te(this,"state",{bicyclingLayer:null}),te(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}te(QT,"contextType",ke);function KT(s){var{onLoad:e,onUnmount:i}=s,r=E.useContext(ke),[l,u]=E.useState(null);return E.useEffect(()=>{l!==null&&l.setMap(r)},[r]),E.useEffect(()=>{var f=new google.maps.TransitLayer;return u(f),f.setMap(r),e&&e(f),()=>{l!==null&&(i&&i(l),l.setMap(null))}},[]),null}E.memo(KT);class YT extends E.PureComponent{constructor(){super(...arguments),te(this,"state",{transitLayer:null}),te(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}te(YT,"contextType",ke);function my(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Sc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?my(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):my(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var vy={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},yy={drawingMode(s,e){s.setDrawingMode(e)},options(s,e){s.setOptions(e)}};function ZT(s){var{options:e,drawingMode:i,onCircleComplete:r,onMarkerComplete:l,onOverlayComplete:u,onPolygonComplete:f,onPolylineComplete:g,onRectangleComplete:p,onLoad:v,onUnmount:b}=s,S=E.useContext(ke),[w,I]=E.useState(null),[x,j]=E.useState(null),[U,Y]=E.useState(null),[J,oe]=E.useState(null),[ee,Q]=E.useState(null),[$,L]=E.useState(null),[M,C]=E.useState(null);return E.useEffect(()=>{w!==null&&w.setMap(S)},[S]),E.useEffect(()=>{e&&w!==null&&w.setOptions(e)},[w,e]),E.useEffect(()=>{w!==null&&w.setDrawingMode(i??null)},[w,i]),E.useEffect(()=>{w&&r&&(x!==null&&google.maps.event.removeListener(x),j(google.maps.event.addListener(w,"circlecomplete",r)))},[w,r]),E.useEffect(()=>{w&&l&&(U!==null&&google.maps.event.removeListener(U),Y(google.maps.event.addListener(w,"markercomplete",l)))},[w,l]),E.useEffect(()=>{w&&u&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(w,"overlaycomplete",u)))},[w,u]),E.useEffect(()=>{w&&f&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(w,"polygoncomplete",f)))},[w,f]),E.useEffect(()=>{w&&g&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(w,"polylinecomplete",g)))},[w,g]),E.useEffect(()=>{w&&p&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(w,"rectanglecomplete",p)))},[w,p]),E.useEffect(()=>{qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var D=new google.maps.drawing.DrawingManager(Sc(Sc({},e),{},{map:S}));return i&&D.setDrawingMode(i),r&&j(google.maps.event.addListener(D,"circlecomplete",r)),l&&Y(google.maps.event.addListener(D,"markercomplete",l)),u&&oe(google.maps.event.addListener(D,"overlaycomplete",u)),f&&Q(google.maps.event.addListener(D,"polygoncomplete",f)),g&&L(google.maps.event.addListener(D,"polylinecomplete",g)),p&&C(google.maps.event.addListener(D,"rectanglecomplete",p)),I(D),v&&v(D),()=>{w!==null&&(x&&google.maps.event.removeListener(x),U&&google.maps.event.removeListener(U),J&&google.maps.event.removeListener(J),ee&&google.maps.event.removeListener(ee),$&&google.maps.event.removeListener($),M&&google.maps.event.removeListener(M),b&&b(w),w.setMap(null))}},[]),null}E.memo(ZT);class XT extends E.PureComponent{constructor(e){super(e),te(this,"registeredEvents",[]),te(this,"state",{drawingManager:null}),te(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Sc(Sc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:yy,eventMap:vy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:yy,eventMap:vy,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),He(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}te(XT,"contextType",ke);function _y(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Ga(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):_y(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var Ey={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},by={animation(s,e){s.setAnimation(e)},clickable(s,e){s.setClickable(e)},cursor(s,e){s.setCursor(e)},draggable(s,e){s.setDraggable(e)},icon(s,e){s.setIcon(e)},label(s,e){s.setLabel(e)},map(s,e){s.setMap(e)},opacity(s,e){s.setOpacity(e)},options(s,e){s.setOptions(e)},position(s,e){s.setPosition(e)},shape(s,e){s.setShape(e)},title(s,e){s.setTitle(e)},visible(s,e){s.setVisible(e)},zIndex(s,e){s.setZIndex(e)}},Tc={};function $T(s){var{position:e,options:i,clusterer:r,noClustererRedraw:l,children:u,draggable:f,visible:g,animation:p,clickable:v,cursor:b,icon:S,label:w,opacity:I,shape:x,title:j,zIndex:U,onClick:Y,onDblClick:J,onDrag:oe,onDragEnd:ee,onDragStart:Q,onMouseOut:$,onMouseOver:L,onMouseUp:M,onMouseDown:C,onRightClick:D,onClickableChanged:O,onCursorChanged:P,onAnimationChanged:R,onDraggableChanged:ge,onFlatChanged:_e,onIconChanged:q,onPositionChanged:le,onShapeChanged:he,onTitleChanged:ye,onVisibleChanged:ve,onZindexChanged:V,onLoad:Z,onUnmount:ie}=s,ce=E.useContext(ke),[F,pe]=E.useState(null),[be,Se]=E.useState(null),[Oe,Ce]=E.useState(null),[Ue,Ht]=E.useState(null),[an,on]=E.useState(null),[Ze,fi]=E.useState(null),[di,ys]=E.useState(null),[ft,St]=E.useState(null),[An,$r]=E.useState(null),[ji,Gt]=E.useState(null),[gi,_s]=E.useState(null),[pi,ei]=E.useState(null),[Es,fr]=E.useState(null),[qi,dr]=E.useState(null),[ln,Rt]=E.useState(null),[Xt,vt]=E.useState(null),[Hi,Gi]=E.useState(null),[Fi,wn]=E.useState(null),[mi,Et]=E.useState(null),[gn,Ln]=E.useState(null),[un,Jr]=E.useState(null),[Qi,Mn]=E.useState(null);E.useEffect(()=>{F!==null&&F.setMap(ce)},[ce]),E.useEffect(()=>{typeof i<"u"&&F!==null&&F.setOptions(i)},[F,i]),E.useEffect(()=>{typeof f<"u"&&F!==null&&F.setDraggable(f)},[F,f]),E.useEffect(()=>{e&&F!==null&&F.setPosition(e)},[F,e]),E.useEffect(()=>{typeof g<"u"&&F!==null&&F.setVisible(g)},[F,g]),E.useEffect(()=>{F?.setAnimation(p)},[F,p]),E.useEffect(()=>{F&&v!==void 0&&F.setClickable(v)},[F,v]),E.useEffect(()=>{F&&b!==void 0&&F.setCursor(b)},[F,b]),E.useEffect(()=>{F&&S!==void 0&&F.setIcon(S)},[F,S]),E.useEffect(()=>{F&&w!==void 0&&F.setLabel(w)},[F,w]),E.useEffect(()=>{F&&I!==void 0&&F.setOpacity(I)},[F,I]),E.useEffect(()=>{F&&x!==void 0&&F.setShape(x)},[F,x]),E.useEffect(()=>{F&&j!==void 0&&F.setTitle(j)},[F,j]),E.useEffect(()=>{F&&U!==void 0&&F.setZIndex(U)},[F,U]),E.useEffect(()=>{F&&J&&(be!==null&&google.maps.event.removeListener(be),Se(google.maps.event.addListener(F,"dblclick",J)))},[J]),E.useEffect(()=>{F&&ee&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(F,"dragend",ee)))},[ee]),E.useEffect(()=>{F&&Q&&(Ue!==null&&google.maps.event.removeListener(Ue),Ht(google.maps.event.addListener(F,"dragstart",Q)))},[Q]),E.useEffect(()=>{F&&C&&(an!==null&&google.maps.event.removeListener(an),on(google.maps.event.addListener(F,"mousedown",C)))},[C]),E.useEffect(()=>{F&&$&&(Ze!==null&&google.maps.event.removeListener(Ze),fi(google.maps.event.addListener(F,"mouseout",$)))},[$]),E.useEffect(()=>{F&&L&&(di!==null&&google.maps.event.removeListener(di),ys(google.maps.event.addListener(F,"mouseover",L)))},[L]),E.useEffect(()=>{F&&M&&(ft!==null&&google.maps.event.removeListener(ft),St(google.maps.event.addListener(F,"mouseup",M)))},[M]),E.useEffect(()=>{F&&D&&(An!==null&&google.maps.event.removeListener(An),$r(google.maps.event.addListener(F,"rightclick",D)))},[D]),E.useEffect(()=>{F&&Y&&(ji!==null&&google.maps.event.removeListener(ji),Gt(google.maps.event.addListener(F,"click",Y)))},[Y]),E.useEffect(()=>{F&&oe&&(gi!==null&&google.maps.event.removeListener(gi),_s(google.maps.event.addListener(F,"drag",oe)))},[oe]),E.useEffect(()=>{F&&O&&(pi!==null&&google.maps.event.removeListener(pi),ei(google.maps.event.addListener(F,"clickable_changed",O)))},[O]),E.useEffect(()=>{F&&P&&(Es!==null&&google.maps.event.removeListener(Es),fr(google.maps.event.addListener(F,"cursor_changed",P)))},[P]),E.useEffect(()=>{F&&R&&(qi!==null&&google.maps.event.removeListener(qi),dr(google.maps.event.addListener(F,"animation_changed",R)))},[R]),E.useEffect(()=>{F&&ge&&(ln!==null&&google.maps.event.removeListener(ln),Rt(google.maps.event.addListener(F,"draggable_changed",ge)))},[ge]),E.useEffect(()=>{F&&_e&&(Xt!==null&&google.maps.event.removeListener(Xt),vt(google.maps.event.addListener(F,"flat_changed",_e)))},[_e]),E.useEffect(()=>{F&&q&&(Hi!==null&&google.maps.event.removeListener(Hi),Gi(google.maps.event.addListener(F,"icon_changed",q)))},[q]),E.useEffect(()=>{F&&le&&(Fi!==null&&google.maps.event.removeListener(Fi),wn(google.maps.event.addListener(F,"position_changed",le)))},[le]),E.useEffect(()=>{F&&he&&(mi!==null&&google.maps.event.removeListener(mi),Et(google.maps.event.addListener(F,"shape_changed",he)))},[he]),E.useEffect(()=>{F&&ye&&(gn!==null&&google.maps.event.removeListener(gn),Ln(google.maps.event.addListener(F,"title_changed",ye)))},[ye]),E.useEffect(()=>{F&&ve&&(un!==null&&google.maps.event.removeListener(un),Jr(google.maps.event.addListener(F,"visible_changed",ve)))},[ve]),E.useEffect(()=>{F&&V&&(Qi!==null&&google.maps.event.removeListener(Qi),Mn(google.maps.event.addListener(F,"zindex_changed",V)))},[V]),E.useEffect(()=>{var Yi=Ga(Ga(Ga({},i||Tc),r?Tc:{map:ce}),{},{position:e}),Me=new google.maps.Marker(Yi);return r?r.addMarker(Me,!!l):Me.setMap(ce),e&&Me.setPosition(e),typeof g<"u"&&Me.setVisible(g),typeof f<"u"&&Me.setDraggable(f),typeof v<"u"&&Me.setClickable(v),typeof b=="string"&&Me.setCursor(b),S&&Me.setIcon(S),typeof w<"u"&&Me.setLabel(w),typeof I<"u"&&Me.setOpacity(I),x&&Me.setShape(x),typeof j=="string"&&Me.setTitle(j),typeof U=="number"&&Me.setZIndex(U),J&&Se(google.maps.event.addListener(Me,"dblclick",J)),ee&&Ce(google.maps.event.addListener(Me,"dragend",ee)),Q&&Ht(google.maps.event.addListener(Me,"dragstart",Q)),C&&on(google.maps.event.addListener(Me,"mousedown",C)),$&&fi(google.maps.event.addListener(Me,"mouseout",$)),L&&ys(google.maps.event.addListener(Me,"mouseover",L)),M&&St(google.maps.event.addListener(Me,"mouseup",M)),D&&$r(google.maps.event.addListener(Me,"rightclick",D)),Y&&Gt(google.maps.event.addListener(Me,"click",Y)),oe&&_s(google.maps.event.addListener(Me,"drag",oe)),O&&ei(google.maps.event.addListener(Me,"clickable_changed",O)),P&&fr(google.maps.event.addListener(Me,"cursor_changed",P)),R&&dr(google.maps.event.addListener(Me,"animation_changed",R)),ge&&Rt(google.maps.event.addListener(Me,"draggable_changed",ge)),_e&&vt(google.maps.event.addListener(Me,"flat_changed",_e)),q&&Gi(google.maps.event.addListener(Me,"icon_changed",q)),le&&wn(google.maps.event.addListener(Me,"position_changed",le)),he&&Et(google.maps.event.addListener(Me,"shape_changed",he)),ye&&Ln(google.maps.event.addListener(Me,"title_changed",ye)),ve&&Jr(google.maps.event.addListener(Me,"visible_changed",ve)),V&&Mn(google.maps.event.addListener(Me,"zindex_changed",V)),pe(Me),Z&&Z(Me),()=>{be!==null&&google.maps.event.removeListener(be),Oe!==null&&google.maps.event.removeListener(Oe),Ue!==null&&google.maps.event.removeListener(Ue),an!==null&&google.maps.event.removeListener(an),Ze!==null&&google.maps.event.removeListener(Ze),di!==null&&google.maps.event.removeListener(di),ft!==null&&google.maps.event.removeListener(ft),An!==null&&google.maps.event.removeListener(An),ji!==null&&google.maps.event.removeListener(ji),pi!==null&&google.maps.event.removeListener(pi),Es!==null&&google.maps.event.removeListener(Es),qi!==null&&google.maps.event.removeListener(qi),ln!==null&&google.maps.event.removeListener(ln),Xt!==null&&google.maps.event.removeListener(Xt),Hi!==null&&google.maps.event.removeListener(Hi),Fi!==null&&google.maps.event.removeListener(Fi),gn!==null&&google.maps.event.removeListener(gn),un!==null&&google.maps.event.removeListener(un),Qi!==null&&google.maps.event.removeListener(Qi),ie&&ie(Me),r?r.removeMarker(Me,!!l):Me&&Me.setMap(null)}},[]);var Ki=E.useMemo(()=>u?E.Children.map(u,Yi=>{if(!E.isValidElement(Yi))return Yi;var Me=Yi;return E.cloneElement(Me,{anchor:F})}):null,[u,F]);return qe.jsx(qe.Fragment,{children:Ki})||null}E.memo($T);class bd extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[])}componentDidMount(){var e=this;return NE(function*(){var i=Ga(Ga(Ga({},e.props.options||Tc),e.props.clusterer?Tc:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(i),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ze({updaterMap:by,eventMap:Ey,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:by,eventMap:Ey,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),He(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?E.Children.map(this.props.children,i=>{if(!E.isValidElement(i))return i;var r=i;return E.cloneElement(r,{anchor:this.marker})}):null;return e||null}}te(bd,"contextType",ke);var JT=(function(){function s(e,i){e.getClusterer().extend(s,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=i,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return s.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},s.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},s.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var i=this.cluster.getClusterer();if(google.maps.event.trigger(i,"click",this.cluster),google.maps.event.trigger(i,"clusterclick",this.cluster),i.getZoomOnClick()){var r=i.getMaxZoom(),l=this.cluster.getBounds(),u=i.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(l),this.timeOut=window.setTimeout(function(){var f=i.getMap();if(f!==null){"fitBounds"in f&&f.fitBounds(l);var g=f.getZoom()||0;r!==null&&g>r&&f.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},s.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},s.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},s.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var i=this.getMap();i!==null&&(this.boundsChangedListener=google.maps.event.addListener(i,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},s.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},s.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},s.prototype.show=function(){var e,i,r,l,u,f;if(this.div&&this.center){var g=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),v=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),b=parseInt(((i=p[1])===null||i===void 0?void 0:i.replace(/^\s+|\s+$/g,""))||"0",10),S=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(S!==null?"".concat(S.y,"px"):"0","; left: ").concat(S!==null?"".concat(S.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=g,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(b,"px; left: ").concat(v,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(b,"px, -").concat(v+this.width,"px, -").concat(b+this.height,", -").concat(v,")"));var I=document.createElement("div");I.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(I.innerText="".concat((l=this.sums)===null||l===void 0?void 0:l.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(I.innerHTML="".concat((f=this.sums)===null||f===void 0?void 0:f.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(I),this.div.title=g,this.div.style.display=""}this.visible=!0},s.prototype.useStyle=function(e){this.sums=e;var i=this.cluster.getClusterer().getStyles(),r=i[Math.min(i.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},s.prototype.setCenter=function(e){this.center=e},s.prototype.getPosFromLatLng=function(e){var i=this.getProjection().fromLatLngToDivPixel(e);return i!==null&&(i.x-=this.anchorIcon[1],i.y-=this.anchorIcon[0]),i},s})(),WT=(function(){function s(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new JT(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return s.prototype.getSize=function(){return this.markers.length},s.prototype.getMarkers=function(){return this.markers},s.prototype.getCenter=function(){return this.center},s.prototype.getMap=function(){return this.map},s.prototype.getClusterer=function(){return this.markerClusterer},s.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),i=this.getMarkers(),r=0,l=i;r<l.length;r++){var u=l[r],f=u.getPosition();f&&e.extend(f)}return e},s.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},s.prototype.addMarker=function(e){var i;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var l=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(l-1)+r.lat())/l,(this.center.lng()*(l-1)+r.lng())/l),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,f=this.markerClusterer.getMaxZoom(),g=(i=this.map)===null||i===void 0?void 0:i.getZoom();if(f!==null&&typeof g<"u"&&g>f)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var p=0,v=this.markers;p<v.length;p++){var b=v[p];b.setMap(null)}else e.setMap(null);return!0},s.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var i=e.getPosition();if(i)return this.bounds.contains(i)}return!1},s.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},s.prototype.updateIcon=function(){var e,i=this.markers.length,r=this.markerClusterer.getMaxZoom(),l=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof l<"u"&&l>r){this.clusterIcon.hide();return}if(i<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},s.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var i=0;i<this.markers.length;i++)if(e===this.markers[i])return!0;return!1},s})();function e1(s,e){var i=s.length,r=i.toString().length,l=Math.min(r,e);return{text:i.toString(),index:l,title:""}}var t1=2e3,n1=500,i1="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",s1="png",r1=[53,56,66,78,90],a1="cluster",zE=(function(){function s(e,i,r){i===void 0&&(i=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(s,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||i1,this.imageExtension=r.imageExtension||s1,this.imageSizes=r.imageSizes||r1,this.calculator=r.calculator||e1,this.batchSize=r.batchSize||t1,this.batchSizeIE=r.batchSizeIE||n1,this.clusterClass=r.clusterClass||a1,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(i,!0),this.setMap(e)}return s.prototype.onZoomChanged=function(){var e,i;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((i=this.getMap())===null||i===void 0?void 0:i.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},s.prototype.onIdle=function(){this.redraw()},s.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},s.prototype.onRemove=function(){for(var e=0,i=this.markers;e<i.length;e++){var r=i[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var l=0,u=this.clusters;l<u.length;l++){var f=u[l];f.remove()}this.clusters=[];for(var g=0,p=this.listeners;g<p.length;g++){var v=p[g];google.maps.event.removeListener(v)}this.listeners=[],this.activeMap=null,this.ready=!1},s.prototype.draw=function(){},s.prototype.getMap=function(){return null},s.prototype.getPanes=function(){return null},s.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},s.prototype.setMap=function(){},s.prototype.addListener=function(){return{remove:function(){}}},s.prototype.bindTo=function(){},s.prototype.get=function(){},s.prototype.notify=function(){},s.prototype.set=function(){},s.prototype.setValues=function(){},s.prototype.unbind=function(){},s.prototype.unbindAll=function(){},s.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},s.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),i=new google.maps.LatLngBounds,r=0,l=e;r<l.length;r++){var u=l[r],f=u.getPosition();f&&i.extend(f)}var g=this.getMap();g!==null&&"fitBounds"in g&&g.fitBounds(i)},s.prototype.getGridSize=function(){return this.gridSize},s.prototype.setGridSize=function(e){this.gridSize=e},s.prototype.getMinimumClusterSize=function(){return this.minClusterSize},s.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},s.prototype.getMaxZoom=function(){return this.maxZoom},s.prototype.setMaxZoom=function(e){this.maxZoom=e},s.prototype.getStyles=function(){return this.styles},s.prototype.setStyles=function(e){this.styles=e},s.prototype.getTitle=function(){return this.title},s.prototype.setTitle=function(e){this.title=e},s.prototype.getZoomOnClick=function(){return this.zoomOnClick},s.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},s.prototype.getAverageCenter=function(){return this.averageCenter},s.prototype.setAverageCenter=function(e){this.averageCenter=e},s.prototype.getIgnoreHidden=function(){return this.ignoreHidden},s.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},s.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},s.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},s.prototype.getImageExtension=function(){return this.imageExtension},s.prototype.setImageExtension=function(e){this.imageExtension=e},s.prototype.getImagePath=function(){return this.imagePath},s.prototype.setImagePath=function(e){this.imagePath=e},s.prototype.getImageSizes=function(){return this.imageSizes},s.prototype.setImageSizes=function(e){this.imageSizes=e},s.prototype.getCalculator=function(){return this.calculator},s.prototype.setCalculator=function(e){this.calculator=e},s.prototype.getBatchSizeIE=function(){return this.batchSizeIE},s.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},s.prototype.getClusterClass=function(){return this.clusterClass},s.prototype.setClusterClass=function(e){this.clusterClass=e},s.prototype.getMarkers=function(){return this.markers},s.prototype.getTotalMarkers=function(){return this.markers.length},s.prototype.getClusters=function(){return this.clusters},s.prototype.getTotalClusters=function(){return this.clusters.length},s.prototype.addMarker=function(e,i){this.pushMarkerTo(e),i||this.redraw()},s.prototype.addMarkers=function(e,i){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=e[r];l&&this.pushMarkerTo(l)}i||this.redraw()},s.prototype.pushMarkerTo=function(e){var i=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){i.ready&&(e.isAdded=!1,i.repaint())}),e.isAdded=!1,this.markers.push(e)},s.prototype.removeMarker_=function(e){var i=-1;if(this.markers.indexOf)i=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){i=r;break}return i===-1?!1:(e.setMap(null),this.markers.splice(i,1),!0)},s.prototype.removeMarker=function(e,i){var r=this.removeMarker_(e);return!i&&r&&this.repaint(),r},s.prototype.removeMarkers=function(e,i){for(var r=!1,l=0,u=e;l<u.length;l++){var f=u[l];r=r||this.removeMarker_(f)}return!i&&r&&this.repaint(),r},s.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},s.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,l=e;r<l.length;r++){var u=l[r];u.remove()}},0)},s.prototype.getExtendedBounds=function(e){var i=this.getProjection(),r=i.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var l=i.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(l!==null&&(l.x-=this.gridSize,l.y+=this.gridSize),r!==null){var u=i.fromDivPixelToLatLng(r);u!==null&&e.extend(u)}if(l!==null){var f=i.fromDivPixelToLatLng(l);f!==null&&e.extend(f)}return e},s.prototype.redraw=function(){this.createClusters(0)},s.prototype.resetViewport=function(e){for(var i=0,r=this.clusters;i<r.length;i++){var l=r[i];l.remove()}this.clusters=[];for(var u=0,f=this.markers;u<f.length;u++){var g=f[u];g.isAdded=!1,e&&g.setMap(null)}},s.prototype.distanceBetweenPoints=function(e,i){var r=6371,l=(i.lat()-e.lat())*Math.PI/180,u=(i.lng()-e.lng())*Math.PI/180,f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(i.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))},s.prototype.isMarkerInBounds=function(e,i){var r=e.getPosition();return r?i.contains(r):!1},s.prototype.addToClosestCluster=function(e){for(var i,r=4e4,l=null,u=0,f=this.clusters;u<f.length;u++){var g=f[u];i=g;var p=i.getCenter(),v=e.getPosition();if(p&&v){var b=this.distanceBetweenPoints(p,v);b<r&&(r=b,l=i)}}l&&l.isMarkerInClusterBounds(e)?l.addMarker(e):(i=new WT(this),i.addMarker(e),this.clusters.push(i))},s.prototype.createClusters=function(e){var i=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),l=r!==null&&("getBounds"in r)?r.getBounds():null,u=r?.getZoom()||0,f=u>3?new google.maps.LatLngBounds(l?.getSouthWest(),l?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),g=this.getExtendedBounds(f),p=Math.min(e+this.batchSize,this.markers.length),v=e;v<p;v++){var b=this.markers[v];b&&!b.isAdded&&this.isMarkerInBounds(b,g)&&(!this.ignoreHidden||this.ignoreHidden&&b.getVisible())&&this.addToClosestCluster(b)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){i.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var S=0,w=this.clusters;S<w.length;S++){var I=w[S];I.updateIcon()}}}},s.prototype.extend=function(e,i){return(function(l){for(var u in l.prototype){var f=u;this.prototype[f]=l.prototype[f]}return this}).apply(e,[i])},s})();function Sy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function o1(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Sy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Sy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var $n={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(s,e){s.setAverageCenter(e)},batchSizeIE(s,e){s.setBatchSizeIE(e)},calculator(s,e){s.setCalculator(e)},clusterClass(s,e){s.setClusterClass(e)},enableRetinaIcons(s,e){s.setEnableRetinaIcons(e)},gridSize(s,e){s.setGridSize(e)},ignoreHidden(s,e){s.setIgnoreHidden(e)},imageExtension(s,e){s.setImageExtension(e)},imagePath(s,e){s.setImagePath(e)},imageSizes(s,e){s.setImageSizes(e)},maxZoom(s,e){s.setMaxZoom(e)},minimumClusterSize(s,e){s.setMinimumClusterSize(e)},styles(s,e){s.setStyles(e)},title(s,e){s.setTitle(e)},zoomOnClick(s,e){s.setZoomOnClick(e)}},l1={};function u1(s){var{children:e,options:i,averageCenter:r,batchSizeIE:l,calculator:u,clusterClass:f,enableRetinaIcons:g,gridSize:p,ignoreHidden:v,imageExtension:b,imagePath:S,imageSizes:w,maxZoom:I,minimumClusterSize:x,styles:j,title:U,zoomOnClick:Y,onClick:J,onClusteringBegin:oe,onClusteringEnd:ee,onMouseOver:Q,onMouseOut:$,onLoad:L,onUnmount:M}=s,[C,D]=E.useState(null),O=E.useContext(ke),[P,R]=E.useState(null),[ge,_e]=E.useState(null),[q,le]=E.useState(null),[he,ye]=E.useState(null),[ve,V]=E.useState(null);return E.useEffect(()=>{C&&$&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener(C,$n.onMouseOut,$)))},[$]),E.useEffect(()=>{C&&Q&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(C,$n.onMouseOver,Q)))},[Q]),E.useEffect(()=>{C&&J&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(C,$n.onClick,J)))},[J]),E.useEffect(()=>{C&&oe&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(C,$n.onClusteringBegin,oe)))},[oe]),E.useEffect(()=>{C&&ee&&(q!==null&&google.maps.event.removeListener(q),_e(google.maps.event.addListener(C,$n.onClusteringEnd,ee)))},[ee]),E.useEffect(()=>{typeof r<"u"&&C!==null&&et.averageCenter(C,r)},[C,r]),E.useEffect(()=>{typeof l<"u"&&C!==null&&et.batchSizeIE(C,l)},[C,l]),E.useEffect(()=>{typeof u<"u"&&C!==null&&et.calculator(C,u)},[C,u]),E.useEffect(()=>{typeof f<"u"&&C!==null&&et.clusterClass(C,f)},[C,f]),E.useEffect(()=>{typeof g<"u"&&C!==null&&et.enableRetinaIcons(C,g)},[C,g]),E.useEffect(()=>{typeof p<"u"&&C!==null&&et.gridSize(C,p)},[C,p]),E.useEffect(()=>{typeof v<"u"&&C!==null&&et.ignoreHidden(C,v)},[C,v]),E.useEffect(()=>{typeof b<"u"&&C!==null&&et.imageExtension(C,b)},[C,b]),E.useEffect(()=>{typeof S<"u"&&C!==null&&et.imagePath(C,S)},[C,S]),E.useEffect(()=>{typeof w<"u"&&C!==null&&et.imageSizes(C,w)},[C,w]),E.useEffect(()=>{typeof I<"u"&&C!==null&&et.maxZoom(C,I)},[C,I]),E.useEffect(()=>{typeof x<"u"&&C!==null&&et.minimumClusterSize(C,x)},[C,x]),E.useEffect(()=>{typeof j<"u"&&C!==null&&et.styles(C,j)},[C,j]),E.useEffect(()=>{typeof U<"u"&&C!==null&&et.title(C,U)},[C,U]),E.useEffect(()=>{typeof Y<"u"&&C!==null&&et.zoomOnClick(C,Y)},[C,Y]),E.useEffect(()=>{if(O){var Z=o1({},i||l1),ie=new zE(O,[],Z);return r&&et.averageCenter(ie,r),l&&et.batchSizeIE(ie,l),u&&et.calculator(ie,u),f&&et.clusterClass(ie,f),g&&et.enableRetinaIcons(ie,g),p&&et.gridSize(ie,p),v&&et.ignoreHidden(ie,v),b&&et.imageExtension(ie,b),S&&et.imagePath(ie,S),w&&et.imageSizes(ie,w),I&&et.maxZoom(ie,I),x&&et.minimumClusterSize(ie,x),j&&et.styles(ie,j),U&&et.title(ie,U),Y&&et.zoomOnClick(ie,Y),$&&ye(google.maps.event.addListener(ie,$n.onMouseOut,$)),Q&&V(google.maps.event.addListener(ie,$n.onMouseOver,Q)),J&&R(google.maps.event.addListener(ie,$n.onClick,J)),oe&&_e(google.maps.event.addListener(ie,$n.onClusteringBegin,oe)),ee&&le(google.maps.event.addListener(ie,$n.onClusteringEnd,ee)),D(ie),L&&L(ie),()=>{he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),P!==null&&google.maps.event.removeListener(P),ge!==null&&google.maps.event.removeListener(ge),q!==null&&google.maps.event.removeListener(q),M&&M(ie)}}},[]),C!==null&&e(C)||null}E.memo(u1);class c1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{markerClusterer:null}),te(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new zE(this.context,[],this.props.options);this.registeredEvents=ze({updaterMap:et,eventMap:$n,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:et,eventMap:$n,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),He(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}te(c1,"contextType",ke);function Ty(s){s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}var BE=(function(){function s(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(s,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return s.prototype.createInfoBoxDiv=function(){var e=this,i=function(b){b.returnValue=!1,b.preventDefault&&b.preventDefault(),e.enableEventPropagation||Ty(b)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var l=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-l.left-l.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],f=0,g=u;f<g.length;f++){var p=g[f];this.eventListeners.push(google.maps.event.addListener(this.div,p,Ty))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",i),google.maps.event.trigger(this,"domready")}},s.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},s.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},s.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},s.prototype.getCloseClickHandler=function(){return this.closeClickHandler},s.prototype.panBox=function(e){if(this.div&&!e){var i=this.getMap();if(i instanceof google.maps.Map){var r=0,l=0,u=i.getBounds();u&&!u.contains(this.position)&&i.setCenter(this.position);var f=i.getDiv(),g=f.offsetWidth,p=f.offsetHeight,v=this.pixelOffset.width,b=this.pixelOffset.height,S=this.div.offsetWidth,w=this.div.offsetHeight,I=this.infoBoxClearance.width,x=this.infoBoxClearance.height,j=this.getProjection(),U=j.fromLatLngToContainerPixel(this.position);U!==null&&(U.x<-v+I?r=U.x+v-I:U.x+S+v+I>g&&(r=U.x+S+v+I-g),this.alignBottom?U.y<-b+x+w?l=U.y+b-x-w:U.y+b+x>p&&(l=U.y+b+x-p):U.y<-b+x?l=U.y+b-x:U.y+w+b+x>p&&(l=U.y+w+b+x-p)),r===0&&l===0||i.panBy(r,l)}}},s.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(this.div.style[i]=e[i]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},s.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var i=this.div.ownerDocument,r=i&&i.defaultView?i.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var l=this.div.currentStyle;l&&(e.top=parseInt(l.borderTopWidth||"",10)||0,e.bottom=parseInt(l.borderBottomWidth||"",10)||0,e.left=parseInt(l.borderLeftWidth||"",10)||0,e.right=parseInt(l.borderRightWidth||"",10)||0)}return e},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},s.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),i=e.fromLatLngToDivPixel(this.position);i!==null&&(this.div.style.left=i.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(i.y+this.pixelOffset.height)+"px":this.div.style.top=i.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},s.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},s.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},s.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},s.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},s.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},s.prototype.getContent=function(){return this.content},s.prototype.getPosition=function(){return this.position},s.prototype.getZIndex=function(){return this.zIndex},s.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},s.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},s.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},s.prototype.open=function(e,i){var r=this;i&&(this.position=i.getPosition(),this.moveListener=google.maps.event.addListener(i,"position_changed",function(){var l=i.getPosition();r.setPosition(l)}),this.mapListener=google.maps.event.addListener(i,"map_changed",function(){r.setMap(i.map)})),this.setMap(e),this.div&&this.panBox()},s.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,i=this.eventListeners;e<i.length;e++){var r=i[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},s.prototype.extend=function(e,i){return(function(l){for(var u in l.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=l.prototype[u]);return this}).apply(e,[i])},s})(),h1=["position"],f1=["position"];function Cy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Cc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Cy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Cy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var Ay={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},wy={options(s,e){s.setOptions(e)},position(s,e){e instanceof google.maps.LatLng?s.setPosition(e):s.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(s,e){s.setVisible(e)},zIndex(s,e){s.setZIndex(e)}},d1={};function g1(s){var{children:e,anchor:i,options:r,position:l,zIndex:u,onCloseClick:f,onDomReady:g,onContentChanged:p,onPositionChanged:v,onZindexChanged:b,onLoad:S,onUnmount:w}=s,I=E.useContext(ke),[x,j]=E.useState(null),[U,Y]=E.useState(null),[J,oe]=E.useState(null),[ee,Q]=E.useState(null),[$,L]=E.useState(null),[M,C]=E.useState(null),D=E.useRef(null);return E.useEffect(()=>{I&&x!==null&&(x.close(),i?x.open(I,i):x.getPosition()&&x.open(I))},[I,x,i]),E.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),E.useEffect(()=>{if(l&&x!==null){var O=l instanceof google.maps.LatLng?l:new google.maps.LatLng(l.lat,l.lng);x.setPosition(O)}},[l]),E.useEffect(()=>{typeof u=="number"&&x!==null&&x.setZIndex(u)},[u]),E.useEffect(()=>{x&&f&&(U!==null&&google.maps.event.removeListener(U),Y(google.maps.event.addListener(x,"closeclick",f)))},[f]),E.useEffect(()=>{x&&g&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(x,"domready",g)))},[g]),E.useEffect(()=>{x&&p&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(x,"content_changed",p)))},[p]),E.useEffect(()=>{x&&v&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(x,"position_changed",v)))},[v]),E.useEffect(()=>{x&&b&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(x,"zindex_changed",b)))},[b]),E.useEffect(()=>{if(I){var O=r||d1,{position:P}=O,R=Yd(O,h1),ge;P&&!(P instanceof google.maps.LatLng)&&(ge=new google.maps.LatLng(P.lat,P.lng));var _e=new BE(Cc(Cc({},R),ge?{position:ge}:{}));D.current=document.createElement("div"),j(_e),f&&Y(google.maps.event.addListener(_e,"closeclick",f)),g&&oe(google.maps.event.addListener(_e,"domready",g)),p&&Q(google.maps.event.addListener(_e,"content_changed",p)),v&&L(google.maps.event.addListener(_e,"position_changed",v)),b&&C(google.maps.event.addListener(_e,"zindex_changed",b)),_e.setContent(D.current),i?_e.open(I,i):_e.getPosition()?_e.open(I):qt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),S&&S(_e)}return()=>{x!==null&&(U&&google.maps.event.removeListener(U),ee&&google.maps.event.removeListener(ee),J&&google.maps.event.removeListener(J),$&&google.maps.event.removeListener($),M&&google.maps.event.removeListener(M),w&&w(x),x.close())}},[]),D.current?to.createPortal(E.Children.only(e),D.current):null}E.memo(g1);class p1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",null),te(this,"state",{infoBox:null}),te(this,"open",(e,i)=>{i?this.context!==null&&e.open(this.context,i):e.getPosition()?this.context!==null&&e.open(this.context):qt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),te(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:i}=e,r=Yd(e,f1),l;i&&!(i instanceof google.maps.LatLng)&&(l=new google.maps.LatLng(i.lat,i.lng));var u=new BE(Cc(Cc({},r),l?{position:l}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:wy,eventMap:Ay,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:i}=this.state;i!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:wy,eventMap:Ay,prevProps:e,nextProps:this.props,instance:i}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:i}=this.state;i!==null&&(e&&e(i),He(this.registeredEvents),i.close())}render(){return this.containerElement?to.createPortal(E.Children.only(this.props.children),this.containerElement):null}}te(p1,"contextType",ke);var ld,Ly;function m1(){return Ly||(Ly=1,ld=function s(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,l,u;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(l=r;l--!==0;)if(!s(e[l],i[l]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(i).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(i,u[l]))return!1;for(l=r;l--!==0;){var f=u[l];if(!s(e[f],i[f]))return!1}return!0}return e!==e&&i!==i}),ld}var v1=m1(),My=VE(v1),Ry=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ud=1,hl=8;class Zd{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[i,r]=new Uint8Array(e,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");var l=r>>4;if(l!==ud)throw new Error("Got v".concat(l," data when expected v").concat(ud,"."));var u=Ry[r&15];if(!u)throw new Error("Unrecognized array type.");var[f]=new Uint16Array(e,2,1),[g]=new Uint32Array(e,4,1);return new Zd(g,f,u,e)}constructor(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,l=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=Ry.indexOf(this.ArrayType),f=e*2*this.ArrayType.BYTES_PER_ELEMENT,g=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-g%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(r,"."));l&&l instanceof ArrayBuffer?(this.data=l,this.ids=new this.IndexArrayType(this.data,hl,e),this.coords=new this.ArrayType(this.data,hl+g+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(hl+f+g+p),this.ids=new this.IndexArrayType(this.data,hl,e),this.coords=new this.ArrayType(this.data,hl+g+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ud<<4)+u]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=e)}add(e,i){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=i,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Sd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,i,r,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:f,nodeSize:g}=this,p=[0,u.length-1,0],v=[];p.length;){var b=p.pop()||0,S=p.pop()||0,w=p.pop()||0;if(S-w<=g){for(var I=w;I<=S;I++){var x=f[2*I],j=f[2*I+1];x>=e&&x<=r&&j>=i&&j<=l&&v.push(u[I])}continue}var U=w+S>>1,Y=f[2*U],J=f[2*U+1];Y>=e&&Y<=r&&J>=i&&J<=l&&v.push(u[U]),(b===0?e<=Y:i<=J)&&(p.push(w),p.push(U-1),p.push(1-b)),(b===0?r>=Y:l>=J)&&(p.push(U+1),p.push(S),p.push(1-b))}return v}within(e,i,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:u,nodeSize:f}=this,g=[0,l.length-1,0],p=[],v=r*r;g.length;){var b=g.pop()||0,S=g.pop()||0,w=g.pop()||0;if(S-w<=f){for(var I=w;I<=S;I++)Oy(u[2*I],u[2*I+1],e,i)<=v&&p.push(l[I]);continue}var x=w+S>>1,j=u[2*x],U=u[2*x+1];Oy(j,U,e,i)<=v&&p.push(l[x]),(b===0?e-r<=j:i-r<=U)&&(g.push(w),g.push(x-1),g.push(1-b)),(b===0?e+r>=j:i+r>=U)&&(g.push(x+1),g.push(S),g.push(1-b))}return p}}function Sd(s,e,i,r,l,u){if(!(l-r<=i)){var f=r+l>>1;jE(s,e,f,r,l,u),Sd(s,e,i,r,f-1,1-u),Sd(s,e,i,f+1,l,1-u)}}function jE(s,e,i,r,l,u){for(;l>r;){if(l-r>600){var f=l-r+1,g=i-r+1,p=Math.log(f),v=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*v*(f-v)/f)*(g-f/2<0?-1:1),S=Math.max(r,Math.floor(i-g*v/f+b)),w=Math.min(l,Math.floor(i+(f-g)*v/f+b));jE(s,e,i,S,w,u)}var I=e[2*i+u],x=r,j=l;for(fl(s,e,r,i),e[2*l+u]>I&&fl(s,e,r,l);x<j;){for(fl(s,e,x,j),x++,j--;e[2*x+u]<I;)x++;for(;e[2*j+u]>I;)j--}e[2*r+u]===I?fl(s,e,r,j):(j++,fl(s,e,j,l)),j<=i&&(r=j+1),i<=j&&(l=j-1)}}function fl(s,e,i,r){cd(s,i,r),cd(e,2*i,2*r),cd(e,2*i+1,2*r+1)}function cd(s,e,i){var r=s[e];s[e]=s[i],s[i]=r}function Oy(s,e,i,r){var l=s-i,u=e-r;return l*l+u*u}var y1={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:s=>s},Dy=Math.fround||(s=>e=>(s[0]=+e,s[0]))(new Float32Array(1)),zr=2,Ws=3,hd=4,Js=5,qE=6;class _1{constructor(e){this.options=Object.assign(Object.create(y1),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:i,minZoom:r,maxZoom:l}=this.options;i&&console.time("total time");var u="prepare ".concat(e.length," points");i&&console.time(u),this.points=e;for(var f=[],g=0;g<e.length;g++){var p=e[g];if(p.geometry){var[v,b]=p.geometry.coordinates,S=Dy(lc(v)),w=Dy(uc(b));f.push(S,w,1/0,g,-1,1),this.options.reduce&&f.push(0)}}var I=this.trees[l+1]=this._createTree(f);i&&console.timeEnd(u);for(var x=l;x>=r;x--){var j=+Date.now();I=this.trees[x]=this._createTree(this._cluster(I,x)),i&&console.log("z%d: %d clusters in %dms",x,I.numItems,+Date.now()-j)}return i&&console.timeEnd("total time"),this}getClusters(e,i){var r=((e[0]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,f=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,u=180;else if(r>u){var g=this.getClusters([r,l,180,f],i),p=this.getClusters([-180,l,u,f],i);return g.concat(p)}var v=this.trees[this._limitZoom(i)],b=v.range(lc(r),uc(f),lc(u),uc(l)),S=v.data,w=[];for(var I of b){var x=this.stride*I;w.push(S[x+Js]>1?Iy(S,x,this.clusterProps):this.points[S[x+Ws]])}return w}getChildren(e){var i=this._getOriginId(e),r=this._getOriginZoom(e),l="No cluster with the specified id.",u=this.trees[r];if(!u)throw new Error(l);var f=u.data;if(i*this.stride>=f.length)throw new Error(l);var g=this.options.radius/(this.options.extent*Math.pow(2,r-1)),p=f[i*this.stride],v=f[i*this.stride+1],b=u.within(p,v,g),S=[];for(var w of b){var I=w*this.stride;f[I+hd]===e&&S.push(f[I+Js]>1?Iy(f,I,this.clusterProps):this.points[f[I+Ws]])}if(S.length===0)throw new Error(l);return S}getLeaves(e,i,r){i=i||10,r=r||0;var l=[];return this._appendLeaves(l,e,i,r,0),l}getTile(e,i,r){var l=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:f,radius:g}=this.options,p=g/f,v=(r-p)/u,b=(r+1+p)/u,S={features:[]};return this._addTileFeatures(l.range((i-p)/u,v,(i+1+p)/u,b),l.data,i,r,u,S),i===0&&this._addTileFeatures(l.range(1-p/u,v,1,b),l.data,u,r,u,S),i===u-1&&this._addTileFeatures(l.range(0,v,p/u,b),l.data,-1,r,u,S),S.features.length?S:null}getClusterExpansionZoom(e){for(var i=this._getOriginZoom(e)-1;i<=this.options.maxZoom;){var r=this.getChildren(e);if(i++,r.length!==1)break;e=r[0].properties.cluster_id}return i}_appendLeaves(e,i,r,l,u){var f=this.getChildren(i);for(var g of f){var p=g.properties;if(p&&p.cluster?u+p.point_count<=l?u+=p.point_count:u=this._appendLeaves(e,p.cluster_id,r,l,u):u<l?u++:e.push(g),e.length===r)break}return u}_createTree(e){for(var i=new Zd(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)i.add(e[r],e[r+1]);return i.finish(),i.data=e,i}_addTileFeatures(e,i,r,l,u,f){for(var g of e){var p=g*this.stride,v=i[p+Js]>1,b=void 0,S=void 0,w=void 0;if(v)b=HE(i,p,this.clusterProps),S=i[p],w=i[p+1];else{var I=this.points[i[p+Ws]];b=I.properties;var[x,j]=I.geometry.coordinates;S=lc(x),w=uc(j)}var U={type:1,geometry:[[Math.round(this.options.extent*(S*u-r)),Math.round(this.options.extent*(w*u-l))]],tags:b},Y=void 0;v||this.options.generateId?Y=i[p+Ws]:Y=this.points[i[p+Ws]].id,Y!==void 0&&(U.id=Y),f.features.push(U)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,i){for(var{radius:r,extent:l,reduce:u,minPoints:f}=this.options,g=r/(l*Math.pow(2,i)),p=e.data,v=[],b=this.stride,S=0;S<p.length;S+=b)if(!(p[S+zr]<=i)){p[S+zr]=i;var w=p[S],I=p[S+1],x=e.within(p[S],p[S+1],g),j=p[S+Js],U=j;for(var Y of x){var J=Y*b;p[J+zr]>i&&(U+=p[J+Js])}if(U>j&&U>=f){var oe=w*j,ee=I*j,Q=void 0,$=-1,L=((S/b|0)<<5)+(i+1)+this.points.length;for(var M of x){var C=M*b;if(!(p[C+zr]<=i)){p[C+zr]=i;var D=p[C+Js];oe+=p[C]*D,ee+=p[C+1]*D,p[C+hd]=L,u&&(Q||(Q=this._map(p,S,!0),$=this.clusterProps.length,this.clusterProps.push(Q)),u(Q,this._map(p,C)))}}p[S+hd]=L,v.push(oe/U,ee/U,1/0,L,-1,U),u&&v.push($)}else{for(var O=0;O<b;O++)v.push(p[S+O]);if(U>1)for(var P of x){var R=P*b;if(!(p[R+zr]<=i)){p[R+zr]=i;for(var ge=0;ge<b;ge++)v.push(p[R+ge])}}}}return v}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,i,r){if(e[i+Js]>1){var l=this.clusterProps[e[i+qE]];return r?Object.assign({},l):l}var u=this.points[e[i+Ws]].properties,f=this.options.map(u);return r&&f===u?Object.assign({},f):f}}function Iy(s,e,i){return{type:"Feature",id:s[e+Ws],properties:HE(s,e,i),geometry:{type:"Point",coordinates:[E1(s[e]),b1(s[e+1])]}}}function HE(s,e,i){var r=s[e+Js],l=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,u=s[e+qE],f=u===-1?{}:Object.assign({},i[u]);return Object.assign(f,{cluster:!0,cluster_id:s[e+Ws],point_count:r,point_count_abbreviated:l})}function lc(s){return s/360+.5}function uc(s){var e=Math.sin(s*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function E1(s){return(s-.5)*360}function b1(s){var e=(180-s*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function S1(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(i[r[l]]=s[r[l]]);return i}class Un{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,i){this.isAdvancedMarker(e)?e.map=i:e.setMap(i)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Td{constructor(e){var{markers:i,position:r}=e;this.markers=i,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var i of this.markers)e.extend(Un.getPosition(i));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Un.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Un.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class T1{constructor(e){var{maxZoom:i=16}=e;this.maxZoom=i}noop(e){var{markers:i}=e;return C1(i)}}var C1=s=>{var e=s.map(i=>new Td({position:Un.getPosition(i),markers:[i]}));return e};class A1 extends T1{constructor(e){var{maxZoom:i,radius:r=60}=e,l=S1(e,["maxZoom","radius"]);super({maxZoom:i}),this.state={zoom:-1},this.superCluster=new _1(Object.assign({maxZoom:this.maxZoom,radius:r},l))}calculate(e){var i=!1,r={zoom:e.map.getZoom()};if(!My(e.markers,this.markers)){i=!0,this.markers=[...e.markers];var l=this.markers.map(u=>{var f=Un.getPosition(u),g=[f.lng(),f.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:g},properties:{marker:u}}});this.superCluster.load(l)}return i||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(i=!My(this.state,r)),this.state=r,i&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:i}}cluster(e){var{map:i}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(i.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[i,r]},properties:l}=e;if(l.cluster)return new Td({markers:this.superCluster.getLeaves(l.cluster_id,1/0).map(f=>f.properties.marker),position:{lat:r,lng:i}});var u=l.marker;return new Td({markers:[u],position:Un.getPosition(u)})}}class w1{constructor(e,i){this.markers={sum:e.length};var r=i.map(u=>u.count),l=r.reduce((u,f)=>u+f,0);this.clusters={count:i.length,markers:{mean:l/i.length,sum:l,min:Math.min(...r),max:Math.max(...r)}}}}class L1{render(e,i,r){var{count:l,position:u}=e,f=l>Math.max(10,i.clusters.markers.mean)?"#ff0000":"#0000ff",g='<svg fill="'.concat(f,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(l,`</text>
</svg>`),p="Cluster of ".concat(l," markers"),v=Number(google.maps.Marker.MAX_ZINDEX)+l;if(Un.isAdvancedMarkerAvailable(r)){var b=new DOMParser,S=b.parseFromString(g,"image/svg+xml").documentElement;S.setAttribute("transform","translate(0 25)");var w={map:r,position:u,zIndex:v,title:p,content:S};return new google.maps.marker.AdvancedMarkerElement(w)}var I={position:u,zIndex:v,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(g)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(I)}}function M1(s,e){for(var i in e.prototype)s.prototype[i]=e.prototype[i]}class Xd{constructor(){M1(Xd,google.maps.OverlayView)}}var vl;(function(s){s.CLUSTERING_BEGIN="clusteringbegin",s.CLUSTERING_END="clusteringend",s.CLUSTER_CLICK="click"})(vl||(vl={}));var R1=(s,e,i)=>{i.fitBounds(e.bounds)};class O1 extends Xd{constructor(e){var{map:i,markers:r=[],algorithmOptions:l={},algorithm:u=new A1(l),renderer:f=new L1,onClusterClick:g=R1}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=u,this.renderer=f,this.onClusterClick=g,i&&this.setMap(i)}addMarker(e,i){this.markers.includes(e)||(this.markers.push(e),i||this.render())}addMarkers(e,i){e.forEach(r=>{this.addMarker(r,!0)}),i||this.render()}removeMarker(e,i){var r=this.markers.indexOf(e);return r===-1?!1:(Un.setMap(e,null),this.markers.splice(r,1),i||this.render(),!0)}removeMarkers(e,i){var r=!1;return e.forEach(l=>{r=this.removeMarker(l,!0)||r}),r&&!i&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,vl.CLUSTERING_BEGIN,this);var{clusters:i,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var l=new Set;for(var u of i)u.markers.length==1&&l.add(u.markers[0]);var f=[];for(var g of this.clusters)g.marker!=null&&(g.markers.length==1?l.has(g.marker)||Un.setMap(g.marker,null):f.push(g.marker));this.clusters=i,this.renderClusters(),requestAnimationFrame(()=>f.forEach(p=>Un.setMap(p,null)))}google.maps.event.trigger(this,vl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Un.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new w1(this.markers,this.clusters),i=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,i),r.markers.forEach(l=>Un.setMap(l,null)),this.onClusterClick&&r.marker.addListener("click",l=>{google.maps.event.trigger(this,vl.CLUSTER_CLICK,r),this.onClusterClick(l,r,i)})),Un.setMap(r.marker,i)})}}function xy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Vy(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?xy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):xy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function D1(s){var e=TT(),[i,r]=E.useState(null);return E.useEffect(()=>{if(e&&i===null){var l=new O1(Vy(Vy({},s),{},{map:e}));r(l)}},[e]),i}function I1(s){var{children:e,options:i}=s,r=D1(i);return r!==null?e(r):null}E.memo(I1);var Ny={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Py={options(s,e){s.setOptions(e)},position(s,e){s.setPosition(e)},zIndex(s,e){s.setZIndex(e)}};function x1(s){var{children:e,anchor:i,options:r,position:l,zIndex:u,onCloseClick:f,onDomReady:g,onContentChanged:p,onPositionChanged:v,onZindexChanged:b,onLoad:S,onUnmount:w}=s,I=E.useContext(ke),[x,j]=E.useState(null),[U,Y]=E.useState(null),[J,oe]=E.useState(null),[ee,Q]=E.useState(null),[$,L]=E.useState(null),[M,C]=E.useState(null),D=E.useRef(null);return E.useEffect(()=>{x!==null&&(x.close(),i?x.open(I,i):x.getPosition()&&x.open(I))},[I,x,i]),E.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),E.useEffect(()=>{l&&x!==null&&x.setPosition(l)},[l]),E.useEffect(()=>{typeof u=="number"&&x!==null&&x.setZIndex(u)},[u]),E.useEffect(()=>{x&&f&&(U!==null&&google.maps.event.removeListener(U),Y(google.maps.event.addListener(x,"closeclick",f)))},[f]),E.useEffect(()=>{x&&g&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(x,"domready",g)))},[g]),E.useEffect(()=>{x&&p&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(x,"content_changed",p)))},[p]),E.useEffect(()=>{x&&v&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(x,"position_changed",v)))},[v]),E.useEffect(()=>{x&&b&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(x,"zindex_changed",b)))},[b]),E.useEffect(()=>{var O=new google.maps.InfoWindow(r);return j(O),D.current=document.createElement("div"),f&&Y(google.maps.event.addListener(O,"closeclick",f)),g&&oe(google.maps.event.addListener(O,"domready",g)),p&&Q(google.maps.event.addListener(O,"content_changed",p)),v&&L(google.maps.event.addListener(O,"position_changed",v)),b&&C(google.maps.event.addListener(O,"zindex_changed",b)),O.setContent(D.current),l&&O.setPosition(l),u&&O.setZIndex(u),i?O.open(I,i):O.getPosition()?O.open(I):qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),S&&S(O),()=>{U&&google.maps.event.removeListener(U),ee&&google.maps.event.removeListener(ee),J&&google.maps.event.removeListener(J),$&&google.maps.event.removeListener($),M&&google.maps.event.removeListener(M),w&&w(O),O.close()}},[]),D.current?to.createPortal(E.Children.only(e),D.current):null}E.memo(x1);class Cd extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",null),te(this,"state",{infoWindow:null}),te(this,"open",(e,i)=>{i?e.open(this.context,i):e.getPosition()?e.open(this.context):qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),te(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:Py,eventMap:Ny,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Py,eventMap:Ny,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(He(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?to.createPortal(E.Children.only(this.props.children),this.containerElement):null}}te(Cd,"contextType",ke);function ky(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Ac(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ky(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var Uy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zy={draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},path(s,e){s.setPath(e)},visible(s,e){s.setVisible(e)}},V1={};function N1(s){var{options:e,draggable:i,editable:r,visible:l,path:u,onDblClick:f,onDragEnd:g,onDragStart:p,onMouseDown:v,onMouseMove:b,onMouseOut:S,onMouseOver:w,onMouseUp:I,onRightClick:x,onClick:j,onDrag:U,onLoad:Y,onUnmount:J}=s,oe=E.useContext(ke),[ee,Q]=E.useState(null),[$,L]=E.useState(null),[M,C]=E.useState(null),[D,O]=E.useState(null),[P,R]=E.useState(null),[ge,_e]=E.useState(null),[q,le]=E.useState(null),[he,ye]=E.useState(null),[ve,V]=E.useState(null),[Z,ie]=E.useState(null),[ce,F]=E.useState(null),[pe,be]=E.useState(null);return E.useEffect(()=>{ee!==null&&ee.setMap(oe)},[oe]),E.useEffect(()=>{typeof e<"u"&&ee!==null&&ee.setOptions(e)},[ee,e]),E.useEffect(()=>{typeof i<"u"&&ee!==null&&ee.setDraggable(i)},[ee,i]),E.useEffect(()=>{typeof r<"u"&&ee!==null&&ee.setEditable(r)},[ee,r]),E.useEffect(()=>{typeof l<"u"&&ee!==null&&ee.setVisible(l)},[ee,l]),E.useEffect(()=>{typeof u<"u"&&ee!==null&&ee.setPath(u)},[ee,u]),E.useEffect(()=>{ee&&f&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(ee,"dblclick",f)))},[f]),E.useEffect(()=>{ee&&g&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(ee,"dragend",g)))},[g]),E.useEffect(()=>{ee&&p&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(ee,"dragstart",p)))},[p]),E.useEffect(()=>{ee&&v&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(ee,"mousedown",v)))},[v]),E.useEffect(()=>{ee&&b&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(ee,"mousemove",b)))},[b]),E.useEffect(()=>{ee&&S&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(ee,"mouseout",S)))},[S]),E.useEffect(()=>{ee&&w&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener(ee,"mouseover",w)))},[w]),E.useEffect(()=>{ee&&I&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(ee,"mouseup",I)))},[I]),E.useEffect(()=>{ee&&x&&(Z!==null&&google.maps.event.removeListener(Z),ie(google.maps.event.addListener(ee,"rightclick",x)))},[x]),E.useEffect(()=>{ee&&j&&(ce!==null&&google.maps.event.removeListener(ce),F(google.maps.event.addListener(ee,"click",j)))},[j]),E.useEffect(()=>{ee&&U&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(ee,"drag",U)))},[U]),E.useEffect(()=>{var Se=new google.maps.Polyline(Ac(Ac({},e||V1),{},{map:oe}));return u&&Se.setPath(u),typeof l<"u"&&Se.setVisible(l),typeof r<"u"&&Se.setEditable(r),typeof i<"u"&&Se.setDraggable(i),f&&L(google.maps.event.addListener(Se,"dblclick",f)),g&&C(google.maps.event.addListener(Se,"dragend",g)),p&&O(google.maps.event.addListener(Se,"dragstart",p)),v&&R(google.maps.event.addListener(Se,"mousedown",v)),b&&_e(google.maps.event.addListener(Se,"mousemove",b)),S&&le(google.maps.event.addListener(Se,"mouseout",S)),w&&ye(google.maps.event.addListener(Se,"mouseover",w)),I&&V(google.maps.event.addListener(Se,"mouseup",I)),x&&ie(google.maps.event.addListener(Se,"rightclick",x)),j&&F(google.maps.event.addListener(Se,"click",j)),U&&be(google.maps.event.addListener(Se,"drag",U)),Q(Se),Y&&Y(Se),()=>{$!==null&&google.maps.event.removeListener($),M!==null&&google.maps.event.removeListener(M),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),ge!==null&&google.maps.event.removeListener(ge),q!==null&&google.maps.event.removeListener(q),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),Z!==null&&google.maps.event.removeListener(Z),ce!==null&&google.maps.event.removeListener(ce),J&&J(Se),Se.setMap(null)}},[]),null}E.memo(N1);class P1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{polyline:null}),te(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Ac(Ac({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:zy,eventMap:Uy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:zy,eventMap:Uy,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),He(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}te(P1,"contextType",ke);function By(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function jy(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?By(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):By(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var qy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hy={draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},path(s,e){s.setPath(e)},paths(s,e){s.setPaths(e)},visible(s,e){s.setVisible(e)}};function k1(s){var{options:e,draggable:i,editable:r,visible:l,path:u,paths:f,onDblClick:g,onDragEnd:p,onDragStart:v,onMouseDown:b,onMouseMove:S,onMouseOut:w,onMouseOver:I,onMouseUp:x,onRightClick:j,onClick:U,onDrag:Y,onLoad:J,onUnmount:oe,onEdit:ee}=s,Q=E.useContext(ke),[$,L]=E.useState(null),[M,C]=E.useState(null),[D,O]=E.useState(null),[P,R]=E.useState(null),[ge,_e]=E.useState(null),[q,le]=E.useState(null),[he,ye]=E.useState(null),[ve,V]=E.useState(null),[Z,ie]=E.useState(null),[ce,F]=E.useState(null),[pe,be]=E.useState(null),[Se,Oe]=E.useState(null);return E.useEffect(()=>{$!==null&&$.setMap(Q)},[Q]),E.useEffect(()=>{typeof e<"u"&&$!==null&&$.setOptions(e)},[$,e]),E.useEffect(()=>{typeof i<"u"&&$!==null&&$.setDraggable(i)},[$,i]),E.useEffect(()=>{typeof r<"u"&&$!==null&&$.setEditable(r)},[$,r]),E.useEffect(()=>{typeof l<"u"&&$!==null&&$.setVisible(l)},[$,l]),E.useEffect(()=>{typeof u<"u"&&$!==null&&$.setPath(u)},[$,u]),E.useEffect(()=>{typeof f<"u"&&$!==null&&$.setPaths(f)},[$,f]),E.useEffect(()=>{$&&typeof g=="function"&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener($,"dblclick",g)))},[g]),E.useEffect(()=>{$&&(google.maps.event.addListener($.getPath(),"insert_at",()=>{ee?.($)}),google.maps.event.addListener($.getPath(),"set_at",()=>{ee?.($)}),google.maps.event.addListener($.getPath(),"remove_at",()=>{ee?.($)}))},[$,ee]),E.useEffect(()=>{$&&typeof p=="function"&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener($,"dragend",p)))},[p]),E.useEffect(()=>{$&&typeof v=="function"&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener($,"dragstart",v)))},[v]),E.useEffect(()=>{$&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener($,"mousedown",b)))},[b]),E.useEffect(()=>{$&&typeof S=="function"&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener($,"mousemove",S)))},[S]),E.useEffect(()=>{$&&typeof w=="function"&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener($,"mouseout",w)))},[w]),E.useEffect(()=>{$&&typeof I=="function"&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener($,"mouseover",I)))},[I]),E.useEffect(()=>{$&&typeof x=="function"&&(Z!==null&&google.maps.event.removeListener(Z),ie(google.maps.event.addListener($,"mouseup",x)))},[x]),E.useEffect(()=>{$&&typeof j=="function"&&(ce!==null&&google.maps.event.removeListener(ce),F(google.maps.event.addListener($,"rightclick",j)))},[j]),E.useEffect(()=>{$&&typeof U=="function"&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener($,"click",U)))},[U]),E.useEffect(()=>{$&&typeof Y=="function"&&(Se!==null&&google.maps.event.removeListener(Se),Oe(google.maps.event.addListener($,"drag",Y)))},[Y]),E.useEffect(()=>{var Ce=new google.maps.Polygon(jy(jy({},e),{},{map:Q}));return u&&Ce.setPath(u),f&&Ce.setPaths(f),typeof l<"u"&&Ce.setVisible(l),typeof r<"u"&&Ce.setEditable(r),typeof i<"u"&&Ce.setDraggable(i),g&&C(google.maps.event.addListener(Ce,"dblclick",g)),p&&O(google.maps.event.addListener(Ce,"dragend",p)),v&&R(google.maps.event.addListener(Ce,"dragstart",v)),b&&_e(google.maps.event.addListener(Ce,"mousedown",b)),S&&le(google.maps.event.addListener(Ce,"mousemove",S)),w&&ye(google.maps.event.addListener(Ce,"mouseout",w)),I&&V(google.maps.event.addListener(Ce,"mouseover",I)),x&&ie(google.maps.event.addListener(Ce,"mouseup",x)),j&&F(google.maps.event.addListener(Ce,"rightclick",j)),U&&be(google.maps.event.addListener(Ce,"click",U)),Y&&Oe(google.maps.event.addListener(Ce,"drag",Y)),L(Ce),J&&J(Ce),()=>{M!==null&&google.maps.event.removeListener(M),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),ge!==null&&google.maps.event.removeListener(ge),q!==null&&google.maps.event.removeListener(q),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),Z!==null&&google.maps.event.removeListener(Z),ce!==null&&google.maps.event.removeListener(ce),pe!==null&&google.maps.event.removeListener(pe),oe&&oe(Ce),Ce.setMap(null)}},[]),null}E.memo(k1);class U1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ze({updaterMap:Hy,eventMap:qy,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Hy,eventMap:qy,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),He(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}te(U1,"contextType",ke);function Gy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function wc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Gy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var Fy={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qy={bounds(s,e){s.setBounds(e)},draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},visible(s,e){s.setVisible(e)}};function z1(s){var{options:e,bounds:i,draggable:r,editable:l,visible:u,onDblClick:f,onDragEnd:g,onDragStart:p,onMouseDown:v,onMouseMove:b,onMouseOut:S,onMouseOver:w,onMouseUp:I,onRightClick:x,onClick:j,onDrag:U,onBoundsChanged:Y,onLoad:J,onUnmount:oe}=s,ee=E.useContext(ke),[Q,$]=E.useState(null),[L,M]=E.useState(null),[C,D]=E.useState(null),[O,P]=E.useState(null),[R,ge]=E.useState(null),[_e,q]=E.useState(null),[le,he]=E.useState(null),[ye,ve]=E.useState(null),[V,Z]=E.useState(null),[ie,ce]=E.useState(null),[F,pe]=E.useState(null),[be,Se]=E.useState(null),[Oe,Ce]=E.useState(null);return E.useEffect(()=>{Q!==null&&Q.setMap(ee)},[ee]),E.useEffect(()=>{typeof e<"u"&&Q!==null&&Q.setOptions(e)},[Q,e]),E.useEffect(()=>{typeof r<"u"&&Q!==null&&Q.setDraggable(r)},[Q,r]),E.useEffect(()=>{typeof l<"u"&&Q!==null&&Q.setEditable(l)},[Q,l]),E.useEffect(()=>{typeof u<"u"&&Q!==null&&Q.setVisible(u)},[Q,u]),E.useEffect(()=>{typeof i<"u"&&Q!==null&&Q.setBounds(i)},[Q,i]),E.useEffect(()=>{Q&&f&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(Q,"dblclick",f)))},[f]),E.useEffect(()=>{Q&&g&&(C!==null&&google.maps.event.removeListener(C),D(google.maps.event.addListener(Q,"dragend",g)))},[g]),E.useEffect(()=>{Q&&p&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(Q,"dragstart",p)))},[p]),E.useEffect(()=>{Q&&v&&(R!==null&&google.maps.event.removeListener(R),ge(google.maps.event.addListener(Q,"mousedown",v)))},[v]),E.useEffect(()=>{Q&&b&&(_e!==null&&google.maps.event.removeListener(_e),q(google.maps.event.addListener(Q,"mousemove",b)))},[b]),E.useEffect(()=>{Q&&S&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(Q,"mouseout",S)))},[S]),E.useEffect(()=>{Q&&w&&(ye!==null&&google.maps.event.removeListener(ye),ve(google.maps.event.addListener(Q,"mouseover",w)))},[w]),E.useEffect(()=>{Q&&I&&(V!==null&&google.maps.event.removeListener(V),Z(google.maps.event.addListener(Q,"mouseup",I)))},[I]),E.useEffect(()=>{Q&&x&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(Q,"rightclick",x)))},[x]),E.useEffect(()=>{Q&&j&&(F!==null&&google.maps.event.removeListener(F),pe(google.maps.event.addListener(Q,"click",j)))},[j]),E.useEffect(()=>{Q&&U&&(be!==null&&google.maps.event.removeListener(be),Se(google.maps.event.addListener(Q,"drag",U)))},[U]),E.useEffect(()=>{Q&&Y&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(Q,"bounds_changed",Y)))},[Y]),E.useEffect(()=>{var Ue=new google.maps.Rectangle(wc(wc({},e),{},{map:ee}));return typeof u<"u"&&Ue.setVisible(u),typeof l<"u"&&Ue.setEditable(l),typeof r<"u"&&Ue.setDraggable(r),typeof i<"u"&&Ue.setBounds(i),f&&M(google.maps.event.addListener(Ue,"dblclick",f)),g&&D(google.maps.event.addListener(Ue,"dragend",g)),p&&P(google.maps.event.addListener(Ue,"dragstart",p)),v&&ge(google.maps.event.addListener(Ue,"mousedown",v)),b&&q(google.maps.event.addListener(Ue,"mousemove",b)),S&&he(google.maps.event.addListener(Ue,"mouseout",S)),w&&ve(google.maps.event.addListener(Ue,"mouseover",w)),I&&Z(google.maps.event.addListener(Ue,"mouseup",I)),x&&ce(google.maps.event.addListener(Ue,"rightclick",x)),j&&pe(google.maps.event.addListener(Ue,"click",j)),U&&Se(google.maps.event.addListener(Ue,"drag",U)),Y&&Ce(google.maps.event.addListener(Ue,"bounds_changed",Y)),$(Ue),J&&J(Ue),()=>{L!==null&&google.maps.event.removeListener(L),C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),_e!==null&&google.maps.event.removeListener(_e),le!==null&&google.maps.event.removeListener(le),ye!==null&&google.maps.event.removeListener(ye),V!==null&&google.maps.event.removeListener(V),ie!==null&&google.maps.event.removeListener(ie),F!==null&&google.maps.event.removeListener(F),be!==null&&google.maps.event.removeListener(be),Oe!==null&&google.maps.event.removeListener(Oe),oe&&oe(Ue),Ue.setMap(null)}},[]),null}E.memo(z1);class B1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{rectangle:null}),te(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(wc(wc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Qy,eventMap:Fy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Qy,eventMap:Fy,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),He(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}te(B1,"contextType",ke);function Ky(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Lc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ky(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Ky(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var Yy={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zy={center(s,e){s.setCenter(e)},draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},radius(s,e){s.setRadius(e)},visible(s,e){s.setVisible(e)}},j1={};function q1(s){var{options:e,center:i,radius:r,draggable:l,editable:u,visible:f,onDblClick:g,onDragEnd:p,onDragStart:v,onMouseDown:b,onMouseMove:S,onMouseOut:w,onMouseOver:I,onMouseUp:x,onRightClick:j,onClick:U,onDrag:Y,onCenterChanged:J,onRadiusChanged:oe,onLoad:ee,onUnmount:Q}=s,$=E.useContext(ke),[L,M]=E.useState(null),[C,D]=E.useState(null),[O,P]=E.useState(null),[R,ge]=E.useState(null),[_e,q]=E.useState(null),[le,he]=E.useState(null),[ye,ve]=E.useState(null),[V,Z]=E.useState(null),[ie,ce]=E.useState(null),[F,pe]=E.useState(null),[be,Se]=E.useState(null),[Oe,Ce]=E.useState(null),[Ue,Ht]=E.useState(null),[an,on]=E.useState(null);return E.useEffect(()=>{L!==null&&L.setMap($)},[$]),E.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),E.useEffect(()=>{typeof l<"u"&&L!==null&&L.setDraggable(l)},[L,l]),E.useEffect(()=>{typeof u<"u"&&L!==null&&L.setEditable(u)},[L,u]),E.useEffect(()=>{typeof f<"u"&&L!==null&&L.setVisible(f)},[L,f]),E.useEffect(()=>{typeof r=="number"&&L!==null&&L.setRadius(r)},[L,r]),E.useEffect(()=>{typeof i<"u"&&L!==null&&L.setCenter(i)},[L,i]),E.useEffect(()=>{L&&g&&(C!==null&&google.maps.event.removeListener(C),D(google.maps.event.addListener(L,"dblclick",g)))},[g]),E.useEffect(()=>{L&&p&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(L,"dragend",p)))},[p]),E.useEffect(()=>{L&&v&&(R!==null&&google.maps.event.removeListener(R),ge(google.maps.event.addListener(L,"dragstart",v)))},[v]),E.useEffect(()=>{L&&b&&(_e!==null&&google.maps.event.removeListener(_e),q(google.maps.event.addListener(L,"mousedown",b)))},[b]),E.useEffect(()=>{L&&S&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(L,"mousemove",S)))},[S]),E.useEffect(()=>{L&&w&&(ye!==null&&google.maps.event.removeListener(ye),ve(google.maps.event.addListener(L,"mouseout",w)))},[w]),E.useEffect(()=>{L&&I&&(V!==null&&google.maps.event.removeListener(V),Z(google.maps.event.addListener(L,"mouseover",I)))},[I]),E.useEffect(()=>{L&&x&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(L,"mouseup",x)))},[x]),E.useEffect(()=>{L&&j&&(F!==null&&google.maps.event.removeListener(F),pe(google.maps.event.addListener(L,"rightclick",j)))},[j]),E.useEffect(()=>{L&&U&&(be!==null&&google.maps.event.removeListener(be),Se(google.maps.event.addListener(L,"click",U)))},[U]),E.useEffect(()=>{L&&Y&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(L,"drag",Y)))},[Y]),E.useEffect(()=>{L&&J&&(Ue!==null&&google.maps.event.removeListener(Ue),Ht(google.maps.event.addListener(L,"center_changed",J)))},[U]),E.useEffect(()=>{L&&oe&&(an!==null&&google.maps.event.removeListener(an),on(google.maps.event.addListener(L,"radius_changed",oe)))},[oe]),E.useEffect(()=>{var Ze=new google.maps.Circle(Lc(Lc({},e||j1),{},{map:$}));return typeof r=="number"&&Ze.setRadius(r),typeof i<"u"&&Ze.setCenter(i),typeof r=="number"&&Ze.setRadius(r),typeof f<"u"&&Ze.setVisible(f),typeof u<"u"&&Ze.setEditable(u),typeof l<"u"&&Ze.setDraggable(l),g&&D(google.maps.event.addListener(Ze,"dblclick",g)),p&&P(google.maps.event.addListener(Ze,"dragend",p)),v&&ge(google.maps.event.addListener(Ze,"dragstart",v)),b&&q(google.maps.event.addListener(Ze,"mousedown",b)),S&&he(google.maps.event.addListener(Ze,"mousemove",S)),w&&ve(google.maps.event.addListener(Ze,"mouseout",w)),I&&Z(google.maps.event.addListener(Ze,"mouseover",I)),x&&ce(google.maps.event.addListener(Ze,"mouseup",x)),j&&pe(google.maps.event.addListener(Ze,"rightclick",j)),U&&Se(google.maps.event.addListener(Ze,"click",U)),Y&&Ce(google.maps.event.addListener(Ze,"drag",Y)),J&&Ht(google.maps.event.addListener(Ze,"center_changed",J)),oe&&on(google.maps.event.addListener(Ze,"radius_changed",oe)),M(Ze),ee&&ee(Ze),()=>{C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),_e!==null&&google.maps.event.removeListener(_e),le!==null&&google.maps.event.removeListener(le),ye!==null&&google.maps.event.removeListener(ye),V!==null&&google.maps.event.removeListener(V),ie!==null&&google.maps.event.removeListener(ie),F!==null&&google.maps.event.removeListener(F),be!==null&&google.maps.event.removeListener(be),Ue!==null&&google.maps.event.removeListener(Ue),an!==null&&google.maps.event.removeListener(an),Q&&Q(Ze),Ze.setMap(null)}},[]),null}E.memo(q1);class H1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{circle:null}),te(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Lc(Lc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Zy,eventMap:Yy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Zy,eventMap:Yy,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),He(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}te(H1,"contextType",ke);function Xy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Mc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Xy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Xy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var $y={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Jy={add(s,e){s.add(e)},addgeojson(s,e,i){s.addGeoJson(e,i)},contains(s,e){s.contains(e)},foreach(s,e){s.forEach(e)},loadgeojson(s,e,i,r){s.loadGeoJson(e,i,r)},overridestyle(s,e,i){s.overrideStyle(e,i)},remove(s,e){s.remove(e)},revertstyle(s,e){s.revertStyle(e)},controlposition(s,e){s.setControlPosition(e)},controls(s,e){s.setControls(e)},drawingmode(s,e){s.setDrawingMode(e)},map(s,e){s.setMap(e)},style(s,e){s.setStyle(e)},togeojson(s,e){s.toGeoJson(e)}};function G1(s){var{options:e,onClick:i,onDblClick:r,onMouseDown:l,onMouseMove:u,onMouseOut:f,onMouseOver:g,onMouseUp:p,onRightClick:v,onAddFeature:b,onRemoveFeature:S,onRemoveProperty:w,onSetGeometry:I,onSetProperty:x,onLoad:j,onUnmount:U}=s,Y=E.useContext(ke),[J,oe]=E.useState(null),[ee,Q]=E.useState(null),[$,L]=E.useState(null),[M,C]=E.useState(null),[D,O]=E.useState(null),[P,R]=E.useState(null),[ge,_e]=E.useState(null),[q,le]=E.useState(null),[he,ye]=E.useState(null),[ve,V]=E.useState(null),[Z,ie]=E.useState(null),[ce,F]=E.useState(null),[pe,be]=E.useState(null),[Se,Oe]=E.useState(null);return E.useEffect(()=>{J!==null&&J.setMap(Y)},[Y]),E.useEffect(()=>{J&&r&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(J,"dblclick",r)))},[r]),E.useEffect(()=>{J&&l&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(J,"mousedown",l)))},[l]),E.useEffect(()=>{J&&u&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(J,"mousemove",u)))},[u]),E.useEffect(()=>{J&&f&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(J,"mouseout",f)))},[f]),E.useEffect(()=>{J&&g&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(J,"mouseover",g)))},[g]),E.useEffect(()=>{J&&p&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(J,"mouseup",p)))},[p]),E.useEffect(()=>{J&&v&&(q!==null&&google.maps.event.removeListener(q),le(google.maps.event.addListener(J,"rightclick",v)))},[v]),E.useEffect(()=>{J&&i&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener(J,"click",i)))},[i]),E.useEffect(()=>{J&&b&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(J,"addfeature",b)))},[b]),E.useEffect(()=>{J&&S&&(Z!==null&&google.maps.event.removeListener(Z),ie(google.maps.event.addListener(J,"removefeature",S)))},[S]),E.useEffect(()=>{J&&w&&(ce!==null&&google.maps.event.removeListener(ce),F(google.maps.event.addListener(J,"removeproperty",w)))},[w]),E.useEffect(()=>{J&&I&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(J,"setgeometry",I)))},[I]),E.useEffect(()=>{J&&x&&(Se!==null&&google.maps.event.removeListener(Se),Oe(google.maps.event.addListener(J,"setproperty",x)))},[x]),E.useEffect(()=>{if(Y!==null){var Ce=new google.maps.Data(Mc(Mc({},e),{},{map:Y}));r&&Q(google.maps.event.addListener(Ce,"dblclick",r)),l&&L(google.maps.event.addListener(Ce,"mousedown",l)),u&&C(google.maps.event.addListener(Ce,"mousemove",u)),f&&O(google.maps.event.addListener(Ce,"mouseout",f)),g&&R(google.maps.event.addListener(Ce,"mouseover",g)),p&&_e(google.maps.event.addListener(Ce,"mouseup",p)),v&&le(google.maps.event.addListener(Ce,"rightclick",v)),i&&ye(google.maps.event.addListener(Ce,"click",i)),b&&V(google.maps.event.addListener(Ce,"addfeature",b)),S&&ie(google.maps.event.addListener(Ce,"removefeature",S)),w&&F(google.maps.event.addListener(Ce,"removeproperty",w)),I&&be(google.maps.event.addListener(Ce,"setgeometry",I)),x&&Oe(google.maps.event.addListener(Ce,"setproperty",x)),oe(Ce),j&&j(Ce)}return()=>{J&&(ee!==null&&google.maps.event.removeListener(ee),$!==null&&google.maps.event.removeListener($),M!==null&&google.maps.event.removeListener(M),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),ge!==null&&google.maps.event.removeListener(ge),q!==null&&google.maps.event.removeListener(q),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),Z!==null&&google.maps.event.removeListener(Z),ce!==null&&google.maps.event.removeListener(ce),pe!==null&&google.maps.event.removeListener(pe),Se!==null&&google.maps.event.removeListener(Se),U&&U(J),J.setMap(null))}},[]),null}E.memo(G1);class F1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{data:null}),te(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Mc(Mc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Jy,eventMap:$y,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Jy,eventMap:$y,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),He(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}te(F1,"contextType",ke);function Wy(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function e_(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Wy(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var t_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},n_={options(s,e){s.setOptions(e)},url(s,e){s.setUrl(e)},zIndex(s,e){s.setZIndex(e)}};class Q1 extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{kmlLayer:null}),te(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(e_(e_({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:n_,eventMap:t_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:n_,eventMap:t_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),He(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}te(Q1,"contextType",ke);function GE(s,e){return typeof e=="function"?e(s.offsetWidth,s.offsetHeight):{x:0,y:0}}function K1(s,e){return new e(s.lat,s.lng)}function Y1(s,e){return new e(new google.maps.LatLng(s.ne.lat,s.ne.lng),new google.maps.LatLng(s.sw.lat,s.sw.lng))}function Z1(s,e,i){return s instanceof e?s:i(s,e)}function X1(s,e,i){return s instanceof e?s:i(s,e)}function $1(s,e,i){var r=s&&s.fromLatLngToDivPixel(i.getNorthEast()),l=s&&s.fromLatLngToDivPixel(i.getSouthWest());return r&&l?{left:"".concat(l.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-l.x-e.x,"px"),height:"".concat(l.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function J1(s,e,i){var r=s&&s.fromLatLngToDivPixel(i);if(r){var{x:l,y:u}=r;return{left:"".concat(l+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function FE(s,e,i,r){return i!==void 0?$1(s,e,X1(i,google.maps.LatLngBounds,Y1)):J1(s,e,Z1(r,google.maps.LatLng,K1))}function W1(s,e){return s.left===e.left&&s.top===e.top&&s.width===e.height&&s.height===e.height}function i_(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function eC(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):i_(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function tC(s,e,i,r,l){class u extends google.maps.OverlayView{constructor(g,p,v,b){super(),this.container=g,this.pane=p,this.position=v,this.bounds=b}onAdd(){var g,p=(g=this.getPanes())===null||g===void 0?void 0:g[this.pane];p?.appendChild(this.container)}draw(){var g=this.getProjection(),p=eC({},this.container?GE(this.container,l):{x:0,y:0}),v=FE(g,p,this.bounds,this.position);for(var[b,S]of Object.entries(v))this.container.style[b]=S}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(s,e,i,r)}function s_(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function nC(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):s_(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function r_(s){if(!s)return"";var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);return e+""}function a_(s){if(!s)return"";var e=s instanceof google.maps.LatLngBounds?s:new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.east),new google.maps.LatLng(s.north,s.west));return e+""}function iC(s){var{position:e,bounds:i,mapPaneName:r,zIndex:l,onLoad:u,onUnmount:f,getPixelPositionOffset:g,children:p}=s,v=E.useContext(ke),b=E.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),S=E.useMemo(()=>tC(b,r,e,i,g),[b,r,e,i]);return E.useEffect(()=>(u?.(S),S?.setMap(v),()=>{f?.(S),S?.setMap(null)}),[v,S]),E.useEffect(()=>{b.style.zIndex="".concat(l)},[l,b]),to.createPortal(p,b)}E.memo(iC);class no extends E.PureComponent{constructor(e){super(e),te(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),te(this,"updatePane",()=>{var r=this.props.mapPaneName,l=this.overlayView.getPanes();qt(!!r,"OverlayView requires props.mapPaneName but got %s",r),l?this.setState({paneEl:l[r]}):this.setState({paneEl:null})}),te(this,"onAdd",()=>{var r,l;this.updatePane(),(r=(l=this.props).onLoad)===null||r===void 0||r.call(l,this.overlayView)}),te(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),l=nC({x:0,y:0},this.containerRef.current?GE(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=FE(r,l,this.props.bounds,this.props.position);if(!W1(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var f,g,p,v;this.setState({containerStyle:{top:(f=u.top)!==null&&f!==void 0?f:0,left:(g=u.left)!==null&&g!==void 0?g:0,width:(p=u.width)!==null&&p!==void 0?p:0,height:(v=u.height)!==null&&v!==void 0?v:0,position:"absolute"}})}}),te(this,"draw",()=>{this.onPositionElement()}),te(this,"onRemove",()=>{var r,l;this.setState(()=>({paneEl:null})),(r=(l=this.props).onUnmount)===null||r===void 0||r.call(l,this.overlayView)}),this.containerRef=E.createRef();var i=new google.maps.OverlayView;i.onAdd=this.onAdd,i.draw=this.draw,i.onRemove=this.onRemove,this.overlayView=i}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var i=r_(e.position),r=r_(this.props.position),l=a_(e.bounds),u=a_(this.props.bounds);(i!==r||l!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?to.createPortal(qe.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:E.Children.only(this.props.children)}),e):null}}te(no,"FLOAT_PANE","floatPane");te(no,"MAP_PANE","mapPane");te(no,"MARKER_LAYER","markerLayer");te(no,"OVERLAY_LAYER","overlayLayer");te(no,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");te(no,"contextType",ke);function sC(){}function o_(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function l_(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):o_(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var u_={onDblClick:"dblclick",onClick:"click"},c_={opacity(s,e){s.setOpacity(e)}};function rC(s){var{url:e,bounds:i,options:r,visible:l}=s,u=E.useContext(ke),f=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east)),g=E.useMemo(()=>new google.maps.GroundOverlay(e,f,r),[]);return E.useEffect(()=>{g!==null&&g.setMap(u)},[u]),E.useEffect(()=>{typeof e<"u"&&g!==null&&(g.set("url",e),g.setMap(u))},[g,e]),E.useEffect(()=>{typeof l<"u"&&g!==null&&g.setOpacity(l?1:0)},[g,l]),E.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east));typeof i<"u"&&g!==null&&(g.set("bounds",p),g.setMap(u))},[g,i]),null}E.memo(rC);class QE extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{groundOverlay:null}),te(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){qt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,l_(l_({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:c_,eventMap:u_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:c_,eventMap:u_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}te(QE,"defaultProps",{onLoad:sC});te(QE,"contextType",ke);function h_(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function Rc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(i),!0).forEach(function(r){te(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):h_(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}var f_={},d_={data(s,e){s.setData(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)}};function aC(s){var{data:e,onLoad:i,onUnmount:r,options:l}=s,u=E.useContext(ke),[f,g]=E.useState(null);return E.useEffect(()=>{google.maps.visualization||qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),E.useEffect(()=>{qt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),E.useEffect(()=>{f!==null&&f.setMap(u)},[u]),E.useEffect(()=>{l&&f!==null&&f.setOptions(l)},[f,l]),E.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(Rc(Rc({},l),{},{data:e,map:u}));return g(p),i&&i(p),()=>{f!==null&&(r&&r(f),f.setMap(null))}},[]),null}E.memo(aC);class oC extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{heatmapLayer:null}),te(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),qt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Rc(Rc({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ze({updaterMap:d_,eventMap:f_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=ze({updaterMap:d_,eventMap:f_,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),He(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}te(oC,"contextType",ke);var g_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},p_={register(s,e,i){s.registerPanoProvider(e,i)},links(s,e){s.setLinks(e)},motionTracking(s,e){s.setMotionTracking(e)},options(s,e){s.setOptions(e)},pano(s,e){s.setPano(e)},position(s,e){s.setPosition(e)},pov(s,e){s.setPov(e)},visible(s,e){s.setVisible(e)},zoom(s,e){s.setZoom(e)}};class lC extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{streetViewPanorama:null}),te(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,i,r=(e=(i=this.context)===null||i===void 0?void 0:i.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ze({updaterMap:p_,eventMap:g_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:p_,eventMap:g_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),He(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}te(lC,"contextType",ke);class uC extends E.PureComponent{constructor(){super(...arguments),te(this,"state",{streetViewService:null}),te(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}te(uC,"contextType",ke);var m_={onDirectionsChanged:"directions_changed"},v_={directions(s,e){s.setDirections(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},panel(s,e){s.setPanel(e)},routeIndex(s,e){s.setRouteIndex(e)}};class cC extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{directionsRenderer:null}),te(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ze({updaterMap:v_,eventMap:m_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:v_,eventMap:m_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),He(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}te(cC,"contextType",ke);var y_={onPlacesChanged:"places_changed"},__={bounds(s,e){s.setBounds(e)}};class hC extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",E.createRef()),te(this,"state",{searchBox:null}),te(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var i=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ze({updaterMap:__,eventMap:y_,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{searchBox:i}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:__,eventMap:y_,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),He(this.registeredEvents))}render(){return qe.jsx("div",{ref:this.containerElement,children:E.Children.only(this.props.children)})}}te(hC,"contextType",ke);var E_={onPlaceChanged:"place_changed"},b_={bounds(s,e){s.setBounds(e)},restrictions(s,e){s.setComponentRestrictions(e)},fields(s,e){s.setFields(e)},options(s,e){s.setOptions(e)},types(s,e){s.setTypes(e)}};class KE extends E.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",E.createRef()),te(this,"state",{autocomplete:null}),te(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var i=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(i){var r=new google.maps.places.Autocomplete(i,this.props.options);this.registeredEvents=ze({updaterMap:b_,eventMap:E_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=ze({updaterMap:b_,eventMap:E_,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&He(this.registeredEvents)}render(){return qe.jsx("div",{ref:this.containerElement,className:this.props.className,children:E.Children.only(this.props.children)})}}te(KE,"defaultProps",{className:""});te(KE,"contextType",ke);const fC=()=>{};var S_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},dC=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],f=s[i++],g=s[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,v=p?s[l+2]:0,b=u>>2,S=(u&3)<<4|g>>4;let w=(g&15)<<2|v>>6,I=v&63;p||(I=64,f||(w=64)),r.push(i[b],i[S],i[w],i[I])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(YE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):dC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||v==null||S==null)throw new gC;const w=u<<2|g>>4;if(r.push(w),v!==64){const I=g<<4&240|v>>2;if(r.push(I),S!==64){const x=v<<6&192|S;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pC=function(s){const e=YE(s);return ZE.encodeByteArray(e,!0)},Oc=function(s){return pC(s).replace(/\./g,"")},mC=function(s){try{return ZE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=()=>vC().__FIREBASE_DEFAULTS__,_C=()=>{if(typeof process>"u"||typeof S_>"u")return;const s=S_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},EC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&mC(s[1]);return e&&JSON.parse(e)},$d=()=>{try{return fC()||yC()||_C()||EC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bC=s=>$d()?.emulatorHosts?.[s],SC=s=>{const e=bC(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},XE=()=>$d()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CC(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Oc(JSON.stringify(i)),Oc(JSON.stringify(f)),""].join(".")}const yl={};function wC(){const s={prod:[],emulator:[]};for(const e of Object.keys(yl))yl[e]?s.emulator.push(e):s.prod.push(e);return s}function LC(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let T_=!1;function MC(s,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||yl[s]===e||yl[s]||T_)return;yl[s]=e;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=wC().prod.length>0;function f(){const w=document.getElementById(r);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{T_=!0,f()},w}function b(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=LC(r),I=i("text"),x=document.getElementById(I)||document.createElement("span"),j=i("learnmore"),U=document.getElementById(j)||document.createElement("a"),Y=i("preprendIcon"),J=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const oe=w.element;g(oe),b(U,j);const ee=v();p(J,Y),oe.append(J,x,U,ee),document.body.appendChild(oe)}u?(x.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){const s=$d()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return!OC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="FirebaseError";class io extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=VC,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$E.prototype.create)}}class $E{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?NC(u,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new io(l,g,r)}}function NC(s,e){return s.replace(PC,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const PC=/\{\$([^}]+)}/g;function Dc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(C_(u)&&C_(f)){if(!Dc(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function C_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(s){return s&&s._delegate?s._delegate:s}class wl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new TC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zC(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UC(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UC(s){return s===Br?void 0:s}function zC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})($e||($e={}));const jC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},qC=$e.INFO,HC={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},GC=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=HC[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JE{constructor(e){this.name=e,this._logLevel=qC,this._logHandler=GC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const FC=(s,e)=>e.some(i=>s instanceof i);let A_,w_;function QC(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KC(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Ad=new WeakMap,e0=new WeakMap,fd=new WeakMap,Wd=new WeakMap;function YC(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(nr(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&WE.set(i,s)}).catch(()=>{}),Wd.set(e,s),e}function ZC(s){if(Ad.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Ad.set(s,e)}let wd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ad.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XC(s){wd=s(wd)}function $C(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(dd(this),e,...i);return e0.set(r,e.sort?e.sort():[e]),nr(r)}:KC().includes(s)?function(...e){return s.apply(dd(this),e),nr(WE.get(this))}:function(...e){return nr(s.apply(dd(this),e))}}function JC(s){return typeof s=="function"?$C(s):(s instanceof IDBTransaction&&ZC(s),FC(s,QC())?new Proxy(s,wd):s)}function nr(s){if(s instanceof IDBRequest)return YC(s);if(fd.has(s))return fd.get(s);const e=JC(s);return e!==s&&(fd.set(s,e),Wd.set(e,s)),e}const dd=s=>Wd.get(s);function WC(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),g=nr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(nr(f.result),p.oldVersion,p.newVersion,nr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const eA=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],gd=new Map;function L_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=tA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||eA.includes(i)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return gd.set(e,u),u}XC(s=>({...s,get:(e,i,r)=>L_(e,i)||s.get(e,i,r),has:(e,i)=>!!L_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iA(s){return s.getComponent()?.type==="VERSION"}const Ld="@firebase/app",M_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new JE("@firebase/app"),sA="@firebase/app-compat",rA="@firebase/analytics-compat",aA="@firebase/analytics",oA="@firebase/app-check-compat",lA="@firebase/app-check",uA="@firebase/auth",cA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",gA="@firebase/functions",pA="@firebase/functions-compat",mA="@firebase/installations",vA="@firebase/installations-compat",yA="@firebase/messaging",_A="@firebase/messaging-compat",EA="@firebase/performance",bA="@firebase/performance-compat",SA="@firebase/remote-config",TA="@firebase/remote-config-compat",CA="@firebase/storage",AA="@firebase/storage-compat",wA="@firebase/firestore",LA="@firebase/ai",MA="@firebase/firestore-compat",RA="firebase",OA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",DA={[Ld]:"fire-core",[sA]:"fire-core-compat",[aA]:"fire-analytics",[rA]:"fire-analytics-compat",[lA]:"fire-app-check",[oA]:"fire-app-check-compat",[uA]:"fire-auth",[cA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[gA]:"fire-fn",[pA]:"fire-fn-compat",[mA]:"fire-iid",[vA]:"fire-iid-compat",[yA]:"fire-fcm",[_A]:"fire-fcm-compat",[EA]:"fire-perf",[bA]:"fire-perf-compat",[SA]:"fire-rc",[TA]:"fire-rc-compat",[CA]:"fire-gcs",[AA]:"fire-gcs-compat",[wA]:"fire-fst",[MA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,IA=new Map,Rd=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xc(s){const e=s.name;if(Rd.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Rd.set(e,s);for(const i of Ic.values())R_(i,s);for(const i of IA.values())R_(i,s);return!0}function xA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function VA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new $E("app","Firebase",NA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=OA;function t0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Md,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=XE()),!i)throw ir.create("no-options");const u=Ic.get(l);if(u){if(Dc(i,u.options)&&Dc(r,u.config))return u;throw ir.create("duplicate-app",{appName:l})}const f=new BC(l);for(const p of Rd.values())f.addComponent(p);const g=new PA(i,r,f);return Ic.set(l,g),g}function UA(s=Md){const e=Ic.get(s);if(!e&&s===Md&&XE())return t0();if(!e)throw ir.create("no-app",{appName:s});return e}function Fa(s,e,i){let r=DA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(f.join(" "));return}xc(new wl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",BA=1,Ll="firebase-heartbeat-store";let pd=null;function n0(){return pd||(pd=WC(zA,BA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),pd}async function jA(s){try{const i=(await n0()).transaction(Ll),r=await i.objectStore(Ll).get(i0(s));return await i.done,r}catch(e){if(e instanceof io)ps.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function O_(s,e){try{const r=(await n0()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,i0(s)),await r.done}catch(i){if(i instanceof io)ps.warn(i.message);else{const r=ir.create("idb-set",{originalErrorMessage:i?.message});ps.warn(r.message)}}}function i0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1024,HA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HA){const l=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D_(),{heartbeatsToSend:i,unsentEntries:r}=FA(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function D_(){return new Date().toISOString().substring(0,10)}function FA(s,e=qA){const i=[];let r=s.slice();for(const l of s){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),I_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),I_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I_(s){return Oc(JSON.stringify({version:2,heartbeats:s})).length}function KA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s){xc(new wl("platform-logger",e=>new nA(e),"PRIVATE")),xc(new wl("heartbeat",e=>new GA(e),"PRIVATE")),Fa(Ld,M_,s),Fa(Ld,M_,"esm2020"),Fa("fire-js","")}YA("");var ZA="firebase",XA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(ZA,XA,"app");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,s0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,M){function C(){}C.prototype=M.prototype,L.F=M.prototype,L.prototype=new C,L.prototype.constructor=L,L.D=function(D,O,P){for(var R=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)R[ge-2]=arguments[ge];return M.prototype[O].apply(D,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(L,M,C){C||(C=0);const D=Array(16);if(typeof M=="string")for(var O=0;O<16;++O)D[O]=M.charCodeAt(C++)|M.charCodeAt(C++)<<8|M.charCodeAt(C++)<<16|M.charCodeAt(C++)<<24;else for(O=0;O<16;++O)D[O]=M[C++]|M[C++]<<8|M[C++]<<16|M[C++]<<24;M=L.g[0],C=L.g[1],O=L.g[2];let P=L.g[3],R;R=M+(P^C&(O^P))+D[0]+3614090360&4294967295,M=C+(R<<7&4294967295|R>>>25),R=P+(O^M&(C^O))+D[1]+3905402710&4294967295,P=M+(R<<12&4294967295|R>>>20),R=O+(C^P&(M^C))+D[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=C+(M^O&(P^M))+D[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=M+(P^C&(O^P))+D[4]+4118548399&4294967295,M=C+(R<<7&4294967295|R>>>25),R=P+(O^M&(C^O))+D[5]+1200080426&4294967295,P=M+(R<<12&4294967295|R>>>20),R=O+(C^P&(M^C))+D[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=C+(M^O&(P^M))+D[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=M+(P^C&(O^P))+D[8]+1770035416&4294967295,M=C+(R<<7&4294967295|R>>>25),R=P+(O^M&(C^O))+D[9]+2336552879&4294967295,P=M+(R<<12&4294967295|R>>>20),R=O+(C^P&(M^C))+D[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=C+(M^O&(P^M))+D[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=M+(P^C&(O^P))+D[12]+1804603682&4294967295,M=C+(R<<7&4294967295|R>>>25),R=P+(O^M&(C^O))+D[13]+4254626195&4294967295,P=M+(R<<12&4294967295|R>>>20),R=O+(C^P&(M^C))+D[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=C+(M^O&(P^M))+D[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=M+(O^P&(C^O))+D[1]+4129170786&4294967295,M=C+(R<<5&4294967295|R>>>27),R=P+(C^O&(M^C))+D[6]+3225465664&4294967295,P=M+(R<<9&4294967295|R>>>23),R=O+(M^C&(P^M))+D[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=C+(P^M&(O^P))+D[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=M+(O^P&(C^O))+D[5]+3593408605&4294967295,M=C+(R<<5&4294967295|R>>>27),R=P+(C^O&(M^C))+D[10]+38016083&4294967295,P=M+(R<<9&4294967295|R>>>23),R=O+(M^C&(P^M))+D[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=C+(P^M&(O^P))+D[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=M+(O^P&(C^O))+D[9]+568446438&4294967295,M=C+(R<<5&4294967295|R>>>27),R=P+(C^O&(M^C))+D[14]+3275163606&4294967295,P=M+(R<<9&4294967295|R>>>23),R=O+(M^C&(P^M))+D[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=C+(P^M&(O^P))+D[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=M+(O^P&(C^O))+D[13]+2850285829&4294967295,M=C+(R<<5&4294967295|R>>>27),R=P+(C^O&(M^C))+D[2]+4243563512&4294967295,P=M+(R<<9&4294967295|R>>>23),R=O+(M^C&(P^M))+D[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=C+(P^M&(O^P))+D[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=M+(C^O^P)+D[5]+4294588738&4294967295,M=C+(R<<4&4294967295|R>>>28),R=P+(M^C^O)+D[8]+2272392833&4294967295,P=M+(R<<11&4294967295|R>>>21),R=O+(P^M^C)+D[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=C+(O^P^M)+D[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=M+(C^O^P)+D[1]+2763975236&4294967295,M=C+(R<<4&4294967295|R>>>28),R=P+(M^C^O)+D[4]+1272893353&4294967295,P=M+(R<<11&4294967295|R>>>21),R=O+(P^M^C)+D[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=C+(O^P^M)+D[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=M+(C^O^P)+D[13]+681279174&4294967295,M=C+(R<<4&4294967295|R>>>28),R=P+(M^C^O)+D[0]+3936430074&4294967295,P=M+(R<<11&4294967295|R>>>21),R=O+(P^M^C)+D[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=C+(O^P^M)+D[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=M+(C^O^P)+D[9]+3654602809&4294967295,M=C+(R<<4&4294967295|R>>>28),R=P+(M^C^O)+D[12]+3873151461&4294967295,P=M+(R<<11&4294967295|R>>>21),R=O+(P^M^C)+D[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=C+(O^P^M)+D[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=M+(O^(C|~P))+D[0]+4096336452&4294967295,M=C+(R<<6&4294967295|R>>>26),R=P+(C^(M|~O))+D[7]+1126891415&4294967295,P=M+(R<<10&4294967295|R>>>22),R=O+(M^(P|~C))+D[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=C+(P^(O|~M))+D[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=M+(O^(C|~P))+D[12]+1700485571&4294967295,M=C+(R<<6&4294967295|R>>>26),R=P+(C^(M|~O))+D[3]+2399980690&4294967295,P=M+(R<<10&4294967295|R>>>22),R=O+(M^(P|~C))+D[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=C+(P^(O|~M))+D[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=M+(O^(C|~P))+D[8]+1873313359&4294967295,M=C+(R<<6&4294967295|R>>>26),R=P+(C^(M|~O))+D[15]+4264355552&4294967295,P=M+(R<<10&4294967295|R>>>22),R=O+(M^(P|~C))+D[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=C+(P^(O|~M))+D[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=M+(O^(C|~P))+D[4]+4149444226&4294967295,M=C+(R<<6&4294967295|R>>>26),R=P+(C^(M|~O))+D[11]+3174756917&4294967295,P=M+(R<<10&4294967295|R>>>22),R=O+(M^(P|~C))+D[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=C+(P^(O|~M))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+M&4294967295,L.g[1]=L.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+P&4294967295}r.prototype.v=function(L,M){M===void 0&&(M=L.length);const C=M-this.blockSize,D=this.C;let O=this.h,P=0;for(;P<M;){if(O==0)for(;P<=C;)l(this,L,P),P+=this.blockSize;if(typeof L=="string"){for(;P<M;)if(D[O++]=L.charCodeAt(P++),O==this.blockSize){l(this,D),O=0;break}}else for(;P<M;)if(D[O++]=L[P++],O==this.blockSize){l(this,D),O=0;break}}this.h=O,this.o+=M},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var M=1;M<L.length-8;++M)L[M]=0;M=this.o*8;for(var C=L.length-8;C<L.length;++C)L[C]=M&255,M/=256;for(this.v(L),L=Array(16),M=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)L[M++]=this.g[C]>>>D&255;return L};function u(L,M){var C=g;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=M(L)}function f(L,M){this.h=M;const C=[];let D=!0;for(let O=L.length-1;O>=0;O--){const P=L[O]|0;D&&P==M||(C[O]=P,D=!1)}this.g=C}var g={};function p(L){return-128<=L&&L<128?u(L,function(M){return new f([M|0],M<0?-1:0)}):new f([L|0],L<0?-1:0)}function v(L){if(isNaN(L)||!isFinite(L))return S;if(L<0)return U(v(-L));const M=[];let C=1;for(let D=0;L>=C;D++)M[D]=L/C|0,C*=4294967296;return new f(M,0)}function b(L,M){if(L.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(L.charAt(0)=="-")return U(b(L.substring(1),M));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(M,8));let D=S;for(let P=0;P<L.length;P+=8){var O=Math.min(8,L.length-P);const R=parseInt(L.substring(P,P+O),M);O<8?(O=v(Math.pow(M,O)),D=D.j(O).add(v(R))):(D=D.j(C),D=D.add(v(R)))}return D}var S=p(0),w=p(1),I=p(16777216);s=f.prototype,s.m=function(){if(j(this))return-U(this).m();let L=0,M=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);L+=(D>=0?D:4294967296+D)*M,M*=4294967296}return L},s.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(x(this))return"0";if(j(this))return"-"+U(this).toString(L);const M=v(Math.pow(L,6));var C=this;let D="";for(;;){const O=ee(C,M).g;C=Y(C,O.j(M));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(L);if(C=O,x(C))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},s.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function x(L){if(L.h!=0)return!1;for(let M=0;M<L.g.length;M++)if(L.g[M]!=0)return!1;return!0}function j(L){return L.h==-1}s.l=function(L){return L=Y(this,L),j(L)?-1:x(L)?0:1};function U(L){const M=L.g.length,C=[];for(let D=0;D<M;D++)C[D]=~L.g[D];return new f(C,~L.h).add(w)}s.abs=function(){return j(this)?U(this):this},s.add=function(L){const M=Math.max(this.g.length,L.g.length),C=[];let D=0;for(let O=0;O<=M;O++){let P=D+(this.i(O)&65535)+(L.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);D=R>>>16,P&=65535,R&=65535,C[O]=R<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Y(L,M){return L.add(U(M))}s.j=function(L){if(x(this)||x(L))return S;if(j(this))return j(L)?U(this).j(U(L)):U(U(this).j(L));if(j(L))return U(this.j(U(L)));if(this.l(I)<0&&L.l(I)<0)return v(this.m()*L.m());const M=this.g.length+L.g.length,C=[];for(var D=0;D<2*M;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<L.g.length;O++){const P=this.i(D)>>>16,R=this.i(D)&65535,ge=L.i(O)>>>16,_e=L.i(O)&65535;C[2*D+2*O]+=R*_e,J(C,2*D+2*O),C[2*D+2*O+1]+=P*_e,J(C,2*D+2*O+1),C[2*D+2*O+1]+=R*ge,J(C,2*D+2*O+1),C[2*D+2*O+2]+=P*ge,J(C,2*D+2*O+2)}for(L=0;L<M;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=M;L<2*M;L++)C[L]=0;return new f(C,0)};function J(L,M){for(;(L[M]&65535)!=L[M];)L[M+1]+=L[M]>>>16,L[M]&=65535,M++}function oe(L,M){this.g=L,this.h=M}function ee(L,M){if(x(M))throw Error("division by zero");if(x(L))return new oe(S,S);if(j(L))return M=ee(U(L),M),new oe(U(M.g),U(M.h));if(j(M))return M=ee(L,U(M)),new oe(U(M.g),M.h);if(L.g.length>30){if(j(L)||j(M))throw Error("slowDivide_ only works with positive integers.");for(var C=w,D=M;D.l(L)<=0;)C=Q(C),D=Q(D);var O=$(C,1),P=$(D,1);for(D=$(D,2),C=$(C,2);!x(D);){var R=P.add(D);R.l(L)<=0&&(O=O.add(C),P=R),D=$(D,1),C=$(C,1)}return M=Y(L,O.j(M)),new oe(O,M)}for(O=S;L.l(M)>=0;){for(C=Math.max(1,Math.floor(L.m()/M.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=v(C),R=P.j(M);j(R)||R.l(L)>0;)C-=D,P=v(C),R=P.j(M);x(P)&&(P=w),O=O.add(P),L=Y(L,R)}return new oe(O,L)}s.B=function(L){return ee(this,L).h},s.and=function(L){const M=Math.max(this.g.length,L.g.length),C=[];for(let D=0;D<M;D++)C[D]=this.i(D)&L.i(D);return new f(C,this.h&L.h)},s.or=function(L){const M=Math.max(this.g.length,L.g.length),C=[];for(let D=0;D<M;D++)C[D]=this.i(D)|L.i(D);return new f(C,this.h|L.h)},s.xor=function(L){const M=Math.max(this.g.length,L.g.length),C=[];for(let D=0;D<M;D++)C[D]=this.i(D)^L.i(D);return new f(C,this.h^L.h)};function Q(L){const M=L.g.length+1,C=[];for(let D=0;D<M;D++)C[D]=L.i(D)<<1|L.i(D-1)>>>31;return new f(C,L.h)}function $(L,M){const C=M>>5;M%=32;const D=L.g.length-C,O=[];for(let P=0;P<D;P++)O[P]=M>0?L.i(P+C)>>>M|L.i(P+C+1)<<32-M:L.i(P+C);return new f(O,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=b,sr=f}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r0,dl,a0,pc,Od,o0,l0,u0;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,_){return c.call.apply(c.bind,arguments)}function v(c,m,_){return v=p,v.apply(null,arguments)}function b(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,B,X){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return m.prototype[B].apply(A,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const m=c.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function x(c,m){for(let A=1;A<arguments.length;A++){const B=arguments[A];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const X=B.length||0;c.length=_+X;for(let fe=0;fe<X;fe++)c[_+fe]=B[fe]}else c.push(B)}}class j{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=L;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class J{constructor(){this.h=this.g=null}add(m,_){const A=oe.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new j(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,$=!1,L=new J,M=()=>{const c=Promise.resolve(void 0);Q=()=>{c.then(C)}};function C(){for(var c;c=Y();){try{c.h.call(c.g)}catch(_){U(_)}var m=oe;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}$=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ge(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ge,O),ge.prototype.init=function(c,m){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),q=0;function le(c,m,_,A,B){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=B,this.key=++q,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function ve(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function V(c){const m={};for(const _ in c)m[_]=c[_];return m}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let X=0;X<Z.length;X++)_=Z[X],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,m,_,A,B){const X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);const fe=pe(c,m,A,B);return fe>-1?(m=c[fe],_||(m.fa=!1)):(m=new le(m,this.src,X,!!A,B),m.fa=_,c.push(m)),m};function F(c,m){const _=m.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,m,void 0),X;(X=B>=0)&&Array.prototype.splice.call(A,B,1),X&&(he(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function pe(c,m,_,A){for(let B=0;B<c.length;++B){const X=c[B];if(!X.da&&X.listener==m&&X.capture==!!_&&X.ha==A)return B}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Se={};function Oe(c,m,_,A,B){if(Array.isArray(m)){for(let X=0;X<m.length;X++)Oe(c,m[X],_,A,B);return null}return _=ys(_),c&&c[_e]?c.J(m,_,g(A)?!!A.capture:!1,B):Ce(c,m,_,!1,A,B)}function Ce(c,m,_,A,B,X){if(!m)throw Error("Invalid event type");const fe=g(B)?!!B.capture:!!B;let Ve=fi(c);if(Ve||(c[be]=Ve=new ce(c)),_=Ve.add(m,_,A,fe,X),_.proxy)return _;if(A=Ue(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)P||(B=fe),B===void 0&&(B=!1),c.addEventListener(m.toString(),A,B);else if(c.attachEvent)c.attachEvent(on(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ue(){function c(_){return m.call(c.src,c.listener,_)}const m=Ze;return c}function Ht(c,m,_,A,B){if(Array.isArray(m))for(var X=0;X<m.length;X++)Ht(c,m[X],_,A,B);else A=g(A)?!!A.capture:!!A,_=ys(_),c&&c[_e]?(c=c.i,X=String(m).toString(),X in c.g&&(m=c.g[X],_=pe(m,_,A,B),_>-1&&(he(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[X],c.h--)))):c&&(c=fi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=pe(m,_,A,B)),(_=c>-1?m[c]:null)&&an(_))}function an(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[_e])F(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(on(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=fi(m))?(F(_,c),_.h==0&&(_.src=null,m[be]=null)):he(c)}}}function on(c){return c in Se?Se[c]:Se[c]="on"+c}function Ze(c,m){if(c.da)c=!0;else{m=new ge(m,this);const _=c.listener,A=c.ha||c.src;c.fa&&an(c),c=_.call(A,m)}return c}function fi(c){return c=c[be],c instanceof ce?c:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(c){return typeof c=="function"?c:(c[di]||(c[di]=function(m){return c.handleEvent(m)}),c[di])}function ft(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}S(ft,D),ft.prototype[_e]=!0,ft.prototype.removeEventListener=function(c,m,_,A){Ht(this,c,m,_,A)};function St(c,m){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var B=m;m=new O(A,c),ie(m,B)}B=!0;let X,fe;if(_)for(fe=_.length-1;fe>=0;fe--)X=m.g=_[fe],B=An(X,A,!0,m)&&B;if(X=m.g=c,B=An(X,A,!0,m)&&B,B=An(X,A,!1,m)&&B,_)for(fe=0;fe<_.length;fe++)X=m.g=_[fe],B=An(X,A,!1,m)&&B}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let A=0;A<_.length;A++)he(_[A]);delete c.g[m],c.h--}}this.G=null},ft.prototype.J=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},ft.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function An(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let B=!0;for(let X=0;X<m.length;++X){const fe=m[X];if(fe&&!fe.da&&fe.capture==_){const Ve=fe.listener,At=fe.ha||fe.src;fe.fa&&F(c.i,fe),B=Ve.call(At,A)!==!1&&B}}return B&&!A.defaultPrevented}function $r(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function ji(c){c.g=$r(()=>{c.g=null,c.i&&(c.i=!1,ji(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Gt extends D{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(c){D.call(this),this.h=c,this.g={}}S(gi,D);var _s=[];function pi(c){ye(c.g,function(m,_){this.g.hasOwnProperty(_)&&an(m)},c),c.g={}}gi.prototype.N=function(){gi.Z.N.call(this),pi(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=f.JSON.stringify,Es=f.JSON.parse,fr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function qi(){}function dr(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){O.call(this,"d")}S(Rt,O);function Xt(){O.call(this,"c")}S(Xt,O);var vt={},Hi=null;function Gi(){return Hi=Hi||new ft}vt.Ia="serverreachability";function Fi(c){O.call(this,vt.Ia,c)}S(Fi,O);function wn(c){const m=Gi();St(m,new Fi(m))}vt.STAT_EVENT="statevent";function mi(c,m){O.call(this,vt.STAT_EVENT,c),this.stat=m}S(mi,O);function Et(c){const m=Gi();St(m,new mi(m,c))}vt.Ja="timingevent";function gn(c,m){O.call(this,vt.Ja,c),this.size=m}S(gn,O);function Ln(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function un(){this.g=!0}un.prototype.ua=function(){this.g=!1};function Jr(c,m,_,A,B,X){c.info(function(){if(c.g)if(X){var fe="",Ve=X.split("&");for(let tt=0;tt<Ve.length;tt++){var At=Ve[tt].split("=");if(At.length>1){const yt=At[0];At=At[1];const qn=yt.split("_");fe=qn.length>=2&&qn[1]=="type"?fe+(yt+"="+At+"&"):fe+(yt+"=redacted&")}}}else fe=null;else fe=X;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+m+`
`+_+`
`+fe})}function Qi(c,m,_,A,B,X,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+m+`
`+_+`
`+X+" "+fe})}function Mn(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yi(c,_)+(A?" "+A:"")})}function Ki(c,m){c.info(function(){return"TIMEOUT: "+m})}un.prototype.info=function(){};function Yi(c,m){if(!c.g)return m;if(!m)return null;try{const X=JSON.parse(m);if(X){for(c=0;c<X.length;c++)if(Array.isArray(X[c])){var _=X[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return ei(X)}catch{return m}}var Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function gr(){}S(gr,qi),gr.prototype.g=function(){return new XMLHttpRequest},uo=new gr;function Zi(c){return encodeURIComponent(String(c))}function Bl(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function ti(c,m,_,A){this.j=c,this.i=m,this.l=_,this.S=A||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ot={},Ft={};function vi(c,m,_){c.M=1,c.A=pr(It(m)),c.u=_,c.R=!0,Wr(c,null)}function Wr(c,m){c.F=Date.now(),yi(c),c.B=It(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ia(_.i,"t",A),c.C=0,_=c.j.L,c.h=new ni,c.g=tu(c.j,_?m:null,!c.u),c.P>0&&(c.O=new Gt(v(c.Y,c,c.g),c.P)),m=c.V,_=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(_s[0]=B.toString()),B=_s);for(let X=0;X<B.length;X++){const fe=Oe(_,B[X],A||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),wn(),Jr(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const m=this.O;m&&ri(c)==3?m.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=ri(this.g),At=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ve!=4||At==7||(At==8||tt<=0?wn(3):wn(2)),_i(this);var m=this.g.ca();this.X=m;var _=ah(this);if(this.o=m==200,Qi(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var X=A;break t}}X=null}if(c=X)Mn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Et(12),Rn(this),zn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=ql(this,_),yt==Ft){Ve==4&&(this.m=4,Et(14),c=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ot){this.m=4,Et(15),Mn(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Mn(this.i,this.l,yt,null),Ei(this,yt);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||_.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)Mn(this.i,this.l,_,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(_.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ao(fe),fe.P=!0,Et(11))}}else Mn(this.i,this.l,_,null),Ei(this,_);Ve==4&&Rn(this),this.o&&!this.K&&(Ve==4?$l(this.j,this):(this.o=!1,yi(this)))}else $i(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Rn(this),zn(this)}}}catch{}finally{}};function ah(c){if(!jl(c))return c.g.la();const m=$t(c.g);if(m==="")return"";let _="";const A=m.length,B=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Rn(c),zn(c),"";c.h.i=new f.TextDecoder}for(let X=0;X<A;X++)c.h.h=!0,_+=c.h.i.decode(m[X],{stream:!(B&&X==A-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function jl(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ql(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?Ft:(_=Number(m.substring(_,A)),isNaN(_)?Ot:(A+=1,A+_>m.length?Ft:(m=m.slice(A,A+_),c.C=A+_,m)))}ti.prototype.cancel=function(){this.K=!0,Rn(this)};function yi(c){c.T=Date.now()+c.H,ea(c,c.H)}function ea(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ln(v(c.aa,c),m)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(wn(),Et(17)),Rn(this),this.m=2,zn(this)):ea(this,this.T-c)};function zn(c){c.j.I==0||c.K||$l(c.j,c)}function Rn(c){_i(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,pi(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ei(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||Si(_.h,c))){if(!c.L&&Si(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)la(_),Ms(_);else break e;Sr(_),Et(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ln(v(_.Va,_),6e3));bi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Mi(_,11)}else if((c.L||_.g==c)&&la(_),!R(m))for(B=_.Ba.g.parse(m),m=0;m<B.length;m++){let tt=B[m];const yt=tt[0];if(!(yt<=_.K))if(_.K=yt,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const qn=tt[3];qn!=null&&(_.ka=qn,_.j.info("VER="+_.ka));const Ri=tt[4];Ri!=null&&(_.za=Ri,_.j.info("SVER="+_.za));const ai=tt[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const oi=c.g;if(oi){const Tr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var X=A.h;X.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(fo(X,X.h),X.h=null))}if(A.G){const ua=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(A.wa=ua,st(A.J,A.G,ua))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var fe=c;if(A.na=eu(A,A.L?A.ba:null,A.W),fe.L){go(A.h,fe);var Ve=fe,At=A.O;At&&(Ve.H=At),Ve.D&&(_i(Ve),yi(Ve)),A.g=fe}else Zl(A);_.i.length>0&&Li(_)}else tt[0]!="stop"&&tt[0]!="close"||Mi(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Mi(_,7):To(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}wn(4)}catch{}}var Dt=class{constructor(c,m){this.g=c,this.map=m}};function co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function Si(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function fo(c,m){c.g?c.g.add(m):c.h=m}function go(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}co.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function po(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return I(c.i)}var Hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let B,X=null;A>=0?(B=c[_].substring(0,A),X=c[_].substring(A+1)):B=c[_],m(B,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof On?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,bs(this,c.u),this.h=c.h,mo(this,Kl(c.i)),this.m=c.m):c&&(m=String(c).match(Hl))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),bs(this,m[4]),this.h=Ti(m[5]||"",!0),mo(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}On.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(mr(m,na,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(mr(m,na,!0),"@"),c.push(Zi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(mr(_,_.charAt(0)=="/"?vo:Gl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",mr(_,Fl)),c.join("")},On.prototype.resolve=function(c){const m=It(this);let _=!!c.j;_?Qt(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var A=c.h;if(_)bs(m,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=m.h.lastIndexOf("/");B!=-1&&(A=m.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const X=[];for(let fe=0;fe<B.length;){const Ve=B[fe++];Ve=="."?A&&fe==B.length&&X.push(""):Ve==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&fe==B.length&&X.push("")):(X.push(Ve),A=!0)}A=X.join("/")}else A=B}return _?m.h=A:_=c.i.toString()!=="",_?mo(m,Kl(c.i)):_=!!c.m,_&&(m.m=c.m),m};function It(c){return new On(c)}function Qt(c,m,_){c.j=_?Ti(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function bs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function mo(c,m,_){m instanceof Ts?(c.i=m,sa(c.i,c.l)):(_||(m=mr(m,Ss)),c.i=new Ts(m,c.l))}function st(c,m,_){c.i.set(m,_)}function pr(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,vn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var na=/[#\/\?@]/g,Gl=/[#\?:]/g,vo=/[#\?]/g,Ss=/[#\?@]/g,Fl=/#/g;function Ts(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&ta(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Ts.prototype,s.add=function(c,m){yn(this),this.i=null,c=Cs(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ql(c,m){yn(c),m=Cs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function yo(c,m){return yn(c),m=Cs(c,m),c.g.has(m)}s.forEach=function(c,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(m,B,A,this)},this)},this)};function _o(c,m){yn(c);let _=[];if(typeof m=="string")yo(c,m)&&(_=_.concat(c.g.get(Cs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}s.set=function(c,m){return yn(this),this.i=null,c=Cs(this,c),yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=_o(this,c),c.length>0?String(c[0]):m):m};function ia(c,m,_){Ql(c,m),_.length>0&&(c.i=null,c.g.set(Cs(c,m),I(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const B=Zi(_);_=_o(this,_);for(let X=0;X<_.length;X++){let fe=B;_[X]!==""&&(fe+="="+Zi(_[X])),c.push(fe)}}return this.i=c.join("&")};function Kl(c){const m=new Ts;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Cs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sa(c,m){m&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(_,A){const B=A.toLowerCase();A!=B&&(Ql(this,A),ia(this,B,_))},c)),c.j=m}function ii(c,m){const _=new un;if(f.Image){const A=new Image;A.onload=b(Bn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Bn,_,"TestLoadImage: error",!1,m,A),A.onabort=b(Bn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Bn,_,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Eo(c,m){const _=new un,A=new AbortController,B=setTimeout(()=>{A.abort(),Bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(B),X.ok?Bn(_,"TestPingServer: ok",!0,m):Bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Bn(_,"TestPingServer: error",!1,m)})}function Bn(c,m,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function As(){this.g=new fr}function Ci(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ci,qi),Ci.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,m){ft.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vr,ft),s=vr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,si(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ws(this):si(this),this.readyState==3&&ra(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ws(this))},s.Na=function(c){this.g&&(this.response=c,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let m="";return ye(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function yr(c,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=jn(_),typeof c=="string"?_!=null&&Zi(_):st(c,m,_))}function ot(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,ft);var Ai=/^https?$/i,bo=["POST","PUT"];s=ot.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=w(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(X){_r(this,X);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of _)this.g.setRequestHeader(X,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(X){_r(this,X)}};function _r(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,So(c),Xi(c)}function So(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),ri(c)==4){c.h=!1;try{const X=c.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=X===0){let fe=String(c.D).match(Hl)[1]||null;!fe&&f.self&&f.self.location&&(fe=f.self.location.protocol.slice(0,-1)),A=!Ai.test(fe?fe.toLowerCase():"")}_=A}if(_)St(c,"complete"),St(c,"success");else{c.o=6;try{var B=ri(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",So(c)}}finally{Xi(c)}}}}function Xi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||St(c,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Es(m)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const m={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var _=Bl(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=m[B]||[];m[B]=X,X.push(_)}ve(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function Ls(c){this.za=0,this.i=[],this.j=new un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new co(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ls.prototype,s.ka=8,s.I=1,s.connect=function(c,m,_,A){Et(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=eu(this,null,this.W),Li(this)};function To(c){if(aa(c),c.I==3){var m=c.V++,_=It(c.J);if(st(_,"SID",c.M),st(_,"RID",m),st(_,"TYPE","terminate"),br(c,_),m=new ti(c,c.j,m),m.M=2,m.A=pr(It(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.A,_=!0),_||(m.g=tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Wl(c)}function Ms(c){c.g&&(Ao(c),c.g.cancel(),c.g=null)}function aa(c){Ms(c),c.v&&(f.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Li(c){if(!ho(c.h)&&!c.m){c.m=!0;var m=c.Ea;Q||M(),$||(Q(),$=!0),L.add(m,c),c.D=0}}function oa(c,m){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ln(v(c.Ea,c,m),Jl(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new ti(this,this.j,c);let X=this.o;if(this.U&&(X?(X=V(X),ie(X,this.U)):X=this.U),this.u!==null||this.R||(B.J=X,X=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Yl(this,B,m),_=It(this.J),st(_,"RID",c),st(_,"CVER",22),this.G&&st(_,"X-HTTP-Session-Id",this.G),br(this,_),X&&(this.R?m="headers="+Zi(jn(X))+"&"+m:this.u&&yr(_,this.u,X)),fo(this.h,B),this.Ra&&st(_,"TYPE","init"),this.S?(st(_,"$req",m),st(_,"SID","null"),B.U=!0,vi(B,_,null)):vi(B,_,m),this.I=2}}else this.I==3&&(c?Co(this,c):this.i.length==0||ho(this.h)||Co(this))};function Co(c,m){var _;m?_=m.l:_=c.V++;const A=It(c.J);st(A,"SID",c.M),st(A,"RID",_),st(A,"AID",c.K),br(c,A),c.u&&c.o&&yr(A,c.u,c.o),_=new ti(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Yl(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fo(c.h,_),vi(_,A,m)}function br(c,m){c.H&&ye(c.H,function(_,A){st(m,A,_)}),c.l&&ye({},function(_,A){st(m,A,_)})}function Yl(c,m,_){_=Math.min(c.i.length,_);const A=c.l?v(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ve=-1;for(;;){const At=["count="+_];Ve==-1?_>0?(Ve=B[0].g,At.push("ofs="+Ve)):Ve=0:At.push("ofs="+Ve);let tt=!0;for(let yt=0;yt<_;yt++){var X=B[yt].g;const qn=B[yt].map;if(X-=Ve,X<0)Ve=Math.max(0,B[yt].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var fe=qn instanceof Map?qn:Object.entries(qn);for(const[Ri,ai]of fe){let oi=ai;g(ai)&&(oi=ei(ai)),At.push(X+Ri+"="+encodeURIComponent(oi))}}catch(Ri){throw At.push(X+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(qn)}}if(tt){fe=At.join("&");break e}}fe=void 0}return c=c.i.splice(0,_),m.G=c,fe}function Zl(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Q||M(),$||(Q(),$=!0),L.add(m,c),c.A=0}}function Sr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ln(v(c.Da,c),Jl(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Xl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ln(v(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ms(this),Xl(this))};function Ao(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Xl(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=It(c.na);st(m,"RID","rpc"),st(m,"SID",c.M),st(m,"AID",c.K),st(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(m,"TO",c.ia),st(m,"TYPE","xmlhttp"),br(c,m),c.u&&c.o&&yr(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=pr(It(m)),_.u=null,_.R=!0,Wr(_,c)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Sr(this),Et(19))};function la(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function $l(c,m){var _=null;if(c.g==m){la(c),Ao(c),c.g=null;var A=2}else if(Si(c.h,m))_=m.G,go(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var B=c.D;A=Gi(),St(A,new gn(A,_)),Li(c)}else Zl(c);else if(B=m.m,B==3||B==0&&m.X>0||!(A==1&&oa(c,m)||A==2&&Sr(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Jl(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function Mi(c,m){if(c.j.info("Error code "+m),m==2){var _=v(c.bb,c),A=c.Ua;const B=!A;A=new On(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qt(A,"https"),pr(A),B?ii(A.toString(),_):Eo(A.toString(),_)}else Et(2);c.I=0,c.l&&c.l.pa(m),Wl(c),aa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Wl(c){if(c.I=0,c.ja=[],c.l){const m=po(c.h);(m.length!=0||c.i.length!=0)&&(x(c.ja,m),x(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function eu(c,m,_){var A=_ instanceof On?It(_):new On(_);if(A.g!="")m&&(A.g=m+"."+A.g),bs(A,A.u);else{var B=f.location;A=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;const X=new On(null);A&&Qt(X,A),m&&(X.g=m),B&&bs(X,B),_&&(X.h=_),A=X}return _=c.G,m=c.wa,_&&m&&st(A,_,m),st(A,"VER",c.ka),br(c,A),A}function tu(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new ot(new Ci({ab:_})):new ot(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}s=nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(c,m){return new pn(c,m)};function pn(c,m){ft.call(this),this.g=new Ls(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ji(this)}S(pn,ft),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){To(this.g)},pn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=ei(c),c=_);m.i.push(new Dt(m.Ya++,c)),m.I==3&&Li(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,pn.Z.N.call(this)};function iu(c){Rt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(iu,Rt);function su(){Xt.call(this),this.status=1}S(su,Xt);function Ji(c){this.g=c}S(Ji,nu),Ji.prototype.ra=function(){St(this.g,"a")},Ji.prototype.qa=function(c){St(this.g,new iu(c))},Ji.prototype.pa=function(c){St(this.g,new su)},Ji.prototype.oa=function(){St(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,u0=function(){return new Rs},l0=function(){return Gi()},o0=vt,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,pc=Me,lo.COMPLETE="complete",a0=lo,dr.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ft.prototype.listen=ft.prototype.J,dl=dr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,r0=ot}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",N_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new JE("@firebase/firestore");function za(){return Fr.logLevel}function de(s,...e){if(Fr.logLevel<=$e.DEBUG){const i=e.map(eg);Fr.debug(`Firestore (${so}): ${s}`,...i)}}function ms(s,...e){if(Fr.logLevel<=$e.ERROR){const i=e.map(eg);Fr.error(`Firestore (${so}): ${s}`,...i)}}function Za(s,...e){if(Fr.logLevel<=$e.WARN){const i=e.map(eg);Fr.warn(`Firestore (${so}): ${s}`,...i)}}function eg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,c0(s,r,i)}function c0(s,e,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ms(r),new Error(r)}function it(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||c0(e,l,r)}function xe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends io{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class JA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WA{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new h0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class ew{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ew(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new P_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=iw(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function Dd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return md(l)===md(u)?Qe(l,u):md(l)?1:-1}return Qe(s.length,e.length)}const sw=55296,rw=57343;function md(s){const e=s.charCodeAt(0);return e>=sw&&e<=rw}function Xa(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__name__";class Vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Vi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Qe(e.length,i.length)}static compareSegments(e,i){const r=Vi.isNumericId(e),l=Vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):Dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class pt extends Vi{construct(e,i,r){return new pt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Vi{construct(e,i,r){return new sn(e,i,r)}static isValidIdentifier(e){return aw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new sn([k_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(u(),l++)}if(u(),f)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(s,e,i){if(!i)throw new Te(ue.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ow(s,e,i,r){if(e===!0&&r===!0)throw new Te(ue.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function U_(s){if(!we.isDocumentKey(s))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z_(s){if(we.isDocumentKey(s))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function d0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ng(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function _l(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ng(s);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function Nl(s,e){if(!d0(s))throw new Te(ue.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new Te(ue.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,j_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*j_);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<B_)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nl(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ut("string",mt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new mt(0,0))}static max(){return new De(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function lw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=De.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new ar(l,we.empty(),e)}function uw(s){return new ar(s.readTime,s.key,Ml)}class ar{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ar(De.min(),we.empty(),Ml)}static max(){return new ar(De.max(),we.empty(),Ml)}}function cw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s){if(s.code!==ue.FAILED_PRECONDITION||s.message!==hw)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ae(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ae?i:ae.resolve(i)}catch(i){return ae.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ae.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ae.reject(i)}static resolve(e){return new ae(((i,r)=>{i(e)}))}static reject(e){return new ae(((i,r)=>{r(e)}))}static waitFor(e){return new ae(((i,r)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&i()}),(p=>r(p)))})),f=!0,u===l&&i()}))}static or(e){let i=ae.resolve(!1);for(const r of e)i=i.next((l=>l?ae.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new ae(((r,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const v=p;i(e[v]).next((b=>{f[v]=b,++g,g===u&&r(f)}),(b=>l(b)))}}))}static doWhile(e,i){return new ae(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function dw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function Kc(s){return s==null}function Vc(s){return s===0&&1/s==-1/0}function gw(s){return typeof s=="number"&&Number.isInteger(s)&&!Vc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function pw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=q_(e)),e=mw(s.get(i),e);return q_(e)}function mw(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case g0:i+="";break;default:i+=u}}return i}function q_(s){return s+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Kr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function p0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new nn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new hi([])}unionWith(e){let i=new jt(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new hi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(it(!!s,39018),typeof s=="string"){let e=0;const i=vw.exec(s);if(it(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(s.seconds),nanos:Mt(s.nanos)}}function Mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="server_timestamp",y0="__type__",_0="__previous_value__",E0="__local_write_time__";function sg(s){return(s?.mapValue?.fields||{})[y0]?.stringValue===v0}function Yc(s){const e=s.mapValue.fields[_0];return sg(e)?Yc(e):e}function Rl(s){const e=or(s.mapValue.fields[E0].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,r,l,u,f,g,p,v,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=b}}const Nc="(default)";class Ol{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__type__",_w="__max__",fc={mapValue:{}},S0="__vector__",Pc="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sg(s)?4:bw(s)?9007199254740991:Ew(s)?10:11:Re(28295,{value:s})}function zi(s,e){if(s===e)return!0;const i=ur(s);if(i!==ur(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Rl(s).isEqual(Rl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=or(l.timestampValue),g=or(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return lr(l.bytesValue).isEqual(lr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Mt(l.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(l.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Mt(l.integerValue)===Mt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Mt(l.doubleValue),g=Mt(u.doubleValue);return f===g?Vc(f)===Vc(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return Xa(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(H_(f)!==H_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!zi(f[p],g[p])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function Dl(s,e){return(s.values||[]).find((i=>zi(i,e)))!==void 0}function $a(s,e){if(s===e)return 0;const i=ur(s),r=ur(e);if(i!==r)return Qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Mt(u.integerValue||u.doubleValue),p=Mt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return F_(s.timestampValue,e.timestampValue);case 4:return F_(Rl(s),Rl(e));case 5:return Dd(s.stringValue,e.stringValue);case 6:return(function(u,f){const g=lr(u),p=lr(f);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let v=0;v<g.length&&v<p.length;v++){const b=Qe(g[v],p[v]);if(b!==0)return b}return Qe(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Qe(Mt(u.latitude),Mt(f.latitude));return g!==0?g:Qe(Mt(u.longitude),Mt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},v=g[Pc]?.arrayValue,b=p[Pc]?.arrayValue,S=Qe(v?.values?.length||0,b?.values?.length||0);return S!==0?S:Q_(v,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===fc.mapValue&&f===fc.mapValue)return 0;if(u===fc.mapValue)return 1;if(f===fc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),v=f.fields||{},b=Object.keys(v);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const w=Dd(p[S],b[S]);if(w!==0)return w;const I=$a(g[p[S]],v[b[S]]);if(I!==0)return I}return Qe(p.length,b.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function F_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=or(s),r=or(e),l=Qe(i.seconds,r.seconds);return l!==0?l:Qe(i.nanos,r.nanos)}function Q_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=$a(i[l],r[l]);if(u)return u}return Qe(i.length,r.length)}function Ja(s){return Id(s)}function Id(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=or(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return we.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Id(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Id(i.fields[f])}`;return l+"}"})(s.mapValue):Re(61005,{value:s})}function mc(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(s);return e?16+mc(e):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+mc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Kr(r.fields,((u,f)=>{l+=u.length+mc(f)})),l})(s.mapValue);default:throw Re(13486,{value:s})}}function xd(s){return!!s&&"integerValue"in s}function rg(s){return!!s&&"arrayValue"in s}function K_(s){return!!s&&"nullValue"in s}function Y_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vc(s){return!!s&&"mapValue"in s}function Ew(s){return(s?.mapValue?.fields||{})[b0]?.stringValue===S0}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Kr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=El(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=El(s.arrayValue.values[i]);return e}return{...s}}function bw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!vc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(i)}setAll(e){let i=sn.emptyPath(),r={},l=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}f?r[g.lastSegment()]=El(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Kr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Jn(El(this.value))}}function T0(s){const e=[];return Kr(s.fields,((i,r)=>{const l=new sn([i]);if(vc(r)){const u=T0(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,i,r,l,u,f,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new dn(e,0,De.min(),De.min(),De.min(),Jn.empty(),0)}static newFoundDocument(e,i,r,l){return new dn(e,1,i,De.min(),r,l,0)}static newNoDocument(e,i){return new dn(e,2,i,De.min(),De.min(),Jn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,De.min(),De.min(),Jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i){this.position=e,this.inclusive=i}}function Z_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=we.comparator(we.fromName(f.referenceValue),i.key):r=$a(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!zi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Sw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class Bt extends C0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Cw(e,i,r):i==="array-contains"?new Lw(e,r):i==="in"?new Mw(e,r):i==="not-in"?new Rw(e,r):i==="array-contains-any"?new Ow(e,r):new Bt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Aw(e,r):new ww(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends C0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return A0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(s){return s.op==="and"}function w0(s){return Tw(s)&&A0(s)}function Tw(s){for(const e of s.filters)if(e instanceof Bi)return!1;return!0}function Vd(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(w0(s))return s.filters.map((e=>Vd(e))).join(",");{const e=s.filters.map((i=>Vd(i))).join(",");return`${s.op}(${e})`}}function L0(s,e){return s instanceof Bt?(function(r,l){return l instanceof Bt&&r.op===l.op&&r.field.isEqual(l.field)&&zi(r.value,l.value)})(s,e):s instanceof Bi?(function(r,l){return l instanceof Bi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,g)=>u&&L0(f,l.filters[g])),!0):!1})(s,e):void Re(19439)}function M0(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(M0).join(" ,")+"}"})(s):"Filter"}class Cw extends Bt{constructor(e,i,r){super(e,i,r),this.key=we.fromName(r.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class Aw extends Bt{constructor(e,i){super(e,"in",i),this.keys=R0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ww extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=R0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function R0(s,e){return(e.arrayValue?.values||[]).map((i=>we.fromName(i.referenceValue)))}class Lw extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rg(i)&&Dl(i.arrayValue,this.value)}}class Mw extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class Rw extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class Ow extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Dl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,i=null,r=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function $_(s,e=null,i=[],r=[],l=null,u=null,f=null){return new Dw(s,e,i,r,l,u,f)}function ag(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Vd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ja(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ja(r))).join(",")),e.Te=i}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Sw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function Nd(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,i=null,r=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Iw(s,e,i,r,l,u,f,g){return new Zc(s,e,i,r,l,u,f,g)}function lg(s){return new Zc(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xw(s){return s.collectionGroup!==null}function bl(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new jt(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Uc(u,r))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new Uc(sn.keyField(),r))}return e.Ie}function Ni(s){const e=xe(s);return e.Ee||(e.Ee=Vw(e,bl(s))),e.Ee}function Vw(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Uc(l.field,u)}));const i=s.endAt?new kc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new kc(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Pd(s,e,i){return new Zc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Xc(s,e){return og(Ni(s),Ni(e))&&s.limitType===e.limitType}function O0(s){return`${ag(Ni(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>M0(l))).join(", ")}]`),Kc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function $c(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):we.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of bl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,g,p){const v=Z_(f,g,p);return f.inclusive?v<=0:v<0})(r.startAt,bl(r),l)||r.endAt&&!(function(f,g,p){const v=Z_(f,g,p);return f.inclusive?v>=0:v>0})(r.endAt,bl(r),l))})(s,e)}function Nw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D0(s){return(e,i)=>{let r=!1;for(const l of bl(s)){const u=Pw(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Pw(s,e,i){const r=s.field.isKeyField()?we.comparator(e.key,i.key):(function(u,f,g){const p=f.data.field(u),v=g.data.field(u);return p!==null&&v!==null?$a(p,v):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new bt(we.comparator);function vs(){return kw}const I0=new bt(we.comparator);function gl(...s){let e=I0;for(const i of s)e=e.insert(i.key,i);return e}function x0(s){let e=I0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function qr(){return Sl()}function V0(){return Sl()}function Sl(){return new Yr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Uw=new bt(we.comparator),zw=new jt(we.comparator);function Ke(...s){let e=zw;for(const i of s)e=e.add(i);return e}const Bw=new jt(Qe);function jw(){return Bw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function N0(s){return{integerValue:""+s}}function qw(s,e){return gw(e)?N0(e):ug(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function Hw(s,e,i){return s instanceof Il?(function(l,u){const f={fields:{[y0]:{stringValue:v0},[E0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&sg(u)&&(u=Yc(u)),u&&(f.fields[_0]=u),{mapValue:f}})(i,e):s instanceof xl?k0(s,e):s instanceof Vl?U0(s,e):(function(l,u){const f=P0(l,u),g=W_(f)+W_(l.Ae);return xd(f)&&xd(l.Ae)?N0(g):ug(l.serializer,g)})(s,e)}function Gw(s,e,i){return s instanceof xl?k0(s,e):s instanceof Vl?U0(s,e):i}function P0(s,e){return s instanceof zc?(function(r){return xd(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Il extends Jc{}class xl extends Jc{constructor(e){super(),this.elements=e}}function k0(s,e){const i=z0(e);for(const r of s.elements)i.some((l=>zi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Vl extends Jc{constructor(e){super(),this.elements=e}}function U0(s,e){let i=z0(e);for(const r of s.elements)i=i.filter((l=>!zi(l,r)));return{arrayValue:{values:i}}}class zc extends Jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(s){return Mt(s.integerValue||s.doubleValue)}function z0(s){return rg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,i){this.field=e,this.transform=i}}function Qw(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof xl&&l instanceof xl||r instanceof Vl&&l instanceof Vl?Xa(r.elements,l.elements,zi):r instanceof zc&&l instanceof zc?zi(r.Ae,l.Ae):r instanceof Il&&l instanceof Il})(s.transform,e.transform)}class Kw{constructor(e,i){this.version=e,this.transformResults=i}}class gs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wc{}function B0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new q0(s.key,gs.none()):new Pl(s.key,s.data,gs.none());{const i=s.data,r=Jn.empty();let l=new jt(sn.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Zr(s.key,r,new hi(l.toArray()),gs.none())}}function Yw(s,e,i){s instanceof Pl?(function(l,u,f){const g=l.value.clone(),p=tE(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Zr?(function(l,u,f){if(!yc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=tE(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(j0(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Tl(s,e,i,r){return s instanceof Pl?(function(u,f,g,p){if(!yc(u.precondition,f))return g;const v=u.value.clone(),b=nE(u.fieldTransforms,p,f);return v.setAll(b),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Zr?(function(u,f,g,p){if(!yc(u.precondition,f))return g;const v=nE(u.fieldTransforms,p,f),b=f.data;return b.setAll(j0(u)),b.setAll(v),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(u,f,g){return yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,i)}function Zw(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=P0(r.transform,l||null);u!=null&&(i===null&&(i=Jn.empty()),i.set(r.field,u))}return i||null}function eE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Xa(r,l,((u,f)=>Qw(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Pl extends Wc{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zr extends Wc{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function tE(s,e,i){const r=new Map;it(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],f=u.transform,g=e.data.field(u.field);r.set(u.field,Gw(f,g,i[l]))}return r}function nE(s,e,i){const r=new Map;for(const l of s){const u=l.transform,f=i.data.field(l.field);r.set(l.field,Hw(u,f,e))}return r}class q0 extends Wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xw extends Wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Yw(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Tl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Tl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=V0();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(l.key)?null:g;const p=B0(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,r)=>eE(i,r)))&&Xa(this.baseMutations,e.baseMutations,((i,r)=>eE(i,r)))}}class cg{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Uw})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new cg(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Xe;function eL(s){switch(s){case ue.OK:return Re(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function H0(s){if(s===void 0)return ms("GRPC error has no .code"),ue.UNKNOWN;switch(s){case kt.OK:return ue.OK;case kt.CANCELLED:return ue.CANCELLED;case kt.UNKNOWN:return ue.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ue.INTERNAL;case kt.UNAVAILABLE:return ue.UNAVAILABLE;case kt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case kt.NOT_FOUND:return ue.NOT_FOUND;case kt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case kt.ABORTED:return ue.ABORTED;case kt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case kt.DATA_LOSS:return ue.DATA_LOSS;default:return Re(39323,{code:s})}}(Xe=kt||(kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new sr([4294967295,4294967295],0);function iE(s){const e=tL().encode(s),i=new s0;return i.update(e),new Uint8Array(i.digest())}function sE(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sr([i,r],0),new sr([l,u],0)]}class hg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(sr.fromNumber(r)));return l.compare(nL)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=iE(e),[r,l]=sE(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new hg(u,l,i);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=iE(e),[r,l]=sE(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new eh(De.min(),l,new bt(Qe),vs(),Ke())}}class kl{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new kl(r,i,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class G0{constructor(e,i){this.targetId=e,this.Ce=i}}class F0{constructor(e,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class rE{constructor(){this.ve=0,this.Fe=aE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),r=Ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Re(38017,{changeType:u})}})),new kl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iL{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=dc(),this.He=dc(),this.Ye=new bt(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Nd(u))if(r===0){const f=new we(u.path);this.et(i,f,dn.newNoDocument(f,De.min()))}else it(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let f,g;try{f=lr(r).toUint8Array()}catch(p){if(p instanceof m0)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new hg(f,l,u)}catch(p){return Za(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Nd(g.target)){const p=new we(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,dn.newNoDocument(p,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=Ke();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new eh(e,i,this.Ye,this.je,r);return this.je=vs(),this.Je=dc(),this.He=dc(),this.Ye=new bt(Qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new rE,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new jt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new jt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function dc(){return new bt(we.comparator)}function aE(){return new bt(we.comparator)}const sL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"};class oL{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kd(s,e){return s.useProto3Json||Kc(e)?e:{value:e}}function Bc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function lL(s,e){return Bc(s,e.toTimestamp())}function Pi(s){return it(!!s,49232),De.fromTimestamp((function(i){const r=or(i);return new mt(r.seconds,r.nanos)})(s))}function fg(s,e){return Ud(s,e).canonicalString()}function Ud(s,e){const i=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function K0(s){const e=pt.fromString(s);return it(J0(e),10190,{key:e.toString()}),e}function zd(s,e){return fg(s.databaseId,e.path)}function vd(s,e){const i=K0(e);if(i.get(1)!==s.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new we(Z0(i))}function Y0(s,e){return fg(s.databaseId,e)}function uL(s){const e=K0(s);return e.length===4?pt.emptyPath():Z0(e)}function Bd(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Z0(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function oE(s,e,i){return{name:zd(s,e),fields:i.value.mapValue.fields}}function cL(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Re(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(v,b){return v.useProto3Json?(it(b===void 0||typeof b=="string",58123),rn.fromBase64String(b||"")):(it(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),rn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(v){const b=v.code===void 0?ue.UNKNOWN:H0(v.code);return new Te(b,v.message||"")})(f);i=new F0(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=vd(s,r.document.name),u=Pi(r.document.updateTime),f=r.document.createTime?Pi(r.document.createTime):De.min(),g=new Jn({mapValue:{fields:r.document.fields}}),p=dn.newFoundDocument(l,u,f,g),v=r.targetIds||[],b=r.removedTargetIds||[];i=new _c(v,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=vd(s,r.document),u=r.readTime?Pi(r.readTime):De.min(),f=dn.newNoDocument(l,u),g=r.removedTargetIds||[];i=new _c([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=vd(s,r.document),u=r.removedTargetIds||[];i=new _c([],u,l,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new Ww(l,u),g=r.targetId;i=new G0(g,f)}}return i}function hL(s,e){let i;if(e instanceof Pl)i={update:oE(s,e.key,e.value)};else if(e instanceof q0)i={delete:zd(s,e.key)};else if(e instanceof Zr)i={update:oE(s,e.key,e.data),updateMask:EL(e.fieldMask)};else{if(!(e instanceof Xw))return Re(16599,{Vt:e.type});i={verify:zd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Il)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Re(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:lL(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(s,e.precondition)),i}function fL(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map((i=>(function(l,u){let f=l.updateTime?Pi(l.updateTime):Pi(u);return f.isEqual(De.min())&&(f=Pi(u)),new Kw(f,l.transformResults||[])})(i,e)))):[]}function dL(s,e){return{documents:[Y0(s,e.path)]}}function gL(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Y0(s,l);const u=(function(v){if(v.length!==0)return $0(Bi.create(v,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((b=>(function(w){return{field:ja(w.field),direction:vL(w.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=kd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function pL(s){let e=uL(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){it(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(S){const w=X0(S);return w instanceof Bi&&w0(w)?w.getFilters():[w]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((w=>(function(x){return new Uc(qa(x.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let w;return w=typeof S=="object"?S.value:S,Kc(w)?null:w})(i.limit));let p=null;i.startAt&&(p=(function(S){const w=!!S.before,I=S.values||[];return new kc(I,w)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const w=!S.before,I=S.values||[];return new kc(I,w)})(i.endAt)),Iw(e,l,f,u,g,"F",p,v)}function mL(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=qa(i.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Bt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(i.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(i.unaryFilter.field);return Bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((r=>X0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function vL(s){return sL[s]}function yL(s){return rL[s]}function _L(s){return aL[s]}function ja(s){return{fieldPath:s.canonicalString()}}function qa(s){return sn.fromServerFormat(s.fieldPath)}function $0(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:yL(i.op),value:i.value}}})(s):s instanceof Bi?(function(i){const r=i.getFilters().map((l=>$0(l)));return r.length===1?r[0]:{compositeFilter:{op:_L(i.op),filters:r}}})(s):Re(54877,{filter:s})}function EL(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function J0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,i,r,l,u=De.min(),f=De.min(),g=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.yt=e}}function SL(s){const e=pL({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.Cn=new CL}addToCollectionParentIndex(e,i){return this.Cn.add(i),ae.resolve()}getCollectionParents(e,i){return ae.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ae.resolve()}deleteFieldIndex(e,i){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,i){return ae.resolve()}getDocumentsMatchingTarget(e,i){return ae.resolve(null)}getIndexType(e,i){return ae.resolve(0)}getFieldIndexes(e,i){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,i){return ae.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,i){return ae.resolve(ar.min())}updateCollectionGroup(e,i,r){return ae.resolve()}updateIndexEntries(e,i){return ae.resolve()}}class CL{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new jt(pt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(W0,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",AL=1048576;function cE([s,e],[i,r]){const l=Qe(s,i);return l===0?Qe(e,r):l}class wL{constructor(e){this.Ir=e,this.buffer=new jt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();cE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LL{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?de(uE,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class ML{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ae.resolve(Qc.ce);const r=new wL(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(lE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,f,g,p,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),za()<=$e.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(v-p)+`ms
Total Duration: ${v-b}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function RL(s,e){return new ML(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.changes=new Yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ae.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Tl(r.mutation,l,hi.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ke()){const l=qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let f=gl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ke())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,r,l){let u=vs();const f=Sl(),g=(function(){return Sl()})();return i.forEach(((p,v)=>{const b=r.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof Zr)?u=u.insert(v.key,v):b!==void 0?(f.set(v.key,b.mutation.getFieldMask()),Tl(b.mutation,v,b.mutation.getFieldMask(),mt.now())):f.set(v.key,hi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((v,b)=>f.set(v,b))),i.forEach(((v,b)=>g.set(v,new DL(b,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Sl();let l=new bt(((f,g)=>f-g)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let b=r.get(p)||hi.empty();b=g.applyToLocalView(v,b),r.set(p,b);const S=(l.get(g.batchId)||Ke()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,b=p.value,S=V0();b.forEach((w=>{if(!u.has(w)){const I=B0(i.get(w),r.get(w));I!==null&&S.set(w,I),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ae.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(f){return we.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):ae.resolve(qr());let g=Ml,p=u;return f.next((v=>ae.forEach(v,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(b)?ae.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,p,v,Ke()))).next((b=>({batchId:g,changes:x0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((r=>{let l=gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let f=gl();return this.indexManager.getCollectionParents(e,u).next((g=>ae.forEach(g,(p=>{const v=(function(S,w){return new Zc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((b=>{b.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((f=>{u.forEach(((p,v)=>{const b=v.getKey();f.get(b)===null&&(f=f.insert(b,dn.newInvalidDocument(b)))}));let g=gl();return f.forEach(((p,v)=>{const b=u.get(p);b!==void 0&&Tl(b.mutation,v,hi.empty(),mt.now()),$c(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ae.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),ae.resolve()}getNamedQuery(e,i){return ae.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:SL(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.overlays=new bt(we.comparator),this.qr=new Map}getOverlay(e,i){return ae.resolve(this.overlays.get(i))}getOverlays(e,i){const r=qr();return ae.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),ae.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,i,r){const l=qr(),u=i.length+1,f=new we(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return ae.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new bt(((v,b)=>v-b));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=u.get(v.largestBatchId);b===null&&(b=qr(),u=u.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=qr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=l)););return ae.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Jw(i,r));let u=this.qr.get(i);u===void 0&&(u=Ke(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new jt(Yt.$r),this.Ur=new jt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new we(new pt([])),r=new Yt(i,e),l=new Yt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new pt([])),r=new Yt(i,e),l=new Yt(i,e+1);let u=Ke();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Yt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $w(u,i,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Yt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,i){return ae.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new jt(Qe);return i.forEach((l=>{const u=new Yt(l,0),f=new Yt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;we.isDocumentKey(u)||(u=u.child(""));const f=new Yt(new we(u),0);let g=new jt(Qe);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Yr)),!0)}),f),ae.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(i.mutations,(l=>{const u=new Yt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),l=this.Zr.firstAfterOrEqual(r);return ae.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.ri=e,this.docs=(function(){return new bt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ae.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let r=vs();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():dn.newInvalidDocument(l))})),ae.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=vs();const f=i.path,g=new we(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:b}}=p.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||cw(uw(b),r)<=0||(l.has(b.key)||$c(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Re(9500)}ii(e,i){return ae.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new UL(this)}getSize(e){return ae.resolve(this.size)}}class UL extends OL{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ae.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.persistence=e,this.si=new Yr((i=>ag(i)),og),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ae.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ae.resolve()}updateTargetData(e,i){return this.Pr(i),ae.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),ae.waitFor(u).next((()=>l))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ae.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ae.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ae.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ae.resolve(r)}containsKey(e,i){return ae.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new NL,this.referenceDelegate=e(this),this.Pi=new zL(this),this.indexManager=new TL,this.remoteDocumentCache=(function(l){return new kL(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bL(i),this.Ii=new xL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VL,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new PL(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const l=new BL(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class BL extends fw{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ae.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const l=we.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ae.or([()=>ae.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class jc{constructor(e,i){this.persistence=e,this.pi=new Yr((r=>pw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=RL(this,i)}static mi(e,i){return new jc(e,i)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ae.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ae.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((g=>{g||(r++,u.removeEntry(f,De.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=mc(e.data.value)),i}br(e,i,r){return ae.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ae.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Ke(),l=Ke();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new pg(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DC()?8:dw(RC())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jL;return this.Ss(e,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,f,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(za()<=$e.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(za()<=$e.DEBUG&&de("QueryEngine","Query:",Ba(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(za()<=$e.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):ae.resolve())}ys(e,i){if(J_(i))return ae.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Pd(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Ke(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const v=this.Ds(i,g);return this.Cs(i,v,f,p.readTime)?this.ys(e,Pd(i,null,"F")):this.vs(e,v,i,p)}))))})))))}ws(e,i,r,l){return J_(i)||l.isEqual(De.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,l)?ae.resolve(null):(za()<=$e.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(e,f,i,lw(l,Ml)).next((g=>g)))}))}Ds(e,i){let r=new jt(D0(e));return i.forEach(((l,u)=>{$c(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return za()<=$e.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(e,i,ar.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",HL=3e8;class GL{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new bt(Qe),this.xs=new Yr((u=>ag(u)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function FL(s,e,i,r){return new GL(s,e,i,r)}async function tb(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let p=Ke();for(const v of l){f.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}for(const v of u){g.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(r,p).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function QL(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,b){const S=v.batch,w=S.keys();let I=ae.resolve();return w.forEach((x=>{I=I.next((()=>b.getEntry(p,x))).next((j=>{const U=v.docVersions.get(x);it(U!==null,48541),j.version.compareTo(U)<0&&(S.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),b.addEntry(j)))}))})),I.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Ke();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function nb(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function KL(s,e){const i=xe(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const w=l.get(S);if(!w)return;g.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,S))));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):b.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(b.resumeToken,r)),l=l.insert(S,I),(function(j,U,Y){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=HL?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(w,I,b)&&g.push(i.Pi.updateTargetData(u,I))}));let p=vs(),v=Ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(YL(u,f,e.documentUpdates).next((b=>{p=b.ks,v=b.qs}))),!r.isEqual(De.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(b)}return ae.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(i.Ms=l,u)))}function YL(s,e,i){let r=Ke(),l=Ke();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=vs();return i.forEach(((g,p)=>{const v=u.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):de(mg,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function ZL(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ig),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XL(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,ae.resolve(l)):i.Pi.allocateTargetId(r).next((f=>(l=new tr(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function jd(s,e,i){const r=xe(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!ao(f))throw f;de(mg,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function hE(s,e,i){const r=xe(s);let l=De.min(),u=Ke();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,v,b){const S=xe(p),w=S.xs.get(b);return w!==void 0?ae.resolve(S.Ms.get(w)):S.Pi.getTargetData(v,b)})(r,f,Ni(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,i?l:De.min(),i?u:Ke()))).next((g=>($L(r,Nw(e),g),{documents:g,Qs:u})))))}function $L(s,e,i){let r=s.Os.get(e)||De.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class fE{constructor(){this.activeTargetIds=jw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JL{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function qd(){return gc===null?gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Nc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const f=qd(),g=this.zo(e,i.toUriEncodedString());de(yd,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:v}=new URL(g),b=Jd(v);return this.Jo(e,g,p,r,b).then((S=>(de(yd,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Za(yd,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,l,u,f){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=eM[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class iM extends tM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const f=qd();return new Promise(((g,p)=>{const v=new r0;v.setWithCredentials(!0),v.listenOnce(a0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case pc.NO_ERROR:const S=v.getResponseJson();de(hn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case pc.TIMEOUT:de(hn,`RPC '${e}' ${f} timed out`),p(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const w=v.getStatus();if(de(hn,`RPC '${e}' ${f} failed with status:`,w,"response text:",v.getResponseText()),w>0){let I=v.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const j=(function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(J)>=0?J:ue.UNKNOWN})(x.status);p(new Te(j,x.message))}else p(new Te(ue.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(hn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);de(hn,`RPC '${e}' ${f} sending request:`,l),v.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=qd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=u0(),g=l0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const b=u.join("");de(hn,`Creating RPC '${e}' stream ${l}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let w=!1,I=!1;const x=new nM({Yo:U=>{I?de(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(w||(de(hn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),w=!0),de(hn,`RPC '${e}' stream ${l} sending:`,U),S.send(U))},Zo:()=>S.close()}),j=(U,Y,J)=>{U.listen(Y,(oe=>{try{J(oe)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return j(S,dl.EventType.OPEN,(()=>{I||(de(hn,`RPC '${e}' stream ${l} transport opened.`),x.o_())})),j(S,dl.EventType.CLOSE,(()=>{I||(I=!0,de(hn,`RPC '${e}' stream ${l} transport closed`),x.a_(),this.E_(S))})),j(S,dl.EventType.ERROR,(U=>{I||(I=!0,Za(hn,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),x.a_(new Te(ue.UNAVAILABLE,"The operation could not be completed")))})),j(S,dl.EventType.MESSAGE,(U=>{if(!I){const Y=U.data[0];it(!!Y,16349);const J=Y,oe=J?.error||J[0]?.error;if(oe){de(hn,`RPC '${e}' stream ${l} received error:`,oe);const ee=oe.status;let Q=(function(M){const C=kt[M];if(C!==void 0)return H0(C)})(ee),$=oe.message;Q===void 0&&(Q=ue.INTERNAL,$="Unknown error status: "+ee+" with message "+oe.message),I=!0,x.a_(new Te(Q,$)),S.close()}else de(hn,`RPC '${e}' stream ${l} received:`,Y),x.u_(Y)}})),j(g,o0.STAT_EVENT,(U=>{U.stat===Od.PROXY?de(hn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===Od.NOPROXY&&de(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(s){return new oL(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class sb{constructor(e,i,r,l,u,f,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ib(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ue.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new Te(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sM extends sb{constructor(e,i,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=cL(this.serializer,e),r=(function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?Pi(f.readTime):De.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Bd(this.serializer),i.addTarget=(function(u,f){let g;const p=f.target;if(g=Nd(p)?{documents:dL(u,p)}:{query:gL(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Q0(u,f.resumeToken);const v=kd(u,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(De.min())>0){g.readTime=Bc(u,f.snapshotVersion.toTimestamp());const v=kd(u,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const r=mL(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Bd(this.serializer),i.removeTarget=e,this.q_(i)}}class rM extends sb{constructor(e,i,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=fL(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Bd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>hL(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{}class oM extends aM{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Ud(i,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ue.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Ud(i,r),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ue.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class uM{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Xr(this)&&(de(Qr,"Restarting streams for network reachability change."),await(async function(p){const v=xe(p);v.Ea.add(4),await Ul(v),v.Ra.set("Unknown"),v.Ea.delete(4),await nh(v)})(this))}))})),this.Ra=new lM(r,l)}}async function nh(s){if(Xr(s))for(const e of s.da)await e(!0)}async function Ul(s){for(const e of s.da)await e(!1)}function rb(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Eg(i)?_g(i):oo(i).O_()&&yg(i,e))}function vg(s,e){const i=xe(s),r=oo(i);i.Ia.delete(e),r.O_()&&ab(i,e),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function yg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}oo(s).Y_(e)}function ab(s,e){s.Va.Ue(e),oo(s).Z_(e)}function _g(s){s.Va=new iL({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function Eg(s){return Xr(s)&&!oo(s).x_()&&s.Ia.size>0}function Xr(s){return xe(s).Ea.size===0}function ob(s){s.Va=void 0}async function cM(s){s.Ra.set("Online")}async function hM(s){s.Ia.forEach(((e,i)=>{yg(s,e)}))}async function fM(s,e){ob(s),Eg(s)?(s.Ra.ha(e),_g(s)):s.Ra.set("Unknown")}async function dM(s,e,i){if(s.Ra.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){de(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qc(s,r)}else if(e instanceof _c?s.Va.Ze(e):e instanceof G0?s.Va.st(e):s.Va.tt(e),!i.isEqual(De.min()))try{const r=await nb(s.localStore);i.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(v);b&&u.Ia.set(v,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,v)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(rn.EMPTY_BYTE_STRING,b.snapshotVersion)),ab(u,p);const S=new tr(b.target,p,v,b.sequenceNumber);yg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){de(Qr,"Failed to raise snapshot:",r),await qc(s,r)}}async function qc(s,e,i){if(!ao(e))throw e;s.Ea.add(1),await Ul(s),s.Ra.set("Offline"),i||(i=()=>nb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await nh(s)}))}function lb(s,e){return e().catch((i=>qc(s,i,e)))}async function ih(s){const e=xe(s),i=cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;gM(e);)try{const l=await ZL(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,pM(e,l)}catch(l){await qc(e,l)}ub(e)&&cb(e)}function gM(s){return Xr(s)&&s.Ta.length<10}function pM(s,e){s.Ta.push(e);const i=cr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function ub(s){return Xr(s)&&!cr(s).x_()&&s.Ta.length>0}function cb(s){cr(s).start()}async function mM(s){cr(s).ra()}async function vM(s){const e=cr(s);for(const i of s.Ta)e.ea(i.mutations)}async function yM(s,e,i){const r=s.Ta.shift(),l=cg.from(r,e,i);await lb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await ih(s)}async function _M(s,e){e&&cr(s).X_&&await(async function(r,l){if((function(f){return eL(f)&&f!==ue.ABORTED})(l.code)){const u=r.Ta.shift();cr(r).B_(),await lb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await ih(r)}})(s,e),ub(s)&&cb(s)}async function mE(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),de(Qr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Ul(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await nh(i)}async function EM(s,e){const i=xe(s);e?(i.Ea.delete(2),await nh(i)):e||(i.Ea.add(2),await Ul(i),i.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,r,l){const u=xe(i);return u.sa(),new sM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:cM.bind(null,s),t_:hM.bind(null,s),r_:fM.bind(null,s),H_:dM.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Eg(s)?_g(s):s.Ra.set("Unknown")):(await s.ma.stop(),ob(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,r,l){const u=xe(i);return u.sa(),new rM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:mM.bind(null,s),r_:_M.bind(null,s),ta:vM.bind(null,s),na:yM.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await ih(s)):(await s.fa.stop(),s.Ta.length>0&&(de(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const f=Date.now()+r,g=new bg(e,i,f,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(s,e){if(ms("AsyncQueue",`${e}: ${s}`),ao(s))return new Te(ue.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||we.comparator(i.key,r.key):(i,r)=>we.comparator(i.key,r.key),this.keyedMap=gl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ga=new bt(we.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class eo{constructor(e,i,r,l,u,f,g,p,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,l,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new eo(e,i,Qa.emptySet(i),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SM{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=xe(i),u=l.queries;l.queries=yE(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new Te(ue.ABORTED,"Firestore shutting down"))}}function yE(){return new Yr((s=>O0(s)),Xc)}async function TM(s,e){const i=xe(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new bM,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=Sg(f,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Tg(i)}async function CM(s,e){const i=xe(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function AM(s,e){const i=xe(s);let r=!1;for(const l of e){const u=l.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Tg(i)}function wM(s,e,i){const r=xe(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function Tg(s){s.Ca.forEach((e=>{e.next()}))}var Hd,_E;(_E=Hd||(Hd={})).Ma="default",_E.Cache="cache";class LM{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class MM{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=D0(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new vE,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const w=l.get(b),I=$c(this.query,S)?S:null,x=!!w&&this.mutatedKeys.has(w.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;w&&I?w.data.isEqual(I.data)?x!==j&&(r.track({type:3,doc:I}),U=!0):this.su(w,I)||(r.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||v&&this.eu(I,v)<0)&&(g=!0)):!w&&I?(r.track({type:0,doc:I}),U=!0):w&&!I&&(r.track({type:1,doc:w}),U=!0,(p||v)&&(g=!0)),U&&(I?(f=f.add(I),u=j?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(I,x){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:U})}};return j(I)-j(x)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,v=p!==this.Za;return this.Za=p,f.length!==0||v?{snapshot:new eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new fb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new hb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class RM{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class OM{constructor(e){this.key=e,this.hu=!1}}class DM{constructor(e,i,r,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Yr((g=>O0(g)),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new bt(we.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IM(s,e,i=!0){const r=yb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await db(r,e,i,!0),l}async function xM(s,e){const i=yb(s);await db(i,e,!0,!1)}async function db(s,e,i,r){const l=await XL(s.localStore,Ni(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await VM(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&i&&rb(s.remoteStore,l),g}async function VM(s,e,i,r,l){s.pu=(S,w,I)=>(async function(j,U,Y,J){let oe=U.view.ru(Y);oe.Cs&&(oe=await hE(j.localStore,U.query,!1).then((({documents:L})=>U.view.ru(L,oe))));const ee=J&&J.targetChanges.get(U.targetId),Q=J&&J.targetMismatches.get(U.targetId)!=null,$=U.view.applyChanges(oe,j.isPrimaryClient,ee,Q);return bE(j,U.targetId,$.au),$.snapshot})(s,S,w,I);const u=await hE(s.localStore,e,!0),f=new MM(e,u.Qs),g=f.ru(u.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=f.applyChanges(g,s.isPrimaryClient,p);bE(s,i,v.au);const b=new RM(e,i,f);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function NM(s,e,i){const r=xe(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Xc(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await jd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&vg(r.remoteStore,l.targetId),Gd(r,l.targetId)})).catch(ro)):(Gd(r,l.targetId),await jd(r.localStore,l.targetId,!0))}async function PM(s,e){const i=xe(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vg(i.remoteStore,r.targetId))}async function kM(s,e,i){const r=GM(s);try{const l=await(function(f,g){const p=xe(f),v=mt.now(),b=g.reduce(((I,x)=>I.add(x.key)),Ke());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let x=vs(),j=Ke();return p.Ns.getEntries(I,b).next((U=>{x=U,x.forEach(((Y,J)=>{J.isValidDocument()||(j=j.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,x))).next((U=>{S=U;const Y=[];for(const J of g){const oe=Zw(J,S.get(J.key).overlayedDocument);oe!=null&&Y.push(new Zr(J.key,oe,T0(oe.value.mapValue),gs.exists(!0)))}return p.mutationQueue.addMutationBatch(I,v,Y,g)})).next((U=>{w=U;const Y=U.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(I,U.batchId,Y)}))})).then((()=>({batchId:w.batchId,changes:x0(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let v=f.Vu[f.currentUser.toKey()];v||(v=new bt(Qe)),v=v.insert(g,p),f.Vu[f.currentUser.toKey()]=v})(r,l.batchId,i),await zl(r,l.changes),await ih(r.remoteStore)}catch(l){const u=Sg(l,"Failed to persist write");i.reject(u)}}async function gb(s,e){const i=xe(s);try{const r=await KL(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?it(f.hu,14607):l.removedDocuments.size>0&&(it(f.hu,42227),f.hu=!1))})),await zl(i,r,e)}catch(r){await ro(r)}}function EE(s,e,i){const r=xe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=xe(f);p.onlineState=g;let v=!1;p.queries.forEach(((b,S)=>{for(const w of S.Sa)w.va(g)&&(v=!0)})),v&&Tg(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UM(s,e,i){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new bt(we.comparator);f=f.insert(u,dn.newNoDocument(u,De.min()));const g=Ke().add(u),p=new eh(De.min(),new Map,new bt(Qe),f,g);await gb(r,p),r.du=r.du.remove(u),r.Au.delete(e),Ag(r)}else await jd(r.localStore,e,!1).then((()=>Gd(r,e,i))).catch(ro)}async function zM(s,e){const i=xe(s),r=e.batch.batchId;try{const l=await QL(i.localStore,e);mb(i,r,null),pb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await zl(i,l)}catch(l){await ro(l)}}async function BM(s,e,i){const r=xe(s);try{const l=await(function(f,g){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(it(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>p.localDocuments.getDocuments(v,b)))}))})(r.localStore,e);mb(r,e,i),pb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await zl(r,l)}catch(l){await ro(l)}}function pb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function mb(s,e,i){const r=xe(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Gd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||vb(s,r)}))}function vb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ag(s))}function bE(s,e,i){for(const r of i)r instanceof hb?(s.Ru.addReference(r.key,e),jM(s,r)):r instanceof fb?(de(Cg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||vb(s,r.key)):Re(19791,{wu:r})}function jM(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(de(Cg,"New document in limbo: "+i),s.Eu.add(r),Ag(s))}function Ag(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new we(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new OM(i)),s.du=s.du.insert(i,r),rb(s.remoteStore,new tr(Ni(lg(i.path)),r,"TargetPurposeLimboResolution",Qc.ce))}}async function zl(s,e,i){const r=xe(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(v){l.push(v);const b=pg.As(p.targetId,v);u.push(b)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,v){const b=xe(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ae.forEach(v,(w=>ae.forEach(w.Es,(I=>b.persistence.referenceDelegate.addReference(S,w.targetId,I))).next((()=>ae.forEach(w.ds,(I=>b.persistence.referenceDelegate.removeReference(S,w.targetId,I)))))))))}catch(S){if(!ao(S))throw S;de(mg,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const I=b.Ms.get(w),x=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(x);b.Ms=b.Ms.insert(w,j)}}})(r.localStore,u))}async function qM(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){de(Cg,"User change. New user:",e.toKey());const r=await tb(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new Te(ue.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zl(i,r.Ls)}}function HM(s,e){const i=xe(s),r=i.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let l=Ke();const u=i.Iu.get(e);if(!u)return l;for(const f of u){const g=i.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function yb(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UM.bind(null,e),e.Pu.H_=AM.bind(null,e.eventManager),e.Pu.yu=wM.bind(null,e.eventManager),e}function GM(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return FL(this.persistence,new qL,e.initialUser,this.serializer)}Cu(e){return new eb(gg.mi,this.serializer)}Du(e){return new JL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class FM extends Hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LL(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new eb((r=>jc.mi(r,i)),this.serializer)}}class Fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>EE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await EM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SM})()}createDatastore(e){const i=th(e.databaseInfo.databaseId),r=(function(u){return new iM(u)})(e.databaseInfo);return(function(u,f,g,p){return new oM(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,f,g){return new uM(r,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>EE(this.syncEngine,i,0)),(function(){return gE.v()?new gE:new WL})())}createSyncEngine(e,i){return(function(l,u,f,g,p,v,b){const S=new DM(l,u,f,g,p,v);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xe(i);de(Qr,"RemoteStore shutting down."),r.Ea.add(5),await Ul(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class KM{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{de(hr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(de(hr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Sg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ed(s,e){s.asyncQueue.verifyOperationInProgress(),de(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await tb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function SE(s,e){s.asyncQueue.verifyOperationInProgress();const i=await YM(s);de(hr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>mE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>mE(e.remoteStore,l))),s._onlineComponents=e}async function YM(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(hr,"Using user provided OfflineComponentProvider");try{await Ed(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Ed(s,new Hc)}}else de(hr,"Using default OfflineComponentProvider"),await Ed(s,new FM(void 0));return s._offlineComponents}async function _b(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(hr,"Using user provided OnlineComponentProvider"),await SE(s,s._uninitializedComponentsProvider._online)):(de(hr,"Using default OnlineComponentProvider"),await SE(s,new Fd))),s._onlineComponents}function ZM(s){return _b(s).then((e=>e.syncEngine))}async function TE(s){const e=await _b(s),i=e.eventManager;return i.onListen=IM.bind(null,e.syncEngine),i.onUnlisten=NM.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xM.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=PM.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firestore.googleapis.com",AE=!0;class wE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bb,this.ssl=AE}else this.host=e.host,this.ssl=e.ssl??AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AL)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $A;switch(r.type){case"firstParty":return new tw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=CE.get(i);r&&(de("ComponentProvider","Removing Datastore"),CE.delete(i),r.terminate())})(this),Promise.resolve()}}function XM(s,e,i,r={}){s=_l(s,sh);const l=Jd(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(CC(`https://${g}`),MC("Firestore",!0)),u.host!==bb&&u.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:r};if(!Dc(p,f)&&(s._setSettings(p),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=fn.MOCK_USER;else{v=AC(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(S)}s._authCredentials=new JA(new h0(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rh(this.firestore,e,this._query)}}class Zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Nl(i,Zt._jsonSchema))return new Zt(e,r||null,new we(pt.fromString(i.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Ut("string",Zt._jsonSchemaVersion),referencePath:Ut("string")};class rr extends rh{constructor(e,i,r){super(e,i,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new we(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function LE(s,e,...i){if(s=Ya(s),f0("collection","path",e),s instanceof sh){const r=pt.fromString(e,...i);return z_(r),new rr(s,null,r)}{if(!(s instanceof Zt||s instanceof rr))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return z_(r),new rr(s.firestore,null,r)}}function $M(s,e,...i){if(s=Ya(s),arguments.length===1&&(e=tg.newId()),f0("doc","path",e),s instanceof sh){const r=pt.fromString(e,...i);return U_(r),new Zt(s,null,new we(r))}{if(!(s instanceof Zt||s instanceof rr))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return U_(r),new Zt(s.firestore,s instanceof rr?s.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ib(this,"async_queue_retry"),this._c=()=>{const r=_d();r&&de(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;de(ME,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",OE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=bg.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Re(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function OE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Gc extends sh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new RE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function JM(s,e){const i=typeof s=="object"?s:UA(),r=typeof s=="string"?s:Nc,l=xA(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=SC("firestore");u&&XM(l,...u)}return l}function Sb(s){if(s._terminated)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||WM(s),s._firestoreClient}function WM(s){const e=s._freezeSettings(),i=(function(l,u,f,g){return new yw(l,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Eb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new KM(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(i){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nl(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ut("string",Wn._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Nl(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ut("string",ki._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new Te(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ut("string",Ui._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class t2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Pl(e,this.data,i,this.fieldTransforms)}}function Tb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class Mg{constructor(e,i,r,l,u,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tb(this.Ac)&&e2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||th(e)}Cc(e,i,r,l=!1){return new Mg({Ac:e,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i2(s){const e=s._freezeSettings(),i=th(s._databaseId);return new n2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function s2(s,e,i,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);Lb("Data must be an object, but it was:",f,r);const g=Ab(r,f);let p,v;if(u.merge)p=new hi(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const w=r2(e,S,i);if(!f.contains(w))throw new Te(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);o2(b,w)||b.push(w)}p=new hi(b),v=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=f.fieldTransforms;return new t2(new Jn(g),p,v)}class Rg extends Lg{_toFieldTransform(e){return new Fw(e.path,new Il)}isEqual(e){return e instanceof Rg}}function Cb(s,e){if(wb(s=Ya(s)))return Lb("Unsupported field value:",e,s),Ab(s,e);if(s instanceof Lg)return(function(r,l){if(!Tb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const g of r){let p=Cb(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Ya(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:Bc(l.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:Q0(l.serializer,r._byteString)};if(r instanceof Zt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(f,g){return{mapValue:{fields:{[b0]:{stringValue:S0},[Pc]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return ug(g.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ng(r)}`)})(s,e)}function Ab(s,e){const i={};return p0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(s,((r,l)=>{const u=Cb(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function wb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof ki||s instanceof Wn||s instanceof Zt||s instanceof Lg||s instanceof Ui)}function Lb(s,e,i){if(!wb(i)||!d0(i)){const r=ng(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function r2(s,e,i){if((e=Ya(e))instanceof wg)return e._internalPath;if(typeof e=="string")return Mb(s,e);throw Fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const a2=new RegExp("[~\\*/\\[\\]]");function Mb(s,e,i){if(e.search(a2)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wg(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Fc(s,e,i,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new Te(ue.INVALID_ARGUMENT,g+s+p)}function o2(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ob("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends Rb{data(){return super.data()}}function Ob(s,e){return typeof e=="string"?Mb(s,e):e instanceof wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c2{convertValue(e,i="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Kr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[Pc].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new ki(Mt(e.latitude),Mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Yc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const i=or(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=pt.fromString(e);it(J0(r),9688,{name:e});const l=new Ol(r.get(1),r.get(3)),u=new we(r.popFirst(5));return l.isEqual(i)||ms(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends Rb{constructor(e,i,r,l,u,f){super(e,i,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Ob("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ut("string",Gr._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Ec extends Gr{data(e={}){return super.data(e)}}class Ka{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Ec(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:f2(g.type),doc:p,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ut("string",Ka._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Db extends c2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,i)}}function d2(s,e){const i=_l(s.firestore,Gc),r=$M(s),l=h2(s.converter,e);return p2(i,[s2(i2(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then((()=>r))}function g2(s,...e){s=Ya(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||DE(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(DE(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,f,g;if(s instanceof Zt)f=_l(s.firestore,Gc),g=lg(s._key.path),u={next:p=>{e[r]&&e[r](m2(f,s,p))},error:e[r+1],complete:e[r+2]};else{const p=_l(s,rh);f=_l(p.firestore,Gc),g=p._query;const v=new Db(f);u={next:b=>{e[r]&&e[r](new Ka(f,v,p,b))},error:e[r+1],complete:e[r+2]},u2(s._query)}return(function(v,b,S,w){const I=new QM(w),x=new LM(b,I,S);return v.asyncQueue.enqueueAndForget((async()=>TM(await TE(v),x))),()=>{I.Nu(),v.asyncQueue.enqueueAndForget((async()=>CM(await TE(v),x)))}})(Sb(f),g,l,u)}function p2(s,e){return(function(r,l){const u=new Hr;return r.asyncQueue.enqueueAndForget((async()=>kM(await ZM(r),l,u))),u.promise})(Sb(s),e)}function m2(s,e,i){const r=i.docs.get(e._key),l=new Db(s);return new Gr(s,l,e._key,r,new ml(i.hasPendingWrites,i.fromCache),e.converter)}function v2(){return new Rg("serverTimestamp")}(function(e,i=!0){(function(l){so=l})(kA),xc(new wl("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new Gc(new WA(r.getProvider("auth-internal")),new nw(f,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(v.options.projectId,b)})(f,l),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Fa(V_,N_,e),Fa(V_,N_,"esm2020")})();const y2={apiKey:"AIzaSyAr49Z1qFSxcD5d8N2TaMRv7j-_5lQ6Cq8",authDomain:"kizuki-8a65a.firebaseapp.com",projectId:"kizuki-8a65a",storageBucket:"kizuki-8a65a.firebasestorage.app",messagingSenderId:"118026654293",appId:"1:118026654293:web:16b1bdcf7555f8f72ffadc"},_2=t0(y2),IE=JM(_2),E2={width:"100%",height:"70vh"},b2={lat:35.681236,lng:139.767125};function S2({googleMapsApiKey:s}){const{isLoaded:e}=qT({id:"google-map-script",googleMapsApiKey:s}),[i,r]=E.useState([]),[l,u]=E.useState(null),[f,g]=E.useState(null),[p,v]=E.useState(""),[b,S]=E.useState(null),w=E.useCallback(function(J){S(J)},[]),I=E.useCallback(function(J){S(null)},[]);E.useState(()=>{const Y=LE(IE,"pins"),J=g2(Y,oe=>{const ee=oe.docs.map(Q=>({id:Q.id,...Q.data()}));r(ee)});return()=>J()},[]);const x=E.useCallback(Y=>{u({lat:Y.latLng.lat(),lng:Y.latLng.lng()}),g(null),v("")},[]),j=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Y=>{const J={lat:Y.coords.latitude,lng:Y.coords.longitude};b&&(b.panTo(J),b.setZoom(15)),u(J),g(null),v("")},Y=>{switch(Y.code){case Y.PERMISSION_DENIED:alert("");break;case Y.POSITION_UNAVAILABLE:alert("");break;case Y.TIMEOUT:alert("");break;default:alert("");break}}):alert("")},U=async Y=>{if(Y.preventDefault(),!(!p.trim()||!l))try{await d2(LE(IE,"pins"),{lat:l.lat,lng:l.lng,text:p,createdAt:v2()}),u(null),v("")}catch(J){console.error(": ",J)}};return e?qe.jsxs("div",{children:[qe.jsx("button",{onClick:j,style:{marginBottom:"10px",padding:"10px 15px",fontSize:"16px",cursor:"pointer"},children:" "}),qe.jsxs(OT,{mapContainerStyle:E2,center:b2,zoom:12,onClick:x,onLoad:w,onUnmount:I,children:[i.map(Y=>qe.jsx(bd,{position:{lat:Y.lat,lng:Y.lng},onClick:()=>{g(Y),u(null)}},Y.id)),f&&qe.jsx(Cd,{position:{lat:f.lat,lng:f.lng},onCloseClick:()=>g(null),children:qe.jsxs("div",{children:[qe.jsx("p",{children:f.text}),qe.jsxs("small",{children:[": ",f.createdAt?.toDate().toLocaleString("ja-JP")]})]})}),l&&qe.jsx(bd,{position:{lat:l.lat,lng:l.lng}}),l&&qe.jsx(Cd,{position:{lat:l.lat,lng:l.lng},onCloseClick:()=>u(null),children:qe.jsxs("form",{onSubmit:U,children:[qe.jsx("textarea",{value:p,onChange:Y=>v(Y.target.value),placeholder:"...",rows:"4",cols:"30",required:!0,style:{display:"block",marginBottom:"10px"}}),qe.jsx("button",{type:"submit",children:""})]})})]})]}):qe.jsx("div",{children:"..."})}const T2=fT.memo(S2);function C2(){return qe.jsxs("div",{className:"App",children:[qe.jsxs("header",{className:"App-header",children:[qe.jsx("h1",{children:" "}),qe.jsx("p",{children:""})]}),qe.jsx("main",{children:qe.jsx(T2,{googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc"})})]})}yT.createRoot(document.getElementById("root")).render(qe.jsx(E.StrictMode,{children:qe.jsx(C2,{})}));
