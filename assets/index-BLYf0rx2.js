(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $b(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ud={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function CC(){if(i_)return Ll;i_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var s_;function wC(){return s_||(s_=1,Ud.exports=CC()),Ud.exports}var he=wC(),zd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function AC(){if(r_)return Ie;r_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function j(N,J,se){this.props=N,this.context=J,this.refs=V,this.updater=se||M}j.prototype.isReactComponent={},j.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=j.prototype;function X(N,J,se){this.props=N,this.context=J,this.refs=V,this.updater=se||M}var H=X.prototype=new B;H.constructor=X,k(H,j.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function W(){}var L={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,J,se){var ce=se.ref;return{$$typeof:i,type:N,key:J,ref:ce!==void 0?ce:null,props:se}}function I(N,J){return C(N.type,J,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function U(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return J[se]})}var O=/\/+/g;function me(N,J){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):J.toString(36)}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(W,W):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Q(N,J,se,ce,$){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(ve){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case i:case e:Se=!0;break;case _:return Se=N._init,Q(Se(N._payload),J,se,ce,$)}}if(Se)return $=$(N),Se=ce===""?"."+me(N,0):ce,F($)?(se="",Se!=null&&(se=Se.replace(O,"$&/")+"/"),Q($,J,se,"",function(we){return we})):$!=null&&(x($)&&($=I($,se+($.key==null||N&&N.key===$.key?"":(""+$.key).replace(O,"$&/")+"/")+Se)),J.push($)),1;Se=0;var Ce=ce===""?".":ce+":";if(F(N))for(var Oe=0;Oe<N.length;Oe++)ce=N[Oe],ve=Ce+me(ce,Oe),Se+=Q(ce,J,se,ve,$);else if(Oe=D(N),typeof Oe=="function")for(N=Oe.call(N),Oe=0;!(ce=N.next()).done;)ce=ce.value,ve=Ce+me(ce,Oe++),Se+=Q(ce,J,se,ve,$);else if(ve==="object"){if(typeof N.then=="function")return Q(be(N),J,se,ce,$);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ue(N,J,se){if(N==null)return N;var ce=[],$=0;return Q(N,ce,"","",function(ve){return J.call(se,ve,$++)}),ce}function fe(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var Ee=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},_e={map:ue,forEach:function(N,J,se){ue(N,function(){J.apply(this,arguments)},se)},count:function(N){var J=0;return ue(N,function(){J++}),J},toArray:function(N){return ue(N,function(J){return J})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=T,Ie.Children=_e,Ie.Component=j,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=X,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return L.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,J,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ce=k({},N.props),$=N.key;if(J!=null)for(ve in J.key!==void 0&&($=""+J.key),J)!A.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(ce[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)ce.children=se;else if(1<ve){for(var Se=Array(ve),Ce=0;Ce<ve;Ce++)Se[Ce]=arguments[Ce+2];ce.children=Se}return C(N.type,$,ce)},Ie.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,J,se){var ce,$={},ve=null;if(J!=null)for(ce in J.key!==void 0&&(ve=""+J.key),J)A.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&($[ce]=J[ce]);var Se=arguments.length-2;if(Se===1)$.children=se;else if(1<Se){for(var Ce=Array(Se),Oe=0;Oe<Se;Oe++)Ce[Oe]=arguments[Oe+2];$.children=Ce}if(N&&N.defaultProps)for(ce in Se=N.defaultProps,Se)$[ce]===void 0&&($[ce]=Se[ce]);return C(N,ve,$)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:p,render:N}},Ie.isValidElement=x,Ie.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:fe}},Ie.memo=function(N,J){return{$$typeof:m,type:N,compare:J===void 0?null:J}},Ie.startTransition=function(N){var J=L.T,se={};L.T=se;try{var ce=N(),$=L.S;$!==null&&$(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(W,Ee)}catch(ve){Ee(ve)}finally{J!==null&&se.types!==null&&(J.types=se.types),L.T=J}},Ie.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ie.use=function(N){return L.H.use(N)},Ie.useActionState=function(N,J,se){return L.H.useActionState(N,J,se)},Ie.useCallback=function(N,J){return L.H.useCallback(N,J)},Ie.useContext=function(N){return L.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,J){return L.H.useDeferredValue(N,J)},Ie.useEffect=function(N,J){return L.H.useEffect(N,J)},Ie.useEffectEvent=function(N){return L.H.useEffectEvent(N)},Ie.useId=function(){return L.H.useId()},Ie.useImperativeHandle=function(N,J,se){return L.H.useImperativeHandle(N,J,se)},Ie.useInsertionEffect=function(N,J){return L.H.useInsertionEffect(N,J)},Ie.useLayoutEffect=function(N,J){return L.H.useLayoutEffect(N,J)},Ie.useMemo=function(N,J){return L.H.useMemo(N,J)},Ie.useOptimistic=function(N,J){return L.H.useOptimistic(N,J)},Ie.useReducer=function(N,J,se){return L.H.useReducer(N,J,se)},Ie.useRef=function(N){return L.H.useRef(N)},Ie.useState=function(N){return L.H.useState(N)},Ie.useSyncExternalStore=function(N,J,se){return L.H.useSyncExternalStore(N,J,se)},Ie.useTransition=function(){return L.H.useTransition()},Ie.version="19.2.0",Ie}var a_;function zp(){return a_||(a_=1,zd.exports=AC()),zd.exports}var y=zp();const LC=$b(y);var Bd={exports:{}},Rl={},jd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function RC(){return o_||(o_=1,(function(i){function e(Q,ue){var fe=Q.length;Q.push(ue);e:for(;0<fe;){var Ee=fe-1>>>1,_e=Q[Ee];if(0<o(_e,ue))Q[Ee]=ue,Q[fe]=_e,fe=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ue=Q[0],fe=Q.pop();if(fe!==ue){Q[0]=fe;e:for(var Ee=0,_e=Q.length,N=_e>>>1;Ee<N;){var J=2*(Ee+1)-1,se=Q[J],ce=J+1,$=Q[ce];if(0>o(se,fe))ce<_e&&0>o($,se)?(Q[Ee]=$,Q[ce]=fe,Ee=ce):(Q[Ee]=se,Q[J]=fe,Ee=J);else if(ce<_e&&0>o($,fe))Q[Ee]=$,Q[ce]=fe,Ee=ce;else break e}}return ue}function o(Q,ue){var fe=Q.sortIndex-ue.sortIndex;return fe!==0?fe:Q.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],m=[],_=1,T=null,S=3,D=!1,M=!1,k=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function H(Q){for(var ue=n(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=Q)r(m),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(m)}}function F(Q){if(k=!1,H(Q),!M)if(n(g)!==null)M=!0,W||(W=!0,U());else{var ue=n(m);ue!==null&&be(F,ue.startTime-Q)}}var W=!1,L=-1,A=5,C=-1;function I(){return V?!0:!(i.unstable_now()-C<A)}function x(){if(V=!1,W){var Q=i.unstable_now();C=Q;var ue=!0;try{e:{M=!1,k&&(k=!1,B(L),L=-1),D=!0;var fe=S;try{t:{for(H(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&I());){var Ee=T.callback;if(typeof Ee=="function"){T.callback=null,S=T.priorityLevel;var _e=Ee(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof _e=="function"){T.callback=_e,H(Q),ue=!0;break t}T===n(g)&&r(g),H(Q)}else r(g);T=n(g)}if(T!==null)ue=!0;else{var N=n(m);N!==null&&be(F,N.startTime-Q),ue=!1}}break e}finally{T=null,S=fe,D=!1}ue=void 0}}finally{ue?U():W=!1}}}var U;if(typeof X=="function")U=function(){X(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,me=O.port2;O.port1.onmessage=x,U=function(){me.postMessage(null)}}else U=function(){j(x,0)};function be(Q,ue){L=j(function(){Q(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var fe=S;S=ue;try{return Q()}finally{S=fe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=S;S=Q;try{return ue()}finally{S=fe}},i.unstable_scheduleCallback=function(Q,ue,fe){var Ee=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,Q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,Q={id:_++,callback:ue,priorityLevel:Q,startTime:fe,expirationTime:_e,sortIndex:-1},fe>Ee?(Q.sortIndex=fe,e(m,Q),n(g)===null&&Q===n(m)&&(k?(B(L),L=-1):k=!0,be(F,fe-Ee))):(Q.sortIndex=_e,e(g,Q),M||D||(M=!0,W||(W=!0,U()))),Q},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(Q){var ue=S;return function(){var fe=S;S=ue;try{return Q.apply(this,arguments)}finally{S=fe}}}})(qd)),qd}var l_;function MC(){return l_||(l_=1,jd.exports=RC()),jd.exports}var Hd={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function DC(){if(u_)return dn;u_=1;var i=zp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:m,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,_)},dn.flushSync=function(g){var m=h.T,_=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=m,r.p=_,r.d.f()}},dn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},dn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},dn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,T=p(_,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):_==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},dn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=p(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},dn.requestFormReset=function(g){r.d.r(g)},dn.unstable_batchedUpdates=function(g,m){return g(m)},dn.useFormState=function(g,m,_){return h.H.useFormState(g,m,_)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var c_;function Zb(){if(c_)return Hd.exports;c_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hd.exports=DC(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function OC(){if(h_)return Rl;h_=1;var i=MC(),e=zp(),n=Zb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function m(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=d;break}if(w===l){E=!0,l=f,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=f;break}if(w===l){E=!0,l=d,a=f;break}w=w.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),X=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case X:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case H:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return s=t.displayName||null,s!==null?s:me(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return me(t(s))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],_e=-1;function N(t){return{current:t}}function J(t){0>_e||(t.current=Ee[_e],Ee[_e]=null,_e--)}function se(t,s){_e++,Ee[_e]=t.current,t.current=s}var ce=N(null),$=N(null),ve=N(null),Se=N(null);function Ce(t,s){switch(se(ve,s),se($,t),se(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ay(s),t=Ly(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ce),se(ce,t)}function Oe(){J(ce),J($),J(ve)}function we(t){t.memoizedState!==null&&se(Se,t);var s=ce.current,a=Ly(s,t.type);s!==a&&(se($,t),se(ce,a))}function ze(t){$.current===t&&(J(ce),J($)),Se.current===t&&(J(Se),Sl._currentValue=fe)}var Kt,un;function cn(t){if(Kt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Kt=s&&s[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+t+un}var $e=!1;function _i(t,s){if(!t||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var Z=te}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(te){Z=te}t.call(ae.prototype)}}else{try{throw Error()}catch(te){Z=te}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var P=E.split(`
`),Y=w.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===Y.length)for(l=P.length-1,f=Y.length-1;1<=l&&0<=f&&P[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==Y[f]){var ie=`
`+P[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=f);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function Ei(t,s){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==s&&s!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return cn("Activity");default:return""}}function Ds(t){try{var s="",a=null;do s+=Ei(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,Dn=i.unstable_cancelCallback,pa=i.unstable_shouldYield,Xi=i.unstable_requestPaint,Yt=i.unstable_now,bi=i.unstable_getCurrentPriorityLevel,Os=i.unstable_ImmediatePriority,Ti=i.unstable_UserBlockingPriority,oi=i.unstable_NormalPriority,xs=i.unstable_LowPriority,Rr=i.unstable_IdlePriority,Wi=i.log,Mr=i.unstable_setDisableYieldValue,hn=null,xt=null;function Jt(t){if(typeof Wi=="function"&&Mr(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(hn,t)}catch{}}var vt=Math.clz32?Math.clz32:ts,Ji=Math.log,es=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(Ji(t)/es|0)|0}var On=256,Si=262144,Et=4194304;function vn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=vn(l):(E&=w,E!==0?f=vn(E):a||(a=w&~t,a!==0&&(f=vn(a))))):(w=l&~d,w!==0?f=vn(w):E!==0?f=vn(E):a||(a=l&~t,a!==0&&(f=vn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function fn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ga(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function In(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function is(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ss(t,s,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,P=t.expirationTimes,Y=t.hiddenUpdates;for(a=E&~a;0<a;){var ie=31-vt(a),ae=1<<ie;w[ie]=0,P[ie]=-1;var Z=Y[ie];if(Z!==null)for(Y[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}a&=~ae}l!==0&&Me(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~s))}function Me(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-vt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ro(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Mo(t,s){var a=s&-s;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function li(t,s){var a=ue.p;try{return ue.p=t,s()}finally{ue.p=a}}var ui=Math.random().toString(36).slice(2),It="__reactFiber$"+ui,$t="__reactProps$"+ui,Ci="__reactContainer$"+ui,ma="__reactEvents$"+ui,Hh="__reactListeners$"+ui,gu="__reactHandles$"+ui,mu="__reactResources$"+ui,wi="__reactMarker$"+ui;function va(t){delete t[It],delete t[$t],delete t[ma],delete t[Hh],delete t[gu]}function Ai(t){var s=t[It];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ci]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Vy(t);t!==null;){if(a=t[It])return a;t=Vy(t)}return s}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[It]||t[Ci]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Vn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Li(t){var s=t[mu];return s||(s=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(t){t[wi]=!0}var Do=new Set,Oo={};function Ri(t,s){Mi(t,s),Mi(t+"Capture",s)}function Mi(t,s){for(Oo[t]=s,t=0;t<s.length;t++)Do.add(s[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Vo={};function vu(t){return dt.call(Vo,t)?!0:dt.call(Io,t)?!1:xo.test(t)?Vo[t]=!0:(Io[t]=!0,!1)}function ya(t,s,a){if(vu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Nn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Nt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function No(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function st(t){if(!t._valueTracker){var s=Is(t)?"checked":"value";t._valueTracker=No(t,s,""+t[s])}}function Or(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function bn(t){return t.replace(xr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _a(t,s,a,l,f,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),s!=null?E==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Zt(s)):t.value!==""+Zt(s)&&(t.value=""+Zt(s)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),s!=null?Po(t,E,Zt(s)):a!=null?Po(t,E,Zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Zt(w):t.removeAttribute("name")}function yu(t,s,a,l,f,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){st(t);return}a=a!=null?""+Zt(a):"",s=s!=null?""+Zt(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),st(t)}function Po(t,s,a){s==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vs(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function _u(t,s,a){if(s!=null&&(s=""+Zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Zt(a):""}function Ns(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(be(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Zt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Tn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Eu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Uo(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ko(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ko(t,d,s[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var zo=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Oi=null;function Ir(t){var s=Kn(t);if(s&&(t=s.stateNode)){var a=t[$t]||null;e:switch(t=s.stateNode,s.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[$t]||null;if(!f)throw Error(r(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Or(l)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Vs(t,!!a.multiple,s,!1)}}}var Ta=!1;function Us(t,s,a){if(Ta)return t(s,a);Ta=!0;try{var l=t(s);return l}finally{if(Ta=!1,(ks!==null||Oi!==null)&&(pc(),ks&&(s=ks,t=Oi,Oi=ks=null,Ir(s),t)))for(s=0;s<t.length;s++)Ir(t[s])}}function hi(t,s){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if($n)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Vr=!1}var xi=null,Bo=null,Nr=null;function jo(){if(Nr)return Nr;var t,s=Bo,a=s.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&s[a-l]===f[d-l];l++);return Nr=f.slice(t,1<l?1-l:void 0)}function Pr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function fi(){return!1}function en(t){function s(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?as:fi,this.isPropagationStopped=fi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=en(os),zs=T({},os,{view:0,detail:0}),qo=en(zs),Bs,Sa,Vi,Ca=T({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Bs=t.screenX-Vi.screenX,Sa=t.screenY-Vi.screenY):Sa=Bs=0,Vi=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Ho=en(Ca),kr=T({},Ca,{dataTransfer:0}),Tu=en(kr),Su=T({},zs,{relatedTarget:0}),Ur=en(Su),Fo=T({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=en(Fo),wa=T({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=en(wa),Au=T({},os,{data:0}),Ni=en(Au),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mu[t])?!!s[t]:!1}function js(){return Du}var yn=T({},zs,{key:function(t){if(t.key){var s=Lu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=en(yn),xu=T({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=en(xu),c=T({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),v=en(c),b=T({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(b),G=T({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=en(G),de=T({},os,{newState:0,oldState:0}),Ne=en(de),Rt=[9,13,27,32],tt=$n&&"CompositionEvent"in window,yt=null;$n&&"documentMode"in document&&(yt=document.documentMode);var Zn=$n&&"TextEvent"in window&&!yt,Pi=$n&&(!tt||yt&&8<yt&&11>=yt),di=" ",pi=!1;function zr(t,s){switch(t){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function YS(t,s){switch(t){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(pi=!0,di);case"textInput":return t=s.data,t===di&&pi?null:t;default:return null}}function $S(t,s){if(La)return t==="compositionend"||!tt&&zr(t,s)?(t=jo(),Nr=Bo=xi=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pi&&s.locale!=="ko"?null:s.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ZS[t.type]:s==="textarea"}function Ug(t,s,a,l){ks?Oi?Oi.push(l):Oi=[l]:ks=l,s=bc(s,"onChange"),0<s.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Go=null,Qo=null;function XS(t){Ey(t,0)}function Iu(t){var s=Vn(t);if(Or(s))return t}function zg(t,s){if(t==="change")return s}var Bg=!1;if($n){var Fh;if($n){var Gh="oninput"in document;if(!Gh){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Gh=typeof jg.oninput=="function"}Fh=Gh}else Fh=!1;Bg=Fh&&(!document.documentMode||9<document.documentMode)}function qg(){Go&&(Go.detachEvent("onpropertychange",Hg),Qo=Go=null)}function Hg(t){if(t.propertyName==="value"&&Iu(Qo)){var s=[];Ug(s,Qo,t,Yn(t)),Us(XS,s)}}function WS(t,s,a){t==="focusin"?(qg(),Go=s,Qo=a,Go.attachEvent("onpropertychange",Hg)):t==="focusout"&&qg()}function JS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Qo)}function e1(t,s){if(t==="click")return Iu(s)}function t1(t,s){if(t==="input"||t==="change")return Iu(s)}function n1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Pn=typeof Object.is=="function"?Object.is:n1;function Ko(t,s){if(Pn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dt.call(s,f)||!Pn(t[f],s[f]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,s){var a=Fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Di(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Di(t.document)}return s}function Qh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var i1=$n&&"documentMode"in document&&11>=document.documentMode,Ra=null,Kh=null,Yo=null,Yh=!1;function Yg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ra==null||Ra!==Di(l)||(l=Ra,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=bc(Kh,"onSelect"),0<l.length&&(s=new Ii("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ra)))}function Br(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ma={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},$h={},$g={};$n&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function jr(t){if($h[t])return $h[t];if(!Ma[t])return t;var s=Ma[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in $g)return $h[t]=s[a];return t}var Zg=jr("animationend"),Xg=jr("animationiteration"),Wg=jr("animationstart"),s1=jr("transitionrun"),r1=jr("transitionstart"),a1=jr("transitioncancel"),Jg=jr("transitionend"),em=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function gi(t,s){em.set(t,s),Ri(s,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Da=0,Xh=0;function Nu(){for(var t=Da,s=Xh=Da=0;s<t;){var a=Xn[s];Xn[s++]=null;var l=Xn[s];Xn[s++]=null;var f=Xn[s];Xn[s++]=null;var d=Xn[s];if(Xn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&tm(a,f,d)}}function Pu(t,s,a,l){Xn[Da++]=t,Xn[Da++]=s,Xn[Da++]=a,Xn[Da++]=l,Xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,s,a,l){return Pu(t,s,a,l),ku(t)}function qr(t,s){return Pu(t,null,null,s),ku(t)}function tm(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function ku(t){if(50<ml)throw ml=0,ld=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function o1(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,s,a,l){return new o1(t,s,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t,s){var a=t.alternate;return a===null?(a=kn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function nm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Uu(t,s,a,l,f,d){var E=0;if(l=t,typeof t=="function")Jh(t)&&(E=1);else if(typeof t=="string")E=fC(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=kn(31,a,s,f),t.elementType=C,t.lanes=d,t;case k:return Hr(a.children,f,d,s);case V:E=8,f|=24;break;case j:return t=kn(12,a,s,f|2),t.elementType=j,t.lanes=d,t;case F:return t=kn(13,a,s,f),t.elementType=F,t.lanes=d,t;case W:return t=kn(19,a,s,f),t.elementType=W,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:E=10;break e;case B:E=9;break e;case H:E=11;break e;case L:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=kn(E,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function Hr(t,s,a,l){return t=kn(7,t,l,s),t.lanes=a,t}function ef(t,s,a){return t=kn(6,t,null,s),t.lanes=a,t}function im(t){var s=kn(18,null,null,0);return s.stateNode=t,s}function tf(t,s,a){return s=kn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var sm=new WeakMap;function Wn(t,s){if(typeof t=="object"&&t!==null){var a=sm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ds(s)},sm.set(t,s),s)}return{value:t,source:s,stack:Ds(s)}}var xa=[],Ia=0,zu=null,$o=0,Jn=[],ei=0,qs=null,ki=1,Ui="";function cs(t,s){xa[Ia++]=$o,xa[Ia++]=zu,zu=t,$o=s}function rm(t,s,a){Jn[ei++]=ki,Jn[ei++]=Ui,Jn[ei++]=qs,qs=t;var l=ki;t=Ui;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(s)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ki=1<<32-vt(s)+f|a<<f|l,Ui=d+t}else ki=1<<d|a<<f|l,Ui=t}function nf(t){t.return!==null&&(cs(t,1),rm(t,1,0))}function sf(t){for(;t===zu;)zu=xa[--Ia],xa[Ia]=null,$o=xa[--Ia],xa[Ia]=null;for(;t===qs;)qs=Jn[--ei],Jn[ei]=null,Ui=Jn[--ei],Jn[ei]=null,ki=Jn[--ei],Jn[ei]=null}function am(t,s){Jn[ei++]=ki,Jn[ei++]=Ui,Jn[ei++]=qs,ki=s.id,Ui=s.overflow,qs=t}var tn=null,pt=null,Ye=!1,Hs=null,ti=!1,rf=Error(r(519));function Fs(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Wn(s,t)),rf}function om(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[It]=t,s[$t]=l,a){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(a=0;a<yl.length;a++)qe(yl[a],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),yu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),Ns(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Cy(s.textContent,a)?(l.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),l.onScroll!=null&&qe("scroll",s),l.onScrollEnd!=null&&qe("scrollend",s),l.onClick!=null&&(s.onclick=ci),s=!0):s=!1,s||Fs(t,!0)}function lm(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:tn=tn.return}}function Va(t){if(t!==tn)return!1;if(!Ye)return lm(t),Ye=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&pt&&Fs(t),lm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Iy(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Iy(t)}else s===27?(s=pt,sr(t.type)?(t=Rd,Rd=null,pt=t):pt=s):pt=tn?ii(t.stateNode.nextSibling):null;return!0}function Fr(){pt=tn=null,Ye=!1}function af(){var t=Hs;return t!==null&&(An===null?An=t:An.push.apply(An,t),Hs=null),t}function Zo(t){Hs===null?Hs=[t]:Hs.push(t)}var of=N(null),Gr=null,hs=null;function Gs(t,s,a){se(of,s._currentValue),s._currentValue=a}function fs(t){t._currentValue=of.current,J(of)}function lf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function uf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var P=0;P<s.length;P++)if(w.context===s[P]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),lf(d.return,a,t),l||(E=null);break e}d=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),lf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Na(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=f.type;Pn(f.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(f===Se.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}f=f.return}t!==null&&uf(s,t,a,l),s.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Gr=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return um(Gr,t)}function ju(t,s){return Gr===null&&Qr(t),um(t,s)}function um(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},hs===null){if(t===null)throw Error(r(308));hs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else hs=hs.next=s;return a}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},u1=i.unstable_scheduleCallback,c1=i.unstable_NormalPriority,Pt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new l1,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&u1(c1,function(){t.controller.abort()})}var Wo=null,hf=0,Pa=0,ka=null;function h1(t,s){if(Wo===null){var a=Wo=[];hf=0,Pa=pd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,s.then(cm,cm),s}function cm(){if(--hf===0&&Wo!==null){ka!==null&&(ka.status="fulfilled");var t=Wo;Wo=null,Pa=0,ka=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function f1(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var hm=Q.S;Q.S=function(t,s){Yv=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&h1(t,s),hm!==null&&hm(t,s)};var Kr=N(null);function ff(){var t=Kr.current;return t!==null?t:ht.pooledCache}function qu(t,s){s===null?se(Kr,Kr.current):se(Kr,s.pool)}function fm(){var t=ff();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ua=Error(r(460)),df=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ci,ci),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mm(t),t;default:if(typeof s.status=="string")s.then(ci,ci);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mm(t),t}throw $r=s,Ua}}function Yr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($r=a,Ua):a}}var $r=null;function gm(){if($r===null)throw Error(r(459));var t=$r;return $r=null,t}function mm(t){if(t===Ua||t===Hu)throw Error(r(483))}var za=null,Jo=0;function Gu(t){var s=Jo;return Jo+=1,za===null&&(za=[]),pm(za,t,s)}function el(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Qu(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function vm(t){function s(q,z){if(t){var K=q.deletions;K===null?(q.deletions=[z],q.flags|=16):K.push(z)}}function a(q,z){if(!t)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=us(q,z),q.index=0,q.sibling=null,q}function d(q,z,K){return q.index=K,t?(K=q.alternate,K!==null?(K=K.index,K<z?(q.flags|=67108866,z):K):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,K,re){return z===null||z.tag!==6?(z=ef(K,q.mode,re),z.return=q,z):(z=f(z,K),z.return=q,z)}function P(q,z,K,re){var Ae=K.type;return Ae===k?ie(q,z,K.props.children,re,K.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Yr(Ae)===z.type)?(z=f(z,K.props),el(z,K),z.return=q,z):(z=Uu(K.type,K.key,K.props,null,q.mode,re),el(z,K),z.return=q,z)}function Y(q,z,K,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=tf(K,q.mode,re),z.return=q,z):(z=f(z,K.children||[]),z.return=q,z)}function ie(q,z,K,re,Ae){return z===null||z.tag!==7?(z=Hr(K,q.mode,re,Ae),z.return=q,z):(z=f(z,K),z.return=q,z)}function ae(q,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ef(""+z,q.mode,K),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return K=Uu(z.type,z.key,z.props,null,q.mode,K),el(K,z),K.return=q,K;case M:return z=tf(z,q.mode,K),z.return=q,z;case A:return z=Yr(z),ae(q,z,K)}if(be(z)||U(z))return z=Hr(z,q.mode,K,null),z.return=q,z;if(typeof z.then=="function")return ae(q,Gu(z),K);if(z.$$typeof===X)return ae(q,ju(q,z),K);Qu(q,z)}return null}function Z(q,z,K,re){var Ae=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ae!==null?null:w(q,z,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return K.key===Ae?P(q,z,K,re):null;case M:return K.key===Ae?Y(q,z,K,re):null;case A:return K=Yr(K),Z(q,z,K,re)}if(be(K)||U(K))return Ae!==null?null:ie(q,z,K,re,null);if(typeof K.then=="function")return Z(q,z,Gu(K),re);if(K.$$typeof===X)return Z(q,z,ju(q,K),re);Qu(q,K)}return null}function te(q,z,K,re,Ae){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(K)||null,w(z,q,""+re,Ae);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case D:return q=q.get(re.key===null?K:re.key)||null,P(z,q,re,Ae);case M:return q=q.get(re.key===null?K:re.key)||null,Y(z,q,re,Ae);case A:return re=Yr(re),te(q,z,K,re,Ae)}if(be(re)||U(re))return q=q.get(K)||null,ie(z,q,re,Ae,null);if(typeof re.then=="function")return te(q,z,K,Gu(re),Ae);if(re.$$typeof===X)return te(q,z,K,ju(z,re),Ae);Qu(z,re)}return null}function ye(q,z,K,re){for(var Ae=null,We=null,Te=z,ke=z=0,Ge=null;Te!==null&&ke<K.length;ke++){Te.index>ke?(Ge=Te,Te=null):Ge=Te.sibling;var Je=Z(q,Te,K[ke],re);if(Je===null){Te===null&&(Te=Ge);break}t&&Te&&Je.alternate===null&&s(q,Te),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je,Te=Ge}if(ke===K.length)return a(q,Te),Ye&&cs(q,ke),Ae;if(Te===null){for(;ke<K.length;ke++)Te=ae(q,K[ke],re),Te!==null&&(z=d(Te,z,ke),We===null?Ae=Te:We.sibling=Te,We=Te);return Ye&&cs(q,ke),Ae}for(Te=l(Te);ke<K.length;ke++)Ge=te(Te,q,ke,K[ke],re),Ge!==null&&(t&&Ge.alternate!==null&&Te.delete(Ge.key===null?ke:Ge.key),z=d(Ge,z,ke),We===null?Ae=Ge:We.sibling=Ge,We=Ge);return t&&Te.forEach(function(ur){return s(q,ur)}),Ye&&cs(q,ke),Ae}function Re(q,z,K,re){if(K==null)throw Error(r(151));for(var Ae=null,We=null,Te=z,ke=z=0,Ge=null,Je=K.next();Te!==null&&!Je.done;ke++,Je=K.next()){Te.index>ke?(Ge=Te,Te=null):Ge=Te.sibling;var ur=Z(q,Te,Je.value,re);if(ur===null){Te===null&&(Te=Ge);break}t&&Te&&ur.alternate===null&&s(q,Te),z=d(ur,z,ke),We===null?Ae=ur:We.sibling=ur,We=ur,Te=Ge}if(Je.done)return a(q,Te),Ye&&cs(q,ke),Ae;if(Te===null){for(;!Je.done;ke++,Je=K.next())Je=ae(q,Je.value,re),Je!==null&&(z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return Ye&&cs(q,ke),Ae}for(Te=l(Te);!Je.done;ke++,Je=K.next())Je=te(Te,q,ke,Je.value,re),Je!==null&&(t&&Je.alternate!==null&&Te.delete(Je.key===null?ke:Je.key),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return t&&Te.forEach(function(SC){return s(q,SC)}),Ye&&cs(q,ke),Ae}function ct(q,z,K,re){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case D:e:{for(var Ae=K.key;z!==null;){if(z.key===Ae){if(Ae=K.type,Ae===k){if(z.tag===7){a(q,z.sibling),re=f(z,K.props.children),re.return=q,q=re;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Yr(Ae)===z.type){a(q,z.sibling),re=f(z,K.props),el(re,K),re.return=q,q=re;break e}a(q,z);break}else s(q,z);z=z.sibling}K.type===k?(re=Hr(K.props.children,q.mode,re,K.key),re.return=q,q=re):(re=Uu(K.type,K.key,K.props,null,q.mode,re),el(re,K),re.return=q,q=re)}return E(q);case M:e:{for(Ae=K.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){a(q,z.sibling),re=f(z,K.children||[]),re.return=q,q=re;break e}else{a(q,z);break}else s(q,z);z=z.sibling}re=tf(K,q.mode,re),re.return=q,q=re}return E(q);case A:return K=Yr(K),ct(q,z,K,re)}if(be(K))return ye(q,z,K,re);if(U(K)){if(Ae=U(K),typeof Ae!="function")throw Error(r(150));return K=Ae.call(K),Re(q,z,K,re)}if(typeof K.then=="function")return ct(q,z,Gu(K),re);if(K.$$typeof===X)return ct(q,z,ju(q,K),re);Qu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(a(q,z.sibling),re=f(z,K),re.return=q,q=re):(a(q,z),re=ef(K,q.mode,re),re.return=q,q=re),E(q)):a(q,z)}return function(q,z,K,re){try{Jo=0;var Ae=ct(q,z,K,re);return za=null,Ae}catch(Te){if(Te===Ua||Te===Hu)throw Te;var We=kn(29,Te,null,q.mode);return We.lanes=re,We.return=q,We}finally{}}}var Zr=vm(!0),ym=vm(!1),Qs=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=ku(t),tm(t,null,a),s}return Pu(t,l,s,a),ku(t)}function tl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ro(t,a)}}function mf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var vf=!1;function nl(){if(vf){var t=ka;if(t!==null)throw t}}function il(t,s,a,l){vf=!1;var f=t.updateQueue;Qs=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var P=w,Y=P.next;P.next=null,E===null?d=Y:E.next=Y,E=P;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==E&&(w===null?ie.firstBaseUpdate=Y:w.next=Y,ie.lastBaseUpdate=P))}if(d!==null){var ae=f.baseState;E=0,ie=Y=P=null,w=d;do{var Z=w.lane&-536870913,te=Z!==w.lane;if(te?(Fe&Z)===Z:(l&Z)===Z){Z!==0&&Z===Pa&&(vf=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=t,Re=w;Z=s;var ct=a;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ae=ye.call(ct,ae,Z);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,Z=typeof ye=="function"?ye.call(ct,ae,Z):ye,Z==null)break e;ae=T({},ae,Z);break e;case 2:Qs=!0}}Z=w.callback,Z!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(Y=ie=te,P=ae):ie=ie.next=te,E|=Z;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;te=w,w=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ie===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),Js|=E,t.lanes=E,t.memoizedState=ae}}function _m(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Em(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_m(a[t],s)}var Ba=N(null),Ku=N(0);function bm(t,s){t=bs,se(Ku,t),se(Ba,s),bs=t|s.baseLanes}function yf(){se(Ku,bs),se(Ba,Ba.current)}function _f(){bs=Ku.current,J(Ba),J(Ku)}var Un=N(null),ni=null;function $s(t){var s=t.alternate;se(Mt,Mt.current&1),se(Un,t),ni===null&&(s===null||Ba.current!==null||s.memoizedState!==null)&&(ni=t)}function Ef(t){se(Mt,Mt.current),se(Un,t),ni===null&&(ni=t)}function Tm(t){t.tag===22?(se(Mt,Mt.current),se(Un,t),ni===null&&(ni=t)):Zs()}function Zs(){se(Mt,Mt.current),se(Un,Un.current)}function zn(t){J(Un),ni===t&&(ni=null),J(Mt)}var Mt=N(0);function Yu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Ld(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ds=0,Pe=null,lt=null,kt=null,$u=!1,ja=!1,Xr=!1,Zu=0,sl=0,qa=null,d1=0;function Ct(){throw Error(r(321))}function bf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Pn(t[a],s[a]))return!1;return!0}function Tf(t,s,a,l,f,d){return ds=d,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?rv:kf,Xr=!1,d=a(l,f),Xr=!1,ja&&(d=Cm(s,a,l,f)),Sm(t),d}function Sm(t){Q.H=ol;var s=lt!==null&&lt.next!==null;if(ds=0,kt=lt=Pe=null,$u=!1,sl=0,qa=null,s)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&Bu(t)&&(Ut=!0))}function Cm(t,s,a,l){Pe=t;var f=0;do{if(ja&&(qa=null),sl=0,ja=!1,25<=f)throw Error(r(301));if(f+=1,kt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=av,d=s(a,l)}while(ja);return d}function p1(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?rl(s):s,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Pe.flags|=1024),s}function Sf(){var t=Zu!==0;return Zu=0,t}function Cf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function wf(t){if($u){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}$u=!1}ds=0,kt=lt=Pe=null,ja=!1,sl=Zu=0,qa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=t:kt=kt.next=t,kt}function Dt(){if(lt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var s=kt===null?Pe.memoizedState:kt.next;if(s!==null)kt=s,lt=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},kt===null?Pe.memoizedState=kt=t:kt=kt.next=t}return kt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var s=sl;return sl+=1,qa===null&&(qa=[]),t=pm(qa,t,s),s=Pe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?rv:kf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===X)return nn(t)}throw Error(r(438,String(t)))}function Af(t){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Xu(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ps(t,s){return typeof s=="function"?s(t):s}function Ju(t){var s=Dt();return Lf(s,lt,t)}function Lf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var w=E=null,P=null,Y=s,ie=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Fe&ae)===ae:(ds&ae)===ae){var Z=Y.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Pa&&(ie=!0);else if((ds&Z)===Z){Y=Y.next,Z===Pa&&(ie=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=ae,E=d):P=P.next=ae,Pe.lanes|=Z,Js|=Z;ae=Y.action,Xr&&a(d,ae),d=Y.hasEagerState?Y.eagerState:a(d,ae)}else Z={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=Z,E=d):P=P.next=Z,Pe.lanes|=ae,Js|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?E=d:P.next=w,!Pn(d,t.memoizedState)&&(Ut=!0,ie&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=P,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var s=Dt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Pn(d,s.memoizedState)||(Ut=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function wm(t,s,a){var l=Pe,f=Dt(),d=Ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Pn((lt||f).memoizedState,a);if(E&&(f.memoizedState=a,Ut=!0),f=f.queue,Of(Rm.bind(null,l,f,t),[t]),f.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Lm.bind(null,l,f,a,s),null),ht===null)throw Error(r(349));d||(ds&127)!==0||Am(l,s,a)}return a}function Am(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=Xu(),Pe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Lm(t,s,a,l){s.value=a,s.getSnapshot=l,Mm(s)&&Dm(t)}function Rm(t,s,a){return a(function(){Mm(s)&&Dm(t)})}function Mm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Pn(t,a)}catch{return!0}}function Dm(t){var s=qr(t,2);s!==null&&Ln(s,t,2)}function Mf(t){var s=_n();if(typeof t=="function"){var a=t;if(t=a(),Xr){Jt(!0);try{a()}finally{Jt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},s}function Om(t,s,a,l){return t.baseState=a,Lf(t,lt,typeof l=="function"?l:ps)}function g1(t,s,a,l,f){if(nc(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,xm(s,d)):(d.next=a.next,s.pending=a.next=d)}}function xm(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=Q.T,E={};Q.T=E;try{var w=a(f,l),P=Q.S;P!==null&&P(E,w),Im(t,s,w)}catch(Y){Df(t,s,Y)}finally{d!==null&&E.types!==null&&(d.types=E.types),Q.T=d}}else try{d=a(f,l),Im(t,s,d)}catch(Y){Df(t,s,Y)}}function Im(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vm(t,s,l)},function(l){return Df(t,s,l)}):Vm(t,s,a)}function Vm(t,s,a){s.status="fulfilled",s.value=a,Nm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,xm(t,a)))}function Df(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Nm(s),s=s.next;while(s!==l)}t.action=null}function Nm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Pm(t,s){return s}function km(t,s){if(Ye){var a=ht.formState;if(a!==null){e:{var l=Pe;if(Ye){if(pt){t:{for(var f=pt,d=ti;f.nodeType!==8;){if(!d){f=null;break t}if(f=ii(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){pt=ii(f.nextSibling),l=f.data==="F!";break e}}Fs(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:s},a.queue=l,a=nv.bind(null,Pe,l),l.dispatch=a,l=Mf(!1),d=Pf.bind(null,Pe,!1,l.queue),l=_n(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=g1.bind(null,Pe,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Um(t){var s=Dt();return zm(s,lt,t)}function zm(t,s,a){if(s=Lf(t,s,Pm)[0],t=Ju(ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=rl(s)}catch(E){throw E===Ua?Hu:E}else l=s;s=Dt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,Ha(9,{destroy:void 0},m1.bind(null,f,a),null)),[l,d,t]}function m1(t,s){t.action=s}function Bm(t){var s=Dt(),a=lt;if(a!==null)return zm(s,a,t);Dt(),s=s.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ha(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Xu(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function jm(){return Dt().memoizedState}function ec(t,s,a,l){var f=_n();Pe.flags|=t,f.memoizedState=Ha(1|s,{destroy:void 0},a,l===void 0?null:l)}function tc(t,s,a,l){var f=Dt();l=l===void 0?null:l;var d=f.memoizedState.inst;lt!==null&&l!==null&&bf(l,lt.memoizedState.deps)?f.memoizedState=Ha(s,d,a,l):(Pe.flags|=t,f.memoizedState=Ha(1|s,d,a,l))}function qm(t,s){ec(8390656,8,t,s)}function Of(t,s){tc(2048,8,t,s)}function v1(t){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Xu(),Pe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Hm(t){var s=Dt().memoizedState;return v1({ref:s,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Fm(t,s){return tc(4,2,t,s)}function Gm(t,s){return tc(4,4,t,s)}function Qm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Km(t,s,a){a=a!=null?a.concat([t]):null,tc(4,4,Qm.bind(null,s,t),a)}function xf(){}function Ym(t,s){var a=Dt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&bf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function $m(t,s){var a=Dt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&bf(s,l[1]))return l[0];if(l=t(),Xr){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l}function If(t,s,a){return a===void 0||(ds&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Zv(),Pe.lanes|=t,Js|=t,a)}function Zm(t,s,a,l){return Pn(a,s)?a:Ba.current!==null?(t=If(t,a,l),Pn(t,s)||(Ut=!0),t):(ds&42)===0||(ds&1073741824)!==0&&(Fe&261930)===0?(Ut=!0,t.memoizedState=a):(t=Zv(),Pe.lanes|=t,Js|=t,s)}function Xm(t,s,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=Q.T,w={};Q.T=w,Pf(t,!1,s,a);try{var P=f(),Y=Q.S;if(Y!==null&&Y(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ie=f1(P,l);al(t,s,ie,qn(t))}else al(t,s,l,qn(t))}catch(ae){al(t,s,{then:function(){},status:"rejected",reason:ae},qn())}finally{ue.p=d,E!==null&&w.types!==null&&(E.types=w.types),Q.T=E}}function y1(){}function Vf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=Wm(t).queue;Xm(t,f,s,fe,a===null?y1:function(){return Jm(t),a(l)})}function Wm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Jm(t){var s=Wm(t);s.next===null&&(s=t.alternate.memoizedState),al(t,s.next.queue,{},qn())}function Nf(){return nn(Sl)}function ev(){return Dt().memoizedState}function tv(){return Dt().memoizedState}function _1(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=qn();t=Ks(a);var l=Ys(s,t,a);l!==null&&(Ln(l,s,a),tl(l,s,a)),s={cache:cf()},t.payload=s;return}s=s.return}}function E1(t,s,a){var l=qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?iv(s,a):(a=Wh(t,s,a,l),a!==null&&(Ln(a,t,l),sv(a,s,l)))}function nv(t,s,a){var l=qn();al(t,s,a,l)}function al(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))iv(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var E=s.lastRenderedState,w=d(E,a);if(f.hasEagerState=!0,f.eagerState=w,Pn(w,E))return Pu(t,s,f,0),ht===null&&Nu(),!1}catch{}finally{}if(a=Wh(t,s,f,l),a!==null)return Ln(a,t,l),sv(a,s,l),!0}return!1}function Pf(t,s,a,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(s)throw Error(r(479))}else s=Wh(t,a,l,2),s!==null&&Ln(s,t,2)}function nc(t){var s=t.alternate;return t===Pe||s!==null&&s===Pe}function iv(t,s){ja=$u=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function sv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ro(t,a)}}var ol={readContext:nn,use:Wu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ol.useEffectEvent=Ct;var rv={readContext:nn,use:Wu,useCallback:function(t,s){return _n().memoizedState=[t,s===void 0?null:s],t},useContext:nn,useEffect:qm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Qm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ec(4194308,4,t,s)},useInsertionEffect:function(t,s){ec(4,2,t,s)},useMemo:function(t,s){var a=_n();s=s===void 0?null:s;var l=t();if(Xr){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=_n();if(a!==void 0){var f=a(s);if(Xr){Jt(!0);try{a(s)}finally{Jt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=E1.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var s=_n();return t={current:t},s.memoizedState=t},useState:function(t){t=Mf(t);var s=t.queue,a=nv.bind(null,Pe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,s){var a=_n();return If(a,t,s)},useTransition:function(){var t=Mf(!1);return t=Xm.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Pe,f=_n();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ht===null)throw Error(r(349));(Fe&127)!==0||Am(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,qm(Rm.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},Lm.bind(null,l,d,a,s),null),a},useId:function(){var t=_n(),s=ht.identifierPrefix;if(Ye){var a=Ui,l=ki;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Zu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=d1++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Nf,useFormState:km,useActionState:km,useOptimistic:function(t){var s=_n();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Pf.bind(null,Pe,!0,a),a.dispatch=s,[t,s]},useMemoCache:Af,useCacheRefresh:function(){return _n().memoizedState=_1.bind(null,Pe)},useEffectEvent:function(t){var s=_n(),a={impl:t};return s.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:nn,use:Wu,useCallback:Ym,useContext:nn,useEffect:Of,useImperativeHandle:Km,useInsertionEffect:Fm,useLayoutEffect:Gm,useMemo:$m,useReducer:Ju,useRef:jm,useState:function(){return Ju(ps)},useDebugValue:xf,useDeferredValue:function(t,s){var a=Dt();return Zm(a,lt.memoizedState,t,s)},useTransition:function(){var t=Ju(ps)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:rl(t),s]},useSyncExternalStore:wm,useId:ev,useHostTransitionStatus:Nf,useFormState:Um,useActionState:Um,useOptimistic:function(t,s){var a=Dt();return Om(a,lt,t,s)},useMemoCache:Af,useCacheRefresh:tv};kf.useEffectEvent=Hm;var av={readContext:nn,use:Wu,useCallback:Ym,useContext:nn,useEffect:Of,useImperativeHandle:Km,useInsertionEffect:Fm,useLayoutEffect:Gm,useMemo:$m,useReducer:Rf,useRef:jm,useState:function(){return Rf(ps)},useDebugValue:xf,useDeferredValue:function(t,s){var a=Dt();return lt===null?If(a,t,s):Zm(a,lt.memoizedState,t,s)},useTransition:function(){var t=Rf(ps)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:rl(t),s]},useSyncExternalStore:wm,useId:ev,useHostTransitionStatus:Nf,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,s){var a=Dt();return lt!==null?Om(a,lt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:tv};av.useEffectEvent=Hm;function Uf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=qn(),f=Ks(l);f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),tl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=qn(),f=Ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),tl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=qn(),l=Ks(a);l.tag=2,s!=null&&(l.callback=s),s=Ys(t,l,a),s!==null&&(Ln(s,t,a),tl(s,t,a))}};function ov(t,s,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):s.prototype&&s.prototype.isPureReactComponent?!Ko(a,l)||!Ko(f,d):!0}function lv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&zf.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function uv(t){Vu(t)}function cv(t){console.error(t)}function hv(t){Vu(t)}function ic(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function fv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bf(t,s,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,s)},a}function dv(t){return t=Ks(t),t.tag=3,t}function pv(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){fv(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){fv(s,a,l),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function b1(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Na(s,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return ni===null?gc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Fu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hd(t,l,f)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hd(t,l,f)),!1}throw Error(r(435,a.tag))}return hd(t,l,f),gc(),!1}if(Ye)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==rf&&(t=Error(r(422),{cause:l}),Zo(Wn(t,a)))):(l!==rf&&(s=Error(r(423),{cause:l}),Zo(Wn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Wn(l,a),f=Bf(t.stateNode,l,f),mf(t,f),wt!==4&&(wt=2)),!1;var d=Error(r(520),{cause:l});if(d=Wn(d,a),gl===null?gl=[d]:gl.push(d),wt!==4&&(wt=2),s===null)return!0;l=Wn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Bf(a.stateNode,l,t),mf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(er===null||!er.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dv(f),pv(f,t,a,l),mf(a,f),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Ut=!1;function sn(t,s,a,l){s.child=t===null?ym(s,null,a,l):Zr(s,t.child,a,l)}function gv(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Qr(s),l=Tf(t,s,a,E,d,f),w=Sf(),t!==null&&!Ut?(Cf(t,s,f),gs(t,s,f)):(Ye&&w&&nf(s),s.flags|=1,sn(t,s,l,f),s.child)}function mv(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,vv(t,s,d,l,f)):(t=Uu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!$f(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(E,l)&&t.ref===s.ref)return gs(t,s,f)}return s.flags|=1,t=us(d,l),t.ref=s.ref,t.return=s,s.child=t}function vv(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===s.ref)if(Ut=!1,s.pendingProps=l=d,$f(t,f))(t.flags&131072)!==0&&(Ut=!0);else return s.lanes=t.lanes,gs(t,s,f)}return qf(t,s,a,l,f)}function yv(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return _v(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(s,d!==null?d.cachePool:null),d!==null?bm(s,d):yf(),Tm(s);else return l=s.lanes=536870912,_v(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(qu(s,d.cachePool),bm(s,d),Zs(),s.memoizedState=null):(t!==null&&qu(s,null),yf(),Zs());return sn(t,s,f,a),s.child}function ll(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _v(t,s,a,l,f){var d=ff();return d=d===null?null:{parent:Pt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&qu(s,null),yf(),Tm(s),t!==null&&Na(t,s,l,!0),s.childLanes=f,null}function sc(t,s){return s=ac({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Ev(t,s,a){return Zr(s,t.child,null,a),t=sc(s,s.pendingProps),t.flags|=2,zn(s),s.memoizedState=null,t}function T1(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=sc(s,l),s.lanes=536870912,ll(null,t);if(Ef(s),(t=pt)?(t=xy(t,ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:qs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=s,s.child=a,tn=s,pt=null)):t=null,t===null)throw Fs(s);return s.lanes=536870912,null}return sc(s,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(Ef(s),f)if(s.flags&256)s.flags&=-257,s=Ev(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||Na(t,s,a,!1),f=(a&t.childLanes)!==0,Ut||f){if(l=ht,l!==null&&(E=Mo(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,qr(t,E),Ln(l,t,E),jf;gc(),s=Ev(t,s,a)}else t=d.treeContext,pt=ii(E.nextSibling),tn=s,Ye=!0,Hs=null,ti=!1,t!==null&&am(s,t),s=sc(s,l),s.flags|=4096;return s}return t=us(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function rc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function qf(t,s,a,l,f){return Qr(s),a=Tf(t,s,a,l,void 0,f),l=Sf(),t!==null&&!Ut?(Cf(t,s,f),gs(t,s,f)):(Ye&&l&&nf(s),s.flags|=1,sn(t,s,a,f),s.child)}function bv(t,s,a,l,f,d){return Qr(s),s.updateQueue=null,a=Cm(s,l,a,f),Sm(t),l=Sf(),t!==null&&!Ut?(Cf(t,s,d),gs(t,s,d)):(Ye&&l&&nf(s),s.flags|=1,sn(t,s,a,d),s.child)}function Tv(t,s,a,l,f){if(Qr(s),s.stateNode===null){var d=Oa,E=a.contextType;typeof E=="object"&&E!==null&&(d=nn(E)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},pf(s),E=a.contextType,d.context=typeof E=="object"&&E!==null?nn(E):Oa,d.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Uf(s,a,E,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&zf.enqueueReplaceState(d,d.state,null),il(s,l,d,f),nl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var w=s.memoizedProps,P=Wr(a,w);d.props=P;var Y=d.context,ie=a.contextType;E=Oa,typeof ie=="object"&&ie!==null&&(E=nn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Y!==E)&&lv(s,d,l,E),Qs=!1;var Z=s.memoizedState;d.state=Z,il(s,l,d,f),nl(),Y=s.memoizedState,w||Z!==Y||Qs?(typeof ae=="function"&&(Uf(s,a,ae,l),Y=s.memoizedState),(P=Qs||ov(s,a,P,l,Z,Y,E))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=E,l=P):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,gf(t,s),E=s.memoizedProps,ie=Wr(a,E),d.props=ie,ae=s.pendingProps,Z=d.context,Y=a.contextType,P=Oa,typeof Y=="object"&&Y!==null&&(P=nn(Y)),w=a.getDerivedStateFromProps,(Y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ae||Z!==P)&&lv(s,d,l,P),Qs=!1,Z=s.memoizedState,d.state=Z,il(s,l,d,f),nl();var te=s.memoizedState;E!==ae||Z!==te||Qs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof w=="function"&&(Uf(s,a,w,l),te=s.memoizedState),(ie=Qs||ov(s,a,ie,l,Z,te,P)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,te,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,te,P)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=te),d.props=l,d.state=te,d.context=P,l=ie):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,rc(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Zr(s,t.child,null,f),s.child=Zr(s,null,a,f)):sn(t,s,a,f),s.memoizedState=d.state,t=s.child):t=gs(t,s,f),t}function Sv(t,s,a,l){return Fr(),s.flags|=256,sn(t,s,a,l),s.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:fm()}}function Gf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=jn),t}function Cv(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ye){if(f?$s(s):Zs(),(t=pt)?(t=xy(t,ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:qs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=s,s.child=a,tn=s,pt=null)):t=null,t===null)throw Fs(s);return Ld(t)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Zs(),f=s.mode,w=ac({mode:"hidden",children:w},f),l=Hr(l,f,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,E,a),s.memoizedState=Hf,ll(null,l)):($s(s),Qf(s,w))}var P=t.memoizedState;if(P!==null&&(w=P.dehydrated,w!==null)){if(d)s.flags&256?($s(s),s.flags&=-257,s=Kf(t,s,a)):s.memoizedState!==null?(Zs(),s.child=t.child,s.flags|=128,s=null):(Zs(),w=l.fallback,f=s.mode,l=ac({mode:"visible",children:l.children},f),w=Hr(w,f,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,Zr(s,t.child,null,a),l=s.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,E,a),s.memoizedState=Hf,s=ll(null,l));else if($s(s),Ld(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(r(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),s=Kf(t,s,a)}else if(Ut||Na(t,s,a,!1),E=(a&t.childLanes)!==0,Ut||E){if(E=ht,E!==null&&(l=Mo(E,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,qr(t,l),Ln(E,t,l),jf;Ad(w)||gc(),s=Kf(t,s,a)}else Ad(w)?(s.flags|=192,s.child=t.child,s=null):(t=P.treeContext,pt=ii(w.nextSibling),tn=s,Ye=!0,Hs=null,ti=!1,t!==null&&am(s,t),s=Qf(s,l.children),s.flags|=4096);return s}return f?(Zs(),w=l.fallback,f=s.mode,P=t.child,Y=P.sibling,l=us(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,Y!==null?w=us(Y,w):(w=Hr(w,f,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,ll(null,l),l=s.child,w=t.child.memoizedState,w===null?w=Ff(a):(f=w.cachePool,f!==null?(P=Pt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=fm(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Gf(t,E,a),s.memoizedState=Hf,ll(t.child,l)):($s(s),a=t.child,t=a.sibling,a=us(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(E=s.deletions,E===null?(s.deletions=[t],s.flags|=16):E.push(t)),s.child=a,s.memoizedState=null,a)}function Qf(t,s){return s=ac({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ac(t,s){return t=kn(22,t,null,s),t.lanes=0,t}function Kf(t,s,a){return Zr(s,t.child,null,a),t=Qf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function wv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),lf(t.return,s,a)}function Yf(t,s,a,l,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function Av(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=Mt.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,se(Mt,E),sn(t,s,l,a),l=Ye?$o:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wv(t,a,s);else if(t.tag===19)wv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Yf(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Yu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yf(s,!0,a,null,d,l);break;case"together":Yf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function gs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Js|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Na(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=us(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=us(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function $f(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function S1(t,s,a){switch(s.tag){case 3:Ce(s,s.stateNode.containerInfo),Gs(s,Pt,t.memoizedState.cache),Fr();break;case 27:case 5:we(s);break;case 4:Ce(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ef(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?($s(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cv(t,s,a):($s(s),t=gs(t,s,a),t!==null?t.sibling:null);$s(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Na(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Av(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:return s.lanes=0,yv(t,s,a,s.pendingProps);case 24:Gs(s,Pt,t.memoizedState.cache)}return gs(t,s,a)}function Lv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ut=!0;else{if(!$f(t,a)&&(s.flags&128)===0)return Ut=!1,S1(t,s,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ye&&(s.flags&1048576)!==0&&rm(s,$o,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Yr(s.elementType),s.type=t,typeof t=="function")Jh(t)?(l=Wr(t,l),s.tag=1,s=Tv(null,s,t,l,a)):(s.tag=0,s=qf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===H){s.tag=11,s=gv(null,s,t,l,a);break e}else if(f===L){s.tag=14,s=mv(null,s,t,l,a);break e}}throw s=me(t)||t,Error(r(306,s,""))}}return s;case 0:return qf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Wr(l,s.pendingProps),Tv(t,s,l,f,a);case 3:e:{if(Ce(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,gf(t,s),il(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Gs(s,Pt,l),l!==d.cache&&uf(s,[Pt],a,!0),nl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Sv(t,s,l,a);break e}else if(l!==f){f=Wn(Error(r(424)),s),Zo(f),s=Sv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ii(t.firstChild),tn=s,Ye=!0,Hs=null,ti=!0,a=ym(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),l===f){s=gs(t,s,a);break e}sn(t,s,l,a)}s=s.child}return s;case 26:return rc(t,s),t===null?(a=Uy(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ye||(a=s.type,t=s.pendingProps,l=Tc(ve.current).createElement(a),l[It]=s,l[$t]=t,rn(l,a,t),Vt(l),s.stateNode=l):s.memoizedState=Uy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return we(s),t===null&&Ye&&(l=s.stateNode=Ny(s.type,s.pendingProps,ve.current),tn=s,ti=!0,f=pt,sr(s.type)?(Rd=f,pt=ii(l.firstChild)):pt=f),sn(t,s,s.pendingProps.children,a),rc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ye&&((f=l=pt)&&(l=J1(l,s.type,s.pendingProps,ti),l!==null?(s.stateNode=l,tn=s,pt=ii(l.firstChild),ti=!1,f=!0):f=!1),f||Fs(s)),we(s),f=s.type,d=s.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Sd(f,d)?l=null:E!==null&&Sd(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Tf(t,s,p1,null,null,a),Sl._currentValue=f),rc(t,s),sn(t,s,l,a),s.child;case 6:return t===null&&Ye&&((t=a=pt)&&(a=eC(a,s.pendingProps,ti),a!==null?(s.stateNode=a,tn=s,pt=null,t=!0):t=!1),t||Fs(s)),null;case 13:return Cv(t,s,a);case 4:return Ce(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Zr(s,null,l,a):sn(t,s,l,a),s.child;case 11:return gv(t,s,s.type,s.pendingProps,a);case 7:return sn(t,s,s.pendingProps,a),s.child;case 8:return sn(t,s,s.pendingProps.children,a),s.child;case 12:return sn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Gs(s,s.type,l.value),sn(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Qr(s),f=nn(f),l=l(f),s.flags|=1,sn(t,s,l,a),s.child;case 14:return mv(t,s,s.type,s.pendingProps,a);case 15:return vv(t,s,s.type,s.pendingProps,a);case 19:return Av(t,s,a);case 31:return T1(t,s,a);case 22:return yv(t,s,a,s.pendingProps);case 24:return Qr(s),l=nn(Pt),t===null?(f=ff(),f===null&&(f=ht,d=cf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},pf(s),Gs(s,Pt,f)):((t.lanes&a)!==0&&(gf(t,s),il(s,null,null,a),nl()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Gs(s,Pt,l)):(l=d.cache,Gs(s,Pt,l),l!==f.cache&&uf(s,[Pt],a,!0))),sn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ms(t){t.flags|=4}function Zf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw $r=Fu,df}else t.flags&=-16777217}function Rv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(s))if(ey())t.flags|=8192;else throw $r=Fu,df}function oc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ns():536870912,t.lanes|=s,Ka|=s)}function ul(t,s){if(!Ye)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function C1(t,s,a){var l=s.pendingProps;switch(sf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),fs(Pt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(s)?ms(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,af())),gt(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(ms(s),d!==null?(gt(s),Rv(s,d)):(gt(s),Zf(s,f,null,l,a))):d?d!==t.memoizedState?(ms(s),gt(s),Rv(s,d)):(gt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ms(s),gt(s),Zf(s,f,t,l,a)),null;case 27:if(ze(s),a=ve.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ms(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return gt(s),null}t=ce.current,Va(s)?om(s):(t=Ny(f,l,a),s.stateNode=t,ms(s))}return gt(s),null;case 5:if(ze(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ms(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(d=ce.current,Va(s))om(s);else{var E=Tc(ve.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[It]=s,d[$t]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ms(s)}}return gt(s),Zf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ms(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=ve.current,Va(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cy(t.nodeValue,a)),t||Fs(s,!0)}else t=Tc(t).createTextNode(l),t[It]=s,s.stateNode=t}return gt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Va(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(zn(s),s):(zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(zn(s),s):(zn(s),null)}return zn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),oc(s,s.updateQueue),gt(s),null);case 4:return Oe(),t===null&&yd(s.stateNode.containerInfo),gt(s),null;case 10:return fs(s.type),gt(s),null;case 19:if(J(Mt),l=s.memoizedState,l===null)return gt(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)ul(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Yu(t),d!==null){for(s.flags|=128,ul(l,!1),t=d.updateQueue,s.updateQueue=t,oc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)nm(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),Ye&&cs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Yt()>fc&&(s.flags|=128,f=!0,ul(l,!1),s.lanes=4194304)}else{if(!f)if(t=Yu(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,oc(s,t),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ye)return gt(s),null}else 2*Yt()-l.renderingStartTime>fc&&a!==536870912&&(s.flags|=128,f=!0,ul(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Yt(),t.sibling=null,a=Mt.current,se(Mt,f?a&1|2:a&1),Ye&&cs(s,l.treeForkCount),t):(gt(s),null);case 22:case 23:return zn(s),_f(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),a=s.updateQueue,a!==null&&oc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&J(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),fs(Pt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function w1(t,s){switch(sf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return fs(Pt),Oe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if(zn(s),s.alternate===null)throw Error(r(340));Fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(zn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(Mt),null;case 4:return Oe(),null;case 10:return fs(s.type),null;case 22:case 23:return zn(s),_f(),t!==null&&J(Kr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return fs(Pt),null;case 25:return null;default:return null}}function Mv(t,s){switch(sf(s),s.tag){case 3:fs(Pt),Oe();break;case 26:case 27:case 5:ze(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&zn(s);break;case 13:zn(s);break;case 19:J(Mt);break;case 10:fs(s.type);break;case 22:case 23:zn(s),_f(),t!==null&&J(Kr);break;case 24:fs(Pt)}}function cl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){at(s,s.return,w)}}function Xs(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var P=a,Y=w;try{Y()}catch(ie){at(f,P,ie)}}}l=l.next}while(l!==d)}}catch(ie){at(s,s.return,ie)}}function Dv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Em(s,a)}catch(l){at(t,t.return,l)}}}function Ov(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,s,l)}}function hl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){at(t,s,f)}}function zi(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){at(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(t,s,f)}else a.current=null}function xv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){at(t,t.return,f)}}function Xf(t,s,a){try{var l=t.stateNode;K1(l,t.type,a,s),l[$t]=s}catch(f){at(t,t.return,f)}}function Iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ci));else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Jf(t,s,a),t=t.sibling;t!==null;)Jf(t,s,a),t=t.sibling}function lc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lc(t,s,a),t=t.sibling;t!==null;)lc(t,s,a),t=t.sibling}function Vv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[It]=t,s[$t]=a}catch(d){at(t,t.return,d)}}var vs=!1,zt=!1,ed=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function A1(t,s){if(t=t.containerInfo,bd=Mc,t=Kg(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,P=-1,Y=0,ie=0,ae=t,Z=null;t:for(;;){for(var te;ae!==a||f!==0&&ae.nodeType!==3||(w=E+f),ae!==d||l!==0&&ae.nodeType!==3||(P=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(te=ae.firstChild)!==null;)Z=ae,ae=te;for(;;){if(ae===t)break t;if(Z===a&&++Y===f&&(w=E),Z===d&&++ie===l&&(P=E),(te=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=te}a=w===-1||P===-1?null:{start:w,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Mc=!1,Xt=s;Xt!==null;)if(s=Xt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Xt=t;else for(;Xt!==null;){switch(s=Xt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=Wr(a.type,f);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){at(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Xt=t;break}Xt=s.return}}function Pv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_s(t,a),l&4&&cl(5,a);break;case 1:if(_s(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(E){at(a,a.return,E)}else{var f=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(E){at(a,a.return,E)}}l&64&&Dv(a),l&512&&hl(a,a.return);break;case 3:if(_s(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Em(t,s)}catch(E){at(a,a.return,E)}}break;case 27:s===null&&l&4&&Vv(a);case 26:case 5:_s(t,a),s===null&&l&4&&xv(a),l&512&&hl(a,a.return);break;case 12:_s(t,a);break;case 31:_s(t,a),l&4&&zv(t,a);break;case 13:_s(t,a),l&4&&Bv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=N1.bind(null,a),tC(t,a))));break;case 22:if(l=a.memoizedState!==null||vs,!l){s=s!==null&&s.memoizedState!==null||zt,f=vs;var d=zt;vs=l,(zt=s)&&!d?Es(t,a,(a.subtreeFlags&8772)!==0):_s(t,a),vs=f,zt=d}break;case 30:break;default:_s(t,a)}}function kv(t){var s=t.alternate;s!==null&&(t.alternate=null,kv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&va(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Sn=!1;function ys(t,s,a){for(a=a.child;a!==null;)Uv(t,s,a),a=a.sibling}function Uv(t,s,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||zi(a,s),ys(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||zi(a,s);var l=_t,f=Sn;sr(a.type)&&(_t=a.stateNode,Sn=!1),ys(t,s,a),El(a.stateNode),_t=l,Sn=f;break;case 5:zt||zi(a,s);case 6:if(l=_t,f=Sn,_t=null,ys(t,s,a),_t=l,Sn=f,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,s,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,s,d)}break;case 18:_t!==null&&(Sn?(t=_t,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):Dy(_t,a.stateNode));break;case 4:l=_t,f=Sn,_t=a.stateNode.containerInfo,Sn=!0,ys(t,s,a),_t=l,Sn=f;break;case 0:case 11:case 14:case 15:Xs(2,a,s),zt||Xs(4,a,s),ys(t,s,a);break;case 1:zt||(zi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ov(a,s,l)),ys(t,s,a);break;case 21:ys(t,s,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,ys(t,s,a),zt=l;break;default:ys(t,s,a)}}function zv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){at(s,s.return,a)}}}function Bv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){at(s,s.return,a)}}function L1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Nv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Nv),s;default:throw Error(r(435,t.tag))}}function uc(t,s){var a=L1(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=P1.bind(null,t,l);l.then(f,f)}})}function Cn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(sr(w.type)){_t=w.stateNode,Sn=!1;break e}break;case 5:_t=w.stateNode,Sn=!1;break e;case 3:case 4:_t=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(_t===null)throw Error(r(160));Uv(d,E,f),_t=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)jv(s,t),s=s.sibling}var mi=null;function jv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),wn(t),l&4&&(Xs(3,t,t.return),cl(3,t),Xs(5,t,t.return));break;case 1:Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),l&64&&vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=mi;if(Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,a),d[It]=t,Vt(d),l=d;break e;case"link":var E=jy("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=jy("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,Vt(d),l=d}t.stateNode=l}else qy(f,t.type,t.stateNode);else t.stateNode=By(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?qy(f,t.type,t.stateNode):By(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),a!==null&&l&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(ye){at(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(ed=!0);break;case 6:if(Cn(s,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){at(t,t.return,ye)}}break;case 3:if(wc=null,f=mi,mi=Sc(s.containerInfo),Cn(s,t),mi=f,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(ye){at(t,t.return,ye)}ed&&(ed=!1,qv(t));break;case 4:l=mi,mi=Sc(t.stateNode.containerInfo),Cn(s,t),wn(t),mi=l;break;case 12:Cn(s,t),wn(t);break;case 31:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 13:Cn(s,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,Y=vs,ie=zt;if(vs=Y||f,zt=ie||P,Cn(s,t),zt=ie,vs=Y,wn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||P||vs||zt||Jr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(d=P.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=P.stateNode;var ae=P.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ye){at(P,P.return,ye)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(ye){at(P,P.return,ye)}}}else if(s.tag===18){if(a===null){P=s;try{var te=P.stateNode;f?Oy(te,!0):Oy(P.stateNode,!1)}catch(ye){at(P,P.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uc(t,a))));break;case 19:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 30:break;case 21:break;default:Cn(s,t),wn(t)}}function wn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Wf(t);lc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Tn(E,""),a.flags&=-33);var w=Wf(t);lc(t,w,E);break;case 3:case 4:var P=a.stateNode.containerInfo,Y=Wf(t);Jf(t,Y,P);break;default:throw Error(r(161))}}catch(ie){at(t,t.return,ie)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function _s(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Pv(t,s.alternate,s),s=s.sibling}function Jr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Xs(4,s,s.return),Jr(s);break;case 1:zi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Ov(s,s.return,a),Jr(s);break;case 27:El(s.stateNode);case 26:case 5:zi(s,s.return),Jr(s);break;case 22:s.memoizedState===null&&Jr(s);break;case 30:Jr(s);break;default:Jr(s)}t=t.sibling}}function Es(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,E=d.flags;switch(d.tag){case 0:case 11:case 15:Es(f,d,a),cl(4,d);break;case 1:if(Es(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){at(l,l.return,Y)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)_m(P[f],w)}catch(Y){at(l,l.return,Y)}}a&&E&64&&Dv(d),hl(d,d.return);break;case 27:Vv(d);case 26:case 5:Es(f,d,a),a&&l===null&&E&4&&xv(d),hl(d,d.return);break;case 12:Es(f,d,a);break;case 31:Es(f,d,a),a&&E&4&&zv(f,d);break;case 13:Es(f,d,a),a&&E&4&&Bv(f,d);break;case 22:d.memoizedState===null&&Es(f,d,a),hl(d,d.return);break;case 30:break;default:Es(f,d,a)}s=s.sibling}}function td(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function nd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xo(t))}function vi(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hv(t,s,a,l),s=s.sibling}function Hv(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:vi(t,s,a,l),f&2048&&cl(9,s);break;case 1:vi(t,s,a,l);break;case 3:vi(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xo(t)));break;case 12:if(f&2048){vi(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){at(s,s.return,P)}}else vi(t,s,a,l);break;case 31:vi(t,s,a,l);break;case 13:vi(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,E=s.alternate,s.memoizedState!==null?d._visibility&2?vi(t,s,a,l):fl(t,s):d._visibility&2?vi(t,s,a,l):(d._visibility|=2,Fa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&td(E,s);break;case 24:vi(t,s,a,l),f&2048&&nd(s.alternate,s);break;default:vi(t,s,a,l)}}function Fa(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,E=s,w=a,P=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(d,E,w,P,f),cl(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Fa(d,E,w,P,f):fl(d,E):(ie._visibility|=2,Fa(d,E,w,P,f)),f&&Y&2048&&td(E.alternate,E);break;case 24:Fa(d,E,w,P,f),f&&Y&2048&&nd(E.alternate,E);break;default:Fa(d,E,w,P,f)}s=s.sibling}}function fl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:fl(a,l),f&2048&&td(l.alternate,l);break;case 24:fl(a,l),f&2048&&nd(l.alternate,l);break;default:fl(a,l)}s=s.sibling}}var dl=8192;function Ga(t,s,a){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Fv(t,s,a),t=t.sibling}function Fv(t,s,a){switch(t.tag){case 26:Ga(t,s,a),t.flags&dl&&t.memoizedState!==null&&dC(a,mi,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,s,a);break;case 3:case 4:var l=mi;mi=Sc(t.stateNode.containerInfo),Ga(t,s,a),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Ga(t,s,a),dl=l):Ga(t,s,a));break;default:Ga(t,s,a)}}function Gv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function pl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,Kv(l,t)}Gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,cc(t)):pl(t);break;default:pl(t)}}function cc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,Kv(l,t)}Gv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Xs(8,s,s.return),cc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,cc(s));break;default:cc(s)}t=t.sibling}}function Kv(t,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var f=l.sibling,d=l.return;if(kv(l),l===a){Xt=null;break e}if(f!==null){f.return=d,Xt=f;break e}Xt=d}}}var R1={getCacheForType:function(t){var s=nn(Pt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},M1=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,je=null,Fe=0,rt=0,Bn=null,Ws=!1,Qa=!1,id=!1,bs=0,wt=0,Js=0,ea=0,sd=0,jn=0,Ka=0,gl=null,An=null,rd=!1,hc=0,Yv=0,fc=1/0,dc=null,er=null,Ht=0,tr=null,Ya=null,Ts=0,ad=0,od=null,$v=null,ml=0,ld=null;function qn(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:Q.T!==null?pd():pu()}function Zv(){if(jn===0)if((Fe&536870912)===0||Ye){var t=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),jn=t}else jn=536870912;return t=Un.current,t!==null&&(t.flags|=32),jn}function Ln(t,s,a){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&($a(t,0),nr(t,Fe,jn,!1)),is(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(ea|=a),wt===4&&nr(t,Fe,jn,!1)),Bi(t))}function Xv(t,s,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||fn(t,s),f=l?x1(t,s):cd(t,s,!0),d=l;do{if(f===0){Qa&&!l&&nr(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!D1(a)){f=cd(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=t;f=gl;var P=w.current.memoizedState.isDehydrated;if(P&&($a(w,E).flags|=256),E=cd(w,E,!1),E!==2){if(id&&!P){w.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),nr(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:nr(l,s,jn,!Ws);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=hc+300-Yt(),10<f)){if(nr(l,s,jn,!Ws),xn(l,0,!0)!==0)break e;Ts=s,l.timeoutHandle=Ry(Wv.bind(null,l,a,An,dc,rd,s,jn,ea,Ka,Ws,d,"Throttled",-0,0),f);break e}Wv(l,a,An,dc,rd,s,jn,ea,Ka,Ws,d,null,-0,0)}}break}while(!0);Bi(t)}function Wv(t,s,a,l,f,d,E,w,P,Y,ie,ae,Z,te){if(t.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Fv(s,d,ae);var ye=(d&62914560)===d?hc-Yt():(d&4194048)===d?Yv-Yt():0;if(ye=pC(ae,ye),ye!==null){Ts=d,t.cancelPendingCommit=ye(ay.bind(null,t,s,d,a,l,f,E,w,P,ie,ae,null,Z,te)),nr(t,d,E,!Y);return}}ay(t,s,d,a,l,f,E,w,P)}function D1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Pn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nr(t,s,a,l){s&=~sd,s&=~ea,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-vt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Me(t,a,s)}function pc(){return(nt&6)===0?(vl(0),!1):!0}function ud(){if(je!==null){if(rt===0)var t=je.return;else t=je,hs=Gr=null,wf(t),za=null,Jo=0,t=je;for(;t!==null;)Mv(t.alternate,t),t=t.return;je=null}}function $a(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Z1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ts=0,ud(),ht=t,je=a=us(t.current,null),Fe=s,rt=0,Bn=null,Ws=!1,Qa=fn(t,s),id=!1,Ka=jn=sd=ea=Js=wt=0,An=gl=null,rd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-vt(l),d=1<<f;s|=t[f],l&=~d}return bs=s,Nu(),a}function Jv(t,s){Pe=null,Q.H=ol,s===Ua||s===Hu?(s=gm(),rt=3):s===df?(s=gm(),rt=4):rt=s===jf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,je===null&&(wt=1,ic(t,Wn(s,t.current)))}function ey(){var t=Un.current;return t===null?!0:(Fe&4194048)===Fe?ni===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ni:!1}function ty(){var t=Q.H;return Q.H=ol,t===null?ol:t}function ny(){var t=Q.A;return Q.A=R1,t}function gc(){wt=4,Ws||(Fe&4194048)!==Fe&&Un.current!==null||(Qa=!0),(Js&134217727)===0&&(ea&134217727)===0||ht===null||nr(ht,Fe,jn,!1)}function cd(t,s,a){var l=nt;nt|=2;var f=ty(),d=ny();(ht!==t||Fe!==s)&&(dc=null,$a(t,s)),s=!1;var E=wt;e:do try{if(rt!==0&&je!==null){var w=je,P=Bn;switch(rt){case 8:ud(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var Y=rt;if(rt=0,Bn=null,Za(t,w,P,Y),a&&Qa){E=0;break e}break;default:Y=rt,rt=0,Bn=null,Za(t,w,P,Y)}}O1(),E=wt;break}catch(ie){Jv(t,ie)}while(!0);return s&&t.shellSuspendCounter++,hs=Gr=null,nt=l,Q.H=f,Q.A=d,je===null&&(ht=null,Fe=0,Nu()),E}function O1(){for(;je!==null;)iy(je)}function x1(t,s){var a=nt;nt|=2;var l=ty(),f=ny();ht!==t||Fe!==s?(dc=null,fc=Yt()+500,$a(t,s)):Qa=fn(t,s);e:do try{if(rt!==0&&je!==null){s=je;var d=Bn;t:switch(rt){case 1:rt=0,Bn=null,Za(t,s,d,1);break;case 2:case 9:if(dm(d)){rt=0,Bn=null,sy(s);break}s=function(){rt!==2&&rt!==9||ht!==t||(rt=7),Bi(t)},d.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:dm(d)?(rt=0,Bn=null,sy(s)):(rt=0,Bn=null,Za(t,s,d,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var w=je;if(E?Hy(E):w.stateNode.complete){rt=0,Bn=null;var P=w.sibling;if(P!==null)je=P;else{var Y=w.return;Y!==null?(je=Y,mc(Y)):je=null}break t}}rt=0,Bn=null,Za(t,s,d,5);break;case 6:rt=0,Bn=null,Za(t,s,d,6);break;case 8:ud(),wt=6;break e;default:throw Error(r(462))}}I1();break}catch(ie){Jv(t,ie)}while(!0);return hs=Gr=null,Q.H=l,Q.A=f,nt=a,je!==null?0:(ht=null,Fe=0,Nu(),wt)}function I1(){for(;je!==null&&!pa();)iy(je)}function iy(t){var s=Lv(t.alternate,t,bs);t.memoizedProps=t.pendingProps,s===null?mc(t):je=s}function sy(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=bv(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=bv(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:wf(s);default:Mv(a,s),s=je=nm(s,bs),s=Lv(a,s,bs)}t.memoizedProps=t.pendingProps,s===null?mc(t):je=s}function Za(t,s,a,l){hs=Gr=null,wf(s),za=null,Jo=0;var f=s.return;try{if(b1(t,f,s,a,Fe)){wt=1,ic(t,Wn(a,t.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;wt=1,ic(t,Wn(a,t.current)),je=null;return}s.flags&32768?(Ye||l===1?t=!0:Qa||(Fe&536870912)!==0?t=!1:(Ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),ry(s,t)):mc(s)}function mc(t){var s=t;do{if((s.flags&32768)!==0){ry(s,Ws);return}t=s.return;var a=C1(s.alternate,s,bs);if(a!==null){je=a;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);wt===0&&(wt=5)}function ry(t,s){do{var a=w1(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);wt=6,je=null}function ay(t,s,a,l,f,d,E,w,P){t.cancelPendingCommit=null;do vc();while(Ht!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Xh,ss(t,a,d,E,w,P),t===ht&&(je=ht=null,Fe=0),Ya=s,tr=t,Ts=a,ad=d,od=f,$v=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,k1(oi,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ue.p,ue.p=2,E=nt,nt|=4;try{A1(t,s,a)}finally{nt=E,ue.p=f,Q.T=l}}Ht=1,oy(),ly(),uy()}}function oy(){if(Ht===1){Ht=0;var t=tr,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=nt;nt|=4;try{jv(s,t);var d=Td,E=Kg(t.containerInfo),w=d.focusedElem,P=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&Qg(w.ownerDocument.documentElement,w)){if(P!==null&&Qh(w)){var Y=P.start,ie=P.end;if(ie===void 0&&(ie=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(ie,w.value.length);else{var ae=w.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),ye=w.textContent.length,Re=Math.min(P.start,ye),ct=P.end===void 0?Re:Math.min(P.end,ye);!te.extend&&Re>ct&&(E=ct,ct=Re,Re=E);var q=Gg(w,Re),z=Gg(w,ct);if(q&&z&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var K=ae.createRange();K.setStart(q.node,q.offset),te.removeAllRanges(),Re>ct?(te.addRange(K),te.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),te.addRange(K))}}}}for(ae=[],te=w;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var re=ae[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Mc=!!bd,Td=bd=null}finally{nt=f,ue.p=l,Q.T=a}}t.current=s,Ht=2}}function ly(){if(Ht===2){Ht=0;var t=tr,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=nt;nt|=4;try{Pv(t,s.alternate,s)}finally{nt=f,ue.p=l,Q.T=a}}Ht=3}}function uy(){if(Ht===4||Ht===3){Ht=0,Xi();var t=tr,s=Ya,a=Ts,l=$v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Ya=tr=null,cy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(er=null),rs(a),s=s.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(hn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=ue.p,ue.p=2,Q.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{Q.T=s,ue.p=f}}(Ts&3)!==0&&vc(),Bi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===ld?ml++:(ml=0,ld=t):ml=0,vl(0)}}function cy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Xo(s)))}function vc(){return oy(),ly(),uy(),hy()}function hy(){if(Ht!==5)return!1;var t=tr,s=ad;ad=0;var a=rs(Ts),l=Q.T,f=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=od,od=null;var d=tr,E=Ts;if(Ht=0,Ya=tr=null,Ts=0,(nt&6)!==0)throw Error(r(331));var w=nt;if(nt|=4,Qv(d.current),Hv(d,d.current,E,a),nt=w,vl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{ue.p=f,Q.T=l,cy(t,s)}}function fy(t,s,a){s=Wn(a,s),s=Bf(t.stateNode,s,2),t=Ys(t,s,2),t!==null&&(is(t,2),Bi(t))}function at(t,s,a){if(t.tag===3)fy(t,t,a);else for(;s!==null;){if(s.tag===3){fy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=Wn(a,t),a=dv(2),l=Ys(s,a,2),l!==null&&(pv(a,l,s,t),is(l,2),Bi(l));break}}s=s.return}}function hd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new M1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(id=!0,f.add(a),t=V1.bind(null,t,s,a),s.then(t,t))}function V1(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Fe&a)===a&&(wt===4||wt===3&&(Fe&62914560)===Fe&&300>Yt()-hc?(nt&2)===0&&$a(t,0):sd|=a,Ka===Fe&&(Ka=0)),Bi(t)}function dy(t,s){s===0&&(s=ns()),t=qr(t,s),t!==null&&(is(t,s),Bi(t))}function N1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),dy(t,a)}function P1(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),dy(t,a)}function k1(t,s){return St(t,s)}var yc=null,Xa=null,fd=!1,_c=!1,dd=!1,ir=0;function Bi(t){t!==Xa&&t.next===null&&(Xa===null?yc=Xa=t:Xa=Xa.next=t),_c=!0,fd||(fd=!0,z1())}function vl(t,s){if(!dd&&_c){dd=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,vy(l,d))}else d=Fe,d=xn(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fn(l,d)||(a=!0,vy(l,d));l=l.next}while(a);dd=!1}}function U1(){py()}function py(){_c=fd=!1;var t=0;ir!==0&&$1()&&(t=ir);for(var s=Yt(),a=null,l=yc;l!==null;){var f=l.next,d=gy(l,s);d===0?(l.next=null,a===null?yc=f:a.next=f,f===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=f}Ht!==0&&Ht!==5||vl(t),ir!==0&&(ir=0)}function gy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-vt(d),w=1<<E,P=f[E];P===-1?((w&a)===0||(w&l)!==0)&&(f[E]=ga(w,s)):P<=s&&(t.expiredLanes|=w),d&=~w}if(s=ht,a=Fe,a=xn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Dn(l),rs(a)){case 2:case 8:a=Ti;break;case 32:a=oi;break;case 268435456:a=Rr;break;default:a=oi}return l=my.bind(null,t),a=St(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Dn(l),t.callbackPriority=2,t.callbackNode=null,2}function my(t,s){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Fe;return l=xn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xv(t,l,s),gy(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?my.bind(null,t):null)}function vy(t,s){if(vc())return null;Xv(t,s,!0)}function z1(){X1(function(){(nt&6)!==0?St(Os,U1):py()})}function pd(){if(ir===0){var t=Pa;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),ir=t}return ir}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function _y(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function B1(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=yy((f[$t]||null).action),E=l.submitter;E&&(s=(s=E[$t]||null)?yy(s.formAction):E.getAttribute("formAction"),s!==null&&(d=s,E=null));var w=new Ii("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var P=E?_y(f,E):new FormData(f);Vf(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(w.preventDefault(),P=E?_y(f,E):new FormData(f),Vf(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var gd=0;gd<Zh.length;gd++){var md=Zh[gd],j1=md.toLowerCase(),q1=md[0].toUpperCase()+md.slice(1);gi(j1,"on"+q1)}gi(Zg,"onAnimationEnd"),gi(Xg,"onAnimationIteration"),gi(Wg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(s1,"onTransitionRun"),gi(r1,"onTransitionStart"),gi(a1,"onTransitionCancel"),gi(Jg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Ey(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var E=l.length-1;0<=E;E--){var w=l[E],P=w.instance,Y=w.currentTarget;if(w=w.listener,P!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Y;try{d(f)}catch(ie){Vu(ie)}f.currentTarget=null,d=P}else for(E=0;E<l.length;E++){if(w=l[E],P=w.instance,Y=w.currentTarget,w=w.listener,P!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Y;try{d(f)}catch(ie){Vu(ie)}f.currentTarget=null,d=P}}}}function qe(t,s){var a=s[ma];a===void 0&&(a=s[ma]=new Set);var l=t+"__bubble";a.has(l)||(by(s,t,2,!1),a.add(l))}function vd(t,s,a){var l=0;s&&(l|=4),by(a,t,l,s)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[Ec]){t[Ec]=!0,Do.forEach(function(a){a!=="selectionchange"&&(H1.has(a)||vd(a,!1,t),vd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ec]||(s[Ec]=!0,vd("selectionchange",!1,s))}}function by(t,s,a,l){switch(Zy(s)){case 2:var f=vC;break;case 8:f=yC;break;default:f=Id}a=f.bind(null,s,a,t),f=void 0,!Vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function _d(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ai(w),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Us(function(){var Y=d,ie=Yn(a),ae=[];e:{var Z=em.get(t);if(Z!==void 0){var te=Ii,ye=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":te=Ou;break;case"focusin":ye="focus",te=Ur;break;case"focusout":ye="blur",te=Ur;break;case"beforeblur":case"afterblur":te=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=v;break;case Zg:case Xg:case Wg:te=Cu;break;case Jg:te=R;break;case"scroll":case"scrollend":te=qo;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ls;break;case"toggle":case"beforetoggle":te=Ne}var Re=(s&4)!==0,ct=!Re&&(t==="scroll"||t==="scrollend"),q=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var z=Y,K;z!==null;){var re=z;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||q===null||(re=hi(z,q),re!=null&&Re.push(_l(z,re,K))),ct)break;z=z.return}0<Re.length&&(Z=new te(Z,ye,null,a,ie),ae.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",Z&&a!==zo&&(ye=a.relatedTarget||a.fromElement)&&(Ai(ye)||ye[Ci]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(ye=a.relatedTarget||a.toElement,te=Y,ye=ye?Ai(ye):null,ye!==null&&(ct=u(ye),Re=ye.tag,ye!==ct||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(te=null,ye=Y),te!==ye)){if(Re=Ho,re="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Re=ls,re="onPointerLeave",q="onPointerEnter",z="pointer"),ct=te==null?Z:Vn(te),K=ye==null?Z:Vn(ye),Z=new Re(re,z+"leave",te,a,ie),Z.target=ct,Z.relatedTarget=K,re=null,Ai(ie)===Y&&(Re=new Re(q,z+"enter",ye,a,ie),Re.target=K,Re.relatedTarget=ct,re=Re),ct=re,te&&ye)t:{for(Re=F1,q=te,z=ye,K=0,re=q;re;re=Re(re))K++;re=0;for(var Ae=z;Ae;Ae=Re(Ae))re++;for(;0<K-re;)q=Re(q),K--;for(;0<re-K;)z=Re(z),re--;for(;K--;){if(q===z||z!==null&&q===z.alternate){Re=q;break t}q=Re(q),z=Re(z)}Re=null}else Re=null;te!==null&&Ty(ae,Z,te,Re,!1),ye!==null&&ct!==null&&Ty(ae,ct,ye,Re,!0)}}e:{if(Z=Y?Vn(Y):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var We=zg;else if(kg(Z))if(Bg)We=t1;else{We=JS;var Te=WS}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Y&&Ea(Y.elementType)&&(We=zg):We=e1;if(We&&(We=We(t,Y))){Ug(ae,We,a,ie);break e}Te&&Te(t,Z,Y),t==="focusout"&&Y&&Z.type==="number"&&Y.memoizedProps.value!=null&&Po(Z,"number",Z.value)}switch(Te=Y?Vn(Y):window,t){case"focusin":(kg(Te)||Te.contentEditable==="true")&&(Ra=Te,Kh=Y,Yo=null);break;case"focusout":Yo=Kh=Ra=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Yg(ae,a,ie);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Yg(ae,a,ie)}var ke;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else La?zr(t,a)&&(Ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Pi&&a.locale!=="ko"&&(La||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&La&&(ke=jo()):(xi=ie,Bo="value"in xi?xi.value:xi.textContent,La=!0)),Te=bc(Y,Ge),0<Te.length&&(Ge=new Ni(Ge,t,null,a,ie),ae.push({event:Ge,listeners:Te}),ke?Ge.data=ke:(ke=Aa(a),ke!==null&&(Ge.data=ke)))),(ke=Zn?YS(t,a):$S(t,a))&&(Ge=bc(Y,"onBeforeInput"),0<Ge.length&&(Te=new Ni("onBeforeInput","beforeinput",null,a,ie),ae.push({event:Te,listeners:Ge}),Te.data=ke)),B1(ae,t,Y,a,ie)}Ey(ae,s)})}function _l(t,s,a){return{instance:t,listener:s,currentTarget:a}}function bc(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hi(t,a),f!=null&&l.unshift(_l(t,f,d)),f=hi(t,s),f!=null&&l.push(_l(t,f,d))),t.tag===3)return l;t=t.return}return[]}function F1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ty(t,s,a,l,f){for(var d=s._reactName,E=[];a!==null&&a!==l;){var w=a,P=w.alternate,Y=w.stateNode;if(w=w.tag,P!==null&&P===l)break;w!==5&&w!==26&&w!==27||Y===null||(P=Y,f?(Y=hi(a,d),Y!=null&&E.unshift(_l(a,Y,P))):f||(Y=hi(a,d),Y!=null&&E.push(_l(a,Y,P)))),a=a.return}E.length!==0&&t.push({event:s,listeners:E})}var G1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(G1,`
`).replace(Q1,"")}function Cy(t,s){return s=Sy(s),Sy(t)===s}function ut(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(s!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ut(t,s,"name",f.name,f,null),ut(t,s,"formEncType",f.formEncType,f,null),ut(t,s,"formMethod",f.formMethod,f,null),ut(t,s,"formTarget",f.formTarget,f,null)):(ut(t,s,"encType",f.encType,f,null),ut(t,s,"method",f.method,f,null),ut(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ya(t,a,l))}}function Ed(t,s,a,l,f,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function rn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,d,E,a,null)}}f&&ut(t,s,"srcSet",a.srcSet,a,null),l&&ut(t,s,"src",a.src,a,null);return;case"input":qe("invalid",t);var w=d=E=f=null,P=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":E=ie;break;case"checked":P=ie;break;case"defaultChecked":Y=ie;break;case"value":d=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ut(t,s,l,ie,a,null)}}yu(t,d,w,P,Y,E,f,!1);return;case"select":qe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:ut(t,s,f,w,a,null)}s=d,a=E,t.multiple=!!l,s!=null?Vs(t,!!l,s,!1):a!=null&&Vs(t,!!l,a,!0);return;case"textarea":qe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ut(t,s,E,w,a,null)}Ns(t,l,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,s,P,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)qe(yl[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,Y,l,a,null)}return;default:if(Ea(s)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&Ed(t,s,ie,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(t,s,w,l,a,null))}function K1(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,w=null,P=null,Y=null,ie=null;for(te in a){var ae=a[te];if(a.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":P=ae;default:l.hasOwnProperty(te)||ut(t,s,te,null,l,ae)}}for(var Z in l){var te=l[Z];if(ae=a[Z],l.hasOwnProperty(Z)&&(te!=null||ae!=null))switch(Z){case"type":d=te;break;case"name":f=te;break;case"checked":Y=te;break;case"defaultChecked":ie=te;break;case"value":E=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==ae&&ut(t,s,Z,te,l,ae)}}_a(t,E,w,P,Y,ie,d,f);return;case"select":te=E=w=Z=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":te=P;default:l.hasOwnProperty(d)||ut(t,s,d,null,l,P)}for(f in l)if(d=l[f],P=a[f],l.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":Z=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==P&&ut(t,s,f,d,l,P)}s=w,a=E,l=te,Z!=null?Vs(t,!!a,Z,!1):!!l!=!!a&&(s!=null?Vs(t,!!a,s,!0):Vs(t,!!a,a?[]:"",!1));return;case"textarea":te=Z=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(t,s,w,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Z=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ut(t,s,E,f,l,d)}_u(t,Z,te);return;case"option":for(var ye in a)if(Z=a[ye],a.hasOwnProperty(ye)&&Z!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:ut(t,s,ye,null,l,Z)}for(P in l)if(Z=l[P],te=a[P],l.hasOwnProperty(P)&&Z!==te&&(Z!=null||te!=null))switch(P){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ut(t,s,P,Z,l,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)Z=a[Re],a.hasOwnProperty(Re)&&Z!=null&&!l.hasOwnProperty(Re)&&ut(t,s,Re,null,l,Z);for(Y in l)if(Z=l[Y],te=a[Y],l.hasOwnProperty(Y)&&Z!==te&&(Z!=null||te!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ut(t,s,Y,Z,l,te)}return;default:if(Ea(s)){for(var ct in a)Z=a[ct],a.hasOwnProperty(ct)&&Z!==void 0&&!l.hasOwnProperty(ct)&&Ed(t,s,ct,void 0,l,Z);for(ie in l)Z=l[ie],te=a[ie],!l.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||Ed(t,s,ie,Z,l,te);return}}for(var q in a)Z=a[q],a.hasOwnProperty(q)&&Z!=null&&!l.hasOwnProperty(q)&&ut(t,s,q,null,l,Z);for(ae in l)Z=l[ae],te=a[ae],!l.hasOwnProperty(ae)||Z===te||Z==null&&te==null||ut(t,s,ae,Z,l,te)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,w=f.duration;if(d&&w&&wy(E)){for(E=0,w=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],Y=P.startTime;if(Y>w)break;var ie=P.transferSize,ae=P.initiatorType;ie&&wy(ae)&&(P=P.responseEnd,E+=ie*(P<w?1:(w-Y)/(P-Y)))}if(--l,s+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Td=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Sd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cd=null;function $1(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(W1)}:Ry;function W1(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function Dy(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),to(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,El(a);for(var d=a.firstChild;d;){var E=d.nextSibling,w=d.nodeName;d[wi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&El(t.ownerDocument.body);a=f}while(a);to(s)}function Oy(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function J1(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function eC(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ii(t.nextSibling),t===null))return null;return t}function xy(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ii(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tC(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Rd=null;function Iy(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ii(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Vy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Ny(t,s,a){switch(s=Tc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);va(t)}var si=new Map,Py=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=ue.d;ue.d={f:nC,r:iC,D:sC,C:rC,L:aC,m:oC,X:uC,S:lC,M:cC};function nC(){var t=Ss.f(),s=pc();return t||s}function iC(t){var s=Kn(t);s!==null&&s.tag===5&&s.type==="form"?Jm(s):Ss.r(t)}var Wa=typeof document>"u"?null:document;function ky(t,s,a){var l=Wa;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Py.has(f)||(Py.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function sC(t){Ss.D(t),ky("dns-prefetch",t,null)}function rC(t,s){Ss.C(t,s),ky("preconnect",t,s)}function aC(t,s,a){Ss.L(t,s,a);var l=Wa;if(l&&t&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(t)+'"]';var d=f;switch(s){case"style":d=Ja(t);break;case"script":d=eo(t)}si.has(d)||(t=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),si.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(bl(d))||s==="script"&&l.querySelector(Tl(d))||(s=l.createElement("link"),rn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function oC(t,s){Ss.m(t,s);var a=Wa;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!si.has(d)&&(t=T({rel:"modulepreload",href:t},s),si.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),rn(l,"link",t),Vt(l),a.head.appendChild(l)}}}function lC(t,s,a){Ss.S(t,s,a);var l=Wa;if(l&&t){var f=Li(l).hoistableStyles,d=Ja(t);s=s||"default";var E=f.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(bl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},a),(a=si.get(d))&&Md(t,a);var P=E=l.createElement("link");Vt(P),rn(P,"link",t),P._p=new Promise(function(Y,ie){P.onload=Y,P.onerror=ie}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Cc(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(d,E)}}}function uC(t,s){Ss.X(t,s);var a=Wa;if(a&&t){var l=Li(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Tl(f)),d||(t=T({src:t,async:!0},s),(s=si.get(f))&&Dd(t,s),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function cC(t,s){Ss.M(t,s);var a=Wa;if(a&&t){var l=Li(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Tl(f)),d||(t=T({src:t,async:!0,type:"module"},s),(s=si.get(f))&&Dd(t,s),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Uy(t,s,a,l){var f=(f=ve.current)?Sc(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=Li(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=Li(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(bl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),si.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(t,a),d||hC(f,t,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eo(a),a=Li(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+bn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function hC(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Vt(s),t.head.appendChild(s))}function eo(t){return'[src="'+bn(t)+'"]'}function Tl(t){return"script[async]"+t}function By(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Vt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),rn(l,"style",f),Cc(l,a.precedence,t),s.instance=l;case"stylesheet":f=Ja(a.href);var d=t.querySelector(bl(f));if(d)return s.state.loading|=4,s.instance=d,Vt(d),d;l=zy(a),(f=si.get(f))&&Md(l,f),d=(t.ownerDocument||t).createElement("link"),Vt(d);var E=d;return E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),rn(d,"link",l),s.state.loading|=4,Cc(d,a.precedence,t),s.instance=d;case"script":return d=eo(a.src),(f=t.querySelector(Tl(d)))?(s.instance=f,Vt(f),f):(l=a,(f=si.get(d))&&(l=T({},a),Dd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Vt(f),rn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Cc(l,a.precedence,t));return s.instance}function Cc(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===s)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Md(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Dd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var wc=null;function jy(t,s,a){if(wc===null){var l=new Map,f=wc=new Map;f.set(a,l)}else f=wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(s)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function qy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function fC(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dC(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ja(l.href),d=s.querySelector(bl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Ac.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=s.ownerDocument||s,l=zy(l),(f=si.get(f))&&Md(l,f),d=d.createElement("link"),Vt(d);var E=d;E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),rn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ac.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Od=0;function pC(t,s){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Od===0&&(Od=62500*Y1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Od?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Rc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,s.forEach(gC,t),Lc=null,Ac.call(t))}function gC(t,s){if(!(s.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Ac.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Sl={$$typeof:X,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function mC(t,s,a,l,f,d,E,w,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Fy(t,s,a,l,f,d,E,w,P,Y,ie,ae){return t=new mC(t,s,a,E,P,Y,ie,ae,w),s=1,d===!0&&(s|=24),d=kn(3,null,null,s),t.current=d,d.stateNode=t,s=cf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},pf(d),t}function Gy(t){return t?(t=Oa,t):Oa}function Qy(t,s,a,l,f,d){f=Gy(f),l.context===null?l.context=f:l.pendingContext=f,l=Ks(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ys(t,l,s),a!==null&&(Ln(a,t,s),tl(a,t,s))}function Ky(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function xd(t,s){Ky(t,s),(t=t.alternate)&&Ky(t,s)}function Yy(t){if(t.tag===13||t.tag===31){var s=qr(t,67108864);s!==null&&Ln(s,t,67108864),xd(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var s=qn();s=Dr(s);var a=qr(t,s);a!==null&&Ln(a,t,s),xd(t,s)}}var Mc=!0;function vC(t,s,a,l){var f=Q.T;Q.T=null;var d=ue.p;try{ue.p=2,Id(t,s,a,l)}finally{ue.p=d,Q.T=f}}function yC(t,s,a,l){var f=Q.T;Q.T=null;var d=ue.p;try{ue.p=8,Id(t,s,a,l)}finally{ue.p=d,Q.T=f}}function Id(t,s,a,l){if(Mc){var f=Vd(l);if(f===null)_d(t,s,l,Dc,a),Xy(t,l);else if(EC(f,t,s,a,l))l.stopPropagation();else if(Xy(t,l),s&4&&-1<_C.indexOf(t)){for(;f!==null;){var d=Kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=vn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var P=1<<31-vt(E);w.entanglements[1]|=P,E&=~P}Bi(d),(nt&6)===0&&(fc=Yt()+500,vl(0))}}break;case 31:case 13:w=qr(d,2),w!==null&&Ln(w,d,2),pc(),xd(d,2)}if(d=Vd(l),d===null&&_d(t,s,l,Dc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else _d(t,s,l,null,a)}}function Vd(t){return t=Yn(t),Nd(t)}var Dc=null;function Nd(t){if(Dc=null,t=Ai(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Dc=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case Os:return 2;case Ti:return 8;case oi:case xs:return 32;case Rr:return 268435456;default:return 32}default:return 32}}var Pd=!1,rr=null,ar=null,or=null,Cl=new Map,wl=new Map,lr=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(t,s){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(s.pointerId)}}function Al(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Kn(s),s!==null&&Yy(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function EC(t,s,a,l,f){switch(s){case"focusin":return rr=Al(rr,t,s,a,l,f),!0;case"dragenter":return ar=Al(ar,t,s,a,l,f),!0;case"mouseover":return or=Al(or,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Al(Cl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,wl.set(d,Al(wl.get(d)||null,t,s,a,l,f)),!0}return!1}function Wy(t){var s=Ai(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,li(t.priority,function(){$y(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,li(t.priority,function(){$y(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return s=Kn(a),s!==null&&Yy(s),t.blockedOn=a,!1;s.shift()}return!0}function Jy(t,s,a){Oc(t)&&a.delete(s)}function bC(){Pd=!1,rr!==null&&Oc(rr)&&(rr=null),ar!==null&&Oc(ar)&&(ar=null),or!==null&&Oc(or)&&(or=null),Cl.forEach(Jy),wl.forEach(Jy)}function xc(t,s){t.blockedOn===s&&(t.blockedOn=null,Pd||(Pd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bC)))}var Ic=null;function e_(t){Ic!==t&&(Ic=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(s,3),s-=3,Vf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(t){function s(P){return xc(P,t)}rr!==null&&xc(rr,t),ar!==null&&xc(ar,t),or!==null&&xc(or,t),Cl.forEach(s),wl.forEach(s);for(var a=0;a<lr.length;a++){var l=lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[$t]||null;if(typeof d=="function")E||e_(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[$t]||null)w=E.formAction;else if(Nd(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),e_(a)}}}function t_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function kd(t){this._internalRoot=t}Vc.prototype.render=kd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=qn();Qy(a,l,t,s,null,null)},Vc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qy(t.current,2,null,t,null,null),pc(),s[Ci]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var s=pu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<lr.length&&s!==0&&s<lr[a].priority;a++);lr.splice(a,0,t),a===0&&Wy(t)}};var n_=e.version;if(n_!=="19.2.0")throw Error(r(527,n_,"19.2.0"));ue.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var TC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{hn=Nc.inject(TC),xt=Nc}catch{}}return Rl.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=uv,d=cv,E=hv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=Fy(t,1,!1,null,null,a,l,null,f,d,E,t_),t[Ci]=s.current,yd(t),new kd(s)},Rl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=uv,E=cv,w=hv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=Fy(t,1,!0,s,a??null,l,f,P,d,E,w,t_),s.context=Gy(null),a=s.current,l=qn(),l=Dr(l),f=Ks(l),f.callback=null,Ys(a,f,l),a=l,s.current.lanes=a,is(s,a),Bi(s),t[Ci]=s.current,yd(t),new Vc(s)},Rl.version="19.2.0",Rl}var f_;function xC(){if(f_)return Bd.exports;f_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=OC(),Bd.exports}var IC=xC();const VC=$b(IC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d_="popstate";function NC(i={}){function e(r,o){let{pathname:u,search:h,hash:p}=r.location;return lp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Fl(o)}return kC(e,n,null,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PC(){return Math.random().toString(36).substring(2,10)}function p_(i,e){return{usr:i.state,key:i.key,idx:e}}function lp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||r||PC()}}function Fl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function _o(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function kC(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,p="POP",g=null,m=_();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function _(){return(h.state||{idx:null}).idx}function T(){p="POP";let V=_(),j=V==null?null:V-m;m=V,g&&g({action:p,location:k.location,delta:j})}function S(V,j){p="PUSH";let B=lp(k.location,V,j);m=_()+1;let X=p_(B,m),H=k.createHref(B);try{h.pushState(X,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(H)}u&&g&&g({action:p,location:k.location,delta:1})}function D(V,j){p="REPLACE";let B=lp(k.location,V,j);m=_();let X=p_(B,m),H=k.createHref(B);h.replaceState(X,"",H),u&&g&&g({action:p,location:k.location,delta:0})}function M(V){return UC(V)}let k={get action(){return p},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(d_,T),g=V,()=>{o.removeEventListener(d_,T),g=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let j=M(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:D,go(V){return h.go(V)}};return k}function UC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Fl(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Xb(i,e,n="/"){return zC(i,e,n,!1)}function zC(i,e,n,r){let o=typeof e=="string"?_o(e):e,u=ws(o.pathname||"/",n);if(u==null)return null;let h=Wb(i);BC(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=XC(u);p=$C(h[g],m,r)}return p}function Wb(i,e=[],n=[],r="",o=!1){let u=(h,p,g=o,m)=>{let _={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;bt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=Cs([r,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Wb(h.children,e,S,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:KC(T,h.index),routesMeta:S})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of Jb(h.path))u(h,p,!0,g)}),e}function Jb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Jb(r.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function BC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:YC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jC=/^:[\w-]+$/,qC=3,HC=2,FC=1,GC=10,QC=-2,g_=i=>i==="*";function KC(i,e){let n=i.split("/"),r=n.length;return n.some(g_)&&(r+=QC),e&&(r+=HC),n.filter(o=>!g_(o)).reduce((o,u)=>o+(jC.test(u)?qC:u===""?FC:GC),r)}function YC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function $C(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},_),S=g.route;if(!T&&m&&n&&!r[r.length-1].route.index&&(T=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Cs([u,T.pathname]),pathnameBase:tw(Cs([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Cs([u,T.pathnameBase]))}return h}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=ZC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:T},S)=>{if(_==="*"){let M=p[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=p[S];return T&&!D?m[_]=void 0:m[_]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:i}}function ZC(i,e=!1,n=!0){Yi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ws(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function WC(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?_o(i):i;return{pathname:n?n.startsWith("/")?n:JC(n,e):e,search:nw(r),hash:iw(o)}}function JC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fd(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ew(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e0(i){let e=ew(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function t0(i,e,n,r=!1){let o;typeof i=="string"?o=_o(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),Fd("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),Fd("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),Fd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}p=T>=0?e[T]:"/"}let g=WC(o,p),m=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||_)&&(g.pathname+="/"),g}var Cs=i=>i.join("/").replace(/\/\/+/g,"/"),tw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,iw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function sw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var n0=["POST","PUT","PATCH","DELETE"];new Set(n0);var rw=["GET",...n0];new Set(rw);var Eo=y.createContext(null);Eo.displayName="DataRouter";var wh=y.createContext(null);wh.displayName="DataRouterState";y.createContext(!1);var i0=y.createContext({isTransitioning:!1});i0.displayName="ViewTransition";var aw=y.createContext(new Map);aw.displayName="Fetchers";var ow=y.createContext(null);ow.displayName="Await";var Zi=y.createContext(null);Zi.displayName="Navigation";var iu=y.createContext(null);iu.displayName="Location";var Ms=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var Bp=y.createContext(null);Bp.displayName="RouteError";function lw(i,{relative:e}={}){bt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Zi),{hash:o,pathname:u,search:h}=ru(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Cs([n,u])),r.createHref({pathname:p,search:h,hash:o})}function su(){return y.useContext(iu)!=null}function ua(){return bt(su(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(iu).location}var s0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(i){y.useContext(Zi).static||y.useLayoutEffect(i)}function a0(){let{isDataRoute:i}=y.useContext(Ms);return i?bw():uw()}function uw(){bt(su(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(Eo),{basename:e,navigator:n}=y.useContext(Zi),{matches:r}=y.useContext(Ms),{pathname:o}=ua(),u=JSON.stringify(e0(r)),h=y.useRef(!1);return r0(()=>{h.current=!0}),y.useCallback((g,m={})=>{if(Yi(h.current,s0),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=t0(g,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Cs([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,o,i])}y.createContext(null);function ru(i,{relative:e}={}){let{matches:n}=y.useContext(Ms),{pathname:r}=ua(),o=JSON.stringify(e0(n));return y.useMemo(()=>t0(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function cw(i,e){return o0(i,e)}function o0(i,e,n,r,o){bt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(Zi),{matches:h}=y.useContext(Ms),p=h[h.length-1],g=p?p.params:{},m=p?p.pathname:"/",_=p?p.pathnameBase:"/",T=p&&p.route;{let B=T&&T.path||"";l0(m,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=ua(),D;if(e){let B=typeof e=="string"?_o(e):e;bt(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),D=B}else D=S;let M=D.pathname||"/",k=M;if(_!=="/"){let B=_.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Xb(i,{pathname:k});Yi(T||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Yi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=gw(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Cs([_,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Cs([_,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,n,r,o);return e&&j?y.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},j):j}function hw(){let i=Ew(),e=sw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:o},n):null,h)}var fw=y.createElement(hw,null),dw=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?y.createElement(Ms.Provider,{value:this.props.routeContext},y.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pw({routeContext:i,match:e,children:n}){let r=y.useContext(Eo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ms.Provider,{value:i},n)}function gw(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let m=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(n)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=m),_.route.id){let{loaderData:T,errors:S}=n,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||D){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,_,T)=>{let S,D=!1,M=null,k=null;n&&(S=h&&_.route.id?h[_.route.id]:void 0,M=_.route.errorElement||fw,p&&(g<0&&T===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):g===T&&(D=!0,k=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,T+1)),j=()=>{let B;return S?B=M:D?B=k:_.route.Component?B=y.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=m,y.createElement(pw,{match:_,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?y.createElement(dw,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:j(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):j()},null)}function jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(i){let e=y.useContext(Eo);return bt(e,jp(i)),e}function vw(i){let e=y.useContext(wh);return bt(e,jp(i)),e}function yw(i){let e=y.useContext(Ms);return bt(e,jp(i)),e}function qp(i){let e=yw(i),n=e.matches[e.matches.length-1];return bt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function _w(){return qp("useRouteId")}function Ew(){let i=y.useContext(Bp),e=vw("useRouteError"),n=qp("useRouteError");return i!==void 0?i:e.errors?.[n]}function bw(){let{router:i}=mw("useNavigate"),e=qp("useNavigate"),n=y.useRef(!1);return r0(()=>{n.current=!0}),y.useCallback(async(o,u={})=>{Yi(n.current,s0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var m_={};function l0(i,e,n){!e&&!m_[i]&&(m_[i]=!0,Yi(!1,n))}y.memo(Tw);function Tw({routes:i,future:e,state:n,unstable_onError:r}){return o0(i,void 0,n,r,e)}function up(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sw({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){bt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:g="/",search:m="",hash:_="",state:T=null,key:S="default"}=n,D=y.useMemo(()=>{let M=ws(g,h);return M==null?null:{location:{pathname:M,search:m,hash:_,state:T,key:S},navigationType:r}},[h,g,m,_,T,S,r]);return Yi(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:y.createElement(Zi.Provider,{value:p},y.createElement(iu.Provider,{children:e,value:D}))}function Cw({children:i,location:e}){return cw(cp(i),e)}function cp(i,e=[]){let n=[];return y.Children.forEach(i,(r,o)=>{if(!y.isValidElement(r))return;let u=[...e,o];if(r.type===y.Fragment){n.push.apply(n,cp(r.props.children,u));return}bt(r.type===up,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=cp(r.props.children,u)),n.push(h)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Ah(i){return i!=null&&typeof i.tagName=="string"}function ww(i){return Ah(i)&&i.tagName.toLowerCase()==="button"}function Aw(i){return Ah(i)&&i.tagName.toLowerCase()==="form"}function Lw(i){return Ah(i)&&i.tagName.toLowerCase()==="input"}function Rw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Mw(i,e){return i.button===0&&(!e||e==="_self")&&!Rw(i)}var Pc=null;function Dw(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var Ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(i){return i!=null&&!Ow.has(i)?(Yi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function xw(i,e){let n,r,o,u,h;if(Aw(i)){let p=i.getAttribute("action");r=p?ws(p,e):null,n=i.getAttribute("method")||Kc,o=Gd(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(ww(i)||Lw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?ws(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Kc,o=Gd(i.getAttribute("formenctype"))||Gd(p.getAttribute("enctype"))||Yc,u=new FormData(p,i),!Dw()){let{name:m,type:_,value:T}=i;if(_==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,T)}}else{if(Ah(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,r=null,o=Yc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Iw(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ws(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Vw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Pw(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Vw(u,n);return h.links?h.links():[]}return[]}));return Bw(r.flat(1).filter(Nw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v_(i,e,n,r,o,u){let h=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>h(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function kw(i,e,{includeHydrateFallback:n}={}){return Uw(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Uw(i){return[...new Set(i)]}function zw(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function Bw(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(zw(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function u0(){let i=y.useContext(Eo);return Hp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jw(){let i=y.useContext(wh);return Hp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Fp=y.createContext(void 0);Fp.displayName="FrameworkContext";function c0(){let i=y.useContext(Fp);return Hp(i,"You must render this element inside a <HydratedRouter> element"),i}function qw(i,e){let n=y.useContext(Fp),[r,o]=y.useState(!1),[u,h]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,S=y.useRef(null);y.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let k=j=>{j.forEach(B=>{h(B.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),y.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let D=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ml(p,D),onBlur:Ml(g,M),onMouseEnter:Ml(m,D),onMouseLeave:Ml(_,M),onTouchStart:Ml(T,D)}]:[!1,S,{}]}function Ml(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Hw({page:i,...e}){let{router:n}=u0(),r=y.useMemo(()=>Xb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?y.createElement(Gw,{page:i,matches:r,...e}):null}function Fw(i){let{manifest:e,routeModules:n}=c0(),[r,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return Pw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),r}function Gw({page:i,matches:e,...n}){let r=ua(),{manifest:o,routeModules:u}=c0(),{basename:h}=u0(),{loaderData:p,matches:g}=jw(),m=y.useMemo(()=>v_(i,e,g,o,r,"data"),[i,e,g,o,r]),_=y.useMemo(()=>v_(i,e,g,o,r,"assets"),[i,e,g,o,r]),T=y.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(j=>{let B=o.routes[j.route.id];!B||!B.hasLoader||(!m.some(X=>X.route.id===j.route.id)&&j.route.id in p&&u[j.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:M.add(j.route.id))}),M.size===0)return[];let V=Iw(i,h,"data");return k&&M.size>0&&V.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[V.pathname+V.search]},[h,p,r,o,m,e,i,u]),S=y.useMemo(()=>kw(_,o),[_,o]),D=Fw(_);return y.createElement(y.Fragment,null,T.map(M=>y.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>y.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:k})=>y.createElement("link",{key:M,nonce:n.nonce,...k})))}function Qw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.9.4")}catch{}function Kw({basename:i,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=NC({window:n,v5Compat:!0}));let o=r.current,[u,h]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>h(g))},[h]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(Sw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nh=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:m,preventScrollReset:_,viewTransition:T,...S},D){let{basename:M}=y.useContext(Zi),k=typeof m=="string"&&f0.test(m),V,j=!1;if(typeof m=="string"&&k&&(V=m,h0))try{let C=new URL(window.location.href),I=m.startsWith("//")?new URL(C.protocol+m):new URL(m),x=ws(I.pathname,M);I.origin===C.origin&&x!=null?m=x+I.search+I.hash:j=!0}catch{Yi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=lw(m,{relative:o}),[X,H,F]=qw(r,S),W=Xw(m,{replace:h,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:T});function L(C){e&&e(C),C.defaultPrevented||W(C)}let A=y.createElement("a",{...S,...F,href:V||B,onClick:j||u?e:L,ref:Qw(D,H),target:g,"data-discover":!k&&n==="render"?"true":void 0});return X&&!k?y.createElement(y.Fragment,null,A,y.createElement(Hw,{page:B})):A});nh.displayName="Link";var Yw=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...m},_){let T=ru(h,{relative:m.relative}),S=ua(),D=y.useContext(wh),{navigator:M,basename:k}=y.useContext(Zi),V=D!=null&&nA(T)&&p===!0,j=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,B=S.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(B=B.toLowerCase(),X=X?X.toLowerCase():null,j=j.toLowerCase()),X&&k&&(X=ws(X,k)||X);const H=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let F=B===j||!o&&B.startsWith(j)&&B.charAt(H)==="/",W=X!=null&&(X===j||!o&&X.startsWith(j)&&X.charAt(j.length)==="/"),L={isActive:F,isPending:W,isTransitioning:V},A=F?e:void 0,C;typeof r=="function"?C=r(L):C=[r,F?"active":null,W?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(L):u;return y.createElement(nh,{...m,"aria-current":A,className:C,ref:_,style:I,to:h,viewTransition:p},typeof g=="function"?g(L):g)});Yw.displayName="NavLink";var $w=y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=Kc,action:p,onSubmit:g,relative:m,preventScrollReset:_,viewTransition:T,...S},D)=>{let M=eA(),k=tA(p,{relative:m}),V=h.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&f0.test(p),B=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let H=X.nativeEvent.submitter,F=H?.getAttribute("formmethod")||h;M(H||X.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:T})};return y.createElement("form",{ref:D,method:V,action:k,onSubmit:r?g:B,...S,"data-discover":!j&&i==="render"?"true":void 0})});$w.displayName="Form";function Zw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(i){let e=y.useContext(Eo);return bt(e,Zw(i)),e}function Xw(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=a0(),g=ua(),m=ru(i,{relative:u});return y.useCallback(_=>{if(Mw(_,e)){_.preventDefault();let T=n!==void 0?n:Fl(g)===Fl(m);p(i,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,m,n,r,e,i,o,u,h])}var Ww=0,Jw=()=>`__${String(++Ww)}__`;function eA(){let{router:i}=d0("useSubmit"),{basename:e}=y.useContext(Zi),n=_w();return y.useCallback(async(r,o={})=>{let{action:u,method:h,encType:p,formData:g,body:m}=xw(r,e);if(o.navigate===!1){let _=o.fetcherKey||Jw();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function tA(i,{relative:e}={}){let{basename:n}=y.useContext(Zi),r=y.useContext(Ms);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...ru(i||".",{relative:e})},h=ua();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let _=p.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Cs([n,u.pathname])),Fl(u)}function nA(i,{relative:e}={}){let n=y.useContext(i0);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d0("useViewTransitionState"),o=ru(i,{relative:e});if(!n.isTransitioning)return!1;let u=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return th(o.pathname,h)!=null||th(o.pathname,u)!=null}var bo=Zb();function Gl(i){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(i)}function iA(i,e){if(Gl(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function sA(i){var e=iA(i,"string");return Gl(e)=="symbol"?e:e+""}function ne(i,e,n){return(e=sA(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function p0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qd,y_;function rA(){if(y_)return Qd;y_=1;var i=function(n,r,o,u,h,p,g,m){if(!n){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[o,u,h,p,g,m],S=0;_=new Error(r.replace(/%s/g,function(){return T[S++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return Qd=i,Qd}var aA=rA(),Qt=p0(aA),Ue=y.createContext(null);function oA(){Qt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=y.useContext(Ue);return Qt(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function lA(i,e,n){return Object.keys(i).reduce(function(o,u){return e(o,i[u],u)},n)}function uA(i,e){Object.keys(i).forEach(n=>e(i[n],n))}function cA(i,e,n,r){var o={},u=(h,p)=>{var g=n[p];g!==e[p]&&(o[p]=g,h(r,g))};return uA(i,u),o}function hA(i,e,n){var r=lA(n,function(u,h,p){return typeof i[p]=="function"&&u.push(google.maps.event.addListener(e,h,i[p])),u},[]);return r}function fA(i){google.maps.event.removeListener(i)}function He(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(fA)}function Be(i){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:o,instance:u}=i,h=hA(o,u,n);return cA(e,r,o,u),h}var __={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},E_={extraMapTypes(i,e){e.forEach(function(r,o){i.mapTypes.set(String(o),r)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function dA(i){var{children:e,options:n,id:r,mapContainerStyle:o,mapContainerClassName:u,center:h,onClick:p,onDblClick:g,onDrag:m,onDragEnd:_,onDragStart:T,onMouseMove:S,onMouseOut:D,onMouseOver:M,onMouseDown:k,onMouseUp:V,onRightClick:j,onCenterChanged:B,onLoad:X,onUnmount:H}=i,[F,W]=y.useState(null),L=y.useRef(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[U,O]=y.useState(null),[me,be]=y.useState(null),[Q,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null),[we,ze]=y.useState(null);return y.useEffect(()=>{n&&F!==null&&F.setOptions(n)},[F,n]),y.useEffect(()=>{F!==null&&typeof h<"u"&&F.setCenter(h)},[F,h]),y.useEffect(()=>{F&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(F,"dblclick",g)))},[g]),y.useEffect(()=>{F&&_&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(F,"dragend",_)))},[_]),y.useEffect(()=>{F&&T&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(F,"dragstart",T)))},[T]),y.useEffect(()=>{F&&k&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(F,"mousedown",k)))},[k]),y.useEffect(()=>{F&&S&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(F,"mousemove",S)))},[S]),y.useEffect(()=>{F&&D&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(F,"mouseout",D)))},[D]),y.useEffect(()=>{F&&M&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(F,"mouseover",M)))},[M]),y.useEffect(()=>{F&&V&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(F,"mouseup",V)))},[V]),y.useEffect(()=>{F&&j&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(F,"rightclick",j)))},[j]),y.useEffect(()=>{F&&p&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(F,"click",p)))},[p]),y.useEffect(()=>{F&&m&&(we!==null&&google.maps.event.removeListener(we),ze(google.maps.event.addListener(F,"drag",m)))},[m]),y.useEffect(()=>{F&&B&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(F,"center_changed",B)))},[p]),y.useEffect(()=>{var Kt=L.current===null?null:new google.maps.Map(L.current,n);return W(Kt),Kt!==null&&X&&X(Kt),()=>{Kt!==null&&H&&H(Kt)}},[]),he.jsx("div",{id:r,ref:L,style:o,className:u,children:he.jsx(Ue.Provider,{value:F,children:F!==null?e:null})})}y.memo(dA);class g0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:E_,eventMap:__,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:E_,eventMap:__,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),He(this.registeredEvents))}render(){return he.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:he.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function b_(i,e,n,r,o,u,h){try{var p=i[u](h),g=p.value}catch(m){return void n(m)}p.done?e(g):Promise.resolve(g).then(r,o)}function m0(i){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=i.apply(e,n);function h(g){b_(u,r,o,h,p,"next",g)}function p(g){b_(u,r,o,h,p,"throw",g)}h(void 0)})}}function v0(i){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:o,region:u,libraries:h,channel:p,mapIds:g,authReferrerPolicy:m,apiUrl:_="https://maps.googleapis.com"}=i,T=[];return Qt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?T.push("key=".concat(e)):n&&T.push("client=".concat(n)),r&&T.push("v=".concat(r)),o&&T.push("language=".concat(o)),u&&T.push("region=".concat(u)),h&&h.length&&T.push("libraries=".concat(h.sort().join(","))),p&&T.push("channel=".concat(p)),g&&g.length&&T.push("map_ids=".concat(g.join(","))),m&&T.push("auth_referrer_policy=".concat(m)),T.push("loading=async"),T.push("callback=initMap"),"".concat(_,"/maps/api/js?").concat(T.join("&"))}var ia=typeof document<"u";function y0(i){var{url:e,id:n,nonce:r}=i;return ia?new Promise(function(u,h){var p=document.getElementById(n),g=window;if(p){var m=p.getAttribute("data-state");if(p.src===e&&m!=="error"){if(m==="ready")return u(n);var _=g.initMap,T=p.onerror;g.initMap=function(){_&&_(),u(n)},p.onerror=function(D){T&&T(D),h(D)};return}else p.remove()}var S=document.createElement("script");S.type="text/javascript",S.src=e,S.id=n,S.async=!0,S.nonce=r||"",S.onerror=function(M){S.setAttribute("data-state","error"),h(M)},g.initMap=function(){S.setAttribute("data-state","ready"),u(n)},document.head.appendChild(S)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function T_(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function _0(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(o,u){return T_(o)||Reflect.apply(e,i,[o,u]),o};var n=i.appendChild.bind(i);i.appendChild=function(o){return T_(o)||Reflect.apply(n,i,[o]),o}}}var Dl=!1;function E0(){return he.jsx("div",{children:"Loading..."})}var hp={id:"script-loader",version:"weekly"};class b0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",m0(function*(){function e(n){if(!Dl)n();else if(ia)var r=window.setInterval(function(){Dl||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Dl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&_0(),Qt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:v0(this.props)};y0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ia){if(window.google&&window.google.maps&&!Dl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ia&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ia){this.cleanup();var e=()=>{this.check||(delete window.google,Dl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return he.jsxs(he.Fragment,{children:[he.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||he.jsx(E0,{})]})}}ne(b0,"defaultProps",hp);function pA(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;n[r]=i[r]}return n}function Gp(i,e){if(i==null)return{};var n,r,o=pA(i,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(r=0;r<u.length;r++)n=u[r],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(o[n]=i[n])}return o}var S_;function gA(i){var{id:e=hp.id,version:n=hp.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,preventGoogleFontsLoading:m,channel:_,mapIds:T,authReferrerPolicy:S,apiUrl:D="https://maps.googleapis.com"}=i,M=y.useRef(!1),[k,V]=y.useState(!1),[j,B]=y.useState(void 0);y.useEffect(function(){return M.current=!0,()=>{M.current=!1}},[]),y.useEffect(function(){ia&&m&&_0()},[m]),y.useEffect(function(){k&&Qt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[k]);var X=v0({version:n,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,channel:_,mapIds:T,authReferrerPolicy:S,apiUrl:D});y.useEffect(function(){if(!ia)return;function W(){M.current&&(V(!0),S_=X)}if(window.google&&window.google.maps&&S_===X){W();return}y0({id:e,url:X,nonce:r}).then(W).catch(function(A){M.current&&B(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,X,r]);var H=y.useRef(void 0);return y.useEffect(function(){H.current&&g!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=g},[g]),{isLoaded:k,loadError:j,url:X}}var mA=["loadingElement","onLoad","onError","onUnmount","children"],vA=he.jsx(E0,{});function yA(i){var{loadingElement:e,onLoad:n,onError:r,onUnmount:o,children:u}=i,h=Gp(i,mA),{isLoaded:p,loadError:g}=gA(h);return y.useEffect(function(){p&&typeof n=="function"&&n()},[p,n]),y.useEffect(function(){g&&typeof r=="function"&&r(g)},[g,r]),y.useEffect(function(){return()=>{o&&o()}},[o]),p?u:e||vA}y.memo(yA);var C_;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(C_||(C_={}));function w_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ih(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var A_={},L_={options(i,e){i.setOptions(e)}};function _A(i){var{options:e,onLoad:n,onUnmount:r}=i,o=y.useContext(Ue),[u,h]=y.useState(null);return y.useEffect(()=>{u!==null&&u.setMap(o)},[o]),y.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),y.useEffect(()=>{var p=new google.maps.TrafficLayer(ih(ih({},e),{},{map:o}));return h(p),n&&n(p),()=>{u!==null&&(r&&r(u),u.setMap(null))}},[]),null}y.memo(_A);class EA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(ih(ih({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:L_,eventMap:A_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:L_,eventMap:A_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),He(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(EA,"contextType",Ue);function bA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.BicyclingLayer;return u(h),h.setMap(r),e&&e(h),()=>{h!==null&&(n&&n(h),h.setMap(null))}},[]),null}y.memo(bA);class TA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(TA,"contextType",Ue);function SA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.TransitLayer;return u(h),h.setMap(r),e&&e(h),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(SA);class CA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(CA,"contextType",Ue);function R_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function sh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var M_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},D_={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function wA(i){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:u,onPolygonComplete:h,onPolylineComplete:p,onRectangleComplete:g,onLoad:m,onUnmount:_}=i,T=y.useContext(Ue),[S,D]=y.useState(null),[M,k]=y.useState(null),[V,j]=y.useState(null),[B,X]=y.useState(null),[H,F]=y.useState(null),[W,L]=y.useState(null),[A,C]=y.useState(null);return y.useEffect(()=>{S!==null&&S.setMap(T)},[T]),y.useEffect(()=>{e&&S!==null&&S.setOptions(e)},[S,e]),y.useEffect(()=>{S!==null&&S.setDrawingMode(n??null)},[S,n]),y.useEffect(()=>{S&&r&&(M!==null&&google.maps.event.removeListener(M),k(google.maps.event.addListener(S,"circlecomplete",r)))},[S,r]),y.useEffect(()=>{S&&o&&(V!==null&&google.maps.event.removeListener(V),j(google.maps.event.addListener(S,"markercomplete",o)))},[S,o]),y.useEffect(()=>{S&&u&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(S,"overlaycomplete",u)))},[S,u]),y.useEffect(()=>{S&&h&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(S,"polygoncomplete",h)))},[S,h]),y.useEffect(()=>{S&&p&&(W!==null&&google.maps.event.removeListener(W),L(google.maps.event.addListener(S,"polylinecomplete",p)))},[S,p]),y.useEffect(()=>{S&&g&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(S,"rectanglecomplete",g)))},[S,g]),y.useEffect(()=>{Qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(sh(sh({},e),{},{map:T}));return n&&I.setDrawingMode(n),r&&k(google.maps.event.addListener(I,"circlecomplete",r)),o&&j(google.maps.event.addListener(I,"markercomplete",o)),u&&X(google.maps.event.addListener(I,"overlaycomplete",u)),h&&F(google.maps.event.addListener(I,"polygoncomplete",h)),p&&L(google.maps.event.addListener(I,"polylinecomplete",p)),g&&C(google.maps.event.addListener(I,"rectanglecomplete",g)),D(I),m&&m(I),()=>{S!==null&&(M&&google.maps.event.removeListener(M),V&&google.maps.event.removeListener(V),B&&google.maps.event.removeListener(B),H&&google.maps.event.removeListener(H),W&&google.maps.event.removeListener(W),A&&google.maps.event.removeListener(A),_&&_(S),S.setMap(null))}},[]),null}y.memo(wA);class AA extends y.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(sh(sh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:D_,eventMap:M_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:D_,eventMap:M_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),He(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(AA,"contextType",Ue);function O_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ao(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var x_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},I_={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},rh={};function LA(i){var{position:e,options:n,clusterer:r,noClustererRedraw:o,children:u,draggable:h,visible:p,animation:g,clickable:m,cursor:_,icon:T,label:S,opacity:D,shape:M,title:k,zIndex:V,onClick:j,onDblClick:B,onDrag:X,onDragEnd:H,onDragStart:F,onMouseOut:W,onMouseOver:L,onMouseUp:A,onMouseDown:C,onRightClick:I,onClickableChanged:x,onCursorChanged:U,onAnimationChanged:O,onDraggableChanged:me,onFlatChanged:be,onIconChanged:Q,onPositionChanged:ue,onShapeChanged:fe,onTitleChanged:Ee,onVisibleChanged:_e,onZindexChanged:N,onLoad:J,onUnmount:se}=i,ce=y.useContext(Ue),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null),[ze,Kt]=y.useState(null),[un,cn]=y.useState(null),[$e,_i]=y.useState(null),[Ei,Ds]=y.useState(null),[dt,St]=y.useState(null),[Dn,pa]=y.useState(null),[Xi,Yt]=y.useState(null),[bi,Os]=y.useState(null),[Ti,oi]=y.useState(null),[xs,Rr]=y.useState(null),[Wi,Mr]=y.useState(null),[hn,xt]=y.useState(null),[Jt,vt]=y.useState(null),[Ji,es]=y.useState(null),[ts,On]=y.useState(null),[Si,Et]=y.useState(null),[vn,xn]=y.useState(null),[fn,ga]=y.useState(null),[ns,In]=y.useState(null);y.useEffect(()=>{$!==null&&$.setMap(ce)},[ce]),y.useEffect(()=>{typeof n<"u"&&$!==null&&$.setOptions(n)},[$,n]),y.useEffect(()=>{typeof h<"u"&&$!==null&&$.setDraggable(h)},[$,h]),y.useEffect(()=>{e&&$!==null&&$.setPosition(e)},[$,e]),y.useEffect(()=>{typeof p<"u"&&$!==null&&$.setVisible(p)},[$,p]),y.useEffect(()=>{$?.setAnimation(g)},[$,g]),y.useEffect(()=>{$&&m!==void 0&&$.setClickable(m)},[$,m]),y.useEffect(()=>{$&&_!==void 0&&$.setCursor(_)},[$,_]),y.useEffect(()=>{$&&T!==void 0&&$.setIcon(T)},[$,T]),y.useEffect(()=>{$&&S!==void 0&&$.setLabel(S)},[$,S]),y.useEffect(()=>{$&&D!==void 0&&$.setOpacity(D)},[$,D]),y.useEffect(()=>{$&&M!==void 0&&$.setShape(M)},[$,M]),y.useEffect(()=>{$&&k!==void 0&&$.setTitle(k)},[$,k]),y.useEffect(()=>{$&&V!==void 0&&$.setZIndex(V)},[$,V]),y.useEffect(()=>{$&&B&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener($,"dblclick",B)))},[B]),y.useEffect(()=>{$&&H&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener($,"dragend",H)))},[H]),y.useEffect(()=>{$&&F&&(ze!==null&&google.maps.event.removeListener(ze),Kt(google.maps.event.addListener($,"dragstart",F)))},[F]),y.useEffect(()=>{$&&C&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener($,"mousedown",C)))},[C]),y.useEffect(()=>{$&&W&&($e!==null&&google.maps.event.removeListener($e),_i(google.maps.event.addListener($,"mouseout",W)))},[W]),y.useEffect(()=>{$&&L&&(Ei!==null&&google.maps.event.removeListener(Ei),Ds(google.maps.event.addListener($,"mouseover",L)))},[L]),y.useEffect(()=>{$&&A&&(dt!==null&&google.maps.event.removeListener(dt),St(google.maps.event.addListener($,"mouseup",A)))},[A]),y.useEffect(()=>{$&&I&&(Dn!==null&&google.maps.event.removeListener(Dn),pa(google.maps.event.addListener($,"rightclick",I)))},[I]),y.useEffect(()=>{$&&j&&(Xi!==null&&google.maps.event.removeListener(Xi),Yt(google.maps.event.addListener($,"click",j)))},[j]),y.useEffect(()=>{$&&X&&(bi!==null&&google.maps.event.removeListener(bi),Os(google.maps.event.addListener($,"drag",X)))},[X]),y.useEffect(()=>{$&&x&&(Ti!==null&&google.maps.event.removeListener(Ti),oi(google.maps.event.addListener($,"clickable_changed",x)))},[x]),y.useEffect(()=>{$&&U&&(xs!==null&&google.maps.event.removeListener(xs),Rr(google.maps.event.addListener($,"cursor_changed",U)))},[U]),y.useEffect(()=>{$&&O&&(Wi!==null&&google.maps.event.removeListener(Wi),Mr(google.maps.event.addListener($,"animation_changed",O)))},[O]),y.useEffect(()=>{$&&me&&(hn!==null&&google.maps.event.removeListener(hn),xt(google.maps.event.addListener($,"draggable_changed",me)))},[me]),y.useEffect(()=>{$&&be&&(Jt!==null&&google.maps.event.removeListener(Jt),vt(google.maps.event.addListener($,"flat_changed",be)))},[be]),y.useEffect(()=>{$&&Q&&(Ji!==null&&google.maps.event.removeListener(Ji),es(google.maps.event.addListener($,"icon_changed",Q)))},[Q]),y.useEffect(()=>{$&&ue&&(ts!==null&&google.maps.event.removeListener(ts),On(google.maps.event.addListener($,"position_changed",ue)))},[ue]),y.useEffect(()=>{$&&fe&&(Si!==null&&google.maps.event.removeListener(Si),Et(google.maps.event.addListener($,"shape_changed",fe)))},[fe]),y.useEffect(()=>{$&&Ee&&(vn!==null&&google.maps.event.removeListener(vn),xn(google.maps.event.addListener($,"title_changed",Ee)))},[Ee]),y.useEffect(()=>{$&&_e&&(fn!==null&&google.maps.event.removeListener(fn),ga(google.maps.event.addListener($,"visible_changed",_e)))},[_e]),y.useEffect(()=>{$&&N&&(ns!==null&&google.maps.event.removeListener(ns),In(google.maps.event.addListener($,"zindex_changed",N)))},[N]),y.useEffect(()=>{var ss=ao(ao(ao({},n||rh),r?rh:{map:ce}),{},{position:e}),Me=new google.maps.Marker(ss);return r?r.addMarker(Me,!!o):Me.setMap(ce),e&&Me.setPosition(e),typeof p<"u"&&Me.setVisible(p),typeof h<"u"&&Me.setDraggable(h),typeof m<"u"&&Me.setClickable(m),typeof _=="string"&&Me.setCursor(_),T&&Me.setIcon(T),typeof S<"u"&&Me.setLabel(S),typeof D<"u"&&Me.setOpacity(D),M&&Me.setShape(M),typeof k=="string"&&Me.setTitle(k),typeof V=="number"&&Me.setZIndex(V),B&&Ce(google.maps.event.addListener(Me,"dblclick",B)),H&&we(google.maps.event.addListener(Me,"dragend",H)),F&&Kt(google.maps.event.addListener(Me,"dragstart",F)),C&&cn(google.maps.event.addListener(Me,"mousedown",C)),W&&_i(google.maps.event.addListener(Me,"mouseout",W)),L&&Ds(google.maps.event.addListener(Me,"mouseover",L)),A&&St(google.maps.event.addListener(Me,"mouseup",A)),I&&pa(google.maps.event.addListener(Me,"rightclick",I)),j&&Yt(google.maps.event.addListener(Me,"click",j)),X&&Os(google.maps.event.addListener(Me,"drag",X)),x&&oi(google.maps.event.addListener(Me,"clickable_changed",x)),U&&Rr(google.maps.event.addListener(Me,"cursor_changed",U)),O&&Mr(google.maps.event.addListener(Me,"animation_changed",O)),me&&xt(google.maps.event.addListener(Me,"draggable_changed",me)),be&&vt(google.maps.event.addListener(Me,"flat_changed",be)),Q&&es(google.maps.event.addListener(Me,"icon_changed",Q)),ue&&On(google.maps.event.addListener(Me,"position_changed",ue)),fe&&Et(google.maps.event.addListener(Me,"shape_changed",fe)),Ee&&xn(google.maps.event.addListener(Me,"title_changed",Ee)),_e&&ga(google.maps.event.addListener(Me,"visible_changed",_e)),N&&In(google.maps.event.addListener(Me,"zindex_changed",N)),ve(Me),J&&J(Me),()=>{Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),$e!==null&&google.maps.event.removeListener($e),Ei!==null&&google.maps.event.removeListener(Ei),dt!==null&&google.maps.event.removeListener(dt),Dn!==null&&google.maps.event.removeListener(Dn),Xi!==null&&google.maps.event.removeListener(Xi),Ti!==null&&google.maps.event.removeListener(Ti),xs!==null&&google.maps.event.removeListener(xs),Wi!==null&&google.maps.event.removeListener(Wi),hn!==null&&google.maps.event.removeListener(hn),Jt!==null&&google.maps.event.removeListener(Jt),Ji!==null&&google.maps.event.removeListener(Ji),ts!==null&&google.maps.event.removeListener(ts),vn!==null&&google.maps.event.removeListener(vn),fn!==null&&google.maps.event.removeListener(fn),ns!==null&&google.maps.event.removeListener(ns),se&&se(Me),r?r.removeMarker(Me,!!o):Me&&Me.setMap(null)}},[]);var is=y.useMemo(()=>u?y.Children.map(u,ss=>{if(!y.isValidElement(ss))return ss;var Me=ss;return y.cloneElement(Me,{anchor:$})}):null,[u,$]);return he.jsx(he.Fragment,{children:is})||null}y.memo(LA);class ah extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return m0(function*(){var n=ao(ao(ao({},e.props.options||rh),e.props.clusterer?rh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),He(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var r=n;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(ah,"contextType",Ue);var RA=(function(){function i(e,n){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),u=n.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(o),this.timeOut=window.setTimeout(function(){var h=n.getMap();if(h!==null){"fitBounds"in h&&h.fitBounds(o);var p=h.getZoom()||0;r!==null&&p>r&&h.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,n,r,o,u,h;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,g=this.backgroundPosition.split(" "),m=parseInt(((e=g[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((n=g[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),T=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(T!==null?"".concat(T.y,"px"):"0","; left: ").concat(T!==null?"".concat(T.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var S=document.createElement("img");S.alt=p,S.src=this.url,S.width=this.width,S.height=this.height,S.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(S.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var D=document.createElement("div");D.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(D.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(D.innerHTML="".concat((h=this.sums)===null||h===void 0?void 0:h.html)),this.div.innerHTML="",this.div.appendChild(S),this.div.appendChild(D),this.div.title=p,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},i})(),MA=(function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new RA(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var u=o[r],h=u.getPosition();h&&e.extend(h)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,h=this.markerClusterer.getMaxZoom(),p=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(h!==null&&typeof p<"u"&&p>h)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var g=0,m=this.markers;g<m.length;g++){var _=m[g];_.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},i})();function DA(i,e){var n=i.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var OA=2e3,xA=500,IA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",VA="png",NA=[53,56,66,78,90],PA="cluster",T0=(function(){function i(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||IA,this.imageExtension=r.imageExtension||VA,this.imageSizes=r.imageSizes||NA,this.calculator=r.calculator||DA,this.batchSize=r.batchSize||OA,this.batchSizeIE=r.batchSizeIE||xA,this.clusterClass=r.clusterClass||PA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,u=this.clusters;o<u.length;o++){var h=u[o];h.remove()}this.clusters=[];for(var p=0,g=this.listeners;p<g.length;p++){var m=g[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var u=o[r],h=u.getPosition();h&&n.extend(h)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},i.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},i.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},i.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},i.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,u=e;o<u.length;o++){var h=u[o];r=r||this.removeMarker_(h)}return!n&&r&&this.repaint(),r},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var u=o[r];u.remove()}},0)},i.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var u=n.fromDivPixelToLatLng(r);u!==null&&e.extend(u)}if(o!==null){var h=n.fromDivPixelToLatLng(o);h!==null&&e.extend(h)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var u=0,h=this.markers;u<h.length;u++){var p=h[u];p.isAdded=!1,e&&p.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,u=(n.lng()-e.lng())*Math.PI/180,h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},i.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},i.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,u=0,h=this.clusters;u<h.length;u++){var p=h[u];n=p;var g=n.getCenter(),m=e.getPosition();if(g&&m){var _=this.distanceBetweenPoints(g,m);_<r&&(r=_,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new MA(this),n.addMarker(e),this.clusters.push(n))},i.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,u=r?.getZoom()||0,h=u>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(h),g=Math.min(e+this.batchSize,this.markers.length),m=e;m<g;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,p)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(g<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(g)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var T=0,S=this.clusters;T<S.length;T++){var D=S[T];D.updateIcon()}}}},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype){var h=u;this.prototype[h]=o.prototype[h]}return this}).apply(e,[n])},i})();function V_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function kA(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var ri={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},UA={};function zA(i){var{children:e,options:n,averageCenter:r,batchSizeIE:o,calculator:u,clusterClass:h,enableRetinaIcons:p,gridSize:g,ignoreHidden:m,imageExtension:_,imagePath:T,imageSizes:S,maxZoom:D,minimumClusterSize:M,styles:k,title:V,zoomOnClick:j,onClick:B,onClusteringBegin:X,onClusteringEnd:H,onMouseOver:F,onMouseOut:W,onLoad:L,onUnmount:A}=i,[C,I]=y.useState(null),x=y.useContext(Ue),[U,O]=y.useState(null),[me,be]=y.useState(null),[Q,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null);return y.useEffect(()=>{C&&W&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(C,ri.onMouseOut,W)))},[W]),y.useEffect(()=>{C&&F&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(C,ri.onMouseOver,F)))},[F]),y.useEffect(()=>{C&&B&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(C,ri.onClick,B)))},[B]),y.useEffect(()=>{C&&X&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(C,ri.onClusteringBegin,X)))},[X]),y.useEffect(()=>{C&&H&&(Q!==null&&google.maps.event.removeListener(Q),be(google.maps.event.addListener(C,ri.onClusteringEnd,H)))},[H]),y.useEffect(()=>{typeof r<"u"&&C!==null&&et.averageCenter(C,r)},[C,r]),y.useEffect(()=>{typeof o<"u"&&C!==null&&et.batchSizeIE(C,o)},[C,o]),y.useEffect(()=>{typeof u<"u"&&C!==null&&et.calculator(C,u)},[C,u]),y.useEffect(()=>{typeof h<"u"&&C!==null&&et.clusterClass(C,h)},[C,h]),y.useEffect(()=>{typeof p<"u"&&C!==null&&et.enableRetinaIcons(C,p)},[C,p]),y.useEffect(()=>{typeof g<"u"&&C!==null&&et.gridSize(C,g)},[C,g]),y.useEffect(()=>{typeof m<"u"&&C!==null&&et.ignoreHidden(C,m)},[C,m]),y.useEffect(()=>{typeof _<"u"&&C!==null&&et.imageExtension(C,_)},[C,_]),y.useEffect(()=>{typeof T<"u"&&C!==null&&et.imagePath(C,T)},[C,T]),y.useEffect(()=>{typeof S<"u"&&C!==null&&et.imageSizes(C,S)},[C,S]),y.useEffect(()=>{typeof D<"u"&&C!==null&&et.maxZoom(C,D)},[C,D]),y.useEffect(()=>{typeof M<"u"&&C!==null&&et.minimumClusterSize(C,M)},[C,M]),y.useEffect(()=>{typeof k<"u"&&C!==null&&et.styles(C,k)},[C,k]),y.useEffect(()=>{typeof V<"u"&&C!==null&&et.title(C,V)},[C,V]),y.useEffect(()=>{typeof j<"u"&&C!==null&&et.zoomOnClick(C,j)},[C,j]),y.useEffect(()=>{if(x){var J=kA({},n||UA),se=new T0(x,[],J);return r&&et.averageCenter(se,r),o&&et.batchSizeIE(se,o),u&&et.calculator(se,u),h&&et.clusterClass(se,h),p&&et.enableRetinaIcons(se,p),g&&et.gridSize(se,g),m&&et.ignoreHidden(se,m),_&&et.imageExtension(se,_),T&&et.imagePath(se,T),S&&et.imageSizes(se,S),D&&et.maxZoom(se,D),M&&et.minimumClusterSize(se,M),k&&et.styles(se,k),V&&et.title(se,V),j&&et.zoomOnClick(se,j),W&&Ee(google.maps.event.addListener(se,ri.onMouseOut,W)),F&&N(google.maps.event.addListener(se,ri.onMouseOver,F)),B&&O(google.maps.event.addListener(se,ri.onClick,B)),X&&be(google.maps.event.addListener(se,ri.onClusteringBegin,X)),H&&ue(google.maps.event.addListener(se,ri.onClusteringEnd,H)),I(se),L&&L(se),()=>{fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),U!==null&&google.maps.event.removeListener(U),me!==null&&google.maps.event.removeListener(me),Q!==null&&google.maps.event.removeListener(Q),A&&A(se)}}},[]),C!==null&&e(C)||null}y.memo(zA);class BA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new T0(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:et,eventMap:ri,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:et,eventMap:ri,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),He(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(BA,"contextType",Ue);function N_(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var S0=(function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,n=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||N_(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],h=0,p=u;h<p.length;h++){var g=p[h];this.eventListeners.push(google.maps.event.addListener(this.div,g,N_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,u=n.getBounds();u&&!u.contains(this.position)&&n.setCenter(this.position);var h=n.getDiv(),p=h.offsetWidth,g=h.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,T=this.div.offsetWidth,S=this.div.offsetHeight,D=this.infoBoxClearance.width,M=this.infoBoxClearance.height,k=this.getProjection(),V=k.fromLatLngToContainerPixel(this.position);V!==null&&(V.x<-m+D?r=V.x+m-D:V.x+T+m+D>p&&(r=V.x+T+m+D-p),this.alignBottom?V.y<-_+M+S?o=V.y+_-M-S:V.y+_+M>g&&(o=V.y+_+M-g):V.y<-_+M?o=V.y+_-M:V.y+S+_+M>g&&(o=V.y+S+_+M-g)),r===0&&o===0||n.panBy(r,o)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=o.prototype[u]);return this}).apply(e,[n])},i})(),jA=["position"],qA=["position"];function P_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function oh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var k_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},U_={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},HA={};function FA(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,D=y.useContext(Ue),[M,k]=y.useState(null),[V,j]=y.useState(null),[B,X]=y.useState(null),[H,F]=y.useState(null),[W,L]=y.useState(null),[A,C]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{D&&M!==null&&(M.close(),n?M.open(D,n):M.getPosition()&&M.open(D))},[D,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{if(o&&M!==null){var x=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);M.setPosition(x)}},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),j(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(W!==null&&google.maps.event.removeListener(W),L(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&_&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(M,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(D){var x=r||HA,{position:U}=x,O=Gp(x,jA),me;U&&!(U instanceof google.maps.LatLng)&&(me=new google.maps.LatLng(U.lat,U.lng));var be=new S0(oh(oh({},O),me?{position:me}:{}));I.current=document.createElement("div"),k(be),h&&j(google.maps.event.addListener(be,"closeclick",h)),p&&X(google.maps.event.addListener(be,"domready",p)),g&&F(google.maps.event.addListener(be,"content_changed",g)),m&&L(google.maps.event.addListener(be,"position_changed",m)),_&&C(google.maps.event.addListener(be,"zindex_changed",_)),be.setContent(I.current),n?be.open(D,n):be.getPosition()?be.open(D):Qt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),T&&T(be)}return()=>{M!==null&&(V&&google.maps.event.removeListener(V),H&&google.maps.event.removeListener(H),B&&google.maps.event.removeListener(B),W&&google.maps.event.removeListener(W),A&&google.maps.event.removeListener(A),S&&S(M),M.close())}},[]),I.current?bo.createPortal(y.Children.only(e),I.current):null}y.memo(FA);class GA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Qt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Gp(e,qA),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var u=new S0(oh(oh({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:U_,eventMap:k_,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:U_,eventMap:k_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),He(this.registeredEvents),n.close())}render(){return this.containerElement?bo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(GA,"contextType",Ue);var Kd,z_;function QA(){return z_||(z_=1,Kd=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;o--!==0;){var h=u[o];if(!i(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}),Kd}var KA=QA(),B_=p0(KA),j_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Yd=1,Ol=8;class Qp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==Yd)throw new Error("Got v".concat(o," data when expected v").concat(Yd,"."));var u=j_[r&15];if(!u)throw new Error("Unrecognized array type.");var[h]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new Qp(p,h,u,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=j_.indexOf(this.ArrayType),h=e*2*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-p%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Ol,e),this.coords=new this.ArrayType(this.data,Ol+p+g,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Ol+h+p+g),this.ids=new this.IndexArrayType(this.data,Ol,e),this.coords=new this.ArrayType(this.data,Ol+p+g,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Yd<<4)+u]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return fp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:h,nodeSize:p}=this,g=[0,u.length-1,0],m=[];g.length;){var _=g.pop()||0,T=g.pop()||0,S=g.pop()||0;if(T-S<=p){for(var D=S;D<=T;D++){var M=h[2*D],k=h[2*D+1];M>=e&&M<=r&&k>=n&&k<=o&&m.push(u[D])}continue}var V=S+T>>1,j=h[2*V],B=h[2*V+1];j>=e&&j<=r&&B>=n&&B<=o&&m.push(u[V]),(_===0?e<=j:n<=B)&&(g.push(S),g.push(V-1),g.push(1-_)),(_===0?r>=j:o>=B)&&(g.push(V+1),g.push(T),g.push(1-_))}return m}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:u,nodeSize:h}=this,p=[0,o.length-1,0],g=[],m=r*r;p.length;){var _=p.pop()||0,T=p.pop()||0,S=p.pop()||0;if(T-S<=h){for(var D=S;D<=T;D++)q_(u[2*D],u[2*D+1],e,n)<=m&&g.push(o[D]);continue}var M=S+T>>1,k=u[2*M],V=u[2*M+1];q_(k,V,e,n)<=m&&g.push(o[M]),(_===0?e-r<=k:n-r<=V)&&(p.push(S),p.push(M-1),p.push(1-_)),(_===0?e+r>=k:n+r>=V)&&(p.push(M+1),p.push(T),p.push(1-_))}return g}}function fp(i,e,n,r,o,u){if(!(o-r<=n)){var h=r+o>>1;C0(i,e,h,r,o,u),fp(i,e,n,r,h-1,1-u),fp(i,e,n,h+1,o,1-u)}}function C0(i,e,n,r,o,u){for(;o>r;){if(o-r>600){var h=o-r+1,p=n-r+1,g=Math.log(h),m=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*m*(h-m)/h)*(p-h/2<0?-1:1),T=Math.max(r,Math.floor(n-p*m/h+_)),S=Math.min(o,Math.floor(n+(h-p)*m/h+_));C0(i,e,n,T,S,u)}var D=e[2*n+u],M=r,k=o;for(xl(i,e,r,n),e[2*o+u]>D&&xl(i,e,r,o);M<k;){for(xl(i,e,M,k),M++,k--;e[2*M+u]<D;)M++;for(;e[2*k+u]>D;)k--}e[2*r+u]===D?xl(i,e,r,k):(k++,xl(i,e,k,o)),k<=n&&(r=k+1),n<=k&&(o=k-1)}}function xl(i,e,n,r){$d(i,n,r),$d(e,2*n,2*r),$d(e,2*n+1,2*r+1)}function $d(i,e,n){var r=i[e];i[e]=i[n],i[n]=r}function q_(i,e,n,r){var o=i-n,u=e-r;return o*o+u*u}var YA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},H_=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),ta=2,hr=3,Zd=4,cr=5,w0=6;class $A{constructor(e){this.options=Object.assign(Object.create(YA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");var u="prepare ".concat(e.length," points");n&&console.time(u),this.points=e;for(var h=[],p=0;p<e.length;p++){var g=e[p];if(g.geometry){var[m,_]=g.geometry.coordinates,T=H_(kc(m)),S=H_(Uc(_));h.push(T,S,1/0,p,-1,1),this.options.reduce&&h.push(0)}}var D=this.trees[o+1]=this._createTree(h);n&&console.timeEnd(u);for(var M=o;M>=r;M--){var k=+Date.now();D=this.trees[M]=this._createTree(this._cluster(D,M)),n&&console.log("z%d: %d clusters in %dms",M,D.numItems,+Date.now()-k)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,h=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,u=180;else if(r>u){var p=this.getClusters([r,o,180,h],n),g=this.getClusters([-180,o,u,h],n);return p.concat(g)}var m=this.trees[this._limitZoom(n)],_=m.range(kc(r),Uc(h),kc(u),Uc(o)),T=m.data,S=[];for(var D of _){var M=this.stride*D;S.push(T[M+cr]>1?F_(T,M,this.clusterProps):this.points[T[M+hr]])}return S}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",u=this.trees[r];if(!u)throw new Error(o);var h=u.data;if(n*this.stride>=h.length)throw new Error(o);var p=this.options.radius/(this.options.extent*Math.pow(2,r-1)),g=h[n*this.stride],m=h[n*this.stride+1],_=u.within(g,m,p),T=[];for(var S of _){var D=S*this.stride;h[D+Zd]===e&&T.push(h[D+cr]>1?F_(h,D,this.clusterProps):this.points[h[D+hr]])}if(T.length===0)throw new Error(o);return T}getLeaves(e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){var o=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:h,radius:p}=this.options,g=p/h,m=(r-g)/u,_=(r+1+g)/u,T={features:[]};return this._addTileFeatures(o.range((n-g)/u,m,(n+1+g)/u,_),o.data,n,r,u,T),n===0&&this._addTileFeatures(o.range(1-g/u,m,1,_),o.data,u,r,u,T),n===u-1&&this._addTileFeatures(o.range(0,m,g/u,_),o.data,-1,r,u,T),T.features.length?T:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,u){var h=this.getChildren(n);for(var p of h){var g=p.properties;if(g&&g.cluster?u+g.point_count<=o?u+=g.point_count:u=this._appendLeaves(e,g.cluster_id,r,o,u):u<o?u++:e.push(p),e.length===r)break}return u}_createTree(e){for(var n=new Qp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,u,h){for(var p of e){var g=p*this.stride,m=n[g+cr]>1,_=void 0,T=void 0,S=void 0;if(m)_=A0(n,g,this.clusterProps),T=n[g],S=n[g+1];else{var D=this.points[n[g+hr]];_=D.properties;var[M,k]=D.geometry.coordinates;T=kc(M),S=Uc(k)}var V={type:1,geometry:[[Math.round(this.options.extent*(T*u-r)),Math.round(this.options.extent*(S*u-o))]],tags:_},j=void 0;m||this.options.generateId?j=n[g+hr]:j=this.points[n[g+hr]].id,j!==void 0&&(V.id=j),h.features.push(V)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:o,reduce:u,minPoints:h}=this.options,p=r/(o*Math.pow(2,n)),g=e.data,m=[],_=this.stride,T=0;T<g.length;T+=_)if(!(g[T+ta]<=n)){g[T+ta]=n;var S=g[T],D=g[T+1],M=e.within(g[T],g[T+1],p),k=g[T+cr],V=k;for(var j of M){var B=j*_;g[B+ta]>n&&(V+=g[B+cr])}if(V>k&&V>=h){var X=S*k,H=D*k,F=void 0,W=-1,L=((T/_|0)<<5)+(n+1)+this.points.length;for(var A of M){var C=A*_;if(!(g[C+ta]<=n)){g[C+ta]=n;var I=g[C+cr];X+=g[C]*I,H+=g[C+1]*I,g[C+Zd]=L,u&&(F||(F=this._map(g,T,!0),W=this.clusterProps.length,this.clusterProps.push(F)),u(F,this._map(g,C)))}}g[T+Zd]=L,m.push(X/V,H/V,1/0,L,-1,V),u&&m.push(W)}else{for(var x=0;x<_;x++)m.push(g[T+x]);if(V>1)for(var U of M){var O=U*_;if(!(g[O+ta]<=n)){g[O+ta]=n;for(var me=0;me<_;me++)m.push(g[O+me])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+cr]>1){var o=this.clusterProps[e[n+w0]];return r?Object.assign({},o):o}var u=this.points[e[n+hr]].properties,h=this.options.map(u);return r&&h===u?Object.assign({},h):h}}function F_(i,e,n){return{type:"Feature",id:i[e+hr],properties:A0(i,e,n),geometry:{type:"Point",coordinates:[ZA(i[e]),XA(i[e+1])]}}}function A0(i,e,n){var r=i[e+cr],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,u=i[e+w0],h=u===-1?{}:Object.assign({},n[u]);return Object.assign(h,{cluster:!0,cluster_id:i[e+hr],point_count:r,point_count_abbreviated:o})}function kc(i){return i/360+.5}function Uc(i){var e=Math.sin(i*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function ZA(i){return(i-.5)*360}function XA(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function WA(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(n[r[o]]=i[r[o]]);return n}class Hn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class dp{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Hn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Hn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Hn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class JA{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return eL(n)}}var eL=i=>{var e=i.map(n=>new dp({position:Hn.getPosition(n),markers:[n]}));return e};class tL extends JA{constructor(e){var{maxZoom:n,radius:r=60}=e,o=WA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new $A(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!B_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(u=>{var h=Hn.getPosition(u),p=[h.lng(),h.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:u}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!B_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:o}=e;if(o.cluster)return new dp({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(h=>h.properties.marker),position:{lat:r,lng:n}});var u=o.marker;return new dp({markers:[u],position:Hn.getPosition(u)})}}class nL{constructor(e,n){this.markers={sum:e.length};var r=n.map(u=>u.count),o=r.reduce((u,h)=>u+h,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class iL{render(e,n,r){var{count:o,position:u}=e,h=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(h,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),g="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Hn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,T=_.parseFromString(p,"image/svg+xml").documentElement;T.setAttribute("transform","translate(0 25)");var S={map:r,position:u,zIndex:m,title:g,content:T};return new google.maps.marker.AdvancedMarkerElement(S)}var D={position:u,zIndex:m,title:g,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(D)}}function sL(i,e){for(var n in e.prototype)i.prototype[n]=e.prototype[n]}class Kp{constructor(){sL(Kp,google.maps.OverlayView)}}var kl;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(kl||(kl={}));var rL=(i,e,n)=>{n.fitBounds(e.bounds)};class aL extends Kp{constructor(e){var{map:n,markers:r=[],algorithmOptions:o={},algorithm:u=new tL(o),renderer:h=new iL,onClusterClick:p=rL}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=u,this.renderer=h,this.onClusterClick=p,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Hn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,kl.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var u of n)u.markers.length==1&&o.add(u.markers[0]);var h=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?o.has(p.marker)||Hn.setMap(p.marker,null):h.push(p.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>h.forEach(g=>Hn.setMap(g,null)))}google.maps.event.trigger(this,kl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Hn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new nL(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>Hn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,kl.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),Hn.setMap(r.marker,n)})}}function G_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function Q_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function oL(i){var e=oA(),[n,r]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var o=new aL(Q_(Q_({},i),{},{map:e}));r(o)}},[e]),n}function lL(i){var{children:e,options:n}=i,r=oL(n);return r!==null?e(r):null}y.memo(lL);var K_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Y_={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function uL(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,D=y.useContext(Ue),[M,k]=y.useState(null),[V,j]=y.useState(null),[B,X]=y.useState(null),[H,F]=y.useState(null),[W,L]=y.useState(null),[A,C]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{M!==null&&(M.close(),n?M.open(D,n):M.getPosition()&&M.open(D))},[D,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{o&&M!==null&&M.setPosition(o)},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),j(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(W!==null&&google.maps.event.removeListener(W),L(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&_&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(M,"zindex_changed",_)))},[_]),y.useEffect(()=>{var x=new google.maps.InfoWindow(r);return k(x),I.current=document.createElement("div"),h&&j(google.maps.event.addListener(x,"closeclick",h)),p&&X(google.maps.event.addListener(x,"domready",p)),g&&F(google.maps.event.addListener(x,"content_changed",g)),m&&L(google.maps.event.addListener(x,"position_changed",m)),_&&C(google.maps.event.addListener(x,"zindex_changed",_)),x.setContent(I.current),o&&x.setPosition(o),u&&x.setZIndex(u),n?x.open(D,n):x.getPosition()?x.open(D):Qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),T&&T(x),()=>{V&&google.maps.event.removeListener(V),H&&google.maps.event.removeListener(H),B&&google.maps.event.removeListener(B),W&&google.maps.event.removeListener(W),A&&google.maps.event.removeListener(A),S&&S(x),x.close()}},[]),I.current?bo.createPortal(y.Children.only(e),I.current):null}y.memo(uL);class L0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:Y_,eventMap:K_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:Y_,eventMap:K_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(He(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?bo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(L0,"contextType",Ue);function $_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function lh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Z_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},X_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},cL={};function hL(i){var{options:e,draggable:n,editable:r,visible:o,path:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:D,onRightClick:M,onClick:k,onDrag:V,onLoad:j,onUnmount:B}=i,X=y.useContext(Ue),[H,F]=y.useState(null),[W,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[U,O]=y.useState(null),[me,be]=y.useState(null),[Q,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[ve,Se]=y.useState(null);return y.useEffect(()=>{H!==null&&H.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),y.useEffect(()=>{typeof n<"u"&&H!==null&&H.setDraggable(n)},[H,n]),y.useEffect(()=>{typeof r<"u"&&H!==null&&H.setEditable(r)},[H,r]),y.useEffect(()=>{typeof o<"u"&&H!==null&&H.setVisible(o)},[H,o]),y.useEffect(()=>{typeof u<"u"&&H!==null&&H.setPath(u)},[H,u]),y.useEffect(()=>{H&&h&&(W!==null&&google.maps.event.removeListener(W),L(google.maps.event.addListener(H,"dblclick",h)))},[h]),y.useEffect(()=>{H&&p&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(H,"dragend",p)))},[p]),y.useEffect(()=>{H&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(H,"dragstart",g)))},[g]),y.useEffect(()=>{H&&m&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(H,"mousedown",m)))},[m]),y.useEffect(()=>{H&&_&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(H,"mousemove",_)))},[_]),y.useEffect(()=>{H&&T&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(H,"mouseout",T)))},[T]),y.useEffect(()=>{H&&S&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(H,"mouseover",S)))},[S]),y.useEffect(()=>{H&&D&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(H,"mouseup",D)))},[D]),y.useEffect(()=>{H&&M&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(H,"rightclick",M)))},[M]),y.useEffect(()=>{H&&k&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(H,"click",k)))},[k]),y.useEffect(()=>{H&&V&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(H,"drag",V)))},[V]),y.useEffect(()=>{var Ce=new google.maps.Polyline(lh(lh({},e||cL),{},{map:X}));return u&&Ce.setPath(u),typeof o<"u"&&Ce.setVisible(o),typeof r<"u"&&Ce.setEditable(r),typeof n<"u"&&Ce.setDraggable(n),h&&L(google.maps.event.addListener(Ce,"dblclick",h)),p&&C(google.maps.event.addListener(Ce,"dragend",p)),g&&x(google.maps.event.addListener(Ce,"dragstart",g)),m&&O(google.maps.event.addListener(Ce,"mousedown",m)),_&&be(google.maps.event.addListener(Ce,"mousemove",_)),T&&ue(google.maps.event.addListener(Ce,"mouseout",T)),S&&Ee(google.maps.event.addListener(Ce,"mouseover",S)),D&&N(google.maps.event.addListener(Ce,"mouseup",D)),M&&se(google.maps.event.addListener(Ce,"rightclick",M)),k&&$(google.maps.event.addListener(Ce,"click",k)),V&&Se(google.maps.event.addListener(Ce,"drag",V)),F(Ce),j&&j(Ce),()=>{W!==null&&google.maps.event.removeListener(W),A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),me!==null&&google.maps.event.removeListener(me),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),B&&B(Ce),Ce.setMap(null)}},[]),null}y.memo(hL);class fL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(lh(lh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:X_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:X_,eventMap:Z_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),He(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(fL,"contextType",Ue);function W_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function J_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var eE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tE={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function dL(i){var{options:e,draggable:n,editable:r,visible:o,path:u,paths:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:D,onMouseUp:M,onRightClick:k,onClick:V,onDrag:j,onLoad:B,onUnmount:X,onEdit:H}=i,F=y.useContext(Ue),[W,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[U,O]=y.useState(null),[me,be]=y.useState(null),[Q,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null);return y.useEffect(()=>{W!==null&&W.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&W!==null&&W.setOptions(e)},[W,e]),y.useEffect(()=>{typeof n<"u"&&W!==null&&W.setDraggable(n)},[W,n]),y.useEffect(()=>{typeof r<"u"&&W!==null&&W.setEditable(r)},[W,r]),y.useEffect(()=>{typeof o<"u"&&W!==null&&W.setVisible(o)},[W,o]),y.useEffect(()=>{typeof u<"u"&&W!==null&&W.setPath(u)},[W,u]),y.useEffect(()=>{typeof h<"u"&&W!==null&&W.setPaths(h)},[W,h]),y.useEffect(()=>{W&&typeof p=="function"&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(W,"dblclick",p)))},[p]),y.useEffect(()=>{W&&(google.maps.event.addListener(W.getPath(),"insert_at",()=>{H?.(W)}),google.maps.event.addListener(W.getPath(),"set_at",()=>{H?.(W)}),google.maps.event.addListener(W.getPath(),"remove_at",()=>{H?.(W)}))},[W,H]),y.useEffect(()=>{W&&typeof g=="function"&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(W,"dragend",g)))},[g]),y.useEffect(()=>{W&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(W,"dragstart",m)))},[m]),y.useEffect(()=>{W&&typeof _=="function"&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(W,"mousedown",_)))},[_]),y.useEffect(()=>{W&&typeof T=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(W,"mousemove",T)))},[T]),y.useEffect(()=>{W&&typeof S=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(W,"mouseout",S)))},[S]),y.useEffect(()=>{W&&typeof D=="function"&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(W,"mouseover",D)))},[D]),y.useEffect(()=>{W&&typeof M=="function"&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(W,"mouseup",M)))},[M]),y.useEffect(()=>{W&&typeof k=="function"&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(W,"rightclick",k)))},[k]),y.useEffect(()=>{W&&typeof V=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(W,"click",V)))},[V]),y.useEffect(()=>{W&&typeof j=="function"&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(W,"drag",j)))},[j]),y.useEffect(()=>{var we=new google.maps.Polygon(J_(J_({},e),{},{map:F}));return u&&we.setPath(u),h&&we.setPaths(h),typeof o<"u"&&we.setVisible(o),typeof r<"u"&&we.setEditable(r),typeof n<"u"&&we.setDraggable(n),p&&C(google.maps.event.addListener(we,"dblclick",p)),g&&x(google.maps.event.addListener(we,"dragend",g)),m&&O(google.maps.event.addListener(we,"dragstart",m)),_&&be(google.maps.event.addListener(we,"mousedown",_)),T&&ue(google.maps.event.addListener(we,"mousemove",T)),S&&Ee(google.maps.event.addListener(we,"mouseout",S)),D&&N(google.maps.event.addListener(we,"mouseover",D)),M&&se(google.maps.event.addListener(we,"mouseup",M)),k&&$(google.maps.event.addListener(we,"rightclick",k)),V&&Se(google.maps.event.addListener(we,"click",V)),j&&Oe(google.maps.event.addListener(we,"drag",j)),L(we),B&&B(we),()=>{A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),me!==null&&google.maps.event.removeListener(me),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),ve!==null&&google.maps.event.removeListener(ve),X&&X(we),we.setMap(null)}},[]),null}y.memo(dL);class pL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:tE,eventMap:eE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:tE,eventMap:eE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),He(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(pL,"contextType",Ue);function nE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function uh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var iE={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sE={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function gL(i){var{options:e,bounds:n,draggable:r,editable:o,visible:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:D,onRightClick:M,onClick:k,onDrag:V,onBoundsChanged:j,onLoad:B,onUnmount:X}=i,H=y.useContext(Ue),[F,W]=y.useState(null),[L,A]=y.useState(null),[C,I]=y.useState(null),[x,U]=y.useState(null),[O,me]=y.useState(null),[be,Q]=y.useState(null),[ue,fe]=y.useState(null),[Ee,_e]=y.useState(null),[N,J]=y.useState(null),[se,ce]=y.useState(null),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof r<"u"&&F!==null&&F.setDraggable(r)},[F,r]),y.useEffect(()=>{typeof o<"u"&&F!==null&&F.setEditable(o)},[F,o]),y.useEffect(()=>{typeof u<"u"&&F!==null&&F.setVisible(u)},[F,u]),y.useEffect(()=>{typeof n<"u"&&F!==null&&F.setBounds(n)},[F,n]),y.useEffect(()=>{F&&h&&(L!==null&&google.maps.event.removeListener(L),A(google.maps.event.addListener(F,"dblclick",h)))},[h]),y.useEffect(()=>{F&&p&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(F,"dragend",p)))},[p]),y.useEffect(()=>{F&&g&&(x!==null&&google.maps.event.removeListener(x),U(google.maps.event.addListener(F,"dragstart",g)))},[g]),y.useEffect(()=>{F&&m&&(O!==null&&google.maps.event.removeListener(O),me(google.maps.event.addListener(F,"mousedown",m)))},[m]),y.useEffect(()=>{F&&_&&(be!==null&&google.maps.event.removeListener(be),Q(google.maps.event.addListener(F,"mousemove",_)))},[_]),y.useEffect(()=>{F&&T&&(ue!==null&&google.maps.event.removeListener(ue),fe(google.maps.event.addListener(F,"mouseout",T)))},[T]),y.useEffect(()=>{F&&S&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(F,"mouseover",S)))},[S]),y.useEffect(()=>{F&&D&&(N!==null&&google.maps.event.removeListener(N),J(google.maps.event.addListener(F,"mouseup",D)))},[D]),y.useEffect(()=>{F&&M&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(F,"rightclick",M)))},[M]),y.useEffect(()=>{F&&k&&($!==null&&google.maps.event.removeListener($),ve(google.maps.event.addListener(F,"click",k)))},[k]),y.useEffect(()=>{F&&V&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(F,"drag",V)))},[V]),y.useEffect(()=>{F&&j&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener(F,"bounds_changed",j)))},[j]),y.useEffect(()=>{var ze=new google.maps.Rectangle(uh(uh({},e),{},{map:H}));return typeof u<"u"&&ze.setVisible(u),typeof o<"u"&&ze.setEditable(o),typeof r<"u"&&ze.setDraggable(r),typeof n<"u"&&ze.setBounds(n),h&&A(google.maps.event.addListener(ze,"dblclick",h)),p&&I(google.maps.event.addListener(ze,"dragend",p)),g&&U(google.maps.event.addListener(ze,"dragstart",g)),m&&me(google.maps.event.addListener(ze,"mousedown",m)),_&&Q(google.maps.event.addListener(ze,"mousemove",_)),T&&fe(google.maps.event.addListener(ze,"mouseout",T)),S&&_e(google.maps.event.addListener(ze,"mouseover",S)),D&&J(google.maps.event.addListener(ze,"mouseup",D)),M&&ce(google.maps.event.addListener(ze,"rightclick",M)),k&&ve(google.maps.event.addListener(ze,"click",k)),V&&Ce(google.maps.event.addListener(ze,"drag",V)),j&&we(google.maps.event.addListener(ze,"bounds_changed",j)),W(ze),B&&B(ze),()=>{L!==null&&google.maps.event.removeListener(L),C!==null&&google.maps.event.removeListener(C),x!==null&&google.maps.event.removeListener(x),O!==null&&google.maps.event.removeListener(O),be!==null&&google.maps.event.removeListener(be),ue!==null&&google.maps.event.removeListener(ue),Ee!==null&&google.maps.event.removeListener(Ee),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),X&&X(ze),ze.setMap(null)}},[]),null}y.memo(gL);class mL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(uh(uh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:sE,eventMap:iE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:sE,eventMap:iE,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),He(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(mL,"contextType",Ue);function rE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ch(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var aE={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oE={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},vL={};function yL(i){var{options:e,center:n,radius:r,draggable:o,editable:u,visible:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:D,onMouseUp:M,onRightClick:k,onClick:V,onDrag:j,onCenterChanged:B,onRadiusChanged:X,onLoad:H,onUnmount:F}=i,W=y.useContext(Ue),[L,A]=y.useState(null),[C,I]=y.useState(null),[x,U]=y.useState(null),[O,me]=y.useState(null),[be,Q]=y.useState(null),[ue,fe]=y.useState(null),[Ee,_e]=y.useState(null),[N,J]=y.useState(null),[se,ce]=y.useState(null),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null),[ze,Kt]=y.useState(null),[un,cn]=y.useState(null);return y.useEffect(()=>{L!==null&&L.setMap(W)},[W]),y.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),y.useEffect(()=>{typeof o<"u"&&L!==null&&L.setDraggable(o)},[L,o]),y.useEffect(()=>{typeof u<"u"&&L!==null&&L.setEditable(u)},[L,u]),y.useEffect(()=>{typeof h<"u"&&L!==null&&L.setVisible(h)},[L,h]),y.useEffect(()=>{typeof r=="number"&&L!==null&&L.setRadius(r)},[L,r]),y.useEffect(()=>{typeof n<"u"&&L!==null&&L.setCenter(n)},[L,n]),y.useEffect(()=>{L&&p&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(L,"dblclick",p)))},[p]),y.useEffect(()=>{L&&g&&(x!==null&&google.maps.event.removeListener(x),U(google.maps.event.addListener(L,"dragend",g)))},[g]),y.useEffect(()=>{L&&m&&(O!==null&&google.maps.event.removeListener(O),me(google.maps.event.addListener(L,"dragstart",m)))},[m]),y.useEffect(()=>{L&&_&&(be!==null&&google.maps.event.removeListener(be),Q(google.maps.event.addListener(L,"mousedown",_)))},[_]),y.useEffect(()=>{L&&T&&(ue!==null&&google.maps.event.removeListener(ue),fe(google.maps.event.addListener(L,"mousemove",T)))},[T]),y.useEffect(()=>{L&&S&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(L,"mouseout",S)))},[S]),y.useEffect(()=>{L&&D&&(N!==null&&google.maps.event.removeListener(N),J(google.maps.event.addListener(L,"mouseover",D)))},[D]),y.useEffect(()=>{L&&M&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(L,"mouseup",M)))},[M]),y.useEffect(()=>{L&&k&&($!==null&&google.maps.event.removeListener($),ve(google.maps.event.addListener(L,"rightclick",k)))},[k]),y.useEffect(()=>{L&&V&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(L,"click",V)))},[V]),y.useEffect(()=>{L&&j&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener(L,"drag",j)))},[j]),y.useEffect(()=>{L&&B&&(ze!==null&&google.maps.event.removeListener(ze),Kt(google.maps.event.addListener(L,"center_changed",B)))},[V]),y.useEffect(()=>{L&&X&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener(L,"radius_changed",X)))},[X]),y.useEffect(()=>{var $e=new google.maps.Circle(ch(ch({},e||vL),{},{map:W}));return typeof r=="number"&&$e.setRadius(r),typeof n<"u"&&$e.setCenter(n),typeof r=="number"&&$e.setRadius(r),typeof h<"u"&&$e.setVisible(h),typeof u<"u"&&$e.setEditable(u),typeof o<"u"&&$e.setDraggable(o),p&&I(google.maps.event.addListener($e,"dblclick",p)),g&&U(google.maps.event.addListener($e,"dragend",g)),m&&me(google.maps.event.addListener($e,"dragstart",m)),_&&Q(google.maps.event.addListener($e,"mousedown",_)),T&&fe(google.maps.event.addListener($e,"mousemove",T)),S&&_e(google.maps.event.addListener($e,"mouseout",S)),D&&J(google.maps.event.addListener($e,"mouseover",D)),M&&ce(google.maps.event.addListener($e,"mouseup",M)),k&&ve(google.maps.event.addListener($e,"rightclick",k)),V&&Ce(google.maps.event.addListener($e,"click",V)),j&&we(google.maps.event.addListener($e,"drag",j)),B&&Kt(google.maps.event.addListener($e,"center_changed",B)),X&&cn(google.maps.event.addListener($e,"radius_changed",X)),A($e),H&&H($e),()=>{C!==null&&google.maps.event.removeListener(C),x!==null&&google.maps.event.removeListener(x),O!==null&&google.maps.event.removeListener(O),be!==null&&google.maps.event.removeListener(be),ue!==null&&google.maps.event.removeListener(ue),Ee!==null&&google.maps.event.removeListener(Ee),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Se!==null&&google.maps.event.removeListener(Se),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),F&&F($e),$e.setMap(null)}},[]),null}y.memo(yL);class R0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(ch(ch({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:oE,eventMap:aE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:oE,eventMap:aE,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),He(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(R0,"contextType",Ue);function lE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function hh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var uE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},cE={add(i,e){i.add(e)},addgeojson(i,e,n){i.addGeoJson(e,n)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,n,r){i.loadGeoJson(e,n,r)},overridestyle(i,e,n){i.overrideStyle(e,n)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function _L(i){var{options:e,onClick:n,onDblClick:r,onMouseDown:o,onMouseMove:u,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:m,onAddFeature:_,onRemoveFeature:T,onRemoveProperty:S,onSetGeometry:D,onSetProperty:M,onLoad:k,onUnmount:V}=i,j=y.useContext(Ue),[B,X]=y.useState(null),[H,F]=y.useState(null),[W,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[U,O]=y.useState(null),[me,be]=y.useState(null),[Q,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[J,se]=y.useState(null),[ce,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null);return y.useEffect(()=>{B!==null&&B.setMap(j)},[j]),y.useEffect(()=>{B&&r&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(B,"dblclick",r)))},[r]),y.useEffect(()=>{B&&o&&(W!==null&&google.maps.event.removeListener(W),L(google.maps.event.addListener(B,"mousedown",o)))},[o]),y.useEffect(()=>{B&&u&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(B,"mousemove",u)))},[u]),y.useEffect(()=>{B&&h&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(B,"mouseout",h)))},[h]),y.useEffect(()=>{B&&p&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(B,"mouseover",p)))},[p]),y.useEffect(()=>{B&&g&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(B,"mouseup",g)))},[g]),y.useEffect(()=>{B&&m&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(B,"rightclick",m)))},[m]),y.useEffect(()=>{B&&n&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(B,"click",n)))},[n]),y.useEffect(()=>{B&&_&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(B,"addfeature",_)))},[_]),y.useEffect(()=>{B&&T&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(B,"removefeature",T)))},[T]),y.useEffect(()=>{B&&S&&(ce!==null&&google.maps.event.removeListener(ce),$(google.maps.event.addListener(B,"removeproperty",S)))},[S]),y.useEffect(()=>{B&&D&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(B,"setgeometry",D)))},[D]),y.useEffect(()=>{B&&M&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(B,"setproperty",M)))},[M]),y.useEffect(()=>{if(j!==null){var we=new google.maps.Data(hh(hh({},e),{},{map:j}));r&&F(google.maps.event.addListener(we,"dblclick",r)),o&&L(google.maps.event.addListener(we,"mousedown",o)),u&&C(google.maps.event.addListener(we,"mousemove",u)),h&&x(google.maps.event.addListener(we,"mouseout",h)),p&&O(google.maps.event.addListener(we,"mouseover",p)),g&&be(google.maps.event.addListener(we,"mouseup",g)),m&&ue(google.maps.event.addListener(we,"rightclick",m)),n&&Ee(google.maps.event.addListener(we,"click",n)),_&&N(google.maps.event.addListener(we,"addfeature",_)),T&&se(google.maps.event.addListener(we,"removefeature",T)),S&&$(google.maps.event.addListener(we,"removeproperty",S)),D&&Se(google.maps.event.addListener(we,"setgeometry",D)),M&&Oe(google.maps.event.addListener(we,"setproperty",M)),X(we),k&&k(we)}return()=>{B&&(H!==null&&google.maps.event.removeListener(H),W!==null&&google.maps.event.removeListener(W),A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),me!==null&&google.maps.event.removeListener(me),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),J!==null&&google.maps.event.removeListener(J),ce!==null&&google.maps.event.removeListener(ce),ve!==null&&google.maps.event.removeListener(ve),Ce!==null&&google.maps.event.removeListener(Ce),V&&V(B),B.setMap(null))}},[]),null}y.memo(_L);class EL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(hh(hh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),He(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(EL,"contextType",Ue);function hE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function fE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var dE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},pE={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class bL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(fE(fE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:pE,eventMap:dE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:pE,eventMap:dE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),He(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(bL,"contextType",Ue);function M0(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function TL(i,e){return new e(i.lat,i.lng)}function SL(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function CL(i,e,n){return i instanceof e?i:n(i,e)}function wL(i,e,n){return i instanceof e?i:n(i,e)}function AL(i,e,n){var r=i&&i.fromLatLngToDivPixel(n.getNorthEast()),o=i&&i.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function LL(i,e,n){var r=i&&i.fromLatLngToDivPixel(n);if(r){var{x:o,y:u}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function D0(i,e,n,r){return n!==void 0?AL(i,e,wL(n,google.maps.LatLngBounds,SL)):LL(i,e,CL(r,google.maps.LatLng,TL))}function RL(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function gE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ML(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function DL(i,e,n,r,o){class u extends google.maps.OverlayView{constructor(p,g,m,_){super(),this.container=p,this.pane=g,this.position=m,this.bounds=_}onAdd(){var p,g=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];g?.appendChild(this.container)}draw(){var p=this.getProjection(),g=ML({},this.container?M0(this.container,o):{x:0,y:0}),m=D0(p,g,this.bounds,this.position);for(var[_,T]of Object.entries(m))this.container.style[_]=T}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(i,e,n,r)}function mE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function OL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function vE(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function yE(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function xL(i){var{position:e,bounds:n,mapPaneName:r,zIndex:o,onLoad:u,onUnmount:h,getPixelPositionOffset:p,children:g}=i,m=y.useContext(Ue),_=y.useMemo(()=>{var S=document.createElement("div");return S.style.position="absolute",S},[]),T=y.useMemo(()=>DL(_,r,e,n,p),[_,r,e,n]);return y.useEffect(()=>(u?.(T),T?.setMap(m),()=>{h?.(T),T?.setMap(null)}),[m,T]),y.useEffect(()=>{_.style.zIndex="".concat(o)},[o,_]),bo.createPortal(g,_)}y.memo(xL);class To extends y.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();Qt(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=OL({x:0,y:0},this.containerRef.current?M0(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=D0(r,o,this.props.bounds,this.props.position);if(!RL(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var h,p,g,m;this.setState({containerStyle:{top:(h=u.top)!==null&&h!==void 0?h:0,left:(p=u.left)!==null&&p!==void 0?p:0,width:(g=u.width)!==null&&g!==void 0?g:0,height:(m=u.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=vE(e.position),r=vE(this.props.position),o=yE(e.bounds),u=yE(this.props.bounds);(n!==r||o!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?bo.createPortal(he.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ne(To,"FLOAT_PANE","floatPane");ne(To,"MAP_PANE","mapPane");ne(To,"MARKER_LAYER","markerLayer");ne(To,"OVERLAY_LAYER","overlayLayer");ne(To,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(To,"contextType",Ue);function IL(){}function _E(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function EE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var bE={onDblClick:"dblclick",onClick:"click"},TE={opacity(i,e){i.setOpacity(e)}};function VL(i){var{url:e,bounds:n,options:r,visible:o}=i,u=y.useContext(Ue),h=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),p=y.useMemo(()=>new google.maps.GroundOverlay(e,h,r),[]);return y.useEffect(()=>{p!==null&&p.setMap(u)},[u]),y.useEffect(()=>{typeof e<"u"&&p!==null&&(p.set("url",e),p.setMap(u))},[p,e]),y.useEffect(()=>{typeof o<"u"&&p!==null&&p.setOpacity(o?1:0)},[p,o]),y.useEffect(()=>{var g=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&p!==null&&(p.set("bounds",g),p.setMap(u))},[p,n]),null}y.memo(VL);class O0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Qt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,EE(EE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:TE,eventMap:bE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:TE,eventMap:bE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(O0,"defaultProps",{onLoad:IL});ne(O0,"contextType",Ue);function SE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function fh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var CE={},wE={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function NL(i){var{data:e,onLoad:n,onUnmount:r,options:o}=i,u=y.useContext(Ue),[h,p]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Qt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{h!==null&&h.setMap(u)},[u]),y.useEffect(()=>{o&&h!==null&&h.setOptions(o)},[h,o]),y.useEffect(()=>{var g=new google.maps.visualization.HeatmapLayer(fh(fh({},o),{},{data:e,map:u}));return p(g),n&&n(g),()=>{h!==null&&(r&&r(h),h.setMap(null))}},[]),null}y.memo(NL);class PL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Qt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(fh(fh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:wE,eventMap:CE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=Be({updaterMap:wE,eventMap:CE,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),He(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(PL,"contextType",Ue);var AE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},LE={register(i,e,n){i.registerPanoProvider(e,n)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class kL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:LE,eventMap:AE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:LE,eventMap:AE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),He(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(kL,"contextType",Ue);class UL extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(UL,"contextType",Ue);var RE={onDirectionsChanged:"directions_changed"},ME={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class zL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:ME,eventMap:RE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:ME,eventMap:RE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),He(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(zL,"contextType",Ue);var DE={onPlacesChanged:"places_changed"},OE={bounds(i,e){i.setBounds(e)}};class BL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:OE,eventMap:DE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(He(this.registeredEvents),this.registeredEvents=Be({updaterMap:OE,eventMap:DE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),He(this.registeredEvents))}render(){return he.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ne(BL,"contextType",Ue);var xE={onPlaceChanged:"place_changed"},IE={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class Yp extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Be({updaterMap:IE,eventMap:xE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=Be({updaterMap:IE,eventMap:xE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&He(this.registeredEvents)}render(){return he.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ne(Yp,"defaultProps",{className:""});ne(Yp,"contextType",Ue);const jL=()=>{};var VE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qL=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,_=u>>2,T=(u&3)<<4|p>>4;let S=(p&15)<<2|m>>6,D=m&63;g||(D=64,h||(S=64)),r.push(n[_],n[T],n[S],n[D])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(x0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qL(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new HL;const S=u<<2|p>>4;if(r.push(S),m!==64){const D=p<<4&240|m>>2;if(r.push(D),T!==64){const M=m<<6&192|T;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class HL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FL=function(i){const e=x0(i);return I0.encodeByteArray(e,!0)},dh=function(i){return FL(i).replace(/\./g,"")},GL=function(i){try{return I0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=()=>QL().__FIREBASE_DEFAULTS__,YL=()=>{if(typeof process>"u"||typeof VE>"u")return;const i=VE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$L=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&GL(i[1]);return e&&JSON.parse(e)},$p=()=>{try{return jL()||KL()||YL()||$L()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ZL=i=>$p()?.emulatorHosts?.[i],V0=i=>{const e=ZL(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N0=()=>$p()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[dh(JSON.stringify(n)),dh(JSON.stringify(h)),""].join(".")}const Ul={};function WL(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?i.emulator.push(e):i.prod.push(e);return i}function JL(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let NE=!1;function U0(i,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||Ul[i]===e||Ul[i]||NE)return;Ul[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=WL().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{NE=!0,h()},S}function _(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=JL(r),D=n("text"),M=document.getElementById(D)||document.createElement("span"),k=n("learnmore"),V=document.getElementById(k)||document.createElement("a"),j=n("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;p(X),_(V,k);const H=m();g(B,j),X.append(B,M,V,H),document.body.appendChild(X)}u?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){const i=$p()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rR,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z0.prototype.create)}}class z0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?aR(u,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new ca(o,p,r)}}function aR(i,e){return i.replace(oR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const oR=/\{\$([^}]+)}/g;function ph(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(PE(u)&&PE(h)){if(!ph(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function PE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i){return i&&i._delegate?i._delegate:i}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(i){return i===na?void 0:i}function cR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const fR={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},dR=Xe.INFO,pR={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},gR=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=pR[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B0{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const mR=(i,e)=>e.some(n=>i instanceof n);let kE,UE;function vR(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,pp=new WeakMap,q0=new WeakMap,Xd=new WeakMap,Zp=new WeakMap;function _R(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(pr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&j0.set(n,i)}).catch(()=>{}),Zp.set(e,i),e}function ER(i){if(pp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});pp.set(i,e)}let gp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return pp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||q0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bR(i){gp=i(gp)}function TR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Wd(this),e,...n);return q0.set(r,e.sort?e.sort():[e]),pr(r)}:yR().includes(i)?function(...e){return i.apply(Wd(this),e),pr(j0.get(this))}:function(...e){return pr(i.apply(Wd(this),e))}}function SR(i){return typeof i=="function"?TR(i):(i instanceof IDBTransaction&&ER(i),mR(i,vR())?new Proxy(i,gp):i)}function pr(i){if(i instanceof IDBRequest)return _R(i);if(Xd.has(i))return Xd.get(i);const e=SR(i);return e!==i&&(Xd.set(i,e),Zp.set(e,i)),e}const Wd=i=>Zp.get(i);function CR(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=pr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(pr(h.result),g.oldVersion,g.newVersion,pr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const wR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],Jd=new Map;function zE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=AR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wR.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Jd.set(e,u),u}bR(i=>({...i,get:(e,n,r)=>zE(e,n)||i.get(e,n,r),has:(e,n)=>!!zE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RR(i){return i.getComponent()?.type==="VERSION"}const mp="@firebase/app",BE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new B0("@firebase/app"),MR="@firebase/app-compat",DR="@firebase/analytics-compat",OR="@firebase/analytics",xR="@firebase/app-check-compat",IR="@firebase/app-check",VR="@firebase/auth",NR="@firebase/auth-compat",PR="@firebase/database",kR="@firebase/data-connect",UR="@firebase/database-compat",zR="@firebase/functions",BR="@firebase/functions-compat",jR="@firebase/installations",qR="@firebase/installations-compat",HR="@firebase/messaging",FR="@firebase/messaging-compat",GR="@firebase/performance",QR="@firebase/performance-compat",KR="@firebase/remote-config",YR="@firebase/remote-config-compat",$R="@firebase/storage",ZR="@firebase/storage-compat",XR="@firebase/firestore",WR="@firebase/ai",JR="@firebase/firestore-compat",eM="firebase",tM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",nM={[mp]:"fire-core",[MR]:"fire-core-compat",[OR]:"fire-analytics",[DR]:"fire-analytics-compat",[IR]:"fire-app-check",[xR]:"fire-app-check-compat",[VR]:"fire-auth",[NR]:"fire-auth-compat",[PR]:"fire-rtdb",[kR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[zR]:"fire-fn",[BR]:"fire-fn-compat",[jR]:"fire-iid",[qR]:"fire-iid-compat",[HR]:"fire-fcm",[FR]:"fire-fcm-compat",[GR]:"fire-perf",[QR]:"fire-perf-compat",[KR]:"fire-rc",[YR]:"fire-rc-compat",[$R]:"fire-gcs",[ZR]:"fire-gcs-compat",[XR]:"fire-fst",[JR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[eM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,iM=new Map,yp=new Map;function jE(i,e){try{i.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ql(i){const e=i.name;if(yp.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,i);for(const n of gh.values())jE(n,i);for(const n of iM.values())jE(n,i);return!0}function H0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function F0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new z0("app","Firebase",sM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=tM;function Q0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:vp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=N0()),!n)throw gr.create("no-options");const u=gh.get(o);if(u){if(ph(n,u.options)&&ph(r,u.config))return u;throw gr.create("duplicate-app",{appName:o})}const h=new hR(o);for(const g of yp.values())h.addComponent(g);const p=new rM(n,r,h);return gh.set(o,p),p}function K0(i=vp){const e=gh.get(i);if(!e&&i===vp&&N0())return Q0();if(!e)throw gr.create("no-app",{appName:i});return e}function mr(i,e,n){let r=nM[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(h.join(" "));return}Ql(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="firebase-heartbeat-database",oM=1,Kl="firebase-heartbeat-store";let ep=null;function Y0(){return ep||(ep=CR(aM,oM,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw gr.create("idb-open",{originalErrorMessage:i.message})})),ep}async function lM(i){try{const n=(await Y0()).transaction(Kl),r=await n.objectStore(Kl).get($0(i));return await n.done,r}catch(e){if(e instanceof ca)As.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function qE(i,e){try{const r=(await Y0()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,$0(i)),await r.done}catch(n){if(n instanceof ca)As.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function $0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1024,cM=30;class hM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cM){const o=pM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HE(),{heartbeatsToSend:n,unsentEntries:r}=fM(this._heartbeatsCache.heartbeats),o=dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function HE(){return new Date().toISOString().substring(0,10)}function fM(i,e=uM){const n=[];let r=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),FE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),FE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function FE(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function pM(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i){Ql(new co("platform-logger",e=>new LR(e),"PRIVATE")),Ql(new co("heartbeat",e=>new hM(e),"PRIVATE")),mr(mp,BE,i),mr(mp,BE,"esm2020"),mr("fire-js","")}gM("");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,Z0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,A){function C(){}C.prototype=A.prototype,L.F=A.prototype,L.prototype=new C,L.prototype.constructor=L,L.D=function(I,x,U){for(var O=Array(arguments.length-2),me=2;me<arguments.length;me++)O[me-2]=arguments[me];return A.prototype[x].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,A,C){C||(C=0);const I=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)I[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;x<16;++x)I[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=L.g[0],C=L.g[1],x=L.g[2];let U=L.g[3],O;O=A+(U^C&(x^U))+I[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(x^A&(C^x))+I[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=x+(C^U&(A^C))+I[2]+606105819&4294967295,x=U+(O<<17&4294967295|O>>>15),O=C+(A^x&(U^A))+I[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(U^C&(x^U))+I[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(x^A&(C^x))+I[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=x+(C^U&(A^C))+I[6]+2821735955&4294967295,x=U+(O<<17&4294967295|O>>>15),O=C+(A^x&(U^A))+I[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(U^C&(x^U))+I[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(x^A&(C^x))+I[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=x+(C^U&(A^C))+I[10]+4294925233&4294967295,x=U+(O<<17&4294967295|O>>>15),O=C+(A^x&(U^A))+I[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(U^C&(x^U))+I[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(x^A&(C^x))+I[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=x+(C^U&(A^C))+I[14]+2792965006&4294967295,x=U+(O<<17&4294967295|O>>>15),O=C+(A^x&(U^A))+I[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^U&(C^x))+I[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^x&(A^C))+I[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(U^A))+I[11]+643717713&4294967295,x=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(x^U))+I[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^U&(C^x))+I[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^x&(A^C))+I[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(U^A))+I[15]+3634488961&4294967295,x=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(x^U))+I[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^U&(C^x))+I[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^x&(A^C))+I[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(U^A))+I[3]+4107603335&4294967295,x=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(x^U))+I[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^U&(C^x))+I[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^x&(A^C))+I[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(U^A))+I[7]+1735328473&4294967295,x=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(x^U))+I[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^U)+I[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^x)+I[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=x+(U^A^C)+I[11]+1839030562&4294967295,x=U+(O<<16&4294967295|O>>>16),O=C+(x^U^A)+I[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^U)+I[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^x)+I[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=x+(U^A^C)+I[7]+4139469664&4294967295,x=U+(O<<16&4294967295|O>>>16),O=C+(x^U^A)+I[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^U)+I[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^x)+I[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=x+(U^A^C)+I[3]+3572445317&4294967295,x=U+(O<<16&4294967295|O>>>16),O=C+(x^U^A)+I[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^U)+I[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^x)+I[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=x+(U^A^C)+I[15]+530742520&4294967295,x=U+(O<<16&4294967295|O>>>16),O=C+(x^U^A)+I[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~U))+I[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~x))+I[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=x+(A^(U|~C))+I[14]+2878612391&4294967295,x=U+(O<<15&4294967295|O>>>17),O=C+(U^(x|~A))+I[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~U))+I[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~x))+I[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=x+(A^(U|~C))+I[10]+4293915773&4294967295,x=U+(O<<15&4294967295|O>>>17),O=C+(U^(x|~A))+I[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~U))+I[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~x))+I[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=x+(A^(U|~C))+I[6]+2734768916&4294967295,x=U+(O<<15&4294967295|O>>>17),O=C+(U^(x|~A))+I[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~U))+I[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~x))+I[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=x+(A^(U|~C))+I[2]+718787259&4294967295,x=U+(O<<15&4294967295|O>>>17),O=C+(U^(x|~A))+I[9]+3951481745&4294967295,L.g[0]=L.g[0]+A&4294967295,L.g[1]=L.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+x&4294967295,L.g[3]=L.g[3]+U&4294967295}r.prototype.v=function(L,A){A===void 0&&(A=L.length);const C=A-this.blockSize,I=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=C;)o(this,L,U),U+=this.blockSize;if(typeof L=="string"){for(;U<A;)if(I[x++]=L.charCodeAt(U++),x==this.blockSize){o(this,I),x=0;break}}else for(;U<A;)if(I[x++]=L[U++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=A},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var A=1;A<L.length-8;++A)L[A]=0;A=this.o*8;for(var C=L.length-8;C<L.length;++C)L[C]=A&255,A/=256;for(this.v(L),L=Array(16),A=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)L[A++]=this.g[C]>>>I&255;return L};function u(L,A){var C=p;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=A(L)}function h(L,A){this.h=A;const C=[];let I=!0;for(let x=L.length-1;x>=0;x--){const U=L[x]|0;I&&U==A||(C[x]=U,I=!1)}this.g=C}var p={};function g(L){return-128<=L&&L<128?u(L,function(A){return new h([A|0],A<0?-1:0)}):new h([L|0],L<0?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return T;if(L<0)return V(m(-L));const A=[];let C=1;for(let I=0;L>=C;I++)A[I]=L/C|0,C*=4294967296;return new h(A,0)}function _(L,A){if(L.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(L.charAt(0)=="-")return V(_(L.substring(1),A));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(A,8));let I=T;for(let U=0;U<L.length;U+=8){var x=Math.min(8,L.length-U);const O=parseInt(L.substring(U,U+x),A);x<8?(x=m(Math.pow(A,x)),I=I.j(x).add(m(O))):(I=I.j(C),I=I.add(m(O)))}return I}var T=g(0),S=g(1),D=g(16777216);i=h.prototype,i.m=function(){if(k(this))return-V(this).m();let L=0,A=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);L+=(I>=0?I:4294967296+I)*A,A*=4294967296}return L},i.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(M(this))return"0";if(k(this))return"-"+V(this).toString(L);const A=m(Math.pow(L,6));var C=this;let I="";for(;;){const x=H(C,A).g;C=j(C,x.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(L);if(C=x,M(C))return U+I;for(;U.length<6;)U="0"+U;I=U+I}},i.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function M(L){if(L.h!=0)return!1;for(let A=0;A<L.g.length;A++)if(L.g[A]!=0)return!1;return!0}function k(L){return L.h==-1}i.l=function(L){return L=j(this,L),k(L)?-1:M(L)?0:1};function V(L){const A=L.g.length,C=[];for(let I=0;I<A;I++)C[I]=~L.g[I];return new h(C,~L.h).add(S)}i.abs=function(){return k(this)?V(this):this},i.add=function(L){const A=Math.max(this.g.length,L.g.length),C=[];let I=0;for(let x=0;x<=A;x++){let U=I+(this.i(x)&65535)+(L.i(x)&65535),O=(U>>>16)+(this.i(x)>>>16)+(L.i(x)>>>16);I=O>>>16,U&=65535,O&=65535,C[x]=O<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function j(L,A){return L.add(V(A))}i.j=function(L){if(M(this)||M(L))return T;if(k(this))return k(L)?V(this).j(V(L)):V(V(this).j(L));if(k(L))return V(this.j(V(L)));if(this.l(D)<0&&L.l(D)<0)return m(this.m()*L.m());const A=this.g.length+L.g.length,C=[];for(var I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let x=0;x<L.g.length;x++){const U=this.i(I)>>>16,O=this.i(I)&65535,me=L.i(x)>>>16,be=L.i(x)&65535;C[2*I+2*x]+=O*be,B(C,2*I+2*x),C[2*I+2*x+1]+=U*be,B(C,2*I+2*x+1),C[2*I+2*x+1]+=O*me,B(C,2*I+2*x+1),C[2*I+2*x+2]+=U*me,B(C,2*I+2*x+2)}for(L=0;L<A;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=A;L<2*A;L++)C[L]=0;return new h(C,0)};function B(L,A){for(;(L[A]&65535)!=L[A];)L[A+1]+=L[A]>>>16,L[A]&=65535,A++}function X(L,A){this.g=L,this.h=A}function H(L,A){if(M(A))throw Error("division by zero");if(M(L))return new X(T,T);if(k(L))return A=H(V(L),A),new X(V(A.g),V(A.h));if(k(A))return A=H(L,V(A)),new X(V(A.g),A.h);if(L.g.length>30){if(k(L)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,I=A;I.l(L)<=0;)C=F(C),I=F(I);var x=W(C,1),U=W(I,1);for(I=W(I,2),C=W(C,2);!M(I);){var O=U.add(I);O.l(L)<=0&&(x=x.add(C),U=O),I=W(I,1),C=W(C,1)}return A=j(L,x.j(A)),new X(x,A)}for(x=T;L.l(A)>=0;){for(C=Math.max(1,Math.floor(L.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),U=m(C),O=U.j(A);k(O)||O.l(L)>0;)C-=I,U=m(C),O=U.j(A);M(U)&&(U=S),x=x.add(U),L=j(L,O)}return new X(x,L)}i.B=function(L){return H(this,L).h},i.and=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)&L.i(I);return new h(C,this.h&L.h)},i.or=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)|L.i(I);return new h(C,this.h|L.h)},i.xor=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)^L.i(I);return new h(C,this.h^L.h)};function F(L){const A=L.g.length+1,C=[];for(let I=0;I<A;I++)C[I]=L.i(I)<<1|L.i(I-1)>>>31;return new h(C,L.h)}function W(L,A){const C=A>>5;A%=32;const I=L.g.length-C,x=[];for(let U=0;U<I;U++)x[U]=A>0?L.i(U+C)>>>A|L.i(U+C+1)<<32-A:L.i(U+C);return new h(x,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=m,h.fromString=_,vr=h}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,Vl,W0,$c,_p,J0,eT,tT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var b=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var G=c[R];if(!(G in b))break e;b=b[G]}c=c[c.length-1],R=b[c],v=v(R),v!=R&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var b=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&b.push([R,v[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function m(c,v,b){return m=g,m.apply(null,arguments)}function _(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function T(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(R,G,ee){for(var de=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)de[Ne-2]=arguments[Ne];return v.prototype[G].apply(R,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const v=c.length;if(v>0){const b=Array(v);for(let R=0;R<v;R++)b[R]=c[R];return b}return[]}function M(c,v){for(let R=1;R<arguments.length;R++){const G=arguments[R];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=c.length||0;const ee=G.length||0;c.length=b+ee;for(let de=0;de<ee;de++)c[b+de]=G[de]}else c.push(G)}}class k{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(c){h.setTimeout(()=>{throw c},0)}function j(){var c=L;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,b){const R=X.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new k(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let F,W=!1,L=new B,A=()=>{const c=Promise.resolve(void 0);F=()=>{c.then(C)}};function C(){for(var c;c=j();){try{c.h.call(c.g)}catch(b){V(b)}var v=X;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}W=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return c})();function O(c){return/^[\s\xa0]*$/.test(c)}function me(c,v){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}T(me,x),me.prototype.init=function(c,v){const b=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(c,v,b,R,G){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=G,this.key=++Q,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ee(c,v,b){for(const R in c)v.call(b,c[R],R,c)}function _e(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function N(c){const v={};for(const b in c)v[b]=c[b];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,v){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)c[b]=R[b];for(let ee=0;ee<J.length;ee++)b=J[ee],Object.prototype.hasOwnProperty.call(R,b)&&(c[b]=R[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,v,b,R,G){const ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);const de=ve(c,v,R,G);return de>-1?(v=c[de],b||(v.fa=!1)):(v=new ue(v,this.src,ee,!!R,G),v.fa=b,c.push(v)),v};function $(c,v){const b=v.type;if(b in c.g){var R=c.g[b],G=Array.prototype.indexOf.call(R,v,void 0),ee;(ee=G>=0)&&Array.prototype.splice.call(R,G,1),ee&&(fe(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function ve(c,v,b,R){for(let G=0;G<c.length;++G){const ee=c[G];if(!ee.da&&ee.listener==v&&ee.capture==!!b&&ee.ha==R)return G}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ce={};function Oe(c,v,b,R,G){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)Oe(c,v[ee],b,R,G);return null}return b=Ds(b),c&&c[be]?c.J(v,b,p(R)?!!R.capture:!1,G):we(c,v,b,!1,R,G)}function we(c,v,b,R,G,ee){if(!v)throw Error("Invalid event type");const de=p(G)?!!G.capture:!!G;let Ne=_i(c);if(Ne||(c[Se]=Ne=new ce(c)),b=Ne.add(v,b,R,de,ee),b.proxy)return b;if(R=ze(),b.proxy=R,R.src=c,R.listener=b,c.addEventListener)U||(G=de),G===void 0&&(G=!1),c.addEventListener(v.toString(),R,G);else if(c.attachEvent)c.attachEvent(cn(v.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ze(){function c(b){return v.call(c.src,c.listener,b)}const v=$e;return c}function Kt(c,v,b,R,G){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Kt(c,v[ee],b,R,G);else R=p(R)?!!R.capture:!!R,b=Ds(b),c&&c[be]?(c=c.i,ee=String(v).toString(),ee in c.g&&(v=c.g[ee],b=ve(v,b,R,G),b>-1&&(fe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[ee],c.h--)))):c&&(c=_i(c))&&(v=c.g[v.toString()],c=-1,v&&(c=ve(v,b,R,G)),(b=c>-1?v[c]:null)&&un(b))}function un(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[be])$(v.i,c);else{var b=c.type,R=c.proxy;v.removeEventListener?v.removeEventListener(b,R,c.capture):v.detachEvent?v.detachEvent(cn(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=_i(v))?($(b,c),b.h==0&&(b.src=null,v[Se]=null)):fe(c)}}}function cn(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function $e(c,v){if(c.da)c=!0;else{v=new me(v,this);const b=c.listener,R=c.ha||c.src;c.fa&&un(c),c=b.call(R,v)}return c}function _i(c){return c=c[Se],c instanceof ce?c:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(c){return typeof c=="function"?c:(c[Ei]||(c[Ei]=function(v){return c.handleEvent(v)}),c[Ei])}function dt(){I.call(this),this.i=new ce(this),this.M=this,this.G=null}T(dt,I),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(c,v,b,R){Kt(this,c,v,b,R)};function St(c,v){var b,R=c.G;if(R)for(b=[];R;R=R.G)b.push(R);if(c=c.M,R=v.type||v,typeof v=="string")v=new x(v,c);else if(v instanceof x)v.target=v.target||c;else{var G=v;v=new x(R,c),se(v,G)}G=!0;let ee,de;if(b)for(de=b.length-1;de>=0;de--)ee=v.g=b[de],G=Dn(ee,R,!0,v)&&G;if(ee=v.g=c,G=Dn(ee,R,!0,v)&&G,G=Dn(ee,R,!1,v)&&G,b)for(de=0;de<b.length;de++)ee=v.g=b[de],G=Dn(ee,R,!1,v)&&G}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let R=0;R<b.length;R++)fe(b[R]);delete c.g[v],c.h--}}this.G=null},dt.prototype.J=function(c,v,b,R){return this.i.add(String(c),v,!1,b,R)},dt.prototype.K=function(c,v,b,R){return this.i.add(String(c),v,!0,b,R)};function Dn(c,v,b,R){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let ee=0;ee<v.length;++ee){const de=v[ee];if(de&&!de.da&&de.capture==b){const Ne=de.listener,Rt=de.ha||de.src;de.fa&&$(c.i,de),G=Ne.call(Rt,R)!==!1&&G}}return G&&!R.defaultPrevented}function pa(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function Xi(c){c.g=pa(()=>{c.g=null,c.i&&(c.i=!1,Xi(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Yt extends I{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){I.call(this),this.h=c,this.g={}}T(bi,I);var Os=[];function Ti(c){Ee(c.g,function(v,b){this.g.hasOwnProperty(b)&&un(v)},c),c.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Ti(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=h.JSON.stringify,xs=h.JSON.parse,Rr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Wi(){}function Mr(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){x.call(this,"d")}T(xt,x);function Jt(){x.call(this,"c")}T(Jt,x);var vt={},Ji=null;function es(){return Ji=Ji||new dt}vt.Ia="serverreachability";function ts(c){x.call(this,vt.Ia,c)}T(ts,x);function On(c){const v=es();St(v,new ts(v))}vt.STAT_EVENT="statevent";function Si(c,v){x.call(this,vt.STAT_EVENT,c),this.stat=v}T(Si,x);function Et(c){const v=es();St(v,new Si(v,c))}vt.Ja="timingevent";function vn(c,v){x.call(this,vt.Ja,c),this.size=v}T(vn,x);function xn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function ga(c,v,b,R,G,ee){c.info(function(){if(c.g)if(ee){var de="",Ne=ee.split("&");for(let tt=0;tt<Ne.length;tt++){var Rt=Ne[tt].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const Zn=yt.split("_");de=Zn.length>=2&&Zn[1]=="type"?de+(yt+"="+Rt+"&"):de+(yt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+b+`
`+de})}function ns(c,v,b,R,G,ee,de){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+b+`
`+ee+" "+de})}function In(c,v,b,R){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ss(c,b)+(R?" "+R:"")})}function is(c,v){c.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function ss(c,v){if(!c.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(c=0;c<ee.length;c++)if(Array.isArray(ee[c])){var b=ee[c];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return oi(ee)}catch{return v}}var Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Dr(){}T(Dr,Wi),Dr.prototype.g=function(){return new XMLHttpRequest},Mo=new Dr;function rs(c){return encodeURIComponent(String(c))}function pu(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function li(c,v,b,R){this.j=c,this.i=v,this.l=b,this.S=R||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var It={},$t={};function Ci(c,v,b){c.M=1,c.A=Or(Nt(v)),c.u=b,c.R=!0,ma(c,null)}function ma(c,v){c.F=Date.now(),wi(c),c.B=Nt(c.A);var b=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),Ea(b.i,"t",R),c.C=0,b=c.j.L,c.h=new ui,c.g=Mu(c.j,b?v:null,!c.u),c.P>0&&(c.O=new Yt(m(c.Y,c,c.g),c.P)),v=c.V,b=c.g,R=c.ba;var G="readystatechange";Array.isArray(G)||(G&&(Os[0]=G.toString()),G=Os);for(let ee=0;ee<G.length;ee++){const de=Oe(b,G[ee],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=c.J?N(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),On(),ga(c.i,c.v,c.B,c.l,c.S,c.u)}li.prototype.ba=function(c){c=c.target;const v=this.O;v&&fi(c)==3?v.j():this.Y(c)},li.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=fi(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ne!=4||Rt==7||(Rt==8||tt<=0?On(3):On(2)),Ai(this);var v=this.g.ca();this.X=v;var b=Hh(this);if(this.o=v==200,ns(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var ee=R;break t}}ee=null}if(c=ee)In(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,Et(12),Vn(this),Kn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=mu(this,b),yt==$t){Ne==4&&(this.m=4,Et(14),c=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==It){this.m=4,Et(15),In(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else In(this.i,this.l,yt,null),Li(this,yt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)In(this.i,this.l,b,"[Invalid Chunked Response]"),Vn(this),Kn(this);else if(b.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Fo(de),de.P=!0,Et(11))}}else In(this.i,this.l,b,null),Li(this,b);Ne==4&&Vn(this),this.o&&!this.K&&(Ne==4?wu(this.j,this):(this.o=!1,wi(this)))}else os(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Vn(this),Kn(this)}}}catch{}finally{}};function Hh(c){if(!gu(c))return c.g.la();const v=en(c.g);if(v==="")return"";let b="";const R=v.length,G=fi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vn(c),Kn(c),"";c.h.i=new h.TextDecoder}for(let ee=0;ee<R;ee++)c.h.h=!0,b+=c.h.i.decode(v[ee],{stream:!(G&&ee==R-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function mu(c,v){var b=c.C,R=v.indexOf(`
`,b);return R==-1?$t:(b=Number(v.substring(b,R)),isNaN(b)?It:(R+=1,R+b>v.length?$t:(v=v.slice(R,R+b),c.C=R+b,v)))}li.prototype.cancel=function(){this.K=!0,Vn(this)};function wi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xn(m(c.aa,c),v)}function Ai(c){c.D&&(h.clearTimeout(c.D),c.D=null)}li.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(is(this.i,this.B),this.M!=2&&(On(),Et(17)),Vn(this),this.m=2,Kn(this)):va(this,this.T-c)};function Kn(c){c.j.I==0||c.K||wu(c.j,c)}function Vn(c){Ai(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Ti(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Li(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Mi(b.h,c))){if(!c.L&&Mi(b.h,c)&&b.I==3){try{var R=b.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)wa(b),Bs(b);else break e;Ur(b),Et(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xn(m(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ni(b,11)}else if((c.L||b.g==c)&&wa(b),!O(v))for(G=b.Ba.g.parse(v),v=0;v<G.length;v++){let tt=G[v];const yt=tt[0];if(!(yt<=b.K))if(b.K=yt,tt=tt[1],b.I==2)if(tt[0]=="c"){b.M=tt[1],b.ba=tt[2];const Zn=tt[3];Zn!=null&&(b.ka=Zn,b.j.info("VER="+b.ka));const Pi=tt[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const di=tt[5];di!=null&&typeof di=="number"&&di>0&&(R=1.5*di,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const pi=c.g;if(pi){const zr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var ee=R.h;ee.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(xo(ee,ee.h),ee.h=null))}if(R.G){const Aa=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(R.wa=Aa,st(R.J,R.G,Aa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var de=c;if(R.na=Ru(R,R.L?R.ba:null,R.W),de.L){Io(R.h,de);var Ne=de,Rt=R.O;Rt&&(Ne.H=Rt),Ne.D&&(Ai(Ne),wi(Ne)),R.g=de}else Su(R);b.i.length>0&&Vi(b)}else tt[0]!="stop"&&tt[0]!="close"||Ni(b,7);else b.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ni(b,7):qo(b):tt[0]!="noop"&&b.l&&b.l.qa(tt),b.A=0)}}On(4)}catch{}}var Vt=class{constructor(c,v){this.g=c,this.map=v}};function Do(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ri(c){return c.h?1:c.g?c.g.size:0}function Mi(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function xo(c,v){c.g?c.g.add(v):c.h=v}function Io(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Do.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return D(c.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const R=c[b].indexOf("=");let G,ee=null;R>=0?(G=c[b].substring(0,R),ee=c[b].substring(R+1)):G=c[b],v(G,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Nn?(this.l=c.l,Zt(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,No(this,bu(c.i)),this.m=c.m):c&&(v=String(c).match(vu))?(this.l=!1,Zt(this,v[1]||"",!0),this.o=Di(v[2]||""),this.g=Di(v[3]||"",!0),Is(this,v[4]),this.h=Di(v[5]||"",!0),No(this,v[6]||"",!0),this.m=Di(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Nn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(xr(v,_a,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(xr(v,_a,!0),"@"),c.push(rs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(xr(b,b.charAt(0)=="/"?Po:yu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",xr(b,_u)),c.join("")},Nn.prototype.resolve=function(c){const v=Nt(this);let b=!!c.j;b?Zt(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var R=c.h;if(b)Is(v,c.u);else if(b=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=v.h.lastIndexOf("/");G!=-1&&(R=v.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const ee=[];for(let de=0;de<G.length;){const Ne=G[de++];Ne=="."?R&&de==G.length&&ee.push(""):Ne==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),R&&de==G.length&&ee.push("")):(ee.push(Ne),R=!0)}R=ee.join("/")}else R=G}return b?v.h=R:b=c.i.toString()!=="",b?No(v,bu(c.i)):b=!!c.m,b&&(v.m=c.m),v};function Nt(c){return new Nn(c)}function Zt(c,v,b){c.j=b?Di(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function No(c,v,b){v instanceof Ns?(c.i=v,ba(c.i,c.l)):(b||(v=xr(v,Vs)),c.i=new Ns(v,c.l))}function st(c,v,b){c.i.set(v,b)}function Or(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xr(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,bn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,yu=/[#\?:]/g,Po=/[#\?]/g,Vs=/[#\?@]/g,_u=/#/g;function Ns(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Ns.prototype,i.add=function(c,v){Tn(this),this.i=null,c=Ps(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function Eu(c,v){Tn(c),v=Ps(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function ko(c,v){return Tn(c),v=Ps(c,v),c.g.has(v)}i.forEach=function(c,v){Tn(this),this.g.forEach(function(b,R){b.forEach(function(G){c.call(v,G,R,this)},this)},this)};function Uo(c,v){Tn(c);let b=[];if(typeof v=="string")ko(c,v)&&(b=b.concat(c.g.get(Ps(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}i.set=function(c,v){return Tn(this),this.i=null,c=Ps(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=Uo(this,c),c.length>0?String(c[0]):v):v};function Ea(c,v,b){Eu(c,v),b.length>0&&(c.i=null,c.g.set(Ps(c,v),D(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var b=v[R];const G=rs(b);b=Uo(this,b);for(let ee=0;ee<b.length;ee++){let de=G;b[ee]!==""&&(de+="="+rs(b[ee])),c.push(de)}}return this.i=c.join("&")};function bu(c){const v=new Ns;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ps(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ba(c,v){v&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(b,R){const G=R.toLowerCase();R!=G&&(Eu(this,R),Ea(this,G,b))},c)),c.j=v}function ci(c,v){const b=new fn;if(h.Image){const R=new Image;R.onload=_(Yn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=_(Yn,b,"TestLoadImage: error",!1,v,R),R.onabort=_(Yn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(Yn,b,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else v(!1)}function zo(c,v){const b=new fn,R=new AbortController,G=setTimeout(()=>{R.abort(),Yn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:R.signal}).then(ee=>{clearTimeout(G),ee.ok?Yn(b,"TestPingServer: ok",!0,v):Yn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Yn(b,"TestPingServer: error",!1,v)})}function Yn(c,v,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function ks(){this.g=new Rr}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Oi,Wi),Oi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,v){dt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ir,dt),i=Ir.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Us(this):hi(this),this.readyState==3&&Ta(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Us(this))},i.Na=function(c){this.g&&(this.response=c,Us(this))},i.ga=function(){this.g&&Us(this)};function Us(c){c.readyState=4,c.l=null,c.j=null,c.B=null,hi(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $n(c){let v="";return Ee(c,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Vr(c,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=$n(b),typeof c=="string"?b!=null&&rs(b):st(c,v,b))}function ot(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ot,dt);var xi=/^https?$/i,Bo=["POST","PUT"];i=ot.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ee){Nr(this,ee);return}if(c=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())b.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Bo,v,void 0)>=0)||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of b)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(ee){Nr(this,ee)}};function Nr(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,jo(c),as(c)}function jo(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),as(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),ot.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},i.Xa=function(){Pr(this)};function Pr(c){if(c.h&&typeof u<"u"){if(c.v&&fi(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),fi(c)==4){c.h=!1;try{const ee=c.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=ee===0){let de=String(c.D).match(vu)[1]||null;!de&&h.self&&h.self.location&&(de=h.self.location.protocol.slice(0,-1)),R=!xi.test(de?de.toLowerCase():"")}b=R}if(b)St(c,"complete"),St(c,"success");else{c.o=6;try{var G=fi(c)>2?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.ca()+"]",jo(c)}}finally{as(c)}}}}function as(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||St(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}i.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xs(v)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function os(c){const v={};c=(c.g&&fi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(O(c[R]))continue;var b=pu(c[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ee=v[G]||[];v[G]=ee,ee.push(b)}_e(v,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function zs(c){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=zs.prototype,i.ka=8,i.I=1,i.connect=function(c,v,b,R){Et(0),this.W=c,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=Ru(this,null,this.W),Vi(this)};function qo(c){if(Sa(c),c.I==3){var v=c.V++,b=Nt(c.J);if(st(b,"SID",c.M),st(b,"RID",v),st(b,"TYPE","terminate"),kr(c,b),v=new li(c,c.j,v),v.M=2,v.A=Or(Nt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Mu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wi(v)}Lu(c)}function Bs(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function Sa(c){Bs(c),c.v&&(h.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vi(c){if(!Oo(c.h)&&!c.m){c.m=!0;var v=c.Ea;F||A(),W||(F(),W=!0),L.add(v,c),c.D=0}}function Ca(c,v){return Ri(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xn(m(c.Ea,c,v),Au(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const G=new li(this,this.j,c);let ee=this.o;if(this.U&&(ee?(ee=N(ee),se(ee,this.U)):ee=this.U),this.u!==null||this.R||(G.J=ee,ee=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Tu(this,G,v),b=Nt(this.J),st(b,"RID",c),st(b,"CVER",22),this.G&&st(b,"X-HTTP-Session-Id",this.G),kr(this,b),ee&&(this.R?v="headers="+rs($n(ee))+"&"+v:this.u&&Vr(b,this.u,ee)),xo(this.h,G),this.Ra&&st(b,"TYPE","init"),this.S?(st(b,"$req",v),st(b,"SID","null"),G.U=!0,Ci(G,b,null)):Ci(G,b,v),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Oo(this.h)||Ho(this))};function Ho(c,v){var b;v?b=v.l:b=c.V++;const R=Nt(c.J);st(R,"SID",c.M),st(R,"RID",b),st(R,"AID",c.K),kr(c,R),c.u&&c.o&&Vr(R,c.u,c.o),b=new li(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Tu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,b),Ci(b,R,v)}function kr(c,v){c.H&&Ee(c.H,function(b,R){st(v,R,b)}),c.l&&Ee({},function(b,R){st(v,R,b)})}function Tu(c,v,b){b=Math.min(c.i.length,b);const R=c.l?m(c.l.Ka,c.l,c):null;e:{var G=c.i;let Ne=-1;for(;;){const Rt=["count="+b];Ne==-1?b>0?(Ne=G[0].g,Rt.push("ofs="+Ne)):Ne=0:Rt.push("ofs="+Ne);let tt=!0;for(let yt=0;yt<b;yt++){var ee=G[yt].g;const Zn=G[yt].map;if(ee-=Ne,ee<0)Ne=Math.max(0,G[yt].g-100),tt=!1;else try{ee="req"+ee+"_"||"";try{var de=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Pi,di]of de){let pi=di;p(di)&&(pi=oi(di)),Rt.push(ee+Pi+"="+encodeURIComponent(pi))}}catch(Pi){throw Rt.push(ee+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(Zn)}}if(tt){de=Rt.join("&");break e}}de=void 0}return c=c.i.splice(0,b),v.G=c,de}function Su(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;F||A(),W||(F(),W=!0),L.add(v,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xn(m(c.Da,c),Au(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xn(m(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Bs(this),Cu(this))};function Fo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new li(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Nt(c.na);st(v,"RID","rpc"),st(v,"SID",c.M),st(v,"AID",c.K),st(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(v,"TO",c.ia),st(v,"TYPE","xmlhttp"),kr(c,v),c.u&&c.o&&Vr(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Or(Nt(v)),b.u=null,b.R=!0,ma(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Bs(this),Ur(this),Et(19))};function wa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function wu(c,v){var b=null;if(c.g==v){wa(c),Fo(c),c.g=null;var R=2}else if(Mi(c.h,v))b=v.G,Io(c.h,v),R=1;else return;if(c.I!=0){if(v.o)if(R==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var G=c.D;R=es(),St(R,new vn(R,b)),Vi(c)}else Su(c);else if(G=v.m,G==3||G==0&&v.X>0||!(R==1&&Ca(c,v)||R==2&&Ur(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),G){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Au(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Ni(c,v){if(c.j.info("Error code "+v),v==2){var b=m(c.bb,c),R=c.Ua;const G=!R;R=new Nn(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Zt(R,"https"),Or(R),G?ci(R.toString(),b):zo(R.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(v),Lu(c),Sa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const v=Vo(c.h);(v.length!=0||c.i.length!=0)&&(M(c.ja,v),M(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Ru(c,v,b){var R=b instanceof Nn?Nt(b):new Nn(b);if(R.g!="")v&&(R.g=v+"."+R.g),Is(R,R.u);else{var G=h.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const ee=new Nn(null);R&&Zt(ee,R),v&&(ee.g=v),G&&Is(ee,G),b&&(ee.h=b),R=ee}return b=c.G,v=c.wa,b&&v&&st(R,b,v),st(R,"VER",c.ka),kr(c,R),R}function Mu(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ot(new Oi({ab:b})):new ot(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}i=Du.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function js(){}js.prototype.g=function(c,v){return new yn(c,v)};function yn(c,v){dt.call(this),this.g=new zs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!O(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ls(this)}T(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){qo(this.g)},yn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=oi(c),c=b);v.i.push(new Vt(v.Ya++,c)),v.I==3&&Vi(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,yn.Z.N.call(this)};function Ou(c){xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}T(Ou,xt);function xu(){Jt.call(this),this.status=1}T(xu,Jt);function ls(c){this.g=c}T(ls,Du),ls.prototype.ra=function(){St(this.g,"a")},ls.prototype.qa=function(c){St(this.g,new Ou(c))},ls.prototype.pa=function(c){St(this.g,new xu)},ls.prototype.oa=function(){St(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tT=function(){return new js},eT=function(){return es()},J0=vt,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,$c=Me,Ro.COMPLETE="complete",W0=Ro,Mr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Vl=Mr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,X0=ot}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const QE="@firebase/firestore",KE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new B0("@firebase/firestore");function no(){return aa.logLevel}function ge(i,...e){if(aa.logLevel<=Xe.DEBUG){const n=e.map(Xp);aa.debug(`Firestore (${So}): ${i}`,...n)}}function Ls(i,...e){if(aa.logLevel<=Xe.ERROR){const n=e.map(Xp);aa.error(`Firestore (${So}): ${i}`,...n)}}function ho(i,...e){if(aa.logLevel<=Xe.WARN){const n=e.map(Xp);aa.warn(`Firestore (${So}): ${i}`,...n)}}function Xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nT(i,r,n)}function nT(i,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function it(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||nT(e,o,r)}function Ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yM{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new iT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class _M{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _M(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,F0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=TM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Qe(i,e){return i<e?-1:i>e?1:0}function Ep(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return tp(o)===tp(u)?Qe(o,u):tp(o)?1:-1}return Qe(i.length,e.length)}const SM=55296,CM=57343;function tp(i){const e=i.charCodeAt(0);return e>=SM&&e<=CM}function fo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),o=ji.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class ft extends ji{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const wM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ji{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return wM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new on([$E])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(u(),o++)}if(u(),h)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(ft.fromString(e))}static fromName(e){return new Le(ft.fromString(e).popFirst(5))}static empty(){return new Le(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(i,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function AM(i,e,n,r){if(e===!0&&r===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ZE(i){if(!Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function XE(i){if(Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Lh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function po(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ou(i,e){if(!rT(i))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,JE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*JE);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:qt("string",mt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function LM(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Er(o,Le.empty(),e)}function RM(i){return new Er(i.readTime,i.key,Yl)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(xe.min(),Le.empty(),Yl)}static max(){return new Er(xe.max(),Le.empty(),Yl)}}function MM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==DM)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((o=>o?le.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((_=>{h[m]=_,++p,p===u&&r(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new le(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function xM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Mh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function IM(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="";function VM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=eb(e)),e=NM(i.get(n),e);return eb(e)}function NM(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case aT:n+="";break;default:n+=u}}return n}function eb(i){return i+aT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ar(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function oT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new an(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(e){return new nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Gt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lT("Invalid base64 string: "+u):u}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const PM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(i){if(it(!!i,39018),typeof i=="string"){let e=0;const n=PM.exec(i);if(it(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Tr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="server_timestamp",cT="__type__",hT="__previous_value__",fT="__local_write_time__";function eg(i){return(i?.mapValue?.fields||{})[cT]?.stringValue===uT}function Dh(i){const e=i.mapValue.fields[hT];return eg(e)?Dh(e):e}function $l(i){const e=br(i.mapValue.fields[fT].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,o,u,h,p,g,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=_}}const vh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__type__",UM="__max__",jc={mapValue:{}},pT="__vector__",yh="value";function Sr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?eg(i)?4:BM(i)?9007199254740991:zM(i)?10:11:De(28295,{value:i})}function $i(i,e){if(i===e)return!0;const n=Sr(i);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=br(o.timestampValue),p=br(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Tr(o.bytesValue).isEqual(Tr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ot(o.doubleValue),p=Ot(u.doubleValue);return h===p?mh(h)===mh(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(tb(h)!==tb(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!$i(h[g],p[g])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function Xl(i,e){return(i.values||[]).find((n=>$i(n,e)))!==void 0}function go(i,e){if(i===e)return 0;const n=Sr(i),r=Sr(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Ot(u.integerValue||u.doubleValue),g=Ot(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return ib(i.timestampValue,e.timestampValue);case 4:return ib($l(i),$l(e));case 5:return Ep(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=Tr(u),g=Tr(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let m=0;m<p.length&&m<g.length;m++){const _=Qe(p[m],g[m]);if(_!==0)return _}return Qe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Qe(Ot(u.latitude),Ot(h.latitude));return p!==0?p:Qe(Ot(u.longitude),Ot(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sb(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},m=p[yh]?.arrayValue,_=g[yh]?.arrayValue,T=Qe(m?.values?.length||0,_?.values?.length||0);return T!==0?T:sb(m,_)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===jc.mapValue&&h===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(h===jc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=h.fields||{},_=Object.keys(m);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const S=Ep(g[T],_[T]);if(S!==0)return S;const D=go(p[g[T]],m[_[T]]);if(D!==0)return D}return Qe(g.length,_.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function ib(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=br(i),r=br(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function sb(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=go(n[o],r[o]);if(u)return u}return Qe(n.length,r.length)}function mo(i){return bp(i)}function bp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=br(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Tr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Le.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=bp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${bp(n.fields[h])}`;return o+"}"})(i.mapValue):De(61005,{value:i})}function Zc(i){switch(Sr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(i);return e?16+Zc(e):16;case 5:return 2*i.stringValue.length;case 6:return Tr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Zc(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ar(r.fields,((u,h)=>{o+=u.length+Zc(h)})),o})(i.mapValue);default:throw De(13486,{value:i})}}function rb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Tp(i){return!!i&&"integerValue"in i}function tg(i){return!!i&&"arrayValue"in i}function ab(i){return!!i&&"nullValue"in i}function ob(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xc(i){return!!i&&"mapValue"in i}function zM(i){return(i?.mapValue?.fields||{})[dT]?.stringValue===pT}function zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ar(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zl(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return{...i}}function BM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=on.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=zl(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ar(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Mn(zl(this.value))}}function gT(i){const e=[];return Ar(i.fields,((n,r)=>{const o=new on([n]);if(Xc(r)){const u=gT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,o,u,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,o){return new mn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new mn(e,2,n,xe.min(),xe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,xe.min(),xe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function lb(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=Le.comparator(Le.fromName(h.referenceValue),n.key):r=go(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$i(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function jM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class jt extends mT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HM(e,n,r):n==="array-contains"?new QM(e,r):n==="in"?new KM(e,r):n==="not-in"?new YM(e,r):n==="array-contains-any"?new $M(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FM(e,r):new GM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends mT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return vT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(i){return i.op==="and"}function yT(i){return qM(i)&&vT(i)}function qM(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function Sp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+mo(i.value);if(yT(i))return i.filters.map((e=>Sp(e))).join(",");{const e=i.filters.map((n=>Sp(n))).join(",");return`${i.op}(${e})`}}function _T(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&$i(r.value,o.value)})(i,e):i instanceof yi?(function(r,o){return o instanceof yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,p)=>u&&_T(h,o.filters[p])),!0):!1})(i,e):void De(19439)}function ET(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(i):i instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ET).join(" ,")+"}"})(i):"Filter"}class HM extends jt{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class FM extends jt{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GM extends jt{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bT(i,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class QM extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&Xl(n.arrayValue,this.value)}}class KM extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class YM extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class $M extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n=null,r=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function cb(i,e=null,n=[],r=[],o=null,u=null,h=null){return new ZM(i,e,n,r,o,u,h)}function ng(i){const e=Ve(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mo(r))).join(",")),e.Te=n}return e.Te}function ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!_T(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ub(i.startAt,e.startAt)&&ub(i.endAt,e.endAt)}function Cp(i){return Le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,r=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XM(i,e,n,r,o,u,h,p){return new Ao(i,e,n,r,o,u,h,p)}function TT(i){return new Ao(i)}function hb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ST(i){return i.collectionGroup!==null}function Bl(i){const e=Ve(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Gt(on.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wl(u,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new Wl(on.keyField(),r))}return e.Ie}function Hi(i){const e=Ve(i);return e.Ee||(e.Ee=WM(e,Bl(i))),e.Ee}function WM(i,e){if(i.limitType==="F")return cb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)}));const n=i.endAt?new _h(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new _h(i.startAt.position,i.startAt.inclusive):null;return cb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function wp(i,e){const n=i.filters.concat([e]);return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ap(i,e,n){return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Oh(i,e){return ig(Hi(i),Hi(e))&&i.limitType===e.limitType}function CT(i){return`${ng(Hi(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ET(o))).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${r})`})(Hi(i))}; limitType=${i.limitType})`}function xh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Le.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const m=lb(h,p,g);return h.inclusive?m<=0:m<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(h,p,g){const m=lb(h,p,g);return h.inclusive?m>=0:m>0})(r.endAt,Bl(r),o))})(i,e)}function JM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wT(i){return(e,n)=>{let r=!1;for(const o of Bl(i)){const u=e2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function e2(i,e,n){const r=i.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),m=p.data.field(u);return g!==null&&m!==null?go(g,m):De(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new Tt(Le.comparator);function Rs(){return t2}const AT=new Tt(Le.comparator);function Nl(...i){let e=AT;for(const n of i)e=e.insert(n.key,n);return e}function LT(i){let e=AT;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sa(){return jl()}function RT(){return jl()}function jl(){return new ha((i=>i.toString()),((i,e)=>i.isEqual(e)))}const n2=new Tt(Le.comparator),i2=new Gt(Le.comparator);function Ke(...i){let e=i2;for(const n of i)e=e.add(n);return e}const s2=new Gt(Qe);function r2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function MT(i){return{integerValue:""+i}}function DT(i,e){return IM(e)?MT(e):sg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function a2(i,e,n){return i instanceof Jl?(function(o,u){const h={fields:{[cT]:{stringValue:uT},[fT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=Dh(u)),u&&(h.fields[hT]=u),{mapValue:h}})(n,e):i instanceof eu?xT(i,e):i instanceof tu?IT(i,e):(function(o,u){const h=OT(o,u),p=fb(h)+fb(o.Ae);return Tp(h)&&Tp(o.Ae)?MT(p):sg(o.serializer,p)})(i,e)}function o2(i,e,n){return i instanceof eu?xT(i,e):i instanceof tu?IT(i,e):n}function OT(i,e){return i instanceof nu?(function(r){return Tp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Jl extends Ih{}class eu extends Ih{constructor(e){super(),this.elements=e}}function xT(i,e){const n=VT(e);for(const r of i.elements)n.some((o=>$i(o,r)))||n.push(r);return{arrayValue:{values:n}}}class tu extends Ih{constructor(e){super(),this.elements=e}}function IT(i,e){let n=VT(e);for(const r of i.elements)n=n.filter((o=>!$i(o,r)));return{arrayValue:{values:n}}}class nu extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fb(i){return Ot(i.integerValue||i.doubleValue)}function VT(i){return tg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.field=e,this.transform=n}}function l2(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof eu&&o instanceof eu||r instanceof tu&&o instanceof tu?fo(r.elements,o.elements,$i):r instanceof nu&&o instanceof nu?$i(r.Ae,o.Ae):r instanceof Jl&&o instanceof Jl})(i.transform,e.transform)}class u2{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vh{}function PT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new UT(i.key,Fi.none()):new lu(i.key,i.data,Fi.none());{const n=i.data,r=Mn.empty();let o=new Gt(on.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Lr(i.key,r,new Fn(o.toArray()),Fi.none())}}function c2(i,e,n){i instanceof lu?(function(o,u,h){const p=o.value.clone(),g=pb(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Lr?(function(o,u,h){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=pb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(kT(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ql(i,e,n,r){return i instanceof lu?(function(u,h,p,g){if(!Wc(u.precondition,h))return p;const m=u.value.clone(),_=gb(u.fieldTransforms,g,h);return m.setAll(_),h.convertToFoundDocument(h.version,m).setHasLocalMutations(),null})(i,e,n,r):i instanceof Lr?(function(u,h,p,g){if(!Wc(u.precondition,h))return p;const m=gb(u.fieldTransforms,g,h),_=h.data;return _.setAll(kT(u)),_.setAll(m),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,r):(function(u,h,p){return Wc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function h2(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=OT(r.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,u))}return n||null}function db(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fo(r,o,((u,h)=>l2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lu extends Vh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lr extends Vh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function pb(i,e,n){const r=new Map;it(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);r.set(u.field,o2(h,p,n[o]))}return r}function gb(i,e,n){const r=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);r.set(o.field,a2(u,h,e))}return r}class UT extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f2 extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&c2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=PT(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,r)=>db(n,r)))&&fo(this.baseMutations,e.baseMutations,((n,r)=>db(n,r)))}}class rg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return n2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new rg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function m2(i){switch(i){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function zT(i){if(i===void 0)return Ls("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Bt.OK:return oe.OK;case Bt.CANCELLED:return oe.CANCELLED;case Bt.UNKNOWN:return oe.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return oe.INTERNAL;case Bt.UNAVAILABLE:return oe.UNAVAILABLE;case Bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Bt.NOT_FOUND:return oe.NOT_FOUND;case Bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Bt.ABORTED:return oe.ABORTED;case Bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Bt.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:i})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new vr([4294967295,4294967295],0);function mb(i){const e=v2().encode(i),n=new Z0;return n.update(e),new Uint8Array(n.digest())}function vb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vr([n,r],0),new vr([o,u],0)]}class ag{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(vr.fromNumber(r)));return o.compare(y2)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mb(e),[r,o]=vb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ag(u,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=mb(e),[r,o]=vb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nh(xe.min(),o,new Tt(Qe),Rs(),Ke())}}class uu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class jT{constructor(e,n,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class yb{constructor(){this.ve=0,this.Fe=_b(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:De(38017,{changeType:u})}})),new uu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_b()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=qc(),this.He=qc(),this.Ye=new Tt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cp(u))if(r===0){const h=new Le(u.path);this.et(n,h,mn.newNoDocument(h,xe.min()))}else it(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Tr(r).toUint8Array()}catch(g){if(g instanceof lT)return ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ag(h,o,u)}catch(g){return ho(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Cp(p.target)){const g=new Le(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,mn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Ke();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Nh(e,n,this.Ye,this.je,r);return this.je=Rs(),this.Je=qc(),this.He=qc(),this.Ye=new Tt(Qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Tt(Le.comparator)}function _b(){return new Tt(Le.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T2={and:"AND",or:"OR"};class S2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(i,e){return i.useProto3Json||Mh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function C2(i,e){return Eh(i,e.toTimestamp())}function Gi(i){return it(!!i,49232),xe.fromTimestamp((function(n){const r=br(n);return new mt(r.seconds,r.nanos)})(i))}function og(i,e){return Rp(i,e).canonicalString()}function Rp(i,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function HT(i){const e=ft.fromString(i);return it(YT(e),10190,{key:e.toString()}),e}function Mp(i,e){return og(i.databaseId,e.path)}function np(i,e){const n=HT(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Le(GT(n))}function FT(i,e){return og(i.databaseId,e)}function w2(i){const e=HT(i);return e.length===4?ft.emptyPath():GT(e)}function Dp(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function GT(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Eb(i,e,n){return{name:Mp(i,e),fields:n.value.mapValue.fields}}function A2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(it(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(m){const _=m.code===void 0?oe.UNKNOWN:zT(m.code);return new pe(_,m.message||"")})(h);n=new jT(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=np(i,r.document.name),u=Gi(r.document.updateTime),h=r.document.createTime?Gi(r.document.createTime):xe.min(),p=new Mn({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,u,h,p),m=r.targetIds||[],_=r.removedTargetIds||[];n=new Jc(m,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=np(i,r.document),u=r.readTime?Gi(r.readTime):xe.min(),h=mn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Jc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=np(i,r.document),u=r.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new g2(o,u),p=r.targetId;n=new BT(p,h)}}return n}function L2(i,e){let n;if(e instanceof lu)n={update:Eb(i,e.key,e.value)};else if(e instanceof UT)n={delete:Mp(i,e.key)};else if(e instanceof Lr)n={update:Eb(i,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof f2))return De(16599,{Vt:e.type});n={verify:Mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const p=h.transform;if(p instanceof Jl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nu)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw De(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:C2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(i,e.precondition)),n}function R2(i,e){return i&&i.length>0?(it(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Gi(o.updateTime):Gi(u);return h.isEqual(xe.min())&&(h=Gi(u)),new u2(h,o.transformResults||[])})(n,e)))):[]}function M2(i,e){return{documents:[FT(i,e.path)]}}function D2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FT(i,o);const u=(function(m){if(m.length!==0)return KT(yi.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((_=>(function(S){return{field:so(S.field),direction:I2(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Lp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function O2(i){let e=w2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){it(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=QT(T);return S instanceof yi&&yT(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(M){return new Wl(ro(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,Mh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,D=T.values||[];return new _h(D,S)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const S=!T.before,D=T.values||[];return new _h(D,S)})(n.endAt)),XM(e,o,h,u,p,"F",g,m)}function x2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((r=>QT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(i):De(30097,{filter:i})}function I2(i){return E2[i]}function V2(i){return b2[i]}function N2(i){return T2[i]}function so(i){return{fieldPath:i.canonicalString()}}function ro(i){return on.fromServerFormat(i.fieldPath)}function KT(i){return i instanceof jt?(function(n){if(n.op==="=="){if(ob(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ob(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:V2(n.op),value:n.value}}})(i):i instanceof yi?(function(n){const r=n.getFilters().map((o=>KT(o)));return r.length===1?r[0]:{compositeFilter:{op:N2(n.op),filters:r}}})(i):De(54877,{filter:i})}function P2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,o,u=xe.min(),h=xe.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.yt=e}}function U2(i){const e=O2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Cn=new B2}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Er.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class B2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Gt(ft.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$T=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn($T,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",j2=1048576;function Sb([i,e],[n,r]){const o=Qe(i,n);return o===0?Qe(e,r):o}class q2{constructor(e){this.Ir=e,this.buffer=new Gt(Sb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ge(Tb,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class F2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Rh.ce);const r=new q2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(bb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,p,g,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(m=Date.now(),no()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(m-g)+`ms
Total Duration: ${m-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function G2(i,e){return new F2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ql(r.mutation,o,Fn.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const o=sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Nl();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let u=Rs();const h=jl(),p=(function(){return jl()})();return n.forEach(((g,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Lr)?u=u.insert(m.key,m):_!==void 0?(h.set(m.key,_.mutation.getFieldMask()),ql(_.mutation,m,_.mutation.getFieldMask(),mt.now())):h.set(m.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,_)=>h.set(m,_))),n.forEach(((m,_)=>p.set(m,new K2(_,h.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=jl();let o=new Tt(((h,p)=>h-p)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let _=r.get(g)||Fn.empty();_=p.applyToLocalView(m,_),r.set(g,_);const T=(o.get(p.batchId)||Ke()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,_=g.value,T=RT();_.forEach((S=>{if(!u.has(S)){const D=PT(n.get(S),r.get(S));D!==null&&T.set(S,D),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,m,T))}return le.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Le.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):le.resolve(sa());let p=Yl,g=u;return h.next((m=>le.forEach(m,((_,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Ke()))).next((_=>({batchId:p,changes:LT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let o=Nl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Nl();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(g=>{const m=(function(T,S){return new Ao(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((_=>{_.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,m)=>{const _=m.getKey();h.get(_)===null&&(h=h.insert(_,mn.newInvalidDocument(_)))}));let p=Nl();return h.forEach(((g,m)=>{const _=u.get(g);_!==void 0&&ql(_.mutation,m,Fn.empty(),mt.now()),xh(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:U2(o.bundledQuery),readTime:Gi(o.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.overlays=new Tt(Le.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sa();return le.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const o=sa(),u=n.length+1,h=new Le(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Tt(((m,_)=>m-_));const h=this.overlays.getIterator();for(;h.hasNext();){const m=h.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let _=u.get(m.largestBatchId);_===null&&(_=sa(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const p=sa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,_)=>p.set(m,_))),!(p.size()>=o)););return le.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new p2(n,r));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new Gt(Wt.$r),this.Ur=new Gt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Le(new ft([])),r=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new ft([])),r=new Wt(n,e),o=new Wt(n,e+1);let u=Ke();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Wt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Wt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new d2(u,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Wt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Qe);return n.forEach((o=>{const u=new Wt(o,0),h=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{r=r.add(p.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Le.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new Le(u),0);let p=new Gt(Qe);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),h),le.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wt(n,0),o=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Rs();const h=n.path,p=new Le(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:_}}=g.getNext();if(!h.isPrefixOf(m.path))break;m.path.length>h.length+1||MM(RM(_),r)<=0||(o.has(_.key)||xh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,r,o){De(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new eD(this)}getSize(e){return le.resolve(this.size)}}class eD extends Q2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.persistence=e,this.si=new ha((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new X2,this.referenceDelegate=e(this),this.Pi=new tD(this),this.indexManager=new z2,this.remoteDocumentCache=(function(o){return new J2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new k2(n),this.Ii=new $2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new W2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new nD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class nD extends OM{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new lg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const o=Le.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.pi=new ha((r=>VM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=G2(this,n)}static mi(e,n){return new bh(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?le.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,u.removeEntry(h,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return le.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ke(),o=Ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nR()?8:xM(eR())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new iD;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(no()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(no()<=Xe.DEBUG&&ge("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(no()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):le.resolve())}ys(e,n){if(hb(n))return le.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ap(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ke(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,h,g.readTime)?this.ys(e,Ap(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,r,o){return hb(n)||o.isEqual(xe.min())?le.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?le.resolve(null):(no()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(e,h,n,LM(o,Yl)).next((p=>p)))}))}Ds(e,n){let r=new Gt(wT(e));return n.forEach(((o,u)=>{xh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return no()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",rD=3e8;class aD{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Tt(Qe),this.xs=new ha((u=>ng(u)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oD(i,e,n,r){return new aD(i,e,n,r)}async function XT(i,e){const n=Ve(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],p=[];let g=Ke();for(const m of o){h.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}for(const m of u){p.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(r,g).next((m=>({Ls:m,removedBatchIds:h,addedBatchIds:p})))}))}))}function lD(i,e){const n=Ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,_){const T=m.batch,S=T.keys();let D=le.resolve();return S.forEach((M=>{D=D.next((()=>_.getEntry(g,M))).next((k=>{const V=m.docVersions.get(M);it(V!==null,48541),k.version.compareTo(V)<0&&(T.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),_.addEntry(k)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ke();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function WT(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uD(i,e){const n=Ve(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),o=o.insert(T,D),(function(k,V,j){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=rD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(S,D,_)&&p.push(n.Pi.updateTargetData(u,D))}));let g=Rs(),m=Ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(cD(u,h,e.documentUpdates).next((_=>{g=_.ks,m=_.qs}))),!r.isEqual(xe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(_)}return le.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function cD(i,e,n){let r=Ke(),o=Ke();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let h=Rs();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ge(hg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function hD(i,e){const n=Ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fD(i,e){const n=Ve(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,le.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new dr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Op(i,e,n){const r=Ve(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!wo(h))throw h;ge(hg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Cb(i,e,n){const r=Ve(i);let o=xe.min(),u=Ke();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,m,_){const T=Ve(g),S=T.xs.get(_);return S!==void 0?le.resolve(T.Ms.get(S)):T.Pi.getTargetData(m,_)})(r,h,Hi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?u:Ke()))).next((p=>(dD(r,JM(e),p),{documents:p,Qs:u})))))}function dD(i,e,n){let r=i.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class wb{constructor(){this.activeTargetIds=r2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pD{constructor(){this.Mo=new wb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="ConnectivityMonitor";class Lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function xp(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=xp(),p=this.zo(e,n.toUriEncodedString());ge(ip,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),_=au(m);return this.Jo(e,p,g,r,_).then((T=>(ge(ip,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ho(ip,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=mD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class _D extends vD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=xp();return new Promise(((p,g)=>{const m=new X0;m.setWithCredentials(!0),m.listenOnce(W0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case $c.NO_ERROR:const T=m.getResponseJson();ge(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case $c.TIMEOUT:ge(pn,`RPC '${e}' ${h} timed out`),g(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const S=m.getStatus();if(ge(pn,`RPC '${e}' ${h} failed with status:`,S,"response text:",m.getResponseText()),S>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D?.error;if(M&&M.status&&M.message){const k=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN})(M.status);g(new pe(k,M.message))}else g(new pe(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:h,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(pn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ge(pn,`RPC '${e}' ${h} sending request:`,o),m.send(n,"POST",_,r,15)}))}T_(e,n,r){const o=xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tT(),p=eT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const _=u.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let S=!1,D=!1;const M=new yD({Yo:V=>{D?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),k=(V,j,B)=>{V.listen(j,(X=>{try{B(X)}catch(H){setTimeout((()=>{throw H}),0)}}))};return k(T,Vl.EventType.OPEN,(()=>{D||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),k(T,Vl.EventType.CLOSE,(()=>{D||(D=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(T))})),k(T,Vl.EventType.ERROR,(V=>{D||(D=!0,ho(pn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))})),k(T,Vl.EventType.MESSAGE,(V=>{if(!D){const j=V.data[0];it(!!j,16349);const B=j,X=B?.error||B[0]?.error;if(X){ge(pn,`RPC '${e}' stream ${o} received error:`,X);const H=X.status;let F=(function(A){const C=Bt[A];if(C!==void 0)return zT(C)})(H),W=X.message;F===void 0&&(F=oe.INTERNAL,W="Unknown error status: "+H+" with message "+X.message),D=!0,M.a_(new pe(F,W)),T.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,j),M.u_(j)}})),k(p,J0.STAT_EVENT,(V=>{V.stat===_p.PROXY?ge(pn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===_p.NOPROXY&&ge(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){return new S2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="PersistentStream";class eS{constructor(e,n,r,o,u,h,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ED extends eS{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A2(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Gi(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=Cp(g)?{documents:M2(u,g)}:{query:D2(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=qT(u,h.resumeToken);const m=Lp(u,h.expectedCount);m!==null&&(p.expectedCount=m)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=Eh(u,h.snapshotVersion.toTimestamp());const m=Lp(u,h.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=x2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class bD extends eS{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=R2(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>L2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{}class SD extends TD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Rp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Rp(n,r),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(oe.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class wD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{fa(this)&&(ge(oa,"Restarting streams for network reachability change."),await(async function(g){const m=Ve(g);m.Ea.add(4),await cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await kh(m)})(this))}))})),this.Ra=new CD(r,o)}}async function kh(i){if(fa(i))for(const e of i.da)await e(!0)}async function cu(i){for(const e of i.da)await e(!1)}function tS(i,e){const n=Ve(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?pg(n):Lo(n).O_()&&dg(n,e))}function fg(i,e){const n=Ve(i),r=Lo(n);n.Ia.delete(e),r.O_()&&nS(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function dg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Y_(e)}function nS(i,e){i.Va.Ue(e),Lo(i).Z_(e)}function pg(i){i.Va=new _2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Ra.ua()}function gg(i){return fa(i)&&!Lo(i).x_()&&i.Ia.size>0}function fa(i){return Ve(i).Ea.size===0}function iS(i){i.Va=void 0}async function AD(i){i.Ra.set("Online")}async function LD(i){i.Ia.forEach(((e,n)=>{dg(i,e)}))}async function RD(i,e){iS(i),gg(i)?(i.Ra.ha(e),pg(i)):i.Ra.set("Unknown")}async function MD(i,e,n){if(i.Ra.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ge(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(i,r)}else if(e instanceof Jc?i.Va.Ze(e):e instanceof BT?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const r=await WT(i.localStore);n.compareTo(r)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,m)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),nS(u,g);const T=new dr(_.target,g,m,_.sequenceNumber);dg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){ge(oa,"Failed to raise snapshot:",r),await Th(i,r)}}async function Th(i,e,n){if(!wo(e))throw e;i.Ea.add(1),await cu(i),i.Ra.set("Offline"),n||(n=()=>WT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await kh(i)}))}function sS(i,e){return e().catch((n=>Th(i,n,e)))}async function Uh(i){const e=Ve(i),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;DD(e);)try{const o=await hD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,OD(e,o)}catch(o){await Th(e,o)}rS(e)&&aS(e)}function DD(i){return fa(i)&&i.Ta.length<10}function OD(i,e){i.Ta.push(e);const n=Cr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function rS(i){return fa(i)&&!Cr(i).x_()&&i.Ta.length>0}function aS(i){Cr(i).start()}async function xD(i){Cr(i).ra()}async function ID(i){const e=Cr(i);for(const n of i.Ta)e.ea(n.mutations)}async function VD(i,e,n){const r=i.Ta.shift(),o=rg.from(r,e,n);await sS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Uh(i)}async function ND(i,e){e&&Cr(i).X_&&await(async function(r,o){if((function(h){return m2(h)&&h!==oe.ABORTED})(o.code)){const u=r.Ta.shift();Cr(r).B_(),await sS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uh(r)}})(i,e),rS(i)&&aS(i)}async function Mb(i,e){const n=Ve(i);n.asyncQueue.verifyOperationInProgress(),ge(oa,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function PD(i,e){const n=Ve(i);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await cu(n),n.Ra.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,r,o){const u=Ve(n);return u.sa(),new ED(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:AD.bind(null,i),t_:LD.bind(null,i),r_:RD.bind(null,i),H_:MD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),gg(i)?pg(i):i.Ra.set("Unknown")):(await i.ma.stop(),iS(i))}))),i.ma}function Cr(i){return i.fa||(i.fa=(function(n,r,o){const u=Ve(n);return u.sa(),new bD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:xD.bind(null,i),r_:ND.bind(null,i),ta:ID.bind(null,i),na:VD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Uh(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,p=new mg(e,n,h,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(i,e){if(Ls("AsyncQueue",`${e}: ${i}`),wo(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.ga=new Tt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yo{constructor(e,n,r,o,u,h,p,g,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new yo(e,n,oo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UD{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),u=o.queries;o.queries=Ob(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function Ob(){return new ha((i=>CT(i)),Oh)}async function zD(i,e){const n=Ve(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new kD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=vg(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yg(n)}async function BD(i,e){const n=Ve(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jD(i,e){const n=Ve(i);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(r=!0);h.wa=o}}r&&yg(n)}function qD(i,e,n){const r=Ve(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function yg(i){i.Ca.forEach((e=>{e.next()}))}var Ip,xb;(xb=Ip||(Ip={})).Ma="default",xb.Cache="cache";class HD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class FD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=wT(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Db,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),D=xh(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;S&&D?S.data.isEqual(D.data)?M!==k&&(r.track({type:3,doc:D}),V=!0):this.su(S,D)||(r.track({type:2,doc:D}),V=!0,(g&&this.eu(D,g)>0||m&&this.eu(D,m)<0)&&(p=!0)):!S&&D?(r.track({type:0,doc:D}),V=!0):S&&!D&&(r.track({type:1,doc:S}),V=!0,(g||m)&&(p=!0)),V&&(D?(h=h.add(D),u=k?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:h,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(D,M){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:V})}};return k(D)-k(M)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,h.length!==0||m?{snapshot:new yo(this.query,e.tu,u,h,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Db,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class GD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QD{constructor(e){this.key=e,this.hu=!1}}class KD{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha((p=>CT(p)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Le.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(i,e,n=!0){const r=pS(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await uS(r,e,n,!0),o}async function $D(i,e){const n=pS(i);await uS(n,e,!0,!1)}async function uS(i,e,n,r){const o=await fD(i.localStore,Hi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await ZD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&tS(i.remoteStore,o),p}async function ZD(i,e,n,r,o){i.pu=(T,S,D)=>(async function(k,V,j,B){let X=V.view.ru(j);X.Cs&&(X=await Cb(k.localStore,V.query,!1).then((({documents:L})=>V.view.ru(L,X))));const H=B&&B.targetChanges.get(V.targetId),F=B&&B.targetMismatches.get(V.targetId)!=null,W=V.view.applyChanges(X,k.isPrimaryClient,H,F);return Vb(k,V.targetId,W.au),W.snapshot})(i,T,S,D);const u=await Cb(i.localStore,e,!0),h=new FD(e,u.Qs),p=h.ru(u.documents),g=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),m=h.applyChanges(p,i.isPrimaryClient,g);Vb(i,n,m.au);const _=new GD(e,n,h);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),m.snapshot}async function XD(i,e,n){const r=Ve(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!Oh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fg(r.remoteStore,o.targetId),Vp(r,o.targetId)})).catch(Co)):(Vp(r,o.targetId),await Op(r.localStore,o.targetId,!0))}async function WD(i,e){const n=Ve(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function JD(i,e,n){const r=aO(i);try{const o=await(function(h,p){const g=Ve(h),m=mt.now(),_=p.reduce(((D,M)=>D.add(M.key)),Ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let M=Rs(),k=Ke();return g.Ns.getEntries(D,_).next((V=>{M=V,M.forEach(((j,B)=>{B.isValidDocument()||(k=k.add(j))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,M))).next((V=>{T=V;const j=[];for(const B of p){const X=h2(B,T.get(B.key).overlayedDocument);X!=null&&j.push(new Lr(B.key,X,gT(X.value.mapValue),Fi.exists(!0)))}return g.mutationQueue.addMutationBatch(D,m,j,p)})).next((V=>{S=V;const j=V.applyToLocalDocumentSet(T,k);return g.documentOverlayCache.saveOverlays(D,V.batchId,j)}))})).then((()=>({batchId:S.batchId,changes:LT(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let m=h.Vu[h.currentUser.toKey()];m||(m=new Tt(Qe)),m=m.insert(p,g),h.Vu[h.currentUser.toKey()]=m})(r,o.batchId,n),await hu(r,o.changes),await Uh(r.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function cS(i,e){const n=Ve(i);try{const r=await uD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?it(h.hu,14607):o.removedDocuments.size>0&&(it(h.hu,42227),h.hu=!1))})),await hu(n,r,e)}catch(r){await Co(r)}}function Ib(i,e,n){const r=Ve(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ve(h);g.onlineState=p;let m=!1;g.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(p)&&(m=!0)})),m&&yg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eO(i,e,n){const r=Ve(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new Tt(Le.comparator);h=h.insert(u,mn.newNoDocument(u,xe.min()));const p=Ke().add(u),g=new Nh(xe.min(),new Map,new Tt(Qe),h,p);await cS(r,g),r.du=r.du.remove(u),r.Au.delete(e),Eg(r)}else await Op(r.localStore,e,!1).then((()=>Vp(r,e,n))).catch(Co)}async function tO(i,e){const n=Ve(i),r=e.batch.batchId;try{const o=await lD(n.localStore,e);fS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,o)}catch(o){await Co(o)}}async function nO(i,e,n){const r=Ve(i);try{const o=await(function(h,p){const g=Ve(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return g.mutationQueue.lookupMutationBatch(m,p).next((T=>(it(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(m,T)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>g.localDocuments.getDocuments(m,_)))}))})(r.localStore,e);fS(r,e,n),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,o)}catch(o){await Co(o)}}function hS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function fS(i,e,n){const r=Ve(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||dS(i,r)}))}function dS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(fg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Eg(i))}function Vb(i,e,n){for(const r of n)r instanceof oS?(i.Ru.addReference(r.key,e),iO(i,r)):r instanceof lS?(ge(_g,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||dS(i,r.key)):De(19791,{wu:r})}function iO(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ge(_g,"New document in limbo: "+n),i.Eu.add(r),Eg(i))}function Eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Le(ft.fromString(e)),r=i.fu.next();i.Au.set(r,new QD(n)),i.du=i.du.insert(n,r),tS(i.remoteStore,new dr(Hi(TT(n.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function hu(i,e,n){const r=Ve(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const _=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(m){o.push(m);const _=cg.As(g.targetId,m);u.push(_)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,m){const _=Ve(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(m,(S=>le.forEach(S.Es,(D=>_.persistence.referenceDelegate.addReference(T,S.targetId,D))).next((()=>le.forEach(S.ds,(D=>_.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))))))}catch(T){if(!wo(T))throw T;ge(hg,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const D=_.Ms.get(S),M=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(M);_.Ms=_.Ms.insert(S,k)}}})(r.localStore,u))}async function sO(i,e){const n=Ve(i);if(!n.currentUser.isEqual(e)){ge(_g,"User change. New user:",e.toKey());const r=await XT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(oe.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ls)}}function rO(i,e){const n=Ve(i),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function pS(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eO.bind(null,e),e.Pu.H_=jD.bind(null,e.eventManager),e.Pu.yu=qD.bind(null,e.eventManager),e}function aO(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nO.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oD(this.persistence,new sD,e.initialUser,this.serializer)}Cu(e){return new ZT(ug.mi,this.serializer)}Du(e){return new pD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class oO extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new ZT((r=>bh.mi(r,n)),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ib(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sO.bind(null,this.syncEngine),await PD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UD})()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=(function(u){return new _D(u)})(e.databaseInfo);return(function(u,h,p,g){return new SD(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,p){return new wD(r,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ib(this.syncEngine,n,0)),(function(){return Lb.v()?new Lb:new gD})())}createSyncEngine(e,n){return(function(o,u,h,p,g,m,_){const T=new KD(o,u,h,p,g,m);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ge(oa,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class uO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ge(wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ge(wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rp(i,e){i.asyncQueue.verifyOperationInProgress(),ge(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await XT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Nb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await cO(i);ge(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Mb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Mb(e.remoteStore,o))),i._onlineComponents=e}async function cO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(wr,"Using user provided OfflineComponentProvider");try{await rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await rp(i,new Sh)}}else ge(wr,"Using default OfflineComponentProvider"),await rp(i,new oO(void 0));return i._offlineComponents}async function gS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(wr,"Using user provided OnlineComponentProvider"),await Nb(i,i._uninitializedComponentsProvider._online)):(ge(wr,"Using default OnlineComponentProvider"),await Nb(i,new Np))),i._onlineComponents}function hO(i){return gS(i).then((e=>e.syncEngine))}async function fO(i){const e=await gS(i),n=e.eventManager;return n.onListen=YD.bind(null,e.syncEngine),n.onUnlisten=XD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$D.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WD.bind(null,e.syncEngine),n}function dO(i,e,n={}){const r=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,m){const _=new lO({next:S=>{_.Nu(),h.enqueueAndForget((()=>BD(u,T))),S.fromCache&&g.source==="server"?m.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new HD(p,_,{includeMetadataChanges:!0,qa:!0});return zD(u,T)})(await fO(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",kb=!0;class Ub{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=kb}else this.host=e.host,this.ssl=e.ssl??kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mM;switch(r.type){case"firstParty":return new EM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Pb.get(n);r&&(ge("ComponentProvider","Removing Datastore"),Pb.delete(n),r.terminate())})(this),Promise.resolve()}}function pO(i,e,n,r={}){i=po(i,zh);const o=au(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(P0(`https://${p}`),U0("Firestore",!0)),u.host!==vS&&u.host!==p&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!ph(g,h)&&(i._setSettings(g),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=gn.MOCK_USER;else{m=k0(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(T)}i._authCredentials=new vM(new iT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ou(n,Ft._jsonSchema))return new Ft(e,r||null,new Le(ft.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:qt("string",Ft._jsonSchemaVersion),referencePath:qt("string")};class _r extends da{constructor(e,n,r){super(e,n,TT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Le(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function yS(i,e,...n){if(i=Qn(i),sT("collection","path",e),i instanceof zh){const r=ft.fromString(e,...n);return XE(r),new _r(i,null,r)}{if(!(i instanceof Ft||i instanceof _r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ft.fromString(e,...n));return XE(r),new _r(i.firestore,null,r)}}function _S(i,e,...n){if(i=Qn(i),arguments.length===1&&(e=Wp.newId()),sT("doc","path",e),i instanceof zh){const r=ft.fromString(e,...n);return ZE(r),new Ft(i,null,new Le(r))}{if(!(i instanceof Ft||i instanceof _r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ft.fromString(e,...n));return ZE(r),new Ft(i.firestore,i instanceof _r?i.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JT(this,"async_queue_retry"),this._c=()=>{const r=sp();r&&ge(zb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ge(zb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",jb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bh extends zh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Bb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bb(e),this._firestoreClient=void 0,await e}}}function gO(i,e){const n=typeof i=="object"?i:K0(),r=typeof i=="string"?i:vh,o=H0(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=V0("firestore");u&&pO(o,...u)}return o}function ES(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mO(i),i._firestoreClient}function mO(i){const e=i._freezeSettings(),n=(function(o,u,h,p){return new kM(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new uO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(ln.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:qt("string",ai._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:qt("string",Qi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ki(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:qt("string",Ki._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^__.*__$/;class yO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class bS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:i})}}class bg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&vO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Cc(e,n,r,o=!1){return new bg({Ac:e,methodName:n,Dc:r,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(i){const e=i._freezeSettings(),n=Ph(i._databaseId);return new _O(i._databaseId,!!e.ignoreUndefinedProperties,n)}function EO(i,e,n,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",h,r);const p=SS(r,h);let g,m;if(u.merge)g=new Fn(h.fieldMask),m=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=Pp(e,T,n);if(!h.contains(S))throw new pe(oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);wS(_,S)||_.push(S)}g=new Fn(_),m=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,m=h.fieldTransforms;return new yO(new Mn(p),g,m)}class qh extends fu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}class Sg extends fu{_toFieldTransform(e){return new NT(e.path,new Jl)}isEqual(e){return e instanceof Sg}}class Cg extends fu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new nu(e.serializer,DT(e.serializer,this.Fc));return new NT(e.path,n)}isEqual(e){return e instanceof Cg&&this.Fc===e.Fc}}function bO(i,e,n,r){const o=i.Cc(1,e,n);wg("Data must be an object, but it was:",o,r);const u=[],h=Mn.empty();Ar(r,((g,m)=>{const _=Ag(e,g,n);m=Qn(m);const T=o.yc(_);if(m instanceof qh)u.push(_);else{const S=du(m,T);S!=null&&(u.push(_),h.set(_,S))}}));const p=new Fn(u);return new bS(h,p,o.fieldTransforms)}function TO(i,e,n,r,o,u){const h=i.Cc(1,e,n),p=[Pp(e,r,n)],g=[o];if(u.length%2!=0)throw new pe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Pp(e,u[S])),g.push(u[S+1]);const m=[],_=Mn.empty();for(let S=p.length-1;S>=0;--S)if(!wS(m,p[S])){const D=p[S];let M=g[S];M=Qn(M);const k=h.yc(D);if(M instanceof qh)m.push(D);else{const V=du(M,k);V!=null&&(m.push(D),_.set(D,V))}}const T=new Fn(m);return new bS(_,T,h.fieldTransforms)}function SO(i,e,n,r=!1){return du(n,i.Cc(r?4:3,e))}function du(i,e){if(CS(i=Qn(i)))return wg("Unsupported field value:",e,i),SS(i,e);if(i instanceof fu)return(function(r,o){if(!TS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const p of r){let g=du(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:Eh(o.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:qT(o.serializer,r._byteString)};if(r instanceof Ft){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ki)return(function(h,p){return{mapValue:{fields:{[dT]:{stringValue:pT},[yh]:{arrayValue:{values:h.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return sg(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Lh(r)}`)})(i,e)}function SS(i,e){const n={};return oT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(i,((r,o)=>{const u=du(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function CS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Qi||i instanceof ai||i instanceof Ft||i instanceof fu||i instanceof Ki)}function wg(i,e,n){if(!CS(n)||!rT(n)){const r=Lh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Pp(i,e,n){if((e=Qn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Ag(i,e);throw Ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function Ag(i,e,n){if(e.search(CO)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ch(i,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new pe(oe.INVALID_ARGUMENT,p+i+g)}function wS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wO extends AS{data(){return super.data()}}function Lg(i,e){return typeof e=="string"?Ag(i,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class LS extends Rg{}function LO(i,e,...n){let r=[];e instanceof Rg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((g=>g instanceof Dg)).length,p=u.filter((g=>g instanceof Mg)).length;if(h>1||h>0&&p>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Mg extends LS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mg(e,n,r)}_apply(e){const n=this._parse(e);return RS(e._query,n),new da(e.firestore,e.converter,wp(e._query,n))}_parse(e){const n=Tg(e.firestore);return(function(u,h,p,g,m,_,T){let S;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Hb(T,_);const M=[];for(const k of T)M.push(qb(g,u,k));S={arrayValue:{values:M}}}else S=qb(g,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Hb(T,_),S=SO(p,h,T,_==="in"||_==="not-in");return jt.create(m,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)RS(h,g),h=wp(h,g)})(e._query,n),new da(e.firestore,e.converter,wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends LS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Og(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,h)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function RO(i,e="asc"){const n=e,r=Lg("orderBy",i);return Og._create(r,n)}function qb(i,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Le.isDocumentKey(r))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rb(i,new Le(r))}if(n instanceof Ft)return rb(i,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function Hb(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(i,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MO{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ar(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Ki(n)}convertGeoPoint(e){return new Qi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=br(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);it(YT(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),u=new Le(r.popFirst(5));return o.isEqual(n)||Ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends AS{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:qt("string",lo._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class eh extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return p.type!==0&&(m=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:OO(p.type),doc:g,oldIndex:m,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:qt("string",uo._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class xO extends MO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function IO(i){i=po(i,da);const e=po(i.firestore,Bh),n=ES(e),r=new xO(e);return AO(i._query),dO(n,i._query).then((o=>new uo(e,r,i,o)))}function VO(i,e,n,...r){i=po(i,Ft);const o=po(i.firestore,Bh),u=Tg(o);let h;return h=typeof(e=Qn(e))=="string"||e instanceof jh?TO(u,"updateDoc",i._key,e,n,r):bO(u,"updateDoc",i._key,e),MS(o,[h.toMutation(i._key,Fi.exists(!0))])}function NO(i,e){const n=po(i.firestore,Bh),r=_S(i),o=DO(i.converter,e);return MS(n,[EO(Tg(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Fi.exists(!1))]).then((()=>r))}function MS(i,e){return(function(r,o){const u=new yr;return r.asyncQueue.enqueueAndForget((async()=>JD(await hO(r),o,u))),u.promise})(ES(i),e)}function PO(){return new Sg("serverTimestamp")}function kO(i){return new Cg("increment",i)}(function(e,n=!0){(function(o){So=o})(G0),Ql(new co("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),p=new Bh(new yM(r.getProvider("auth-internal")),new bM(h,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(m.options.projectId,_)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),mr(QE,KE,e),mr(QE,KE,"esm2020")})();var UO="firebase",zO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(UO,zO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebasestorage.googleapis.com",OS="storageBucket",BO=120*1e3,jO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends ca{constructor(e,n,r=0){super(ap(e),`Firebase Storage: ${n} (${ap(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function ap(i){return"storage/"+i}function xg(){const i="An unknown error occurred, please check the error payload for server response.";return new Lt(At.UNKNOWN,i)}function qO(i){return new Lt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function HO(i){return new Lt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(At.UNAUTHENTICATED,i)}function GO(){return new Lt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QO(i){return new Lt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function KO(){return new Lt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YO(){return new Lt(At.CANCELED,"User canceled the upload/download.")}function $O(i){return new Lt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function ZO(i){return new Lt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function XO(){return new Lt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function WO(){return new Lt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JO(){return new Lt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ex(i){return new Lt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kp(i){return new Lt(At.INVALID_ARGUMENT,i)}function xS(){return new Lt(At.APP_DELETED,"The Firebase app was deleted.")}function tx(i){return new Lt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(i,e){return new Lt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Il(i){throw new Lt(At.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw ZO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${T}/${_}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},k=n===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",j=new RegExp(`^https?://${k}/${o}/${V}`,"i"),X=[{regex:p,indices:g,postModify:u},{regex:D,indices:M,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<X.length;H++){const F=X[H],W=F.regex.exec(e);if(W){const L=W[F.indices.bucket];let A=W[F.indices.path];A||(A=""),r=new Gn(L,A),F.postModify(r);break}}if(r==null)throw $O(e);return r}}class nx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(i,e,n){let r=1,o=null,u=null,h=!1,p=0;function g(){return p===2}let m=!1;function _(...V){m||(m=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(D,g())},V)}function S(){u&&clearTimeout(u)}function D(V,...j){if(m){S();return}if(V){S(),_.call(null,V,...j);return}if(g()||h){S(),_.call(null,V,...j);return}r<64&&(r*=2);let X;p===1?(p=2,X=0):X=(r+Math.random())*1e3,T(X)}let M=!1;function k(V){M||(M=!0,S(),!m&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),u=setTimeout(()=>{h=!0,k(!0)},n),k}function sx(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(i){return i!==void 0}function ax(i){return typeof i=="object"&&!Array.isArray(i)}function Ig(i){return typeof i=="string"||i instanceof String}function Fb(i){return Vg()&&i instanceof Blob}function Vg(){return typeof Blob<"u"}function Gb(i,e,n,r){if(r<e)throw kp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw kp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${i}`}function IS(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ra;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ra||(ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,o,u,h,p,g,m,_,T,S=!0,D=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Gc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===ra.NO_ERROR,g=u.getStatus();if(!p||ox(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ra.ABORT;r(!1,new Gc(!1,null,_));return}const m=this.successCodes_.indexOf(g)!==-1;r(!0,new Gc(m,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());rx(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=xg();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?xS():YO();h(g)}else{const g=KO();h(g)}};this.canceled_?n(!1,new Gc(!1,null,!0)):this.backoffId_=ix(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ux(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function cx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function fx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function dx(i,e,n,r,o,u,h=!0,p=!1){const g=IS(i.urlParams),m=i.url+g,_=Object.assign({},i.headers);return hx(_,e),ux(_,n),cx(_,u),fx(_,r),new lx(m,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gx(...i){const e=px();if(e!==void 0){const n=new e;for(let r=0;r<i.length;r++)n.append(i[r]);return n.getBlob()}else{if(Vg())return new Blob(i);throw new Lt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(i){if(typeof atob>"u")throw ex("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,n){this.data=e,this.contentType=n||null}}function yx(i,e){switch(i){case qi.RAW:return new op(VS(e));case qi.BASE64:case qi.BASE64URL:return new op(NS(i,e));case qi.DATA_URL:return new op(Ex(e),bx(e))}throw xg()}function VS(i){const e=[];for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=i.charCodeAt(++n);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function _x(i){let e;try{e=decodeURIComponent(i)}catch{throw Hl(qi.DATA_URL,"Malformed data URL.")}return VS(e)}function NS(i,e){switch(i){case qi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Hl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Hl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vx(e)}catch(o){throw o.message.includes("polyfill")?o:Hl(i,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class PS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hl(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Tx(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ex(i){const e=new PS(i);return e.base64?NS(qi.BASE64,e.rest):_x(e.rest)}function bx(i){return new PS(i).contentType}function Tx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){let r=0,o="";Fb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Fb(this.data_)){const r=this.data_,o=mx(r,e,n);return o===null?null:new fr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fr(r,!0)}}static getBlob(...e){if(Vg()){const n=e.map(r=>r instanceof fr?r.data_:r);return new fr(gx.apply(null,n))}else{const n=e.map(h=>Ig(h)?yx(qi.RAW,h).data:h.data_);let r=0;n.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(h=>{for(let p=0;p<h.length;p++)o[u++]=h[p]}),new fr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(i){let e;try{e=JSON.parse(i)}catch{return null}return ax(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Cx(i,e){const n=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?n:i+"/"+n}function US(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i,e){return e}class En{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||wx}}let Qc=null;function Ax(i){return!Ig(i)||i.length<2?i:US(i)}function zS(){if(Qc)return Qc;const i=[];i.push(new En("bucket")),i.push(new En("generation")),i.push(new En("metageneration")),i.push(new En("name","fullPath",!0));function e(u,h){return Ax(h)}const n=new En("name");n.xform=e,i.push(n);function r(u,h){return h!==void 0?Number(h):h}const o=new En("size");return o.xform=r,i.push(o),i.push(new En("timeCreated")),i.push(new En("updated")),i.push(new En("md5Hash",null,!0)),i.push(new En("cacheControl",null,!0)),i.push(new En("contentDisposition",null,!0)),i.push(new En("contentEncoding",null,!0)),i.push(new En("contentLanguage",null,!0)),i.push(new En("contentType",null,!0)),i.push(new En("metadata","customMetadata",!0)),Qc=i,Qc}function Lx(i,e){function n(){const r=i.bucket,o=i.fullPath,u=new Gn(r,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Rx(i,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];r[h.local]=h.xform(r,e[h.server])}return Lx(r,i),r}function BS(i,e,n){const r=kS(e);return r===null?null:Rx(i,r,n)}function Mx(i,e,n,r){const o=kS(e);if(o===null||!Ig(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(m=>{const _=i.bucket,T=i.fullPath,S="/b/"+h(_)+"/o/"+h(T),D=Ng(S,n,r),M=IS({alt:"media",token:m});return D+M})[0]}function Dx(i,e){const n={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class jS{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i){if(!i)throw xg()}function Ox(i,e){function n(r,o){const u=BS(i,o,e);return qS(u!==null),u}return n}function xx(i,e){function n(r,o){const u=BS(i,o,e);return qS(u!==null),Mx(u,o,i.host,i._protocol)}return n}function HS(i){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=GO():o=FO():n.getStatus()===402?o=HO(i.bucket):n.getStatus()===403?o=QO(i.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Ix(i){const e=HS(i);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=qO(i.path)),u.serverResponse=o.serverResponse,u}return n}function Vx(i,e,n){const r=e.fullServerUrl(),o=Ng(r,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,p=new jS(o,u,xx(i,n),h);return p.errorHandler=Ix(e),p}function Nx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Px(i,e,n){const r=Object.assign({},n);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=Nx(null,e)),r}function kx(i,e,n,r,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let X="";for(let H=0;H<2;H++)X=X+Math.random().toString().slice(2);return X}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const m=Px(e,r,o),_=Dx(m,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,S=`\r
--`+g+"--",D=fr.getBlob(T,r,S);if(D===null)throw WO();const M={name:m.fullPath},k=Ng(u,i.host,i._protocol),V="POST",j=i.maxUploadRetryTime,B=new jS(k,V,Ox(i,n),j);return B.urlParams=M,B.headers=h,B.body=D.uploadData(),B.errorHandler=HS(e),B}class Ux{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw Il("cannot .send() more than once");if(au(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zx extends Ux{initXhr(){this.xhr_.responseType="text"}}function FS(){return new zx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return US(this._location.path)}get storage(){return this._service}get parent(){const e=Sx(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tx(e)}}function Bx(i,e,n){i._throwIfRoot("uploadBytes");const r=kx(i.storage,i._location,zS(),new fr(e,!0),n);return i.storage.makeRequestWithTokens(r,FS).then(o=>({metadata:o,ref:i}))}function jx(i){i._throwIfRoot("getDownloadURL");const e=Vx(i.storage,i._location,zS());return i.storage.makeRequestWithTokens(e,FS).then(n=>{if(n===null)throw JO();return n})}function qx(i,e){const n=Cx(i._location.path,e),r=new Gn(i._location.bucket,n);return new la(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i){return/^[A-Za-z]+:\/\//.test(i)}function Fx(i,e){return new la(i,e)}function GS(i,e){if(i instanceof Pg){const n=i;if(n._bucket==null)throw XO();const r=new la(n,n._bucket);return e!=null?GS(r,e):r}else return e!==void 0?qx(i,e):i}function Gx(i,e){if(e&&Hx(e)){if(i instanceof Pg)return Fx(i,e);throw kp("To use ref(service, url), the first argument must be a Storage instance.")}else return GS(i,e)}function Qb(i,e){const n=e?.[OS];return n==null?null:Gn.makeFromBucketSpec(n,i)}function Qx(i,e,n,r={}){i.host=`${e}:${n}`;const o=au(e);o&&(P0(`https://${i.host}/b`),U0("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:k0(u,i.app.options.projectId))}class Pg{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BO,this._maxUploadRetryTime=jO,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=Qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=Qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(F0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new nx(xS());{const h=dx(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Kb="@firebase/storage",Yb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="storage";function Kx(i,e,n){return i=Qn(i),Bx(i,e,n)}function Yx(i){return i=Qn(i),jx(i)}function $x(i,e){return i=Qn(i),Gx(i,e)}function Zx(i=K0(),e){i=Qn(i);const r=H0(i,QS).getImmediate({identifier:e}),o=V0("storage");return o&&Xx(r,...o),r}function Xx(i,e,n,r={}){Qx(i,e,n,r)}function Wx(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Pg(n,r,o,e,G0)}function Jx(){Ql(new co(QS,Wx,"PUBLIC").setMultipleInstances(!0)),mr(Kb,Yb,""),mr(Kb,Yb,"esm2020")}Jx();const eI={apiKey:"AIzaSyAr49Z1qFSxcD5d8N2TaMRv7j-_5lQ6Cq8",authDomain:"kizuki-8a65a.firebaseapp.com",databaseURL:void 0,projectId:"kizuki-8a65a",storageBucket:"kizuki-8a65a.firebasestorage.app",messagingSenderId:"118026654293",appId:"1:118026654293:web:16b1bdcf7555f8f72ffadc"},KS=Q0(eI),Up=gO(KS),tI=Zx(KS),nI={width:"100%",height:"90vh"},iI={lat:35.681236,lng:139.767125};function sI(){const[i,e]=y.useState([]),[n,r]=y.useState(null),[o,u]=y.useState(""),[h,p]=y.useState(null),[g,m]=y.useState(iI),[_,T]=y.useState(!1),S=async j=>{try{const B=_S(Up,"posts",j);await VO(B,{goodCount:kO(1)}),e(X=>X.map(H=>H.id===j?{...H,goodCount:(H.goodCount||0)+1}:H)),r(X=>X&&X.id===j?{...X,goodCount:(X.goodCount||0)+1}:X)}catch(B){console.error(":",B)}},D=["","","","",""];y.useEffect(()=>{(async()=>{try{const B=LO(yS(Up,"posts"),RO("createdAt","desc")),H=(await IO(B)).docs.map(F=>({id:F.id,...F.data()}));e(H)}catch(B){console.error(":",B)}})()},[]);const M=()=>{if(!navigator.geolocation){alert("");return}T(!0),navigator.geolocation.getCurrentPosition(j=>{const{latitude:B,longitude:X}=j.coords,H={lat:B,lng:X};p(H),m(H),T(!1)},j=>{console.warn(":",j),alert(""),T(!1)})},k=(j,B)=>{const H=(B.lat-j.lat)*Math.PI/180,F=(B.lng-j.lng)*Math.PI/180,W=Math.sin(H/2)**2+Math.cos(j.lat*Math.PI/180)*Math.cos(B.lat*Math.PI/180)*Math.sin(F/2)**2;return 6371*2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W))},V=i.filter(j=>o!==""&&j.tag!==o?!1:h&&j.location?k(h,j.location)<=5:!0);return he.jsxs("div",{style:{height:"100vh",width:"100%"},children:[he.jsxs("div",{style:{padding:"10px",textAlign:"center"},children:[D.map(j=>he.jsx("button",{onClick:()=>u(j),style:{margin:"5px",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:o===j?"#007bff":"#e0e0e0",color:o===j?"white":"black",fontWeight:o===j?"bold":"normal",transition:"0.2s"},children:j},j)),he.jsx("button",{onClick:M,disabled:_,style:{marginLeft:"10px",padding:"8px 16px",backgroundColor:_?"#aaa":"#28a745",color:"white",border:"none",borderRadius:"8px",cursor:_?"default":"pointer"},children:_?"...":" "}),h&&he.jsx("button",{onClick:()=>m(h),style:{marginLeft:"10px",padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:" "})]}),he.jsxs(g0,{mapContainerStyle:nI,center:g,zoom:13,children:[h&&he.jsxs(he.Fragment,{children:[he.jsx(ah,{position:h,label:""}),he.jsx(R0,{center:h,radius:5e3,options:{fillColor:"#007bff33",strokeColor:"#007bff",strokeWeight:1}})]}),V.map(j=>j.location&&he.jsx(ah,{position:j.location,onClick:()=>r(j)},j.id)),n&&he.jsx(L0,{position:n.location,onCloseClick:()=>r(null),children:he.jsxs("div",{style:{maxWidth:"200px"},children:[he.jsx("h4",{children:n.tag}),he.jsx("p",{children:n.message}),n.imageUrl&&he.jsx("img",{src:n.imageUrl,alt:"",style:{width:"100%",borderRadius:"8px"}}),he.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:he.jsxs("button",{onClick:()=>S(n.id),style:{backgroundColor:"#ffcc00",border:"none",borderRadius:"8px",padding:"6px 12px",cursor:"pointer",fontWeight:"bold"},children:[" Good (",n.goodCount||0,")"]})})]})})]})]})}const rI={width:"100%",height:"400px"},aI={lat:35.681236,lng:139.767125};function oI({onClose:i,onSelectLocation:e}){const[n,r]=y.useState(null),[o,u]=y.useState(aI),[h,p]=y.useState(null),g=y.useRef(null),m=y.useCallback(function(k){r(k)},[]),_=y.useCallback(function(k){r(null)},[]),T=M=>{const k={lat:M.latLng.lat(),lng:M.latLng.lng()};p(k)},S=()=>{if(g.current!==null){const M=g.current.getPlace(),k={lat:M.geometry.location.lat(),lng:M.geometry.location.lng()};u(k),p(k),n.panTo(k),n.setZoom(15)}},D=()=>{h?e(h.lat,h.lng):alert("")};return he.jsx("div",{className:"modal-backdrop",children:he.jsxs("div",{className:"modal-content",children:[he.jsx("h3",{children:""}),he.jsx("p",{children:""}),he.jsx(Yp,{onLoad:M=>g.current=M,onPlaceChanged:S,children:he.jsx("input",{type:"text",placeholder:"...",className:"map-search-input"})}),he.jsx("div",{className:"map-wrapper",children:he.jsx(g0,{mapContainerStyle:rI,center:o,zoom:12,onLoad:m,onUnmount:_,onClick:T,children:h&&he.jsx(ah,{position:h})})}),he.jsxs("div",{className:"modal-actions",children:[he.jsx("button",{onClick:D,className:"btn confirm-btn",disabled:!h,children:""}),he.jsx("button",{onClick:i,className:"btn close-btn",children:""})]})]})})}function lI(){const[i,e]=y.useState(""),[n,r]=y.useState(""),[o,u]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(!1),[_,T]=y.useState(!1),[S,D]=y.useState(null),[M,k]=y.useState(!1),[V,j]=y.useState(""),B=a0(),X=A=>{const C=A.target.files[0];C&&(p(C),u(URL.createObjectURL(C)))},H=()=>{u(null),p(null),document.getElementById("imageUpload").value=""},F=A=>{const C=A.target.value;r(C),C!==""&&j("")},W=()=>{if(!navigator.geolocation){alert("");return}T(!0),navigator.geolocation.getCurrentPosition(A=>{const{latitude:C,longitude:I}=A.coords;D({lat:C,lng:I}),T(!1)},A=>{let C="";switch(A.code){case A.PERMISSION_DENIED:C="";break;case A.POSITION_UNAVAILABLE:C="";break;case A.TIMEOUT:C="";break}alert(C),console.error("Geolocation error: ",A),T(!1)})},L=async A=>{if(A.preventDefault(),!i||!n){alert("");return}if(n===""&&!V){alert("");return}if(!S){alert("");return}m(!0);try{let C="";if(h){const x=$x(tI,`images/${h.name+Date.now()}`);await Kx(x,h),C=await Yx(x)}const I={message:i,tag:n,imageUrl:C,createdAt:PO(),location:{lat:S.lat,lng:S.lng},...V&&{riskLevel:V}};await NO(yS(Up,"posts"),I),alert(""),B("/mapinfo")}catch(C){console.error(": ",C),alert(`
: ${C.message}`)}finally{m(!1)}};return he.jsx("div",{className:"container",children:he.jsxs("form",{onSubmit:L,children:[he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"message",children:""}),he.jsxs("div",{className:"message-box-container",children:[he.jsx("textarea",{id:"message",name:"message",placeholder:"...",value:i,onChange:A=>e(A.target.value)}),he.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:X}),he.jsx("label",{htmlFor:"imageUpload",className:"btn image-btn",children:""})]}),o&&he.jsxs("div",{id:"imagePreviewContainer",children:[he.jsx("img",{src:o,alt:"Preview"}),he.jsx("button",{type:"button",onClick:H,className:"btn clear-btn",children:""})]})]}),he.jsxs("div",{className:"form-group",children:[he.jsx("label",{children:""}),he.jsxs("div",{className:"location-buttons-container",children:[he.jsx("button",{type:"button",className:"btn map-btn",onClick:()=>k(!0),children:""}),he.jsx("button",{type:"button",className:"btn current-location-btn",onClick:W,disabled:_,children:_?"":""})]}),he.jsx("input",{type:"text",id:"location",name:"location",readOnly:!0,value:S?`: ${S.lat.toFixed(5)}, : ${S.lng.toFixed(5)}`:""}),M&&he.jsx(oI,{onClose:()=>k(!1),onSelectLocation:(A,C)=>{D({lat:A,lng:C}),k(!1)}})]}),he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"tag",children:""}),he.jsxs("select",{id:"tag",name:"tag",value:n,onChange:F,children:[he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""})]})]}),n===""&&he.jsxs("div",{className:"form-group",children:[he.jsx("label",{htmlFor:"riskLevel",children:""}),he.jsxs("select",{id:"riskLevel",name:"riskLevel",value:V,onChange:A=>j(A.target.value),children:[he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""}),he.jsx("option",{value:"",children:""})]})]}),he.jsx("div",{className:"form-group",children:he.jsx("button",{type:"submit",className:"btn submit-btn",disabled:g,children:g?"...":""})})]})})}function uI(){return he.jsxs("div",{children:[he.jsxs("nav",{className:"nav-bar",children:[he.jsx("div",{className:"nav-title",children:" MichikusaGO"}),he.jsxs("div",{className:"nav-links",children:[he.jsx(nh,{to:"/postform",className:"nav-btn pink",children:""}),he.jsx(nh,{to:"/mapinfo",className:"nav-btn green",children:""})]})]}),he.jsxs(Cw,{children:[he.jsx(up,{path:"/postform",element:he.jsx(lI,{})}),he.jsx(up,{path:"/mapinfo",element:he.jsx(sI,{})})]})]})}const cI=["maps","places"],hI=VC.createRoot(document.getElementById("root"));hI.render(he.jsx(LC.StrictMode,{children:he.jsx(b0,{googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc",libraries:cI,children:he.jsx(Kw,{children:he.jsx(uI,{})})})}));
