(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Fb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Id={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function gC(){if(Wy)return Al;Wy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var Jy;function mC(){return Jy||(Jy=1,Id.exports=gC()),Id.exports}var ce=mC(),Vd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function vC(){if(e_)return Ie;e_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function H(N,W,se){this.props=N,this.context=W,this.refs=V,this.updater=se||M}H.prototype.isReactComponent={},H.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=H.prototype;function te(N,W,se){this.props=N,this.context=W,this.refs=V,this.updater=se||M}var Y=te.prototype=new B;Y.constructor=te,U(Y,H.prototype),Y.isPureReactComponent=!0;var F=Array.isArray;function X(){}var L={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,W,se){var he=se.ref;return{$$typeof:i,type:N,key:W,ref:he!==void 0?he:null,props:se}}function I(N,W){return C(N.type,W,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function k(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return W[se]})}var O=/\/+/g;function me(N,W){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):W.toString(36)}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,W,se,he,$){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(ve){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case i:case e:Se=!0;break;case _:return Se=N._init,G(Se(N._payload),W,se,he,$)}}if(Se)return $=$(N),Se=he===""?"."+me(N,0):he,F($)?(se="",Se!=null&&(se=Se.replace(O,"$&/")+"/"),G($,W,se,"",function(we){return we})):$!=null&&(x($)&&($=I($,se+($.key==null||N&&N.key===$.key?"":(""+$.key).replace(O,"$&/")+"/")+Se)),W.push($)),1;Se=0;var Ce=he===""?".":he+":";if(F(N))for(var Oe=0;Oe<N.length;Oe++)he=N[Oe],ve=Ce+me(he,Oe),Se+=G(he,W,se,ve,$);else if(Oe=D(N),typeof Oe=="function")for(N=Oe.call(N),Oe=0;!(he=N.next()).done;)he=he.value,ve=Ce+me(he,Oe++),Se+=G(he,W,se,ve,$);else if(ve==="object"){if(typeof N.then=="function")return G(be(N),W,se,he,$);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ue(N,W,se){if(N==null)return N;var he=[],$=0;return G(N,he,"","",function(ve){return W.call(se,ve,$++)}),he}function fe(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var Ee=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},_e={map:ue,forEach:function(N,W,se){ue(N,function(){W.apply(this,arguments)},se)},count:function(N){var W=0;return ue(N,function(){W++}),W},toArray:function(N){return ue(N,function(W){return W})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=T,Ie.Children=_e,Ie.Component=H,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return L.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,W,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var he=U({},N.props),$=N.key;if(W!=null)for(ve in W.key!==void 0&&($=""+W.key),W)!A.call(W,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&W.ref===void 0||(he[ve]=W[ve]);var ve=arguments.length-2;if(ve===1)he.children=se;else if(1<ve){for(var Se=Array(ve),Ce=0;Ce<ve;Ce++)Se[Ce]=arguments[Ce+2];he.children=Se}return C(N.type,$,he)},Ie.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,W,se){var he,$={},ve=null;if(W!=null)for(he in W.key!==void 0&&(ve=""+W.key),W)A.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&($[he]=W[he]);var Se=arguments.length-2;if(Se===1)$.children=se;else if(1<Se){for(var Ce=Array(Se),Oe=0;Oe<Se;Oe++)Ce[Oe]=arguments[Oe+2];$.children=Ce}if(N&&N.defaultProps)for(he in Se=N.defaultProps,Se)$[he]===void 0&&($[he]=Se[he]);return C(N,ve,$)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:p,render:N}},Ie.isValidElement=x,Ie.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:fe}},Ie.memo=function(N,W){return{$$typeof:m,type:N,compare:W===void 0?null:W}},Ie.startTransition=function(N){var W=L.T,se={};L.T=se;try{var he=N(),$=L.S;$!==null&&$(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(X,Ee)}catch(ve){Ee(ve)}finally{W!==null&&se.types!==null&&(W.types=se.types),L.T=W}},Ie.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ie.use=function(N){return L.H.use(N)},Ie.useActionState=function(N,W,se){return L.H.useActionState(N,W,se)},Ie.useCallback=function(N,W){return L.H.useCallback(N,W)},Ie.useContext=function(N){return L.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,W){return L.H.useDeferredValue(N,W)},Ie.useEffect=function(N,W){return L.H.useEffect(N,W)},Ie.useEffectEvent=function(N){return L.H.useEffectEvent(N)},Ie.useId=function(){return L.H.useId()},Ie.useImperativeHandle=function(N,W,se){return L.H.useImperativeHandle(N,W,se)},Ie.useInsertionEffect=function(N,W){return L.H.useInsertionEffect(N,W)},Ie.useLayoutEffect=function(N,W){return L.H.useLayoutEffect(N,W)},Ie.useMemo=function(N,W){return L.H.useMemo(N,W)},Ie.useOptimistic=function(N,W){return L.H.useOptimistic(N,W)},Ie.useReducer=function(N,W,se){return L.H.useReducer(N,W,se)},Ie.useRef=function(N){return L.H.useRef(N)},Ie.useState=function(N){return L.H.useState(N)},Ie.useSyncExternalStore=function(N,W,se){return L.H.useSyncExternalStore(N,W,se)},Ie.useTransition=function(){return L.H.useTransition()},Ie.version="19.2.0",Ie}var t_;function xp(){return t_||(t_=1,Vd.exports=vC()),Vd.exports}var y=xp();const yC=Fb(y);var Nd={exports:{}},Ll={},Pd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function _C(){return n_||(n_=1,(function(i){function e(G,ue){var fe=G.length;G.push(ue);e:for(;0<fe;){var Ee=fe-1>>>1,_e=G[Ee];if(0<o(_e,ue))G[Ee]=ue,G[fe]=_e,fe=Ee;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ue=G[0],fe=G.pop();if(fe!==ue){G[0]=fe;e:for(var Ee=0,_e=G.length,N=_e>>>1;Ee<N;){var W=2*(Ee+1)-1,se=G[W],he=W+1,$=G[he];if(0>o(se,fe))he<_e&&0>o($,se)?(G[Ee]=$,G[he]=fe,Ee=he):(G[Ee]=se,G[W]=fe,Ee=W);else if(he<_e&&0>o($,fe))G[Ee]=$,G[he]=fe,Ee=he;else break e}}return ue}function o(G,ue){var fe=G.sortIndex-ue.sortIndex;return fe!==0?fe:G.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],m=[],_=1,T=null,S=3,D=!1,M=!1,U=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Y(G){for(var ue=n(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=G)r(m),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(m)}}function F(G){if(U=!1,Y(G),!M)if(n(g)!==null)M=!0,X||(X=!0,k());else{var ue=n(m);ue!==null&&be(F,ue.startTime-G)}}var X=!1,L=-1,A=5,C=-1;function I(){return V?!0:!(i.unstable_now()-C<A)}function x(){if(V=!1,X){var G=i.unstable_now();C=G;var ue=!0;try{e:{M=!1,U&&(U=!1,B(L),L=-1),D=!0;var fe=S;try{t:{for(Y(G),T=n(g);T!==null&&!(T.expirationTime>G&&I());){var Ee=T.callback;if(typeof Ee=="function"){T.callback=null,S=T.priorityLevel;var _e=Ee(T.expirationTime<=G);if(G=i.unstable_now(),typeof _e=="function"){T.callback=_e,Y(G),ue=!0;break t}T===n(g)&&r(g),Y(G)}else r(g);T=n(g)}if(T!==null)ue=!0;else{var N=n(m);N!==null&&be(F,N.startTime-G),ue=!1}}break e}finally{T=null,S=fe,D=!1}ue=void 0}}finally{ue?k():X=!1}}}var k;if(typeof te=="function")k=function(){te(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,me=O.port2;O.port1.onmessage=x,k=function(){me.postMessage(null)}}else k=function(){H(x,0)};function be(G,ue){L=H(function(){G(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(G){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var fe=S;S=ue;try{return G()}finally{S=fe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=S;S=G;try{return ue()}finally{S=fe}},i.unstable_scheduleCallback=function(G,ue,fe){var Ee=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,G){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,G={id:_++,callback:ue,priorityLevel:G,startTime:fe,expirationTime:_e,sortIndex:-1},fe>Ee?(G.sortIndex=fe,e(m,G),n(g)===null&&G===n(m)&&(U?(B(L),L=-1):U=!0,be(F,fe-Ee))):(G.sortIndex=_e,e(g,G),M||D||(M=!0,X||(X=!0,k()))),G},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(G){var ue=S;return function(){var fe=S;S=ue;try{return G.apply(this,arguments)}finally{S=fe}}}})(kd)),kd}var i_;function EC(){return i_||(i_=1,Pd.exports=_C()),Pd.exports}var Ud={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function bC(){if(s_)return dn;s_=1;var i=xp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:m,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,_)},dn.flushSync=function(g){var m=h.T,_=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=m,r.p=_,r.d.f()}},dn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},dn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},dn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,T=p(_,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):_==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},dn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=p(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},dn.requestFormReset=function(g){r.d.r(g)},dn.unstable_batchedUpdates=function(g,m){return g(m)},dn.useFormState=function(g,m,_){return h.H.useFormState(g,m,_)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var r_;function Gb(){if(r_)return Ud.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ud.exports=bC(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function TC(){if(a_)return Ll;a_=1;var i=EC(),e=xp(),n=Gb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function m(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=d;break}if(w===l){E=!0,l=f,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=f;break}if(w===l){E=!0,l=d,a=f;break}w=w.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case H:return"Profiler";case V:return"StrictMode";case F:return"Suspense";case X:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case te:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case Y:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return s=t.displayName||null,s!==null?s:me(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return me(t(s))}catch{}}return null}var be=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],_e=-1;function N(t){return{current:t}}function W(t){0>_e||(t.current=Ee[_e],Ee[_e]=null,_e--)}function se(t,s){_e++,Ee[_e]=t.current,t.current=s}var he=N(null),$=N(null),ve=N(null),Se=N(null);function Ce(t,s){switch(se(ve,s),se($,t),se(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?by(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=by(s),t=Ty(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(he),se(he,t)}function Oe(){W(he),W($),W(ve)}function we(t){t.memoizedState!==null&&se(Se,t);var s=he.current,a=Ty(s,t.type);s!==a&&(se($,t),se(he,a))}function ze(t){$.current===t&&(W(he),W($)),Se.current===t&&(W(Se),Tl._currentValue=fe)}var Qt,un;function cn(t){if(Qt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Qt=s&&s[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+un}var $e=!1;function _i(t,s){if(!t||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var Z=ee}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(ee){Z=ee}t.call(ae.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var P=E.split(`
`),K=w.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===K.length)for(l=P.length-1,f=K.length-1;1<=l&&0<=f&&P[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==K[f]){var ie=`
`+P[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=f);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function Ei(t,s){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==s&&s!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return cn("Activity");default:return""}}function Ds(t){try{var s="",a=null;do s+=Ei(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,pa=i.unstable_shouldYield,Zi=i.unstable_requestPaint,Kt=i.unstable_now,bi=i.unstable_getCurrentPriorityLevel,Os=i.unstable_ImmediatePriority,Ti=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,xs=i.unstable_LowPriority,Ar=i.unstable_IdlePriority,Xi=i.log,Lr=i.unstable_setDisableYieldValue,hn=null,xt=null;function Jt(t){if(typeof Xi=="function"&&Lr(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(hn,t)}catch{}}var vt=Math.clz32?Math.clz32:es,Wi=Math.log,Ji=Math.LN2;function es(t){return t>>>=0,t===0?32:31-(Wi(t)/Ji|0)|0}var Dn=256,Si=262144,Et=4194304;function vn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function On(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=vn(l):(E&=w,E!==0?f=vn(E):a||(a=w&~t,a!==0&&(f=vn(a))))):(w=l&~d,w!==0?f=vn(w):E!==0?f=vn(E):a||(a=l&~t,a!==0&&(f=vn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function fn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ga(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function xn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function ns(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function is(t,s,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,P=t.expirationTimes,K=t.hiddenUpdates;for(a=E&~a;0<a;){var ie=31-vt(a),ae=1<<ie;w[ie]=0,P[ie]=-1;var Z=K[ie];if(Z!==null)for(K[ie]=null,ie=0;ie<Z.length;ie++){var ee=Z[ie];ee!==null&&(ee.lane&=-536870913)}a&=~ae}l!==0&&Me(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~s))}function Me(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-vt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Ro(t,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ss(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function ai(t,s){var a=ue.p;try{return ue.p=t,s()}finally{ue.p=a}}var oi=Math.random().toString(36).slice(2),It="__reactFiber$"+oi,Yt="__reactProps$"+oi,Ci="__reactContainer$"+oi,ma="__reactEvents$"+oi,Uh="__reactListeners$"+oi,fu="__reactHandles$"+oi,du="__reactResources$"+oi,wi="__reactMarker$"+oi;function va(t){delete t[It],delete t[Yt],delete t[ma],delete t[Uh],delete t[fu]}function Ai(t){var s=t[It];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ci]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[It])return a;t=My(t)}return s}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Ci]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function In(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Li(t){var s=t[du];return s||(s=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(t){t[wi]=!0}var Mo=new Set,Do={};function Ri(t,s){Mi(t,s),Mi(t+"Capture",s)}function Mi(t,s){for(Do[t]=s,t=0;t<s.length;t++)Mo.add(s[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Io={};function pu(t){return dt.call(Io,t)?!0:dt.call(xo,t)?!1:Oo.test(t)?Io[t]=!0:(xo[t]=!0,!1)}function ya(t,s,a){if(pu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Nt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function st(t){if(!t._valueTracker){var s=Is(t)?"checked":"value";t._valueTracker=Vo(t,s,""+t[s])}}function Mr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function bn(t){return t.replace(Dr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _a(t,s,a,l,f,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),s!=null?E==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+$t(s)):t.value!==""+$t(s)&&(t.value=""+$t(s)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),s!=null?No(t,E,$t(s)):a!=null?No(t,E,$t(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+$t(w):t.removeAttribute("name")}function gu(t,s,a,l,f,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){st(t);return}a=a!=null?""+$t(a):"",s=s!=null?""+$t(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),st(t)}function No(t,s,a){s==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vs(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function mu(t,s,a){if(s!=null&&(s=""+$t(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+$t(a):""}function Ns(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(be(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=$t(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Tn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||vu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ko(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Po(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Po(t,d,s[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Uo=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Oi=null;function Or(t){var s=Fn(t);if(s&&(t=s.stateNode)){var a=t[Yt]||null;e:switch(t=s.stateNode,s.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Yt]||null;if(!f)throw Error(r(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Mr(l)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Vs(t,!!a.multiple,s,!1)}}}var Ta=!1;function Us(t,s,a){if(Ta)return t(s,a);Ta=!0;try{var l=t(s);return l}finally{if(Ta=!1,(ks!==null||Oi!==null)&&(hc(),ks&&(s=ks,t=Oi,Oi=ks=null,Or(s),t)))for(s=0;s<t.length;s++)Or(t[s])}}function ui(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Qn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){xr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{xr=!1}var xi=null,zo=null,Ir=null;function Bo(){if(Ir)return Ir;var t,s=zo,a=s.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&s[a-l]===f[d-l];l++);return Ir=f.slice(t,1<l?1-l:void 0)}function Vr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function ci(){return!1}function en(t){function s(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rs:ci,this.isPropagationStopped=ci,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),s}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=en(as),zs=T({},as,{view:0,detail:0}),jo=en(zs),Bs,Sa,Vi,Ca=T({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Bs=t.screenX-Vi.screenX,Sa=t.screenY-Vi.screenY):Sa=Bs=0,Vi=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Ho=en(Ca),Nr=T({},Ca,{dataTransfer:0}),_u=en(Nr),Eu=T({},zs,{relatedTarget:0}),Pr=en(Eu),qo=T({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=en(qo),wa=T({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=en(wa),Su=T({},as,{data:0}),Ni=en(Su),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Au[t])?!!s[t]:!1}function js(){return Lu}var yn=T({},zs,{key:function(t){if(t.key){var s=Cu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=en(yn),Mu=T({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=en(Mu),c=T({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),v=en(c),b=T({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(b),q=T({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J=en(q),de=T({},as,{newState:0,oldState:0}),Ne=en(de),Rt=[9,13,27,32],tt=Qn&&"CompositionEvent"in window,yt=null;Qn&&"documentMode"in document&&(yt=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!yt,Pi=Qn&&(!tt||yt&&8<yt&&11>=yt),hi=" ",fi=!1;function kr(t,s){switch(t){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function zS(t,s){switch(t){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(fi=!0,hi);case"textInput":return t=s.data,t===hi&&fi?null:t;default:return null}}function BS(t,s){if(La)return t==="compositionend"||!tt&&kr(t,s)?(t=Bo(),Ir=zo=xi=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pi&&s.locale!=="ko"?null:s.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!jS[t.type]:s==="textarea"}function Ig(t,s,a,l){ks?Oi?Oi.push(l):Oi=[l]:ks=l,s=yc(s,"onChange"),0<s.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Fo=null,Go=null;function HS(t){gy(t,0)}function Du(t){var s=In(t);if(Mr(s))return t}function Vg(t,s){if(t==="change")return s}var Ng=!1;if(Qn){var zh;if(Qn){var Bh="oninput"in document;if(!Bh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Bh=typeof Pg.oninput=="function"}zh=Bh}else zh=!1;Ng=zh&&(!document.documentMode||9<document.documentMode)}function kg(){Fo&&(Fo.detachEvent("onpropertychange",Ug),Go=Fo=null)}function Ug(t){if(t.propertyName==="value"&&Du(Go)){var s=[];Ig(s,Go,t,Gn(t)),Us(HS,s)}}function qS(t,s,a){t==="focusin"?(kg(),Fo=s,Go=a,Fo.attachEvent("onpropertychange",Ug)):t==="focusout"&&kg()}function FS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Go)}function GS(t,s){if(t==="click")return Du(s)}function QS(t,s){if(t==="input"||t==="change")return Du(s)}function KS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Nn=typeof Object.is=="function"?Object.is:KS;function Qo(t,s){if(Nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dt.call(s,f)||!Nn(t[f],s[f]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,s){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function jg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?jg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Di(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Di(t.document)}return s}function jh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var YS=Qn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Hh=null,Ko=null,qh=!1;function qg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||Ra==null||Ra!==Di(l)||(l=Ra,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=yc(Hh,"onSelect"),0<l.length&&(s=new Ii("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ra)))}function Ur(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ma={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Fh={},Fg={};Qn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function zr(t){if(Fh[t])return Fh[t];if(!Ma[t])return t;var s=Ma[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fg)return Fh[t]=s[a];return t}var Gg=zr("animationend"),Qg=zr("animationiteration"),Kg=zr("animationstart"),$S=zr("transitionrun"),ZS=zr("transitionstart"),XS=zr("transitioncancel"),Yg=zr("transitionend"),$g=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function di(t,s){$g.set(t,s),Ri(s,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Da=0,Qh=0;function xu(){for(var t=Da,s=Qh=Da=0;s<t;){var a=Yn[s];Yn[s++]=null;var l=Yn[s];Yn[s++]=null;var f=Yn[s];Yn[s++]=null;var d=Yn[s];if(Yn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function Iu(t,s,a,l){Yn[Da++]=t,Yn[Da++]=s,Yn[Da++]=a,Yn[Da++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,s,a,l){return Iu(t,s,a,l),Vu(t)}function Br(t,s){return Iu(t,null,null,s),Vu(t)}function Zg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Vu(t){if(50<gl)throw gl=0,id=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function WS(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,s,a,l){return new WS(t,s,a,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,s){var a=t.alternate;return a===null?(a=Pn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Nu(t,s,a,l,f,d){var E=0;if(l=t,typeof t=="function")Yh(t)&&(E=1);else if(typeof t=="string")E=iC(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Pn(31,a,s,f),t.elementType=C,t.lanes=d,t;case U:return jr(a.children,f,d,s);case V:E=8,f|=24;break;case H:return t=Pn(12,a,s,f|2),t.elementType=H,t.lanes=d,t;case F:return t=Pn(13,a,s,f),t.elementType=F,t.lanes=d,t;case X:return t=Pn(19,a,s,f),t.elementType=X,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:E=10;break e;case B:E=9;break e;case Y:E=11;break e;case L:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=Pn(E,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function jr(t,s,a,l){return t=Pn(7,t,l,s),t.lanes=a,t}function $h(t,s,a){return t=Pn(6,t,null,s),t.lanes=a,t}function Wg(t){var s=Pn(18,null,null,0);return s.stateNode=t,s}function Zh(t,s,a){return s=Pn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Jg=new WeakMap;function $n(t,s){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ds(s)},Jg.set(t,s),s)}return{value:t,source:s,stack:Ds(s)}}var xa=[],Ia=0,Pu=null,Yo=0,Zn=[],Xn=0,Hs=null,ki=1,Ui="";function us(t,s){xa[Ia++]=Yo,xa[Ia++]=Pu,Pu=t,Yo=s}function em(t,s,a){Zn[Xn++]=ki,Zn[Xn++]=Ui,Zn[Xn++]=Hs,Hs=t;var l=ki;t=Ui;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(s)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ki=1<<32-vt(s)+f|a<<f|l,Ui=d+t}else ki=1<<d|a<<f|l,Ui=t}function Xh(t){t.return!==null&&(us(t,1),em(t,1,0))}function Wh(t){for(;t===Pu;)Pu=xa[--Ia],xa[Ia]=null,Yo=xa[--Ia],xa[Ia]=null;for(;t===Hs;)Hs=Zn[--Xn],Zn[Xn]=null,Ui=Zn[--Xn],Zn[Xn]=null,ki=Zn[--Xn],Zn[Xn]=null}function tm(t,s){Zn[Xn++]=ki,Zn[Xn++]=Ui,Zn[Xn++]=Hs,ki=s.id,Ui=s.overflow,Hs=t}var tn=null,pt=null,Ye=!1,qs=null,Wn=!1,Jh=Error(r(519));function Fs(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o($n(s,t)),Jh}function nm(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[It]=t,s[Yt]=l,a){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(a=0;a<vl.length;a++)He(vl[a],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),gu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Ns(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||_y(s.textContent,a)?(l.popover!=null&&(He("beforetoggle",s),He("toggle",s)),l.onScroll!=null&&He("scroll",s),l.onScrollEnd!=null&&He("scrollend",s),l.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||Fs(t,!0)}function im(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Va(t){if(t!==tn)return!1;if(!Ye)return im(t),Ye=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yd(t.type,t.memoizedProps)),a=!a),a&&pt&&Fs(t),im(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Ry(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=Ry(t)}else s===27?(s=pt,sr(t.type)?(t=Sd,Sd=null,pt=t):pt=s):pt=tn?ei(t.stateNode.nextSibling):null;return!0}function Hr(){pt=tn=null,Ye=!1}function ef(){var t=qs;return t!==null&&(An===null?An=t:An.push.apply(An,t),qs=null),t}function $o(t){qs===null?qs=[t]:qs.push(t)}var tf=N(null),qr=null,cs=null;function Gs(t,s,a){se(tf,s._currentValue),s._currentValue=a}function hs(t){t._currentValue=tf.current,W(tf)}function nf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function sf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var P=0;P<s.length;P++)if(w.context===s[P]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),nf(d.return,a,t),l||(E=null);break e}d=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),nf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Na(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=f.type;Nn(f.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(f===Se.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}f=f.return}t!==null&&sf(s,t,a,l),s.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){qr=t,cs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return sm(qr,t)}function Uu(t,s){return qr===null&&Fr(t),sm(t,s)}function sm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},cs===null){if(t===null)throw Error(r(308));cs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else cs=cs.next=s;return a}var JS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},e1=i.unstable_scheduleCallback,t1=i.unstable_NormalPriority,Pt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new JS,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&e1(t1,function(){t.controller.abort()})}var Xo=null,af=0,Pa=0,ka=null;function n1(t,s){if(Xo===null){var a=Xo=[];af=0,Pa=ud(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return af++,s.then(rm,rm),s}function rm(){if(--af===0&&Xo!==null){ka!==null&&(ka.status="fulfilled");var t=Xo;Xo=null,Pa=0,ka=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function i1(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var am=G.S;G.S=function(t,s){qv=Kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&n1(t,s),am!==null&&am(t,s)};var Gr=N(null);function of(){var t=Gr.current;return t!==null?t:ht.pooledCache}function zu(t,s){s===null?se(Gr,Gr.current):se(Gr,s.pool)}function om(){var t=of();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ua=Error(r(460)),lf=Error(r(474)),Bu=Error(r(542)),ju={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function um(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(li,li),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hm(t),t;default:if(typeof s.status=="string")s.then(li,li);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hm(t),t}throw Kr=s,Ua}}function Qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,Ua):a}}var Kr=null;function cm(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function hm(t){if(t===Ua||t===Bu)throw Error(r(483))}var za=null,Wo=0;function Hu(t){var s=Wo;return Wo+=1,za===null&&(za=[]),um(za,t,s)}function Jo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function qu(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function fm(t){function s(j,z){if(t){var Q=j.deletions;Q===null?(j.deletions=[z],j.flags|=16):Q.push(z)}}function a(j,z){if(!t)return null;for(;z!==null;)s(j,z),z=z.sibling;return null}function l(j){for(var z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function f(j,z){return j=ls(j,z),j.index=0,j.sibling=null,j}function d(j,z,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<z?(j.flags|=67108866,z):Q):(j.flags|=67108866,z)):(j.flags|=1048576,z)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,z,Q,re){return z===null||z.tag!==6?(z=$h(Q,j.mode,re),z.return=j,z):(z=f(z,Q),z.return=j,z)}function P(j,z,Q,re){var Ae=Q.type;return Ae===U?ie(j,z,Q.props.children,re,Q.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Qr(Ae)===z.type)?(z=f(z,Q.props),Jo(z,Q),z.return=j,z):(z=Nu(Q.type,Q.key,Q.props,null,j.mode,re),Jo(z,Q),z.return=j,z)}function K(j,z,Q,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Zh(Q,j.mode,re),z.return=j,z):(z=f(z,Q.children||[]),z.return=j,z)}function ie(j,z,Q,re,Ae){return z===null||z.tag!==7?(z=jr(Q,j.mode,re,Ae),z.return=j,z):(z=f(z,Q),z.return=j,z)}function ae(j,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=$h(""+z,j.mode,Q),z.return=j,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return Q=Nu(z.type,z.key,z.props,null,j.mode,Q),Jo(Q,z),Q.return=j,Q;case M:return z=Zh(z,j.mode,Q),z.return=j,z;case A:return z=Qr(z),ae(j,z,Q)}if(be(z)||k(z))return z=jr(z,j.mode,Q,null),z.return=j,z;if(typeof z.then=="function")return ae(j,Hu(z),Q);if(z.$$typeof===te)return ae(j,Uu(j,z),Q);qu(j,z)}return null}function Z(j,z,Q,re){var Ae=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:w(j,z,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===Ae?P(j,z,Q,re):null;case M:return Q.key===Ae?K(j,z,Q,re):null;case A:return Q=Qr(Q),Z(j,z,Q,re)}if(be(Q)||k(Q))return Ae!==null?null:ie(j,z,Q,re,null);if(typeof Q.then=="function")return Z(j,z,Hu(Q),re);if(Q.$$typeof===te)return Z(j,z,Uu(j,Q),re);qu(j,Q)}return null}function ee(j,z,Q,re,Ae){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return j=j.get(Q)||null,w(z,j,""+re,Ae);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case D:return j=j.get(re.key===null?Q:re.key)||null,P(z,j,re,Ae);case M:return j=j.get(re.key===null?Q:re.key)||null,K(z,j,re,Ae);case A:return re=Qr(re),ee(j,z,Q,re,Ae)}if(be(re)||k(re))return j=j.get(Q)||null,ie(z,j,re,Ae,null);if(typeof re.then=="function")return ee(j,z,Q,Hu(re),Ae);if(re.$$typeof===te)return ee(j,z,Q,Uu(z,re),Ae);qu(z,re)}return null}function ye(j,z,Q,re){for(var Ae=null,We=null,Te=z,ke=z=0,Ge=null;Te!==null&&ke<Q.length;ke++){Te.index>ke?(Ge=Te,Te=null):Ge=Te.sibling;var Je=Z(j,Te,Q[ke],re);if(Je===null){Te===null&&(Te=Ge);break}t&&Te&&Je.alternate===null&&s(j,Te),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je,Te=Ge}if(ke===Q.length)return a(j,Te),Ye&&us(j,ke),Ae;if(Te===null){for(;ke<Q.length;ke++)Te=ae(j,Q[ke],re),Te!==null&&(z=d(Te,z,ke),We===null?Ae=Te:We.sibling=Te,We=Te);return Ye&&us(j,ke),Ae}for(Te=l(Te);ke<Q.length;ke++)Ge=ee(Te,j,ke,Q[ke],re),Ge!==null&&(t&&Ge.alternate!==null&&Te.delete(Ge.key===null?ke:Ge.key),z=d(Ge,z,ke),We===null?Ae=Ge:We.sibling=Ge,We=Ge);return t&&Te.forEach(function(ur){return s(j,ur)}),Ye&&us(j,ke),Ae}function Re(j,z,Q,re){if(Q==null)throw Error(r(151));for(var Ae=null,We=null,Te=z,ke=z=0,Ge=null,Je=Q.next();Te!==null&&!Je.done;ke++,Je=Q.next()){Te.index>ke?(Ge=Te,Te=null):Ge=Te.sibling;var ur=Z(j,Te,Je.value,re);if(ur===null){Te===null&&(Te=Ge);break}t&&Te&&ur.alternate===null&&s(j,Te),z=d(ur,z,ke),We===null?Ae=ur:We.sibling=ur,We=ur,Te=Ge}if(Je.done)return a(j,Te),Ye&&us(j,ke),Ae;if(Te===null){for(;!Je.done;ke++,Je=Q.next())Je=ae(j,Je.value,re),Je!==null&&(z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return Ye&&us(j,ke),Ae}for(Te=l(Te);!Je.done;ke++,Je=Q.next())Je=ee(Te,j,ke,Je.value,re),Je!==null&&(t&&Je.alternate!==null&&Te.delete(Je.key===null?ke:Je.key),z=d(Je,z,ke),We===null?Ae=Je:We.sibling=Je,We=Je);return t&&Te.forEach(function(pC){return s(j,pC)}),Ye&&us(j,ke),Ae}function ct(j,z,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===U&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:e:{for(var Ae=Q.key;z!==null;){if(z.key===Ae){if(Ae=Q.type,Ae===U){if(z.tag===7){a(j,z.sibling),re=f(z,Q.props.children),re.return=j,j=re;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Qr(Ae)===z.type){a(j,z.sibling),re=f(z,Q.props),Jo(re,Q),re.return=j,j=re;break e}a(j,z);break}else s(j,z);z=z.sibling}Q.type===U?(re=jr(Q.props.children,j.mode,re,Q.key),re.return=j,j=re):(re=Nu(Q.type,Q.key,Q.props,null,j.mode,re),Jo(re,Q),re.return=j,j=re)}return E(j);case M:e:{for(Ae=Q.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){a(j,z.sibling),re=f(z,Q.children||[]),re.return=j,j=re;break e}else{a(j,z);break}else s(j,z);z=z.sibling}re=Zh(Q,j.mode,re),re.return=j,j=re}return E(j);case A:return Q=Qr(Q),ct(j,z,Q,re)}if(be(Q))return ye(j,z,Q,re);if(k(Q)){if(Ae=k(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Re(j,z,Q,re)}if(typeof Q.then=="function")return ct(j,z,Hu(Q),re);if(Q.$$typeof===te)return ct(j,z,Uu(j,Q),re);qu(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(a(j,z.sibling),re=f(z,Q),re.return=j,j=re):(a(j,z),re=$h(Q,j.mode,re),re.return=j,j=re),E(j)):a(j,z)}return function(j,z,Q,re){try{Wo=0;var Ae=ct(j,z,Q,re);return za=null,Ae}catch(Te){if(Te===Ua||Te===Bu)throw Te;var We=Pn(29,Te,null,j.mode);return We.lanes=re,We.return=j,We}finally{}}}var Yr=fm(!0),dm=fm(!1),Qs=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Vu(t),Zg(t,null,a),s}return Iu(t,l,s,a),Vu(t)}function el(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Lo(t,a)}}function hf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ff=!1;function tl(){if(ff){var t=ka;if(t!==null)throw t}}function nl(t,s,a,l){ff=!1;var f=t.updateQueue;Qs=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var P=w,K=P.next;P.next=null,E===null?d=K:E.next=K,E=P;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==E&&(w===null?ie.firstBaseUpdate=K:w.next=K,ie.lastBaseUpdate=P))}if(d!==null){var ae=f.baseState;E=0,ie=K=P=null,w=d;do{var Z=w.lane&-536870913,ee=Z!==w.lane;if(ee?(Fe&Z)===Z:(l&Z)===Z){Z!==0&&Z===Pa&&(ff=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=t,Re=w;Z=s;var ct=a;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ae=ye.call(ct,ae,Z);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,Z=typeof ye=="function"?ye.call(ct,ae,Z):ye,Z==null)break e;ae=T({},ae,Z);break e;case 2:Qs=!0}}Z=w.callback,Z!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(K=ie=ee,P=ae):ie=ie.next=ee,E|=Z;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;ee=w,w=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ie===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=K,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),Js|=E,t.lanes=E,t.memoizedState=ae}}function pm(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function gm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pm(a[t],s)}var Ba=N(null),Fu=N(0);function mm(t,s){t=Es,se(Fu,t),se(Ba,s),Es=t|s.baseLanes}function df(){se(Fu,Es),se(Ba,Ba.current)}function pf(){Es=Fu.current,W(Ba),W(Fu)}var kn=N(null),Jn=null;function $s(t){var s=t.alternate;se(Mt,Mt.current&1),se(kn,t),Jn===null&&(s===null||Ba.current!==null||s.memoizedState!==null)&&(Jn=t)}function gf(t){se(Mt,Mt.current),se(kn,t),Jn===null&&(Jn=t)}function vm(t){t.tag===22?(se(Mt,Mt.current),se(kn,t),Jn===null&&(Jn=t)):Zs()}function Zs(){se(Mt,Mt.current),se(kn,kn.current)}function Un(t){W(kn),Jn===t&&(Jn=null),W(Mt)}var Mt=N(0);function Gu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Td(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fs=0,Pe=null,lt=null,kt=null,Qu=!1,ja=!1,$r=!1,Ku=0,il=0,Ha=null,s1=0;function Ct(){throw Error(r(321))}function mf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Nn(t[a],s[a]))return!1;return!0}function vf(t,s,a,l,f,d){return fs=d,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?ev:xf,$r=!1,d=a(l,f),$r=!1,ja&&(d=_m(s,a,l,f)),ym(t),d}function ym(t){G.H=al;var s=lt!==null&&lt.next!==null;if(fs=0,kt=lt=Pe=null,Qu=!1,il=0,Ha=null,s)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&ku(t)&&(Ut=!0))}function _m(t,s,a,l){Pe=t;var f=0;do{if(ja&&(Ha=null),il=0,ja=!1,25<=f)throw Error(r(301));if(f+=1,kt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=tv,d=s(a,l)}while(ja);return d}function r1(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?sl(s):s,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Pe.flags|=1024),s}function yf(){var t=Ku!==0;return Ku=0,t}function _f(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Ef(t){if(Qu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Qu=!1}fs=0,kt=lt=Pe=null,ja=!1,il=Ku=0,Ha=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=t:kt=kt.next=t,kt}function Dt(){if(lt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var s=kt===null?Pe.memoizedState:kt.next;if(s!==null)kt=s,lt=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},kt===null?Pe.memoizedState=kt=t:kt=kt.next=t}return kt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var s=il;return il+=1,Ha===null&&(Ha=[]),t=um(Ha,t,s),s=Pe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?ev:xf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===te)return nn(t)}throw Error(r(438,String(t)))}function bf(t){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Yu(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ds(t,s){return typeof s=="function"?s(t):s}function Zu(t){var s=Dt();return Tf(s,lt,t)}function Tf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var w=E=null,P=null,K=s,ie=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Fe&ae)===ae:(fs&ae)===ae){var Z=K.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Pa&&(ie=!0);else if((fs&Z)===Z){K=K.next,Z===Pa&&(ie=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(w=P=ae,E=d):P=P.next=ae,Pe.lanes|=Z,Js|=Z;ae=K.action,$r&&a(d,ae),d=K.hasEagerState?K.eagerState:a(d,ae)}else Z={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(w=P=Z,E=d):P=P.next=Z,Pe.lanes|=ae,Js|=ae;K=K.next}while(K!==null&&K!==s);if(P===null?E=d:P.next=w,!Nn(d,t.memoizedState)&&(Ut=!0,ie&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=P,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var s=Dt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Nn(d,s.memoizedState)||(Ut=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Em(t,s,a){var l=Pe,f=Dt(),d=Ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Nn((lt||f).memoizedState,a);if(E&&(f.memoizedState=a,Ut=!0),f=f.queue,Af(Sm.bind(null,l,f,t),[t]),f.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},Tm.bind(null,l,f,a,s),null),ht===null)throw Error(r(349));d||(fs&127)!==0||bm(l,s,a)}return a}function bm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=Yu(),Pe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Tm(t,s,a,l){s.value=a,s.getSnapshot=l,Cm(s)&&wm(t)}function Sm(t,s,a){return a(function(){Cm(s)&&wm(t)})}function Cm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Nn(t,a)}catch{return!0}}function wm(t){var s=Br(t,2);s!==null&&Ln(s,t,2)}function Cf(t){var s=_n();if(typeof t=="function"){var a=t;if(t=a(),$r){Jt(!0);try{a()}finally{Jt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},s}function Am(t,s,a,l){return t.baseState=a,Tf(t,lt,typeof l=="function"?l:ds)}function a1(t,s,a,l,f){if(Ju(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Lm(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Lm(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=G.T,E={};G.T=E;try{var w=a(f,l),P=G.S;P!==null&&P(E,w),Rm(t,s,w)}catch(K){wf(t,s,K)}finally{d!==null&&E.types!==null&&(d.types=E.types),G.T=d}}else try{d=a(f,l),Rm(t,s,d)}catch(K){wf(t,s,K)}}function Rm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mm(t,s,l)},function(l){return wf(t,s,l)}):Mm(t,s,a)}function Mm(t,s,a){s.status="fulfilled",s.value=a,Dm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Lm(t,a)))}function wf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Dm(s),s=s.next;while(s!==l)}t.action=null}function Dm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Om(t,s){return s}function xm(t,s){if(Ye){var a=ht.formState;if(a!==null){e:{var l=Pe;if(Ye){if(pt){t:{for(var f=pt,d=Wn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){pt=ei(f.nextSibling),l=f.data==="F!";break e}}Fs(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:s},a.queue=l,a=Xm.bind(null,Pe,l),l.dispatch=a,l=Cf(!1),d=Of.bind(null,Pe,!1,l.queue),l=_n(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=a1.bind(null,Pe,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Im(t){var s=Dt();return Vm(s,lt,t)}function Vm(t,s,a){if(s=Tf(t,s,Om)[0],t=Zu(ds)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=sl(s)}catch(E){throw E===Ua?Bu:E}else l=s;s=Dt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,qa(9,{destroy:void 0},o1.bind(null,f,a),null)),[l,d,t]}function o1(t,s){t.action=s}function Nm(t){var s=Dt(),a=lt;if(a!==null)return Vm(s,a,t);Dt(),s=s.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function qa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Yu(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Pm(){return Dt().memoizedState}function Xu(t,s,a,l){var f=_n();Pe.flags|=t,f.memoizedState=qa(1|s,{destroy:void 0},a,l===void 0?null:l)}function Wu(t,s,a,l){var f=Dt();l=l===void 0?null:l;var d=f.memoizedState.inst;lt!==null&&l!==null&&mf(l,lt.memoizedState.deps)?f.memoizedState=qa(s,d,a,l):(Pe.flags|=t,f.memoizedState=qa(1|s,d,a,l))}function km(t,s){Xu(8390656,8,t,s)}function Af(t,s){Wu(2048,8,t,s)}function l1(t){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Yu(),Pe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Um(t){var s=Dt().memoizedState;return l1({ref:s,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function zm(t,s){return Wu(4,2,t,s)}function Bm(t,s){return Wu(4,4,t,s)}function jm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Hm(t,s,a){a=a!=null?a.concat([t]):null,Wu(4,4,jm.bind(null,s,t),a)}function Lf(){}function qm(t,s){var a=Dt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&mf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Fm(t,s){var a=Dt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&mf(s,l[1]))return l[0];if(l=t(),$r){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l}function Rf(t,s,a){return a===void 0||(fs&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Gv(),Pe.lanes|=t,Js|=t,a)}function Gm(t,s,a,l){return Nn(a,s)?a:Ba.current!==null?(t=Rf(t,a,l),Nn(t,s)||(Ut=!0),t):(fs&42)===0||(fs&1073741824)!==0&&(Fe&261930)===0?(Ut=!0,t.memoizedState=a):(t=Gv(),Pe.lanes|=t,Js|=t,s)}function Qm(t,s,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=G.T,w={};G.T=w,Of(t,!1,s,a);try{var P=f(),K=G.S;if(K!==null&&K(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ie=i1(P,l);rl(t,s,ie,jn(t))}else rl(t,s,l,jn(t))}catch(ae){rl(t,s,{then:function(){},status:"rejected",reason:ae},jn())}finally{ue.p=d,E!==null&&w.types!==null&&(E.types=w.types),G.T=E}}function u1(){}function Mf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=Km(t).queue;Qm(t,f,s,fe,a===null?u1:function(){return Ym(t),a(l)})}function Km(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Ym(t){var s=Km(t);s.next===null&&(s=t.alternate.memoizedState),rl(t,s.next.queue,{},jn())}function Df(){return nn(Tl)}function $m(){return Dt().memoizedState}function Zm(){return Dt().memoizedState}function c1(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();t=Ks(a);var l=Ys(s,t,a);l!==null&&(Ln(l,s,a),el(l,s,a)),s={cache:rf()},t.payload=s;return}s=s.return}}function h1(t,s,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Wm(s,a):(a=Kh(t,s,a,l),a!==null&&(Ln(a,t,l),Jm(a,s,l)))}function Xm(t,s,a){var l=jn();rl(t,s,a,l)}function rl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Wm(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var E=s.lastRenderedState,w=d(E,a);if(f.hasEagerState=!0,f.eagerState=w,Nn(w,E))return Iu(t,s,f,0),ht===null&&xu(),!1}catch{}finally{}if(a=Kh(t,s,f,l),a!==null)return Ln(a,t,l),Jm(a,s,l),!0}return!1}function Of(t,s,a,l){if(l={lane:2,revertLane:ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(s)throw Error(r(479))}else s=Kh(t,a,l,2),s!==null&&Ln(s,t,2)}function Ju(t){var s=t.alternate;return t===Pe||s!==null&&s===Pe}function Wm(t,s){ja=Qu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Jm(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Lo(t,a)}}var al={readContext:nn,use:$u,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};al.useEffectEvent=Ct;var ev={readContext:nn,use:$u,useCallback:function(t,s){return _n().memoizedState=[t,s===void 0?null:s],t},useContext:nn,useEffect:km,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,jm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Xu(4194308,4,t,s)},useInsertionEffect:function(t,s){Xu(4,2,t,s)},useMemo:function(t,s){var a=_n();s=s===void 0?null:s;var l=t();if($r){Jt(!0);try{t()}finally{Jt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=_n();if(a!==void 0){var f=a(s);if($r){Jt(!0);try{a(s)}finally{Jt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=h1.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var s=_n();return t={current:t},s.memoizedState=t},useState:function(t){t=Cf(t);var s=t.queue,a=Xm.bind(null,Pe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,s){var a=_n();return Rf(a,t,s)},useTransition:function(){var t=Cf(!1);return t=Qm.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Pe,f=_n();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ht===null)throw Error(r(349));(Fe&127)!==0||bm(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,km(Sm.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},Tm.bind(null,l,d,a,s),null),a},useId:function(){var t=_n(),s=ht.identifierPrefix;if(Ye){var a=Ui,l=ki;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ku++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=s1++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Df,useFormState:xm,useActionState:xm,useOptimistic:function(t){var s=_n();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Of.bind(null,Pe,!0,a),a.dispatch=s,[t,s]},useMemoCache:bf,useCacheRefresh:function(){return _n().memoizedState=c1.bind(null,Pe)},useEffectEvent:function(t){var s=_n(),a={impl:t};return s.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:nn,use:$u,useCallback:qm,useContext:nn,useEffect:Af,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Fm,useReducer:Zu,useRef:Pm,useState:function(){return Zu(ds)},useDebugValue:Lf,useDeferredValue:function(t,s){var a=Dt();return Gm(a,lt.memoizedState,t,s)},useTransition:function(){var t=Zu(ds)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:sl(t),s]},useSyncExternalStore:Em,useId:$m,useHostTransitionStatus:Df,useFormState:Im,useActionState:Im,useOptimistic:function(t,s){var a=Dt();return Am(a,lt,t,s)},useMemoCache:bf,useCacheRefresh:Zm};xf.useEffectEvent=Um;var tv={readContext:nn,use:$u,useCallback:qm,useContext:nn,useEffect:Af,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Fm,useReducer:Sf,useRef:Pm,useState:function(){return Sf(ds)},useDebugValue:Lf,useDeferredValue:function(t,s){var a=Dt();return lt===null?Rf(a,t,s):Gm(a,lt.memoizedState,t,s)},useTransition:function(){var t=Sf(ds)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:sl(t),s]},useSyncExternalStore:Em,useId:$m,useHostTransitionStatus:Df,useFormState:Nm,useActionState:Nm,useOptimistic:function(t,s){var a=Dt();return lt!==null?Am(a,lt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Zm};tv.useEffectEvent=Um;function If(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Ks(l);f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),el(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=jn(),f=Ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ys(t,f,l),s!==null&&(Ln(s,t,l),el(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=jn(),l=Ks(a);l.tag=2,s!=null&&(l.callback=s),s=Ys(t,l,a),s!==null&&(Ln(s,t,a),el(s,t,a))}};function nv(t,s,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):s.prototype&&s.prototype.isPureReactComponent?!Qo(a,l)||!Qo(f,d):!0}function iv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Vf.enqueueReplaceState(s,s.state,null)}function Zr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function sv(t){Ou(t)}function rv(t){console.error(t)}function av(t){Ou(t)}function ec(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function ov(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nf(t,s,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){ec(t,s)},a}function lv(t){return t=Ks(t),t.tag=3,t}function uv(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){ov(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ov(s,a,l),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function f1(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Na(s,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?fc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ju?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ad(t,l,f)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ad(t,l,f)),!1}throw Error(r(435,a.tag))}return ad(t,l,f),fc(),!1}if(Ye)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jh&&(t=Error(r(422),{cause:l}),$o($n(t,a)))):(l!==Jh&&(s=Error(r(423),{cause:l}),$o($n(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=$n(l,a),f=Nf(t.stateNode,l,f),hf(t,f),wt!==4&&(wt=2)),!1;var d=Error(r(520),{cause:l});if(d=$n(d,a),pl===null?pl=[d]:pl.push(d),wt!==4&&(wt=2),s===null)return!0;l=$n(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Nf(a.stateNode,l,t),hf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(er===null||!er.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,t,a,l),hf(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(r(461)),Ut=!1;function sn(t,s,a,l){s.child=t===null?dm(s,null,a,l):Yr(s,t.child,a,l)}function cv(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Fr(s),l=vf(t,s,a,E,d,f),w=yf(),t!==null&&!Ut?(_f(t,s,f),ps(t,s,f)):(Ye&&w&&Xh(s),s.flags|=1,sn(t,s,l,f),s.child)}function hv(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Yh(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,fv(t,s,d,l,f)):(t=Nu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Ff(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&t.ref===s.ref)return ps(t,s,f)}return s.flags|=1,t=ls(d,l),t.ref=s.ref,t.return=s,s.child=t}function fv(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===s.ref)if(Ut=!1,s.pendingProps=l=d,Ff(t,f))(t.flags&131072)!==0&&(Ut=!0);else return s.lanes=t.lanes,ps(t,s,f)}return kf(t,s,a,l,f)}function dv(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return pv(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(s,d!==null?d.cachePool:null),d!==null?mm(s,d):df(),vm(s);else return l=s.lanes=536870912,pv(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(zu(s,d.cachePool),mm(s,d),Zs(),s.memoizedState=null):(t!==null&&zu(s,null),df(),Zs());return sn(t,s,f,a),s.child}function ol(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pv(t,s,a,l,f){var d=of();return d=d===null?null:{parent:Pt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&zu(s,null),df(),vm(s),t!==null&&Na(t,s,l,!0),s.childLanes=f,null}function tc(t,s){return s=ic({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function gv(t,s,a){return Yr(s,t.child,null,a),t=tc(s,s.pendingProps),t.flags|=2,Un(s),s.memoizedState=null,t}function d1(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=tc(s,l),s.lanes=536870912,ol(null,t);if(gf(s),(t=pt)?(t=Ly(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=s,s.child=a,tn=s,pt=null)):t=null,t===null)throw Fs(s);return s.lanes=536870912,null}return tc(s,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(gf(s),f)if(s.flags&256)s.flags&=-257,s=gv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||Na(t,s,a,!1),f=(a&t.childLanes)!==0,Ut||f){if(l=ht,l!==null&&(E=Ro(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,Br(t,E),Ln(l,t,E),Pf;fc(),s=gv(t,s,a)}else t=d.treeContext,pt=ei(E.nextSibling),tn=s,Ye=!0,qs=null,Wn=!1,t!==null&&tm(s,t),s=tc(s,l),s.flags|=4096;return s}return t=ls(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function nc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function kf(t,s,a,l,f){return Fr(s),a=vf(t,s,a,l,void 0,f),l=yf(),t!==null&&!Ut?(_f(t,s,f),ps(t,s,f)):(Ye&&l&&Xh(s),s.flags|=1,sn(t,s,a,f),s.child)}function mv(t,s,a,l,f,d){return Fr(s),s.updateQueue=null,a=_m(s,l,a,f),ym(t),l=yf(),t!==null&&!Ut?(_f(t,s,d),ps(t,s,d)):(Ye&&l&&Xh(s),s.flags|=1,sn(t,s,a,d),s.child)}function vv(t,s,a,l,f){if(Fr(s),s.stateNode===null){var d=Oa,E=a.contextType;typeof E=="object"&&E!==null&&(d=nn(E)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},uf(s),E=a.contextType,d.context=typeof E=="object"&&E!==null?nn(E):Oa,d.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(If(s,a,E,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Vf.enqueueReplaceState(d,d.state,null),nl(s,l,d,f),tl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var w=s.memoizedProps,P=Zr(a,w);d.props=P;var K=d.context,ie=a.contextType;E=Oa,typeof ie=="object"&&ie!==null&&(E=nn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||K!==E)&&iv(s,d,l,E),Qs=!1;var Z=s.memoizedState;d.state=Z,nl(s,l,d,f),tl(),K=s.memoizedState,w||Z!==K||Qs?(typeof ae=="function"&&(If(s,a,ae,l),K=s.memoizedState),(P=Qs||nv(s,a,P,l,Z,K,E))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=E,l=P):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,cf(t,s),E=s.memoizedProps,ie=Zr(a,E),d.props=ie,ae=s.pendingProps,Z=d.context,K=a.contextType,P=Oa,typeof K=="object"&&K!==null&&(P=nn(K)),w=a.getDerivedStateFromProps,(K=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ae||Z!==P)&&iv(s,d,l,P),Qs=!1,Z=s.memoizedState,d.state=Z,nl(s,l,d,f),tl();var ee=s.memoizedState;E!==ae||Z!==ee||Qs||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof w=="function"&&(If(s,a,w,l),ee=s.memoizedState),(ie=Qs||nv(s,a,ie,l,Z,ee,P)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ee,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ee,P)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ee),d.props=l,d.state=ee,d.context=P,l=ie):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,nc(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Yr(s,t.child,null,f),s.child=Yr(s,null,a,f)):sn(t,s,a,f),s.memoizedState=d.state,t=s.child):t=ps(t,s,f),t}function yv(t,s,a,l){return Hr(),s.flags|=256,sn(t,s,a,l),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:om()}}function Bf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Bn),t}function _v(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ye){if(f?$s(s):Zs(),(t=pt)?(t=Ly(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=s,s.child=a,tn=s,pt=null)):t=null,t===null)throw Fs(s);return Td(t)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Zs(),f=s.mode,w=ic({mode:"hidden",children:w},f),l=jr(l,f,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=zf(a),l.childLanes=Bf(t,E,a),s.memoizedState=Uf,ol(null,l)):($s(s),jf(s,w))}var P=t.memoizedState;if(P!==null&&(w=P.dehydrated,w!==null)){if(d)s.flags&256?($s(s),s.flags&=-257,s=Hf(t,s,a)):s.memoizedState!==null?(Zs(),s.child=t.child,s.flags|=128,s=null):(Zs(),w=l.fallback,f=s.mode,l=ic({mode:"visible",children:l.children},f),w=jr(w,f,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,Yr(s,t.child,null,a),l=s.child,l.memoizedState=zf(a),l.childLanes=Bf(t,E,a),s.memoizedState=Uf,s=ol(null,l));else if($s(s),Td(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,l=Error(r(419)),l.stack="",l.digest=E,$o({value:l,source:null,stack:null}),s=Hf(t,s,a)}else if(Ut||Na(t,s,a,!1),E=(a&t.childLanes)!==0,Ut||E){if(E=ht,E!==null&&(l=Ro(E,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,Br(t,l),Ln(E,t,l),Pf;bd(w)||fc(),s=Hf(t,s,a)}else bd(w)?(s.flags|=192,s.child=t.child,s=null):(t=P.treeContext,pt=ei(w.nextSibling),tn=s,Ye=!0,qs=null,Wn=!1,t!==null&&tm(s,t),s=jf(s,l.children),s.flags|=4096);return s}return f?(Zs(),w=l.fallback,f=s.mode,P=t.child,K=P.sibling,l=ls(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,K!==null?w=ls(K,w):(w=jr(w,f,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,ol(null,l),l=s.child,w=t.child.memoizedState,w===null?w=zf(a):(f=w.cachePool,f!==null?(P=Pt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=om(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Bf(t,E,a),s.memoizedState=Uf,ol(t.child,l)):($s(s),a=t.child,t=a.sibling,a=ls(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(E=s.deletions,E===null?(s.deletions=[t],s.flags|=16):E.push(t)),s.child=a,s.memoizedState=null,a)}function jf(t,s){return s=ic({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ic(t,s){return t=Pn(22,t,null,s),t.lanes=0,t}function Hf(t,s,a){return Yr(s,t.child,null,a),t=jf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ev(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),nf(t.return,s,a)}function qf(t,s,a,l,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function bv(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=Mt.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,se(Mt,E),sn(t,s,l,a),l=Ye?Yo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,a,s);else if(t.tag===19)Ev(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Gu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),qf(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Gu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}qf(s,!0,a,null,d,l);break;case"together":qf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ps(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Js|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Na(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=ls(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ls(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ff(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function p1(t,s,a){switch(s.tag){case 3:Ce(s,s.stateNode.containerInfo),Gs(s,Pt,t.memoizedState.cache),Hr();break;case 27:case 5:we(s);break;case 4:Ce(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?($s(s),s.flags|=128,null):(a&s.child.childLanes)!==0?_v(t,s,a):($s(s),t=ps(t,s,a),t!==null?t.sibling:null);$s(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Na(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return bv(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:return s.lanes=0,dv(t,s,a,s.pendingProps);case 24:Gs(s,Pt,t.memoizedState.cache)}return ps(t,s,a)}function Tv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ut=!0;else{if(!Ff(t,a)&&(s.flags&128)===0)return Ut=!1,p1(t,s,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ye&&(s.flags&1048576)!==0&&em(s,Yo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Qr(s.elementType),s.type=t,typeof t=="function")Yh(t)?(l=Zr(t,l),s.tag=1,s=vv(null,s,t,l,a)):(s.tag=0,s=kf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===Y){s.tag=11,s=cv(null,s,t,l,a);break e}else if(f===L){s.tag=14,s=hv(null,s,t,l,a);break e}}throw s=me(t)||t,Error(r(306,s,""))}}return s;case 0:return kf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Zr(l,s.pendingProps),vv(t,s,l,f,a);case 3:e:{if(Ce(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,cf(t,s),nl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Gs(s,Pt,l),l!==d.cache&&sf(s,[Pt],a,!0),tl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=yv(t,s,l,a);break e}else if(l!==f){f=$n(Error(r(424)),s),$o(f),s=yv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ei(t.firstChild),tn=s,Ye=!0,qs=null,Wn=!0,a=dm(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),l===f){s=ps(t,s,a);break e}sn(t,s,l,a)}s=s.child}return s;case 26:return nc(t,s),t===null?(a=Iy(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ye||(a=s.type,t=s.pendingProps,l=_c(ve.current).createElement(a),l[It]=s,l[Yt]=t,rn(l,a,t),Vt(l),s.stateNode=l):s.memoizedState=Iy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return we(s),t===null&&Ye&&(l=s.stateNode=Dy(s.type,s.pendingProps,ve.current),tn=s,Wn=!0,f=pt,sr(s.type)?(Sd=f,pt=ei(l.firstChild)):pt=f),sn(t,s,s.pendingProps.children,a),nc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ye&&((f=l=pt)&&(l=F1(l,s.type,s.pendingProps,Wn),l!==null?(s.stateNode=l,tn=s,pt=ei(l.firstChild),Wn=!1,f=!0):f=!1),f||Fs(s)),we(s),f=s.type,d=s.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,yd(f,d)?l=null:E!==null&&yd(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=vf(t,s,r1,null,null,a),Tl._currentValue=f),nc(t,s),sn(t,s,l,a),s.child;case 6:return t===null&&Ye&&((t=a=pt)&&(a=G1(a,s.pendingProps,Wn),a!==null?(s.stateNode=a,tn=s,pt=null,t=!0):t=!1),t||Fs(s)),null;case 13:return _v(t,s,a);case 4:return Ce(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Yr(s,null,l,a):sn(t,s,l,a),s.child;case 11:return cv(t,s,s.type,s.pendingProps,a);case 7:return sn(t,s,s.pendingProps,a),s.child;case 8:return sn(t,s,s.pendingProps.children,a),s.child;case 12:return sn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Gs(s,s.type,l.value),sn(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Fr(s),f=nn(f),l=l(f),s.flags|=1,sn(t,s,l,a),s.child;case 14:return hv(t,s,s.type,s.pendingProps,a);case 15:return fv(t,s,s.type,s.pendingProps,a);case 19:return bv(t,s,a);case 31:return d1(t,s,a);case 22:return dv(t,s,a,s.pendingProps);case 24:return Fr(s),l=nn(Pt),t===null?(f=of(),f===null&&(f=ht,d=rf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},uf(s),Gs(s,Pt,f)):((t.lanes&a)!==0&&(cf(t,s),nl(s,null,null,a),tl()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Gs(s,Pt,l)):(l=d.cache,Gs(s,Pt,l),l!==f.cache&&sf(s,[Pt],a,!0))),sn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function gs(t){t.flags|=4}function Gf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if($v())t.flags|=8192;else throw Kr=ju,lf}else t.flags&=-16777217}function Sv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uy(s))if($v())t.flags|=8192;else throw Kr=ju,lf}function sc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ts():536870912,t.lanes|=s,Ka|=s)}function ll(t,s){if(!Ye)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function g1(t,s,a){var l=s.pendingProps;switch(Wh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),hs(Pt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(s)?gs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ef())),gt(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(gs(s),d!==null?(gt(s),Sv(s,d)):(gt(s),Gf(s,f,null,l,a))):d?d!==t.memoizedState?(gs(s),gt(s),Sv(s,d)):(gt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&gs(s),gt(s),Gf(s,f,t,l,a)),null;case 27:if(ze(s),a=ve.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&gs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return gt(s),null}t=he.current,Va(s)?nm(s):(t=Dy(f,l,a),s.stateNode=t,gs(s))}return gt(s),null;case 5:if(ze(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&gs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(d=he.current,Va(s))nm(s);else{var E=_c(ve.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[It]=s,d[Yt]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gs(s)}}return gt(s),Gf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&gs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=ve.current,Va(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_y(t.nodeValue,a)),t||Fs(s,!0)}else t=_c(t).createTextNode(l),t[It]=s,s.stateNode=t}return gt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Va(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),sc(s,s.updateQueue),gt(s),null);case 4:return Oe(),t===null&&dd(s.stateNode.containerInfo),gt(s),null;case 10:return hs(s.type),gt(s),null;case 19:if(W(Mt),l=s.memoizedState,l===null)return gt(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)ll(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Gu(t),d!==null){for(s.flags|=128,ll(l,!1),t=d.updateQueue,s.updateQueue=t,sc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Xg(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),Ye&&us(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Kt()>uc&&(s.flags|=128,f=!0,ll(l,!1),s.lanes=4194304)}else{if(!f)if(t=Gu(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,sc(s,t),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ye)return gt(s),null}else 2*Kt()-l.renderingStartTime>uc&&a!==536870912&&(s.flags|=128,f=!0,ll(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=Mt.current,se(Mt,f?a&1|2:a&1),Ye&&us(s,l.treeForkCount),t):(gt(s),null);case 22:case 23:return Un(s),pf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),a=s.updateQueue,a!==null&&sc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&W(Gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),hs(Pt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function m1(t,s){switch(Wh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return hs(Pt),Oe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Un(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return W(Mt),null;case 4:return Oe(),null;case 10:return hs(s.type),null;case 22:case 23:return Un(s),pf(),t!==null&&W(Gr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return hs(Pt),null;case 25:return null;default:return null}}function Cv(t,s){switch(Wh(s),s.tag){case 3:hs(Pt),Oe();break;case 26:case 27:case 5:ze(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:W(Mt);break;case 10:hs(s.type);break;case 22:case 23:Un(s),pf(),t!==null&&W(Gr);break;case 24:hs(Pt)}}function ul(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){at(s,s.return,w)}}function Xs(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var P=a,K=w;try{K()}catch(ie){at(f,P,ie)}}}l=l.next}while(l!==d)}}catch(ie){at(s,s.return,ie)}}function wv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{gm(s,a)}catch(l){at(t,t.return,l)}}}function Av(t,s,a){a.props=Zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,s,l)}}function cl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){at(t,s,f)}}function zi(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){at(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(t,s,f)}else a.current=null}function Lv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){at(t,t.return,f)}}function Qf(t,s,a){try{var l=t.stateNode;U1(l,t.type,a,s),l[Yt]=s}catch(f){at(t,t.return,f)}}function Rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=li));else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Yf(t,s,a),t=t.sibling;t!==null;)Yf(t,s,a),t=t.sibling}function rc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rc(t,s,a),t=t.sibling;t!==null;)rc(t,s,a),t=t.sibling}function Mv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[It]=t,s[Yt]=a}catch(d){at(t,t.return,d)}}var ms=!1,zt=!1,$f=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function v1(t,s){if(t=t.containerInfo,md=Ac,t=Hg(t),jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,P=-1,K=0,ie=0,ae=t,Z=null;t:for(;;){for(var ee;ae!==a||f!==0&&ae.nodeType!==3||(w=E+f),ae!==d||l!==0&&ae.nodeType!==3||(P=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)Z=ae,ae=ee;for(;;){if(ae===t)break t;if(Z===a&&++K===f&&(w=E),Z===d&&++ie===l&&(P=E),(ee=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=ee}a=w===-1||P===-1?null:{start:w,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:t,selectionRange:a},Ac=!1,Zt=s;Zt!==null;)if(s=Zt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Zt=t;else for(;Zt!==null;){switch(s=Zt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=Zr(a.type,f);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){at(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Zt=t;break}Zt=s.return}}function Ov(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ys(t,a),l&4&&ul(5,a);break;case 1:if(ys(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(E){at(a,a.return,E)}else{var f=Zr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(E){at(a,a.return,E)}}l&64&&wv(a),l&512&&cl(a,a.return);break;case 3:if(ys(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{gm(t,s)}catch(E){at(a,a.return,E)}}break;case 27:s===null&&l&4&&Mv(a);case 26:case 5:ys(t,a),s===null&&l&4&&Lv(a),l&512&&cl(a,a.return);break;case 12:ys(t,a);break;case 31:ys(t,a),l&4&&Vv(t,a);break;case 13:ys(t,a),l&4&&Nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=A1.bind(null,a),Q1(t,a))));break;case 22:if(l=a.memoizedState!==null||ms,!l){s=s!==null&&s.memoizedState!==null||zt,f=ms;var d=zt;ms=l,(zt=s)&&!d?_s(t,a,(a.subtreeFlags&8772)!==0):ys(t,a),ms=f,zt=d}break;case 30:break;default:ys(t,a)}}function xv(t){var s=t.alternate;s!==null&&(t.alternate=null,xv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&va(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Sn=!1;function vs(t,s,a){for(a=a.child;a!==null;)Iv(t,s,a),a=a.sibling}function Iv(t,s,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||zi(a,s),vs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||zi(a,s);var l=_t,f=Sn;sr(a.type)&&(_t=a.stateNode,Sn=!1),vs(t,s,a),_l(a.stateNode),_t=l,Sn=f;break;case 5:zt||zi(a,s);case 6:if(l=_t,f=Sn,_t=null,vs(t,s,a),_t=l,Sn=f,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,s,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,s,d)}break;case 18:_t!==null&&(Sn?(t=_t,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):wy(_t,a.stateNode));break;case 4:l=_t,f=Sn,_t=a.stateNode.containerInfo,Sn=!0,vs(t,s,a),_t=l,Sn=f;break;case 0:case 11:case 14:case 15:Xs(2,a,s),zt||Xs(4,a,s),vs(t,s,a);break;case 1:zt||(zi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,s,l)),vs(t,s,a);break;case 21:vs(t,s,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,vs(t,s,a),zt=l;break;default:vs(t,s,a)}}function Vv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){at(s,s.return,a)}}}function Nv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){at(s,s.return,a)}}function y1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Dv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Dv),s;default:throw Error(r(435,t.tag))}}function ac(t,s){var a=y1(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=L1.bind(null,t,l);l.then(f,f)}})}function Cn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(sr(w.type)){_t=w.stateNode,Sn=!1;break e}break;case 5:_t=w.stateNode,Sn=!1;break e;case 3:case 4:_t=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(_t===null)throw Error(r(160));Iv(d,E,f),_t=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Pv(s,t),s=s.sibling}var pi=null;function Pv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),wn(t),l&4&&(Xs(3,t,t.return),ul(3,t),Xs(5,t,t.return));break;case 1:Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),l&64&&ms&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,a),d[It]=t,Vt(d),l=d;break e;case"link":var E=Py("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Py("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,Vt(d),l=d}t.stateNode=l}else ky(f,t.type,t.stateNode);else t.stateNode=Ny(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ky(f,t.type,t.stateNode):Ny(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),a!==null&&l&4&&Qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(s,t),wn(t),l&512&&(zt||a===null||zi(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(ye){at(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Qf(t,f,a!==null?a.memoizedProps:f)),l&1024&&($f=!0);break;case 6:if(Cn(s,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){at(t,t.return,ye)}}break;case 3:if(Tc=null,f=pi,pi=Ec(s.containerInfo),Cn(s,t),pi=f,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(ye){at(t,t.return,ye)}$f&&($f=!1,kv(t));break;case 4:l=pi,pi=Ec(t.stateNode.containerInfo),Cn(s,t),wn(t),pi=l;break;case 12:Cn(s,t),wn(t);break;case 31:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 13:Cn(s,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,K=ms,ie=zt;if(ms=K||f,zt=ie||P,Cn(s,t),zt=ie,ms=K,wn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||P||ms||zt||Xr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(d=P.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=P.stateNode;var ae=P.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ye){at(P,P.return,ye)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(ye){at(P,P.return,ye)}}}else if(s.tag===18){if(a===null){P=s;try{var ee=P.stateNode;f?Ay(ee,!0):Ay(P.stateNode,!1)}catch(ye){at(P,P.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ac(t,a))));break;case 19:Cn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 30:break;case 21:break;default:Cn(s,t),wn(t)}}function wn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Rv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Kf(t);rc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Tn(E,""),a.flags&=-33);var w=Kf(t);rc(t,w,E);break;case 3:case 4:var P=a.stateNode.containerInfo,K=Kf(t);Yf(t,K,P);break;default:throw Error(r(161))}}catch(ie){at(t,t.return,ie)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function kv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ys(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ov(t,s.alternate,s),s=s.sibling}function Xr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Xs(4,s,s.return),Xr(s);break;case 1:zi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Av(s,s.return,a),Xr(s);break;case 27:_l(s.stateNode);case 26:case 5:zi(s,s.return),Xr(s);break;case 22:s.memoizedState===null&&Xr(s);break;case 30:Xr(s);break;default:Xr(s)}t=t.sibling}}function _s(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,E=d.flags;switch(d.tag){case 0:case 11:case 15:_s(f,d,a),ul(4,d);break;case 1:if(_s(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){at(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)pm(P[f],w)}catch(K){at(l,l.return,K)}}a&&E&64&&wv(d),cl(d,d.return);break;case 27:Mv(d);case 26:case 5:_s(f,d,a),a&&l===null&&E&4&&Lv(d),cl(d,d.return);break;case 12:_s(f,d,a);break;case 31:_s(f,d,a),a&&E&4&&Vv(f,d);break;case 13:_s(f,d,a),a&&E&4&&Nv(f,d);break;case 22:d.memoizedState===null&&_s(f,d,a),cl(d,d.return);break;case 30:break;default:_s(f,d,a)}s=s.sibling}}function Zf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function Xf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t))}function gi(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Uv(t,s,a,l),s=s.sibling}function Uv(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gi(t,s,a,l),f&2048&&ul(9,s);break;case 1:gi(t,s,a,l);break;case 3:gi(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t)));break;case 12:if(f&2048){gi(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){at(s,s.return,P)}}else gi(t,s,a,l);break;case 31:gi(t,s,a,l);break;case 13:gi(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,E=s.alternate,s.memoizedState!==null?d._visibility&2?gi(t,s,a,l):hl(t,s):d._visibility&2?gi(t,s,a,l):(d._visibility|=2,Fa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zf(E,s);break;case 24:gi(t,s,a,l),f&2048&&Xf(s.alternate,s);break;default:gi(t,s,a,l)}}function Fa(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,E=s,w=a,P=l,K=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(d,E,w,P,f),ul(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Fa(d,E,w,P,f):hl(d,E):(ie._visibility|=2,Fa(d,E,w,P,f)),f&&K&2048&&Zf(E.alternate,E);break;case 24:Fa(d,E,w,P,f),f&&K&2048&&Xf(E.alternate,E);break;default:Fa(d,E,w,P,f)}s=s.sibling}}function hl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:hl(a,l),f&2048&&Zf(l.alternate,l);break;case 24:hl(a,l),f&2048&&Xf(l.alternate,l);break;default:hl(a,l)}s=s.sibling}}var fl=8192;function Ga(t,s,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)zv(t,s,a),t=t.sibling}function zv(t,s,a){switch(t.tag){case 26:Ga(t,s,a),t.flags&fl&&t.memoizedState!==null&&sC(a,pi,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,s,a);break;case 3:case 4:var l=pi;pi=Ec(t.stateNode.containerInfo),Ga(t,s,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,Ga(t,s,a),fl=l):Ga(t,s,a));break;default:Ga(t,s,a)}}function Bv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function dl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Zt=l,Hv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jv(t),t=t.sibling}function jv(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,oc(t)):dl(t);break;default:dl(t)}}function oc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Zt=l,Hv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Xs(8,s,s.return),oc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,oc(s));break;default:oc(s)}t=t.sibling}}function Hv(t,s){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var f=l.sibling,d=l.return;if(xv(l),l===a){Zt=null;break e}if(f!==null){f.return=d,Zt=f;break e}Zt=d}}}var _1={getCacheForType:function(t){var s=nn(Pt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,je=null,Fe=0,rt=0,zn=null,Ws=!1,Qa=!1,Wf=!1,Es=0,wt=0,Js=0,Wr=0,Jf=0,Bn=0,Ka=0,pl=null,An=null,ed=!1,lc=0,qv=0,uc=1/0,cc=null,er=null,qt=0,tr=null,Ya=null,bs=0,td=0,nd=null,Fv=null,gl=0,id=null;function jn(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:G.T!==null?ud():hu()}function Gv(){if(Bn===0)if((Fe&536870912)===0||Ye){var t=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function Ln(t,s,a){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&($a(t,0),nr(t,Fe,Bn,!1)),ns(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(Wr|=a),wt===4&&nr(t,Fe,Bn,!1)),Bi(t))}function Qv(t,s,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||fn(t,s),f=l?S1(t,s):rd(t,s,!0),d=l;do{if(f===0){Qa&&!l&&nr(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!b1(a)){f=rd(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=t;f=pl;var P=w.current.memoizedState.isDehydrated;if(P&&($a(w,E).flags|=256),E=rd(w,E,!1),E!==2){if(Wf&&!P){w.errorRecoveryDisabledLanes|=d,Wr|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),nr(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:nr(l,s,Bn,!Ws);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=lc+300-Kt(),10<f)){if(nr(l,s,Bn,!Ws),On(l,0,!0)!==0)break e;bs=s,l.timeoutHandle=Sy(Kv.bind(null,l,a,An,cc,ed,s,Bn,Wr,Ka,Ws,d,"Throttled",-0,0),f);break e}Kv(l,a,An,cc,ed,s,Bn,Wr,Ka,Ws,d,null,-0,0)}}break}while(!0);Bi(t)}function Kv(t,s,a,l,f,d,E,w,P,K,ie,ae,Z,ee){if(t.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},zv(s,d,ae);var ye=(d&62914560)===d?lc-Kt():(d&4194048)===d?qv-Kt():0;if(ye=rC(ae,ye),ye!==null){bs=d,t.cancelPendingCommit=ye(ty.bind(null,t,s,d,a,l,f,E,w,P,ie,ae,null,Z,ee)),nr(t,d,E,!K);return}}ty(t,s,d,a,l,f,E,w,P)}function b1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nr(t,s,a,l){s&=~Jf,s&=~Wr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-vt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Me(t,a,s)}function hc(){return(nt&6)===0?(ml(0),!1):!0}function sd(){if(je!==null){if(rt===0)var t=je.return;else t=je,cs=qr=null,Ef(t),za=null,Wo=0,t=je;for(;t!==null;)Cv(t.alternate,t),t=t.return;je=null}}function $a(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,j1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bs=0,sd(),ht=t,je=a=ls(t.current,null),Fe=s,rt=0,zn=null,Ws=!1,Qa=fn(t,s),Wf=!1,Ka=Bn=Jf=Wr=Js=wt=0,An=pl=null,ed=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-vt(l),d=1<<f;s|=t[f],l&=~d}return Es=s,xu(),a}function Yv(t,s){Pe=null,G.H=al,s===Ua||s===Bu?(s=cm(),rt=3):s===lf?(s=cm(),rt=4):rt=s===Pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,je===null&&(wt=1,ec(t,$n(s,t.current)))}function $v(){var t=kn.current;return t===null?!0:(Fe&4194048)===Fe?Jn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===Jn:!1}function Zv(){var t=G.H;return G.H=al,t===null?al:t}function Xv(){var t=G.A;return G.A=_1,t}function fc(){wt=4,Ws||(Fe&4194048)!==Fe&&kn.current!==null||(Qa=!0),(Js&134217727)===0&&(Wr&134217727)===0||ht===null||nr(ht,Fe,Bn,!1)}function rd(t,s,a){var l=nt;nt|=2;var f=Zv(),d=Xv();(ht!==t||Fe!==s)&&(cc=null,$a(t,s)),s=!1;var E=wt;e:do try{if(rt!==0&&je!==null){var w=je,P=zn;switch(rt){case 8:sd(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var K=rt;if(rt=0,zn=null,Za(t,w,P,K),a&&Qa){E=0;break e}break;default:K=rt,rt=0,zn=null,Za(t,w,P,K)}}T1(),E=wt;break}catch(ie){Yv(t,ie)}while(!0);return s&&t.shellSuspendCounter++,cs=qr=null,nt=l,G.H=f,G.A=d,je===null&&(ht=null,Fe=0,xu()),E}function T1(){for(;je!==null;)Wv(je)}function S1(t,s){var a=nt;nt|=2;var l=Zv(),f=Xv();ht!==t||Fe!==s?(cc=null,uc=Kt()+500,$a(t,s)):Qa=fn(t,s);e:do try{if(rt!==0&&je!==null){s=je;var d=zn;t:switch(rt){case 1:rt=0,zn=null,Za(t,s,d,1);break;case 2:case 9:if(lm(d)){rt=0,zn=null,Jv(s);break}s=function(){rt!==2&&rt!==9||ht!==t||(rt=7),Bi(t)},d.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:lm(d)?(rt=0,zn=null,Jv(s)):(rt=0,zn=null,Za(t,s,d,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var w=je;if(E?Uy(E):w.stateNode.complete){rt=0,zn=null;var P=w.sibling;if(P!==null)je=P;else{var K=w.return;K!==null?(je=K,dc(K)):je=null}break t}}rt=0,zn=null,Za(t,s,d,5);break;case 6:rt=0,zn=null,Za(t,s,d,6);break;case 8:sd(),wt=6;break e;default:throw Error(r(462))}}C1();break}catch(ie){Yv(t,ie)}while(!0);return cs=qr=null,G.H=l,G.A=f,nt=a,je!==null?0:(ht=null,Fe=0,xu(),wt)}function C1(){for(;je!==null&&!pa();)Wv(je)}function Wv(t){var s=Tv(t.alternate,t,Es);t.memoizedProps=t.pendingProps,s===null?dc(t):je=s}function Jv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=mv(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=mv(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Ef(s);default:Cv(a,s),s=je=Xg(s,Es),s=Tv(a,s,Es)}t.memoizedProps=t.pendingProps,s===null?dc(t):je=s}function Za(t,s,a,l){cs=qr=null,Ef(s),za=null,Wo=0;var f=s.return;try{if(f1(t,f,s,a,Fe)){wt=1,ec(t,$n(a,t.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;wt=1,ec(t,$n(a,t.current)),je=null;return}s.flags&32768?(Ye||l===1?t=!0:Qa||(Fe&536870912)!==0?t=!1:(Ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(s,t)):dc(s)}function dc(t){var s=t;do{if((s.flags&32768)!==0){ey(s,Ws);return}t=s.return;var a=g1(s.alternate,s,Es);if(a!==null){je=a;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);wt===0&&(wt=5)}function ey(t,s){do{var a=m1(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);wt=6,je=null}function ty(t,s,a,l,f,d,E,w,P){t.cancelPendingCommit=null;do pc();while(qt!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Qh,is(t,a,d,E,w,P),t===ht&&(je=ht=null,Fe=0),Ya=s,tr=t,bs=a,td=d,nd=f,Fv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R1(ri,function(){return ay(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ue.p,ue.p=2,E=nt,nt|=4;try{v1(t,s,a)}finally{nt=E,ue.p=f,G.T=l}}qt=1,ny(),iy(),sy()}}function ny(){if(qt===1){qt=0;var t=tr,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ue.p;ue.p=2;var f=nt;nt|=4;try{Pv(s,t);var d=vd,E=Hg(t.containerInfo),w=d.focusedElem,P=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&jg(w.ownerDocument.documentElement,w)){if(P!==null&&jh(w)){var K=P.start,ie=P.end;if(ie===void 0&&(ie=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ie,w.value.length);else{var ae=w.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),ye=w.textContent.length,Re=Math.min(P.start,ye),ct=P.end===void 0?Re:Math.min(P.end,ye);!ee.extend&&Re>ct&&(E=ct,ct=Re,Re=E);var j=Bg(w,Re),z=Bg(w,ct);if(j&&z&&(ee.rangeCount!==1||ee.anchorNode!==j.node||ee.anchorOffset!==j.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var Q=ae.createRange();Q.setStart(j.node,j.offset),ee.removeAllRanges(),Re>ct?(ee.addRange(Q),ee.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),ee.addRange(Q))}}}}for(ae=[],ee=w;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var re=ae[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ac=!!md,vd=md=null}finally{nt=f,ue.p=l,G.T=a}}t.current=s,qt=2}}function iy(){if(qt===2){qt=0;var t=tr,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ue.p;ue.p=2;var f=nt;nt|=4;try{Ov(t,s.alternate,s)}finally{nt=f,ue.p=l,G.T=a}}qt=3}}function sy(){if(qt===4||qt===3){qt=0,Zi();var t=tr,s=Ya,a=bs,l=Fv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,Ya=tr=null,ry(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(er=null),ss(a),s=s.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(hn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=ue.p,ue.p=2,G.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{G.T=s,ue.p=f}}(bs&3)!==0&&pc(),Bi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===id?gl++:(gl=0,id=t):gl=0,ml(0)}}function ry(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Zo(s)))}function pc(){return ny(),iy(),sy(),ay()}function ay(){if(qt!==5)return!1;var t=tr,s=td;td=0;var a=ss(bs),l=G.T,f=ue.p;try{ue.p=32>a?32:a,G.T=null,a=nd,nd=null;var d=tr,E=bs;if(qt=0,Ya=tr=null,bs=0,(nt&6)!==0)throw Error(r(331));var w=nt;if(nt|=4,jv(d.current),Uv(d,d.current,E,a),nt=w,ml(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{ue.p=f,G.T=l,ry(t,s)}}function oy(t,s,a){s=$n(a,s),s=Nf(t.stateNode,s,2),t=Ys(t,s,2),t!==null&&(ns(t,2),Bi(t))}function at(t,s,a){if(t.tag===3)oy(t,t,a);else for(;s!==null;){if(s.tag===3){oy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=$n(a,t),a=lv(2),l=Ys(s,a,2),l!==null&&(uv(a,l,s,t),ns(l,2),Bi(l));break}}s=s.return}}function ad(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new E1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Wf=!0,f.add(a),t=w1.bind(null,t,s,a),s.then(t,t))}function w1(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Fe&a)===a&&(wt===4||wt===3&&(Fe&62914560)===Fe&&300>Kt()-lc?(nt&2)===0&&$a(t,0):Jf|=a,Ka===Fe&&(Ka=0)),Bi(t)}function ly(t,s){s===0&&(s=ts()),t=Br(t,s),t!==null&&(ns(t,s),Bi(t))}function A1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ly(t,a)}function L1(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),ly(t,a)}function R1(t,s){return St(t,s)}var gc=null,Xa=null,od=!1,mc=!1,ld=!1,ir=0;function Bi(t){t!==Xa&&t.next===null&&(Xa===null?gc=Xa=t:Xa=Xa.next=t),mc=!0,od||(od=!0,D1())}function ml(t,s){if(!ld&&mc){ld=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,fy(l,d))}else d=Fe,d=On(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fn(l,d)||(a=!0,fy(l,d));l=l.next}while(a);ld=!1}}function M1(){uy()}function uy(){mc=od=!1;var t=0;ir!==0&&B1()&&(t=ir);for(var s=Kt(),a=null,l=gc;l!==null;){var f=l.next,d=cy(l,s);d===0?(l.next=null,a===null?gc=f:a.next=f,f===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(mc=!0)),l=f}qt!==0&&qt!==5||ml(t),ir!==0&&(ir=0)}function cy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-vt(d),w=1<<E,P=f[E];P===-1?((w&a)===0||(w&l)!==0)&&(f[E]=ga(w,s)):P<=s&&(t.expiredLanes|=w),d&=~w}if(s=ht,a=Fe,a=On(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Mn(l),ss(a)){case 2:case 8:a=Ti;break;case 32:a=ri;break;case 268435456:a=Ar;break;default:a=ri}return l=hy.bind(null,t),a=St(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function hy(t,s){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pc()&&t.callbackNode!==a)return null;var l=Fe;return l=On(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qv(t,l,s),cy(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?hy.bind(null,t):null)}function fy(t,s){if(pc())return null;Qv(t,s,!0)}function D1(){H1(function(){(nt&6)!==0?St(Os,M1):uy()})}function ud(){if(ir===0){var t=Pa;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),ir=t}return ir}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function py(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function O1(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=dy((f[Yt]||null).action),E=l.submitter;E&&(s=(s=E[Yt]||null)?dy(s.formAction):E.getAttribute("formAction"),s!==null&&(d=s,E=null));var w=new Ii("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var P=E?py(f,E):new FormData(f);Mf(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(w.preventDefault(),P=E?py(f,E):new FormData(f),Mf(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],x1=hd.toLowerCase(),I1=hd[0].toUpperCase()+hd.slice(1);di(x1,"on"+I1)}di(Gg,"onAnimationEnd"),di(Qg,"onAnimationIteration"),di(Kg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di($S,"onTransitionRun"),di(ZS,"onTransitionStart"),di(XS,"onTransitionCancel"),di(Yg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function gy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var E=l.length-1;0<=E;E--){var w=l[E],P=w.instance,K=w.currentTarget;if(w=w.listener,P!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=K;try{d(f)}catch(ie){Ou(ie)}f.currentTarget=null,d=P}else for(E=0;E<l.length;E++){if(w=l[E],P=w.instance,K=w.currentTarget,w=w.listener,P!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=K;try{d(f)}catch(ie){Ou(ie)}f.currentTarget=null,d=P}}}}function He(t,s){var a=s[ma];a===void 0&&(a=s[ma]=new Set);var l=t+"__bubble";a.has(l)||(my(s,t,2,!1),a.add(l))}function fd(t,s,a){var l=0;s&&(l|=4),my(a,t,l,s)}var vc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[vc]){t[vc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||fd(a,!1,t),fd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[vc]||(s[vc]=!0,fd("selectionchange",!1,s))}}function my(t,s,a,l){switch(Gy(s)){case 2:var f=lC;break;case 8:f=uC;break;default:f=Rd}a=f.bind(null,s,a,t),f=void 0,!xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function pd(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ai(w),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Us(function(){var K=d,ie=Gn(a),ae=[];e:{var Z=$g.get(t);if(Z!==void 0){var ee=Ii,ye=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":ee=Ru;break;case"focusin":ye="focus",ee=Pr;break;case"focusout":ye="blur",ee=Pr;break;case"beforeblur":case"afterblur":ee=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case Gg:case Qg:case Kg:ee=bu;break;case Yg:ee=R;break;case"scroll":case"scrollend":ee=jo;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=os;break;case"toggle":case"beforetoggle":ee=Ne}var Re=(s&4)!==0,ct=!Re&&(t==="scroll"||t==="scrollend"),j=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var z=K,Q;z!==null;){var re=z;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||j===null||(re=ui(z,j),re!=null&&Re.push(yl(z,re,Q))),ct)break;z=z.return}0<Re.length&&(Z=new ee(Z,ye,null,a,ie),ae.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",Z&&a!==Uo&&(ye=a.relatedTarget||a.fromElement)&&(Ai(ye)||ye[Ci]))break e;if((ee||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(ye=a.relatedTarget||a.toElement,ee=K,ye=ye?Ai(ye):null,ye!==null&&(ct=u(ye),Re=ye.tag,ye!==ct||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(ee=null,ye=K),ee!==ye)){if(Re=Ho,re="onMouseLeave",j="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Re=os,re="onPointerLeave",j="onPointerEnter",z="pointer"),ct=ee==null?Z:In(ee),Q=ye==null?Z:In(ye),Z=new Re(re,z+"leave",ee,a,ie),Z.target=ct,Z.relatedTarget=Q,re=null,Ai(ie)===K&&(Re=new Re(j,z+"enter",ye,a,ie),Re.target=Q,Re.relatedTarget=ct,re=Re),ct=re,ee&&ye)t:{for(Re=N1,j=ee,z=ye,Q=0,re=j;re;re=Re(re))Q++;re=0;for(var Ae=z;Ae;Ae=Re(Ae))re++;for(;0<Q-re;)j=Re(j),Q--;for(;0<re-Q;)z=Re(z),re--;for(;Q--;){if(j===z||z!==null&&j===z.alternate){Re=j;break t}j=Re(j),z=Re(z)}Re=null}else Re=null;ee!==null&&vy(ae,Z,ee,Re,!1),ye!==null&&ct!==null&&vy(ae,ct,ye,Re,!0)}}e:{if(Z=K?In(K):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var We=Vg;else if(xg(Z))if(Ng)We=QS;else{We=FS;var Te=qS}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Ea(K.elementType)&&(We=Vg):We=GS;if(We&&(We=We(t,K))){Ig(ae,We,a,ie);break e}Te&&Te(t,Z,K),t==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&No(Z,"number",Z.value)}switch(Te=K?In(K):window,t){case"focusin":(xg(Te)||Te.contentEditable==="true")&&(Ra=Te,Hh=K,Ko=null);break;case"focusout":Ko=Hh=Ra=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,qg(ae,a,ie);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":qg(ae,a,ie)}var ke;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else La?kr(t,a)&&(Ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Pi&&a.locale!=="ko"&&(La||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&La&&(ke=Bo()):(xi=ie,zo="value"in xi?xi.value:xi.textContent,La=!0)),Te=yc(K,Ge),0<Te.length&&(Ge=new Ni(Ge,t,null,a,ie),ae.push({event:Ge,listeners:Te}),ke?Ge.data=ke:(ke=Aa(a),ke!==null&&(Ge.data=ke)))),(ke=Kn?zS(t,a):BS(t,a))&&(Ge=yc(K,"onBeforeInput"),0<Ge.length&&(Te=new Ni("onBeforeInput","beforeinput",null,a,ie),ae.push({event:Te,listeners:Ge}),Te.data=ke)),O1(ae,t,K,a,ie)}gy(ae,s)})}function yl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function yc(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ui(t,a),f!=null&&l.unshift(yl(t,f,d)),f=ui(t,s),f!=null&&l.push(yl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function N1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,s,a,l,f){for(var d=s._reactName,E=[];a!==null&&a!==l;){var w=a,P=w.alternate,K=w.stateNode;if(w=w.tag,P!==null&&P===l)break;w!==5&&w!==26&&w!==27||K===null||(P=K,f?(K=ui(a,d),K!=null&&E.unshift(yl(a,K,P))):f||(K=ui(a,d),K!=null&&E.push(yl(a,K,P)))),a=a.return}E.length!==0&&t.push({event:s,listeners:E})}var P1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(k1,"")}function _y(t,s){return s=yy(s),yy(t)===s}function ut(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,a,l);break;case"style":ko(t,l,d);break;case"data":if(s!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ut(t,s,"name",f.name,f,null),ut(t,s,"formEncType",f.formEncType,f,null),ut(t,s,"formMethod",f.formMethod,f,null),ut(t,s,"formTarget",f.formTarget,f,null)):(ut(t,s,"encType",f.encType,f,null),ut(t,s,"method",f.method,f,null),ut(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":He("beforetoggle",t),He("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ya(t,a,l))}}function gd(t,s,a,l,f,d){switch(a){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function rn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,d,E,a,null)}}f&&ut(t,s,"srcSet",a.srcSet,a,null),l&&ut(t,s,"src",a.src,a,null);return;case"input":He("invalid",t);var w=d=E=f=null,P=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":E=ie;break;case"checked":P=ie;break;case"defaultChecked":K=ie;break;case"value":d=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ut(t,s,l,ie,a,null)}}gu(t,d,w,P,K,E,f,!1);return;case"select":He("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:ut(t,s,f,w,a,null)}s=d,a=E,t.multiple=!!l,s!=null?Vs(t,!!l,s,!1):a!=null&&Vs(t,!!l,a,!0);return;case"textarea":He("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ut(t,s,E,w,a,null)}Ns(t,l,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,s,P,l,a,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)He(vl[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(t,s,K,l,a,null)}return;default:if(Ea(s)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&gd(t,s,ie,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(t,s,w,l,a,null))}function U1(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,w=null,P=null,K=null,ie=null;for(ee in a){var ae=a[ee];if(a.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":P=ae;default:l.hasOwnProperty(ee)||ut(t,s,ee,null,l,ae)}}for(var Z in l){var ee=l[Z];if(ae=a[Z],l.hasOwnProperty(Z)&&(ee!=null||ae!=null))switch(Z){case"type":d=ee;break;case"name":f=ee;break;case"checked":K=ee;break;case"defaultChecked":ie=ee;break;case"value":E=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==ae&&ut(t,s,Z,ee,l,ae)}}_a(t,E,w,P,K,ie,d,f);return;case"select":ee=E=w=Z=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":ee=P;default:l.hasOwnProperty(d)||ut(t,s,d,null,l,P)}for(f in l)if(d=l[f],P=a[f],l.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":Z=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==P&&ut(t,s,f,d,l,P)}s=w,a=E,l=ee,Z!=null?Vs(t,!!a,Z,!1):!!l!=!!a&&(s!=null?Vs(t,!!a,s,!0):Vs(t,!!a,a?[]:"",!1));return;case"textarea":ee=Z=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(t,s,w,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Z=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ut(t,s,E,f,l,d)}mu(t,Z,ee);return;case"option":for(var ye in a)if(Z=a[ye],a.hasOwnProperty(ye)&&Z!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:ut(t,s,ye,null,l,Z)}for(P in l)if(Z=l[P],ee=a[P],l.hasOwnProperty(P)&&Z!==ee&&(Z!=null||ee!=null))switch(P){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ut(t,s,P,Z,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)Z=a[Re],a.hasOwnProperty(Re)&&Z!=null&&!l.hasOwnProperty(Re)&&ut(t,s,Re,null,l,Z);for(K in l)if(Z=l[K],ee=a[K],l.hasOwnProperty(K)&&Z!==ee&&(Z!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ut(t,s,K,Z,l,ee)}return;default:if(Ea(s)){for(var ct in a)Z=a[ct],a.hasOwnProperty(ct)&&Z!==void 0&&!l.hasOwnProperty(ct)&&gd(t,s,ct,void 0,l,Z);for(ie in l)Z=l[ie],ee=a[ie],!l.hasOwnProperty(ie)||Z===ee||Z===void 0&&ee===void 0||gd(t,s,ie,Z,l,ee);return}}for(var j in a)Z=a[j],a.hasOwnProperty(j)&&Z!=null&&!l.hasOwnProperty(j)&&ut(t,s,j,null,l,Z);for(ae in l)Z=l[ae],ee=a[ae],!l.hasOwnProperty(ae)||Z===ee||Z==null&&ee==null||ut(t,s,ae,Z,l,ee)}function Ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,w=f.duration;if(d&&w&&Ey(E)){for(E=0,w=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],K=P.startTime;if(K>w)break;var ie=P.transferSize,ae=P.initiatorType;ie&&Ey(ae)&&(P=P.responseEnd,E+=ie*(P<w?1:(w-K)/(P-K)))}if(--l,s+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,vd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function by(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function yd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _d=null;function B1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(q1)}:Sy;function q1(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function wy(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),to(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var E=d.nextSibling,w=d.nodeName;d[wi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&_l(t.ownerDocument.body);a=f}while(a);to(s)}function Ay(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ed(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function F1(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function G1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function Ly(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ei(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Q1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Sd=null;function Ry(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ei(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Dy(t,s,a){switch(s=_c(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);va(t)}var ti=new Map,Oy=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ts=ue.d;ue.d={f:K1,r:Y1,D:$1,C:Z1,L:X1,m:W1,X:eC,S:J1,M:tC};function K1(){var t=Ts.f(),s=hc();return t||s}function Y1(t){var s=Fn(t);s!==null&&s.tag===5&&s.type==="form"?Ym(s):Ts.r(t)}var Wa=typeof document>"u"?null:document;function xy(t,s,a){var l=Wa;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Oy.has(f)||(Oy.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function $1(t){Ts.D(t),xy("dns-prefetch",t,null)}function Z1(t,s){Ts.C(t,s),xy("preconnect",t,s)}function X1(t,s,a){Ts.L(t,s,a);var l=Wa;if(l&&t&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(t)+'"]';var d=f;switch(s){case"style":d=Ja(t);break;case"script":d=eo(t)}ti.has(d)||(t=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ti.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(El(d))||s==="script"&&l.querySelector(bl(d))||(s=l.createElement("link"),rn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function W1(t,s){Ts.m(t,s);var a=Wa;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!ti.has(d)&&(t=T({rel:"modulepreload",href:t},s),ti.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),rn(l,"link",t),Vt(l),a.head.appendChild(l)}}}function J1(t,s,a){Ts.S(t,s,a);var l=Wa;if(l&&t){var f=Li(l).hoistableStyles,d=Ja(t);s=s||"default";var E=f.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(El(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ti.get(d))&&Cd(t,a);var P=E=l.createElement("link");Vt(P),rn(P,"link",t),P._p=new Promise(function(K,ie){P.onload=K,P.onerror=ie}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,bc(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(d,E)}}}function eC(t,s){Ts.X(t,s);var a=Wa;if(a&&t){var l=Li(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(bl(f)),d||(t=T({src:t,async:!0},s),(s=ti.get(f))&&wd(t,s),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tC(t,s){Ts.M(t,s);var a=Wa;if(a&&t){var l=Li(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(bl(f)),d||(t=T({src:t,async:!0,type:"module"},s),(s=ti.get(f))&&wd(t,s),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Iy(t,s,a,l){var f=(f=ve.current)?Ec(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=Li(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=Li(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(El(t)))&&!d._p&&(E.instance=d,E.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||nC(f,t,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eo(a),a=Li(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+bn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Vy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nC(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Vt(s),t.head.appendChild(s))}function eo(t){return'[src="'+bn(t)+'"]'}function bl(t){return"script[async]"+t}function Ny(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Vt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),rn(l,"style",f),bc(l,a.precedence,t),s.instance=l;case"stylesheet":f=Ja(a.href);var d=t.querySelector(El(f));if(d)return s.state.loading|=4,s.instance=d,Vt(d),d;l=Vy(a),(f=ti.get(f))&&Cd(l,f),d=(t.ownerDocument||t).createElement("link"),Vt(d);var E=d;return E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),rn(d,"link",l),s.state.loading|=4,bc(d,a.precedence,t),s.instance=d;case"script":return d=eo(a.src),(f=t.querySelector(bl(d)))?(s.instance=f,Vt(f),f):(l=a,(f=ti.get(d))&&(l=T({},a),wd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Vt(f),rn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,bc(l,a.precedence,t));return s.instance}function bc(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===s)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Cd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function wd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Tc=null;function Py(t,s,a){if(Tc===null){var l=new Map,f=Tc=new Map;f.set(a,l)}else f=Tc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(s)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function ky(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function iC(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sC(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ja(l.href),d=s.querySelector(El(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Sc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=s.ownerDocument||s,l=Vy(l),(f=ti.get(f))&&Cd(l,f),d=d.createElement("link"),Vt(d);var E=d;E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),rn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Sc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Ad=0;function rC(t,s){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Ad===0&&(Ad=62500*z1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Ad?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function wc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,s.forEach(aC,t),Cc=null,Sc.call(t))}function aC(t,s){if(!(s.state.loading&4)){var a=Cc.get(t);if(a)var l=a.get(null);else{a=new Map,Cc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Sc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Tl={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function oC(t,s,a,l,f,d,E,w,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function zy(t,s,a,l,f,d,E,w,P,K,ie,ae){return t=new oC(t,s,a,E,P,K,ie,ae,w),s=1,d===!0&&(s|=24),d=Pn(3,null,null,s),t.current=d,d.stateNode=t,s=rf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},uf(d),t}function By(t){return t?(t=Oa,t):Oa}function jy(t,s,a,l,f,d){f=By(f),l.context===null?l.context=f:l.pendingContext=f,l=Ks(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ys(t,l,s),a!==null&&(Ln(a,t,s),el(a,t,s))}function Hy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Ld(t,s){Hy(t,s),(t=t.alternate)&&Hy(t,s)}function qy(t){if(t.tag===13||t.tag===31){var s=Br(t,67108864);s!==null&&Ln(s,t,67108864),Ld(t,67108864)}}function Fy(t){if(t.tag===13||t.tag===31){var s=jn();s=Rr(s);var a=Br(t,s);a!==null&&Ln(a,t,s),Ld(t,s)}}var Ac=!0;function lC(t,s,a,l){var f=G.T;G.T=null;var d=ue.p;try{ue.p=2,Rd(t,s,a,l)}finally{ue.p=d,G.T=f}}function uC(t,s,a,l){var f=G.T;G.T=null;var d=ue.p;try{ue.p=8,Rd(t,s,a,l)}finally{ue.p=d,G.T=f}}function Rd(t,s,a,l){if(Ac){var f=Md(l);if(f===null)pd(t,s,l,Lc,a),Qy(t,l);else if(hC(f,t,s,a,l))l.stopPropagation();else if(Qy(t,l),s&4&&-1<cC.indexOf(t)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=vn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var P=1<<31-vt(E);w.entanglements[1]|=P,E&=~P}Bi(d),(nt&6)===0&&(uc=Kt()+500,ml(0))}}break;case 31:case 13:w=Br(d,2),w!==null&&Ln(w,d,2),hc(),Ld(d,2)}if(d=Md(l),d===null&&pd(t,s,l,Lc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else pd(t,s,l,null,a)}}function Md(t){return t=Gn(t),Dd(t)}var Lc=null;function Dd(t){if(Lc=null,t=Ai(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Lc=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case Os:return 2;case Ti:return 8;case ri:case xs:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var Od=!1,rr=null,ar=null,or=null,Sl=new Map,Cl=new Map,lr=[],cC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,s){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function wl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Fn(s),s!==null&&qy(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function hC(t,s,a,l,f){switch(s){case"focusin":return rr=wl(rr,t,s,a,l,f),!0;case"dragenter":return ar=wl(ar,t,s,a,l,f),!0;case"mouseover":return or=wl(or,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Sl.set(d,wl(Sl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Cl.set(d,wl(Cl.get(d)||null,t,s,a,l,f)),!0}return!1}function Ky(t){var s=Ai(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,ai(t.priority,function(){Fy(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,ai(t.priority,function(){Fy(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return s=Fn(a),s!==null&&qy(s),t.blockedOn=a,!1;s.shift()}return!0}function Yy(t,s,a){Rc(t)&&a.delete(s)}function fC(){Od=!1,rr!==null&&Rc(rr)&&(rr=null),ar!==null&&Rc(ar)&&(ar=null),or!==null&&Rc(or)&&(or=null),Sl.forEach(Yy),Cl.forEach(Yy)}function Mc(t,s){t.blockedOn===s&&(t.blockedOn=null,Od||(Od=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fC)))}var Dc=null;function $y(t){Dc!==t&&(Dc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Dd(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(s,3),s-=3,Mf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(t){function s(P){return Mc(P,t)}rr!==null&&Mc(rr,t),ar!==null&&Mc(ar,t),or!==null&&Mc(or,t),Sl.forEach(s),Cl.forEach(s);for(var a=0;a<lr.length;a++){var l=lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Yt]||null;if(typeof d=="function")E||$y(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Yt]||null)w=E.formAction;else if(Dd(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),$y(a)}}}function Zy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function xd(t){this._internalRoot=t}Oc.prototype.render=xd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=jn();jy(a,l,t,s,null,null)},Oc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;jy(t.current,2,null,t,null,null),hc(),s[Ci]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var s=hu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<lr.length&&s!==0&&s<lr[a].priority;a++);lr.splice(a,0,t),a===0&&Ky(t)}};var Xy=e.version;if(Xy!=="19.2.0")throw Error(r(527,Xy,"19.2.0"));ue.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var dC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{hn=xc.inject(dC),xt=xc}catch{}}return Ll.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=sv,d=rv,E=av;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=zy(t,1,!1,null,null,a,l,null,f,d,E,Zy),t[Ci]=s.current,dd(t),new xd(s)},Ll.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=sv,E=rv,w=av,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=zy(t,1,!0,s,a??null,l,f,P,d,E,w,Zy),s.context=By(null),a=s.current,l=jn(),l=Rr(l),f=Ks(l),f.callback=null,Ys(a,f,l),a=l,s.current.lanes=a,ns(s,a),Bi(s),t[Ci]=s.current,dd(t),new Oc(s)},Ll.version="19.2.0",Ll}var o_;function SC(){if(o_)return Nd.exports;o_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nd.exports=TC(),Nd.exports}var CC=SC();const wC=Fb(CC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function AC(i={}){function e(r,o){let{pathname:u,search:h,hash:p}=r.location;return sp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Fl(o)}return RC(e,n,null,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LC(){return Math.random().toString(36).substring(2,10)}function u_(i,e){return{usr:i.state,key:i.key,idx:e}}function sp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||r||LC()}}function Fl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function yo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function RC(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,p="POP",g=null,m=_();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function _(){return(h.state||{idx:null}).idx}function T(){p="POP";let V=_(),H=V==null?null:V-m;m=V,g&&g({action:p,location:U.location,delta:H})}function S(V,H){p="PUSH";let B=sp(U.location,V,H);m=_()+1;let te=u_(B,m),Y=U.createHref(B);try{h.pushState(te,"",Y)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(Y)}u&&g&&g({action:p,location:U.location,delta:1})}function D(V,H){p="REPLACE";let B=sp(U.location,V,H);m=_();let te=u_(B,m),Y=U.createHref(B);h.replaceState(te,"",Y),u&&g&&g({action:p,location:U.location,delta:0})}function M(V){return MC(V)}let U={get action(){return p},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,T),g=V,()=>{o.removeEventListener(l_,T),g=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let H=M(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:D,go(V){return h.go(V)}};return U}function MC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Fl(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qb(i,e,n="/"){return DC(i,e,n,!1)}function DC(i,e,n,r){let o=typeof e=="string"?yo(e):e,u=ws(o.pathname||"/",n);if(u==null)return null;let h=Kb(i);OC(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=HC(u);p=BC(h[g],m,r)}return p}function Kb(i,e=[],n=[],r="",o=!1){let u=(h,p,g=o,m)=>{let _={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;bt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=Ss([r,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Kb(h.children,e,S,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:UC(T,h.index),routesMeta:S})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of Yb(h.path))u(h,p,!0,g)}),e}function Yb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Yb(r.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function OC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:zC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xC=/^:[\w-]+$/,IC=3,VC=2,NC=1,PC=10,kC=-2,c_=i=>i==="*";function UC(i,e){let n=i.split("/"),r=n.length;return n.some(c_)&&(r+=kC),e&&(r+=VC),n.filter(o=>!c_(o)).reduce((o,u)=>o+(xC.test(u)?IC:u===""?NC:PC),r)}function zC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function BC(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},_),S=g.route;if(!T&&m&&n&&!r[r.length-1].route.index&&(T=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ss([u,T.pathname]),pathnameBase:QC(Ss([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Ss([u,T.pathnameBase]))}return h}function Jc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=jC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:T},S)=>{if(_==="*"){let M=p[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=p[S];return T&&!D?m[_]=void 0:m[_]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:i}}function jC(i,e=!1,n=!0){Qi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function HC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ws(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function qC(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?yo(i):i;return{pathname:n?n.startsWith("/")?n:FC(n,e):e,search:KC(r),hash:YC(o)}}function FC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zd(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $b(i){let e=GC(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zb(i,e,n,r=!1){let o;typeof i=="string"?o=yo(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}p=T>=0?e[T]:"/"}let g=qC(o,p),m=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||_)&&(g.pathname+="/"),g}var Ss=i=>i.join("/").replace(/\/\/+/g,"/"),QC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function $C(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var ZC=["GET",...Xb];new Set(ZC);var _o=y.createContext(null);_o.displayName="DataRouter";var Sh=y.createContext(null);Sh.displayName="DataRouterState";y.createContext(!1);var Wb=y.createContext({isTransitioning:!1});Wb.displayName="ViewTransition";var XC=y.createContext(new Map);XC.displayName="Fetchers";var WC=y.createContext(null);WC.displayName="Await";var $i=y.createContext(null);$i.displayName="Navigation";var nu=y.createContext(null);nu.displayName="Location";var Ms=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var Ip=y.createContext(null);Ip.displayName="RouteError";function JC(i,{relative:e}={}){bt(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext($i),{hash:o,pathname:u,search:h}=su(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ss([n,u])),r.createHref({pathname:p,search:h,hash:o})}function iu(){return y.useContext(nu)!=null}function oa(){return bt(iu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(nu).location}var Jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(i){y.useContext($i).static||y.useLayoutEffect(i)}function Vp(){let{isDataRoute:i}=y.useContext(Ms);return i?fw():ew()}function ew(){bt(iu(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(_o),{basename:e,navigator:n}=y.useContext($i),{matches:r}=y.useContext(Ms),{pathname:o}=oa(),u=JSON.stringify($b(r)),h=y.useRef(!1);return e0(()=>{h.current=!0}),y.useCallback((g,m={})=>{if(Qi(h.current,Jb),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=Zb(g,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ss([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,o,i])}y.createContext(null);function su(i,{relative:e}={}){let{matches:n}=y.useContext(Ms),{pathname:r}=oa(),o=JSON.stringify($b(n));return y.useMemo(()=>Zb(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function tw(i,e){return t0(i,e)}function t0(i,e,n,r,o){bt(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext($i),{matches:h}=y.useContext(Ms),p=h[h.length-1],g=p?p.params:{},m=p?p.pathname:"/",_=p?p.pathnameBase:"/",T=p&&p.route;{let B=T&&T.path||"";n0(m,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=oa(),D;if(e){let B=typeof e=="string"?yo(e):e;bt(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),D=B}else D=S;let M=D.pathname||"/",U=M;if(_!=="/"){let B=_.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Qb(i,{pathname:U});Qi(T||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Qi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=aw(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Ss([_,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Ss([_,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,n,r,o);return e&&H?y.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},H):H}function nw(){let i=hw(),e=$C(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:o},n):null,h)}var iw=y.createElement(nw,null),sw=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?y.createElement(Ms.Provider,{value:this.props.routeContext},y.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rw({routeContext:i,match:e,children:n}){let r=y.useContext(_o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ms.Provider,{value:i},n)}function aw(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let m=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(n)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=m),_.route.id){let{loaderData:T,errors:S}=n,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||D){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,_,T)=>{let S,D=!1,M=null,U=null;n&&(S=h&&_.route.id?h[_.route.id]:void 0,M=_.route.errorElement||iw,p&&(g<0&&T===0?(n0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,U=null):g===T&&(D=!0,U=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,T+1)),H=()=>{let B;return S?B=M:D?B=U:_.route.Component?B=y.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=m,y.createElement(rw,{match:_,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?y.createElement(sw,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:H(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):H()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(i){let e=y.useContext(_o);return bt(e,Np(i)),e}function lw(i){let e=y.useContext(Sh);return bt(e,Np(i)),e}function uw(i){let e=y.useContext(Ms);return bt(e,Np(i)),e}function Pp(i){let e=uw(i),n=e.matches[e.matches.length-1];return bt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Pp("useRouteId")}function hw(){let i=y.useContext(Ip),e=lw("useRouteError"),n=Pp("useRouteError");return i!==void 0?i:e.errors?.[n]}function fw(){let{router:i}=ow("useNavigate"),e=Pp("useNavigate"),n=y.useRef(!1);return e0(()=>{n.current=!0}),y.useCallback(async(o,u={})=>{Qi(n.current,Jb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var h_={};function n0(i,e,n){!e&&!h_[i]&&(h_[i]=!0,Qi(!1,n))}y.memo(dw);function dw({routes:i,future:e,state:n,unstable_onError:r}){return t0(i,void 0,n,r,e)}function Fc(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pw({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){bt(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:g="/",search:m="",hash:_="",state:T=null,key:S="default"}=n,D=y.useMemo(()=>{let M=ws(g,h);return M==null?null:{location:{pathname:M,search:m,hash:_,state:T,key:S},navigationType:r}},[h,g,m,_,T,S,r]);return Qi(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:y.createElement($i.Provider,{value:p},y.createElement(nu.Provider,{children:e,value:D}))}function gw({children:i,location:e}){return tw(rp(i),e)}function rp(i,e=[]){let n=[];return y.Children.forEach(i,(r,o)=>{if(!y.isValidElement(r))return;let u=[...e,o];if(r.type===y.Fragment){n.push.apply(n,rp(r.props.children,u));return}bt(r.type===Fc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=rp(r.props.children,u)),n.push(h)}),n}var Gc="get",Qc="application/x-www-form-urlencoded";function Ch(i){return i!=null&&typeof i.tagName=="string"}function mw(i){return Ch(i)&&i.tagName.toLowerCase()==="button"}function vw(i){return Ch(i)&&i.tagName.toLowerCase()==="form"}function yw(i){return Ch(i)&&i.tagName.toLowerCase()==="input"}function _w(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ew(i,e){return i.button===0&&(!e||e==="_self")&&!_w(i)}var Ic=null;function bw(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(i){return i!=null&&!Tw.has(i)?(Qi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):i}function Sw(i,e){let n,r,o,u,h;if(vw(i)){let p=i.getAttribute("action");r=p?ws(p,e):null,n=i.getAttribute("method")||Gc,o=Bd(i.getAttribute("enctype"))||Qc,u=new FormData(i)}else if(mw(i)||yw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?ws(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Gc,o=Bd(i.getAttribute("formenctype"))||Bd(p.getAttribute("enctype"))||Qc,u=new FormData(p,i),!bw()){let{name:m,type:_,value:T}=i;if(_==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,T)}}else{if(Ch(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,r=null,o=Qc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cw(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ws(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ww(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Lw(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ww(u,n);return h.links?h.links():[]}return[]}));return Ow(r.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(i,e,n,r,o,u){let h=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>h(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Rw(i,e,{includeHydrateFallback:n}={}){return Mw(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Mw(i){return[...new Set(i)]}function Dw(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function Ow(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(Dw(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function i0(){let i=y.useContext(_o);return kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function xw(){let i=y.useContext(Sh);return kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=y.createContext(void 0);Up.displayName="FrameworkContext";function s0(){let i=y.useContext(Up);return kp(i,"You must render this element inside a <HydratedRouter> element"),i}function Iw(i,e){let n=y.useContext(Up),[r,o]=y.useState(!1),[u,h]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,S=y.useRef(null);y.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=H=>{H.forEach(B=>{h(B.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),y.useEffect(()=>{if(r){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[r]);let D=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Rl(p,D),onBlur:Rl(g,M),onMouseEnter:Rl(m,D),onMouseLeave:Rl(_,M),onTouchStart:Rl(T,D)}]:[!1,S,{}]}function Rl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Vw({page:i,...e}){let{router:n}=i0(),r=y.useMemo(()=>Qb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?y.createElement(Pw,{page:i,matches:r,...e}):null}function Nw(i){let{manifest:e,routeModules:n}=s0(),[r,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return Lw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),r}function Pw({page:i,matches:e,...n}){let r=oa(),{manifest:o,routeModules:u}=s0(),{basename:h}=i0(),{loaderData:p,matches:g}=xw(),m=y.useMemo(()=>f_(i,e,g,o,r,"data"),[i,e,g,o,r]),_=y.useMemo(()=>f_(i,e,g,o,r,"assets"),[i,e,g,o,r]),T=y.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let M=new Set,U=!1;if(e.forEach(H=>{let B=o.routes[H.route.id];!B||!B.hasLoader||(!m.some(te=>te.route.id===H.route.id)&&H.route.id in p&&u[H.route.id]?.shouldRevalidate||B.hasClientLoader?U=!0:M.add(H.route.id))}),M.size===0)return[];let V=Cw(i,h,"data");return U&&M.size>0&&V.searchParams.set("_routes",e.filter(H=>M.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[h,p,r,o,m,e,i,u]),S=y.useMemo(()=>Rw(_,o),[_,o]),D=Nw(_);return y.createElement(y.Fragment,null,T.map(M=>y.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>y.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:U})=>y.createElement("link",{key:M,nonce:n.nonce,...U})))}function kw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r0&&(window.__reactRouterVersion="7.9.4")}catch{}function Uw({basename:i,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=AC({window:n,v5Compat:!0}));let o=r.current,[u,h]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>h(g))},[h]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(pw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:m,preventScrollReset:_,viewTransition:T,...S},D){let{basename:M}=y.useContext($i),U=typeof m=="string"&&a0.test(m),V,H=!1;if(typeof m=="string"&&U&&(V=m,r0))try{let C=new URL(window.location.href),I=m.startsWith("//")?new URL(C.protocol+m):new URL(m),x=ws(I.pathname,M);I.origin===C.origin&&x!=null?m=x+I.search+I.hash:H=!0}catch{Qi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=JC(m,{relative:o}),[te,Y,F]=Iw(r,S),X=Hw(m,{replace:h,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:T});function L(C){e&&e(C),C.defaultPrevented||X(C)}let A=y.createElement("a",{...S,...F,href:V||B,onClick:H||u?e:L,ref:kw(D,Y),target:g,"data-discover":!U&&n==="render"?"true":void 0});return te&&!U?y.createElement(y.Fragment,null,A,y.createElement(Vw,{page:B})):A});Pl.displayName="Link";var zw=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...m},_){let T=su(h,{relative:m.relative}),S=oa(),D=y.useContext(Sh),{navigator:M,basename:U}=y.useContext($i),V=D!=null&&Kw(T)&&p===!0,H=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,B=S.pathname,te=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(B=B.toLowerCase(),te=te?te.toLowerCase():null,H=H.toLowerCase()),te&&U&&(te=ws(te,U)||te);const Y=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let F=B===H||!o&&B.startsWith(H)&&B.charAt(Y)==="/",X=te!=null&&(te===H||!o&&te.startsWith(H)&&te.charAt(H.length)==="/"),L={isActive:F,isPending:X,isTransitioning:V},A=F?e:void 0,C;typeof r=="function"?C=r(L):C=[r,F?"active":null,X?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(L):u;return y.createElement(Pl,{...m,"aria-current":A,className:C,ref:_,style:I,to:h,viewTransition:p},typeof g=="function"?g(L):g)});zw.displayName="NavLink";var Bw=y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=Gc,action:p,onSubmit:g,relative:m,preventScrollReset:_,viewTransition:T,...S},D)=>{let M=Gw(),U=Qw(p,{relative:m}),V=h.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&a0.test(p),B=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let Y=te.nativeEvent.submitter,F=Y?.getAttribute("formmethod")||h;M(Y||te.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:T})};return y.createElement("form",{ref:D,method:V,action:U,onSubmit:r?g:B,...S,"data-discover":!H&&i==="render"?"true":void 0})});Bw.displayName="Form";function jw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o0(i){let e=y.useContext(_o);return bt(e,jw(i)),e}function Hw(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Vp(),g=oa(),m=su(i,{relative:u});return y.useCallback(_=>{if(Ew(_,e)){_.preventDefault();let T=n!==void 0?n:Fl(g)===Fl(m);p(i,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,m,n,r,e,i,o,u,h])}var qw=0,Fw=()=>`__${String(++qw)}__`;function Gw(){let{router:i}=o0("useSubmit"),{basename:e}=y.useContext($i),n=cw();return y.useCallback(async(r,o={})=>{let{action:u,method:h,encType:p,formData:g,body:m}=Sw(r,e);if(o.navigate===!1){let _=o.fetcherKey||Fw();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Qw(i,{relative:e}={}){let{basename:n}=y.useContext($i),r=y.useContext(Ms);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...su(i||".",{relative:e})},h=oa();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let _=p.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ss([n,u.pathname])),Fl(u)}function Kw(i,{relative:e}={}){let n=y.useContext(Wb);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o0("useViewTransitionState"),o=su(i,{relative:e});if(!n.isTransitioning)return!1;let u=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jc(o.pathname,h)!=null||Jc(o.pathname,u)!=null}var Eo=Gb();function Gl(i){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(i)}function Yw(i,e){if(Gl(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function $w(i){var e=Yw(i,"string");return Gl(e)=="symbol"?e:e+""}function ne(i,e,n){return(e=$w(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function l0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jd,d_;function Zw(){if(d_)return jd;d_=1;var i=function(n,r,o,u,h,p,g,m){if(!n){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[o,u,h,p,g,m],S=0;_=new Error(r.replace(/%s/g,function(){return T[S++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return jd=i,jd}var Xw=Zw(),Gt=l0(Xw),Ue=y.createContext(null);function Ww(){Gt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=y.useContext(Ue);return Gt(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function Jw(i,e,n){return Object.keys(i).reduce(function(o,u){return e(o,i[u],u)},n)}function eA(i,e){Object.keys(i).forEach(n=>e(i[n],n))}function tA(i,e,n,r){var o={},u=(h,p)=>{var g=n[p];g!==e[p]&&(o[p]=g,h(r,g))};return eA(i,u),o}function nA(i,e,n){var r=Jw(n,function(u,h,p){return typeof i[p]=="function"&&u.push(google.maps.event.addListener(e,h,i[p])),u},[]);return r}function iA(i){google.maps.event.removeListener(i)}function qe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(iA)}function Be(i){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:o,instance:u}=i,h=nA(o,u,n);return tA(e,r,o,u),h}var p_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},g_={extraMapTypes(i,e){e.forEach(function(r,o){i.mapTypes.set(String(o),r)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function sA(i){var{children:e,options:n,id:r,mapContainerStyle:o,mapContainerClassName:u,center:h,onClick:p,onDblClick:g,onDrag:m,onDragEnd:_,onDragStart:T,onMouseMove:S,onMouseOut:D,onMouseOver:M,onMouseDown:U,onMouseUp:V,onRightClick:H,onCenterChanged:B,onLoad:te,onUnmount:Y}=i,[F,X]=y.useState(null),L=y.useRef(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[k,O]=y.useState(null),[me,be]=y.useState(null),[G,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[W,se]=y.useState(null),[he,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null),[we,ze]=y.useState(null);return y.useEffect(()=>{n&&F!==null&&F.setOptions(n)},[F,n]),y.useEffect(()=>{F!==null&&typeof h<"u"&&F.setCenter(h)},[F,h]),y.useEffect(()=>{F&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(F,"dblclick",g)))},[g]),y.useEffect(()=>{F&&_&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(F,"dragend",_)))},[_]),y.useEffect(()=>{F&&T&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(F,"dragstart",T)))},[T]),y.useEffect(()=>{F&&U&&(G!==null&&google.maps.event.removeListener(G),ue(google.maps.event.addListener(F,"mousedown",U)))},[U]),y.useEffect(()=>{F&&S&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(F,"mousemove",S)))},[S]),y.useEffect(()=>{F&&D&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(F,"mouseout",D)))},[D]),y.useEffect(()=>{F&&M&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(F,"mouseover",M)))},[M]),y.useEffect(()=>{F&&V&&(he!==null&&google.maps.event.removeListener(he),$(google.maps.event.addListener(F,"mouseup",V)))},[V]),y.useEffect(()=>{F&&H&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(F,"rightclick",H)))},[H]),y.useEffect(()=>{F&&p&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(F,"click",p)))},[p]),y.useEffect(()=>{F&&m&&(we!==null&&google.maps.event.removeListener(we),ze(google.maps.event.addListener(F,"drag",m)))},[m]),y.useEffect(()=>{F&&B&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(F,"center_changed",B)))},[p]),y.useEffect(()=>{var Qt=L.current===null?null:new google.maps.Map(L.current,n);return X(Qt),Qt!==null&&te&&te(Qt),()=>{Qt!==null&&Y&&Y(Qt)}},[]),ce.jsx("div",{id:r,ref:L,style:o,className:u,children:ce.jsx(Ue.Provider,{value:F,children:F!==null?e:null})})}y.memo(sA);class u0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:g_,eventMap:p_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),qe(this.registeredEvents))}render(){return ce.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:ce.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function m_(i,e,n,r,o,u,h){try{var p=i[u](h),g=p.value}catch(m){return void n(m)}p.done?e(g):Promise.resolve(g).then(r,o)}function c0(i){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=i.apply(e,n);function h(g){m_(u,r,o,h,p,"next",g)}function p(g){m_(u,r,o,h,p,"throw",g)}h(void 0)})}}function h0(i){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:o,region:u,libraries:h,channel:p,mapIds:g,authReferrerPolicy:m,apiUrl:_="https://maps.googleapis.com"}=i,T=[];return Gt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?T.push("key=".concat(e)):n&&T.push("client=".concat(n)),r&&T.push("v=".concat(r)),o&&T.push("language=".concat(o)),u&&T.push("region=".concat(u)),h&&h.length&&T.push("libraries=".concat(h.sort().join(","))),p&&T.push("channel=".concat(p)),g&&g.length&&T.push("map_ids=".concat(g.join(","))),m&&T.push("auth_referrer_policy=".concat(m)),T.push("loading=async"),T.push("callback=initMap"),"".concat(_,"/maps/api/js?").concat(T.join("&"))}var ta=typeof document<"u";function f0(i){var{url:e,id:n,nonce:r}=i;return ta?new Promise(function(u,h){var p=document.getElementById(n),g=window;if(p){var m=p.getAttribute("data-state");if(p.src===e&&m!=="error"){if(m==="ready")return u(n);var _=g.initMap,T=p.onerror;g.initMap=function(){_&&_(),u(n)},p.onerror=function(D){T&&T(D),h(D)};return}else p.remove()}var S=document.createElement("script");S.type="text/javascript",S.src=e,S.id=n,S.async=!0,S.nonce=r||"",S.onerror=function(M){S.setAttribute("data-state","error"),h(M)},g.initMap=function(){S.setAttribute("data-state","ready"),u(n)},document.head.appendChild(S)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function v_(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function d0(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(o,u){return v_(o)||Reflect.apply(e,i,[o,u]),o};var n=i.appendChild.bind(i);i.appendChild=function(o){return v_(o)||Reflect.apply(n,i,[o]),o}}}var Ml=!1;function p0(){return ce.jsx("div",{children:"Loading..."})}var ap={id:"script-loader",version:"weekly"};class g0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",c0(function*(){function e(n){if(!Ml)n();else if(ta)var r=window.setInterval(function(){Ml||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Ml=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&d0(),Gt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:h0(this.props)};f0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ta){if(window.google&&window.google.maps&&!Ml){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ta&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ta){this.cleanup();var e=()=>{this.check||(delete window.google,Ml=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||ce.jsx(p0,{})]})}}ne(g0,"defaultProps",ap);function rA(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;n[r]=i[r]}return n}function zp(i,e){if(i==null)return{};var n,r,o=rA(i,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(r=0;r<u.length;r++)n=u[r],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(o[n]=i[n])}return o}var y_;function aA(i){var{id:e=ap.id,version:n=ap.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,preventGoogleFontsLoading:m,channel:_,mapIds:T,authReferrerPolicy:S,apiUrl:D="https://maps.googleapis.com"}=i,M=y.useRef(!1),[U,V]=y.useState(!1),[H,B]=y.useState(void 0);y.useEffect(function(){return M.current=!0,()=>{M.current=!1}},[]),y.useEffect(function(){ta&&m&&d0()},[m]),y.useEffect(function(){U&&Gt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[U]);var te=h0({version:n,googleMapsApiKey:o,googleMapsClientId:u,language:h,region:p,libraries:g,channel:_,mapIds:T,authReferrerPolicy:S,apiUrl:D});y.useEffect(function(){if(!ta)return;function X(){M.current&&(V(!0),y_=te)}if(window.google&&window.google.maps&&y_===te){X();return}f0({id:e,url:te,nonce:r}).then(X).catch(function(A){M.current&&B(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,te,r]);var Y=y.useRef(void 0);return y.useEffect(function(){Y.current&&g!==Y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Y.current=g},[g]),{isLoaded:U,loadError:H,url:te}}var oA=["loadingElement","onLoad","onError","onUnmount","children"],lA=ce.jsx(p0,{});function uA(i){var{loadingElement:e,onLoad:n,onError:r,onUnmount:o,children:u}=i,h=zp(i,oA),{isLoaded:p,loadError:g}=aA(h);return y.useEffect(function(){p&&typeof n=="function"&&n()},[p,n]),y.useEffect(function(){g&&typeof r=="function"&&r(g)},[g,r]),y.useEffect(function(){return()=>{o&&o()}},[o]),p?u:e||lA}y.memo(uA);var __;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(__||(__={}));function E_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function eh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var b_={},T_={options(i,e){i.setOptions(e)}};function cA(i){var{options:e,onLoad:n,onUnmount:r}=i,o=y.useContext(Ue),[u,h]=y.useState(null);return y.useEffect(()=>{u!==null&&u.setMap(o)},[o]),y.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),y.useEffect(()=>{var p=new google.maps.TrafficLayer(eh(eh({},e),{},{map:o}));return h(p),n&&n(p),()=>{u!==null&&(r&&r(u),u.setMap(null))}},[]),null}y.memo(cA);class hA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(eh(eh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:T_,eventMap:b_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:T_,eventMap:b_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),qe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(hA,"contextType",Ue);function fA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.BicyclingLayer;return u(h),h.setMap(r),e&&e(h),()=>{h!==null&&(n&&n(h),h.setMap(null))}},[]),null}y.memo(fA);class dA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(dA,"contextType",Ue);function pA(i){var{onLoad:e,onUnmount:n}=i,r=y.useContext(Ue),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var h=new google.maps.TransitLayer;return u(h),h.setMap(r),e&&e(h),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(pA);class gA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(gA,"contextType",Ue);function S_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function th(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var C_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},w_={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function mA(i){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:u,onPolygonComplete:h,onPolylineComplete:p,onRectangleComplete:g,onLoad:m,onUnmount:_}=i,T=y.useContext(Ue),[S,D]=y.useState(null),[M,U]=y.useState(null),[V,H]=y.useState(null),[B,te]=y.useState(null),[Y,F]=y.useState(null),[X,L]=y.useState(null),[A,C]=y.useState(null);return y.useEffect(()=>{S!==null&&S.setMap(T)},[T]),y.useEffect(()=>{e&&S!==null&&S.setOptions(e)},[S,e]),y.useEffect(()=>{S!==null&&S.setDrawingMode(n??null)},[S,n]),y.useEffect(()=>{S&&r&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(S,"circlecomplete",r)))},[S,r]),y.useEffect(()=>{S&&o&&(V!==null&&google.maps.event.removeListener(V),H(google.maps.event.addListener(S,"markercomplete",o)))},[S,o]),y.useEffect(()=>{S&&u&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(S,"overlaycomplete",u)))},[S,u]),y.useEffect(()=>{S&&h&&(Y!==null&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(S,"polygoncomplete",h)))},[S,h]),y.useEffect(()=>{S&&p&&(X!==null&&google.maps.event.removeListener(X),L(google.maps.event.addListener(S,"polylinecomplete",p)))},[S,p]),y.useEffect(()=>{S&&g&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(S,"rectanglecomplete",g)))},[S,g]),y.useEffect(()=>{Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(th(th({},e),{},{map:T}));return n&&I.setDrawingMode(n),r&&U(google.maps.event.addListener(I,"circlecomplete",r)),o&&H(google.maps.event.addListener(I,"markercomplete",o)),u&&te(google.maps.event.addListener(I,"overlaycomplete",u)),h&&F(google.maps.event.addListener(I,"polygoncomplete",h)),p&&L(google.maps.event.addListener(I,"polylinecomplete",p)),g&&C(google.maps.event.addListener(I,"rectanglecomplete",g)),D(I),m&&m(I),()=>{S!==null&&(M&&google.maps.event.removeListener(M),V&&google.maps.event.removeListener(V),B&&google.maps.event.removeListener(B),Y&&google.maps.event.removeListener(Y),X&&google.maps.event.removeListener(X),A&&google.maps.event.removeListener(A),_&&_(S),S.setMap(null))}},[]),null}y.memo(mA);class vA extends y.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(th(th({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:w_,eventMap:C_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:w_,eventMap:C_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),qe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(vA,"contextType",Ue);function A_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ao(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var L_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},R_={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},nh={};function yA(i){var{position:e,options:n,clusterer:r,noClustererRedraw:o,children:u,draggable:h,visible:p,animation:g,clickable:m,cursor:_,icon:T,label:S,opacity:D,shape:M,title:U,zIndex:V,onClick:H,onDblClick:B,onDrag:te,onDragEnd:Y,onDragStart:F,onMouseOut:X,onMouseOver:L,onMouseUp:A,onMouseDown:C,onRightClick:I,onClickableChanged:x,onCursorChanged:k,onAnimationChanged:O,onDraggableChanged:me,onFlatChanged:be,onIconChanged:G,onPositionChanged:ue,onShapeChanged:fe,onTitleChanged:Ee,onVisibleChanged:_e,onZindexChanged:N,onLoad:W,onUnmount:se}=i,he=y.useContext(Ue),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null),[$e,_i]=y.useState(null),[Ei,Ds]=y.useState(null),[dt,St]=y.useState(null),[Mn,pa]=y.useState(null),[Zi,Kt]=y.useState(null),[bi,Os]=y.useState(null),[Ti,ri]=y.useState(null),[xs,Ar]=y.useState(null),[Xi,Lr]=y.useState(null),[hn,xt]=y.useState(null),[Jt,vt]=y.useState(null),[Wi,Ji]=y.useState(null),[es,Dn]=y.useState(null),[Si,Et]=y.useState(null),[vn,On]=y.useState(null),[fn,ga]=y.useState(null),[ts,xn]=y.useState(null);y.useEffect(()=>{$!==null&&$.setMap(he)},[he]),y.useEffect(()=>{typeof n<"u"&&$!==null&&$.setOptions(n)},[$,n]),y.useEffect(()=>{typeof h<"u"&&$!==null&&$.setDraggable(h)},[$,h]),y.useEffect(()=>{e&&$!==null&&$.setPosition(e)},[$,e]),y.useEffect(()=>{typeof p<"u"&&$!==null&&$.setVisible(p)},[$,p]),y.useEffect(()=>{$?.setAnimation(g)},[$,g]),y.useEffect(()=>{$&&m!==void 0&&$.setClickable(m)},[$,m]),y.useEffect(()=>{$&&_!==void 0&&$.setCursor(_)},[$,_]),y.useEffect(()=>{$&&T!==void 0&&$.setIcon(T)},[$,T]),y.useEffect(()=>{$&&S!==void 0&&$.setLabel(S)},[$,S]),y.useEffect(()=>{$&&D!==void 0&&$.setOpacity(D)},[$,D]),y.useEffect(()=>{$&&M!==void 0&&$.setShape(M)},[$,M]),y.useEffect(()=>{$&&U!==void 0&&$.setTitle(U)},[$,U]),y.useEffect(()=>{$&&V!==void 0&&$.setZIndex(V)},[$,V]),y.useEffect(()=>{$&&B&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener($,"dblclick",B)))},[B]),y.useEffect(()=>{$&&Y&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener($,"dragend",Y)))},[Y]),y.useEffect(()=>{$&&F&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener($,"dragstart",F)))},[F]),y.useEffect(()=>{$&&C&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener($,"mousedown",C)))},[C]),y.useEffect(()=>{$&&X&&($e!==null&&google.maps.event.removeListener($e),_i(google.maps.event.addListener($,"mouseout",X)))},[X]),y.useEffect(()=>{$&&L&&(Ei!==null&&google.maps.event.removeListener(Ei),Ds(google.maps.event.addListener($,"mouseover",L)))},[L]),y.useEffect(()=>{$&&A&&(dt!==null&&google.maps.event.removeListener(dt),St(google.maps.event.addListener($,"mouseup",A)))},[A]),y.useEffect(()=>{$&&I&&(Mn!==null&&google.maps.event.removeListener(Mn),pa(google.maps.event.addListener($,"rightclick",I)))},[I]),y.useEffect(()=>{$&&H&&(Zi!==null&&google.maps.event.removeListener(Zi),Kt(google.maps.event.addListener($,"click",H)))},[H]),y.useEffect(()=>{$&&te&&(bi!==null&&google.maps.event.removeListener(bi),Os(google.maps.event.addListener($,"drag",te)))},[te]),y.useEffect(()=>{$&&x&&(Ti!==null&&google.maps.event.removeListener(Ti),ri(google.maps.event.addListener($,"clickable_changed",x)))},[x]),y.useEffect(()=>{$&&k&&(xs!==null&&google.maps.event.removeListener(xs),Ar(google.maps.event.addListener($,"cursor_changed",k)))},[k]),y.useEffect(()=>{$&&O&&(Xi!==null&&google.maps.event.removeListener(Xi),Lr(google.maps.event.addListener($,"animation_changed",O)))},[O]),y.useEffect(()=>{$&&me&&(hn!==null&&google.maps.event.removeListener(hn),xt(google.maps.event.addListener($,"draggable_changed",me)))},[me]),y.useEffect(()=>{$&&be&&(Jt!==null&&google.maps.event.removeListener(Jt),vt(google.maps.event.addListener($,"flat_changed",be)))},[be]),y.useEffect(()=>{$&&G&&(Wi!==null&&google.maps.event.removeListener(Wi),Ji(google.maps.event.addListener($,"icon_changed",G)))},[G]),y.useEffect(()=>{$&&ue&&(es!==null&&google.maps.event.removeListener(es),Dn(google.maps.event.addListener($,"position_changed",ue)))},[ue]),y.useEffect(()=>{$&&fe&&(Si!==null&&google.maps.event.removeListener(Si),Et(google.maps.event.addListener($,"shape_changed",fe)))},[fe]),y.useEffect(()=>{$&&Ee&&(vn!==null&&google.maps.event.removeListener(vn),On(google.maps.event.addListener($,"title_changed",Ee)))},[Ee]),y.useEffect(()=>{$&&_e&&(fn!==null&&google.maps.event.removeListener(fn),ga(google.maps.event.addListener($,"visible_changed",_e)))},[_e]),y.useEffect(()=>{$&&N&&(ts!==null&&google.maps.event.removeListener(ts),xn(google.maps.event.addListener($,"zindex_changed",N)))},[N]),y.useEffect(()=>{var is=ao(ao(ao({},n||nh),r?nh:{map:he}),{},{position:e}),Me=new google.maps.Marker(is);return r?r.addMarker(Me,!!o):Me.setMap(he),e&&Me.setPosition(e),typeof p<"u"&&Me.setVisible(p),typeof h<"u"&&Me.setDraggable(h),typeof m<"u"&&Me.setClickable(m),typeof _=="string"&&Me.setCursor(_),T&&Me.setIcon(T),typeof S<"u"&&Me.setLabel(S),typeof D<"u"&&Me.setOpacity(D),M&&Me.setShape(M),typeof U=="string"&&Me.setTitle(U),typeof V=="number"&&Me.setZIndex(V),B&&Ce(google.maps.event.addListener(Me,"dblclick",B)),Y&&we(google.maps.event.addListener(Me,"dragend",Y)),F&&Qt(google.maps.event.addListener(Me,"dragstart",F)),C&&cn(google.maps.event.addListener(Me,"mousedown",C)),X&&_i(google.maps.event.addListener(Me,"mouseout",X)),L&&Ds(google.maps.event.addListener(Me,"mouseover",L)),A&&St(google.maps.event.addListener(Me,"mouseup",A)),I&&pa(google.maps.event.addListener(Me,"rightclick",I)),H&&Kt(google.maps.event.addListener(Me,"click",H)),te&&Os(google.maps.event.addListener(Me,"drag",te)),x&&ri(google.maps.event.addListener(Me,"clickable_changed",x)),k&&Ar(google.maps.event.addListener(Me,"cursor_changed",k)),O&&Lr(google.maps.event.addListener(Me,"animation_changed",O)),me&&xt(google.maps.event.addListener(Me,"draggable_changed",me)),be&&vt(google.maps.event.addListener(Me,"flat_changed",be)),G&&Ji(google.maps.event.addListener(Me,"icon_changed",G)),ue&&Dn(google.maps.event.addListener(Me,"position_changed",ue)),fe&&Et(google.maps.event.addListener(Me,"shape_changed",fe)),Ee&&On(google.maps.event.addListener(Me,"title_changed",Ee)),_e&&ga(google.maps.event.addListener(Me,"visible_changed",_e)),N&&xn(google.maps.event.addListener(Me,"zindex_changed",N)),ve(Me),W&&W(Me),()=>{Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),$e!==null&&google.maps.event.removeListener($e),Ei!==null&&google.maps.event.removeListener(Ei),dt!==null&&google.maps.event.removeListener(dt),Mn!==null&&google.maps.event.removeListener(Mn),Zi!==null&&google.maps.event.removeListener(Zi),Ti!==null&&google.maps.event.removeListener(Ti),xs!==null&&google.maps.event.removeListener(xs),Xi!==null&&google.maps.event.removeListener(Xi),hn!==null&&google.maps.event.removeListener(hn),Jt!==null&&google.maps.event.removeListener(Jt),Wi!==null&&google.maps.event.removeListener(Wi),es!==null&&google.maps.event.removeListener(es),vn!==null&&google.maps.event.removeListener(vn),fn!==null&&google.maps.event.removeListener(fn),ts!==null&&google.maps.event.removeListener(ts),se&&se(Me),r?r.removeMarker(Me,!!o):Me&&Me.setMap(null)}},[]);var ns=y.useMemo(()=>u?y.Children.map(u,is=>{if(!y.isValidElement(is))return is;var Me=is;return y.cloneElement(Me,{anchor:$})}):null,[u,$]);return ce.jsx(ce.Fragment,{children:ns})||null}y.memo(yA);class Bp extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return c0(function*(){var n=ao(ao(ao({},e.props.options||nh),e.props.clusterer?nh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:R_,eventMap:L_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:R_,eventMap:L_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var r=n;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(Bp,"contextType",Ue);var _A=(function(){function i(e,n){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),u=n.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(o),this.timeOut=window.setTimeout(function(){var h=n.getMap();if(h!==null){"fitBounds"in h&&h.fitBounds(o);var p=h.getZoom()||0;r!==null&&p>r&&h.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,n,r,o,u,h;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,g=this.backgroundPosition.split(" "),m=parseInt(((e=g[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((n=g[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),T=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(T!==null?"".concat(T.y,"px"):"0","; left: ").concat(T!==null?"".concat(T.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var S=document.createElement("img");S.alt=p,S.src=this.url,S.width=this.width,S.height=this.height,S.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(S.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var D=document.createElement("div");D.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(D.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(D.innerHTML="".concat((h=this.sums)===null||h===void 0?void 0:h.html)),this.div.innerHTML="",this.div.appendChild(S),this.div.appendChild(D),this.div.title=p,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},i})(),EA=(function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new _A(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var u=o[r],h=u.getPosition();h&&e.extend(h)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,h=this.markerClusterer.getMaxZoom(),p=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(h!==null&&typeof p<"u"&&p>h)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var g=0,m=this.markers;g<m.length;g++){var _=m[g];_.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},i})();function bA(i,e){var n=i.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var TA=2e3,SA=500,CA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",wA="png",AA=[53,56,66,78,90],LA="cluster",m0=(function(){function i(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||CA,this.imageExtension=r.imageExtension||wA,this.imageSizes=r.imageSizes||AA,this.calculator=r.calculator||bA,this.batchSize=r.batchSize||TA,this.batchSizeIE=r.batchSizeIE||SA,this.clusterClass=r.clusterClass||LA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,u=this.clusters;o<u.length;o++){var h=u[o];h.remove()}this.clusters=[];for(var p=0,g=this.listeners;p<g.length;p++){var m=g[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var u=o[r],h=u.getPosition();h&&n.extend(h)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},i.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},i.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},i.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},i.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,u=e;o<u.length;o++){var h=u[o];r=r||this.removeMarker_(h)}return!n&&r&&this.repaint(),r},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var u=o[r];u.remove()}},0)},i.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var u=n.fromDivPixelToLatLng(r);u!==null&&e.extend(u)}if(o!==null){var h=n.fromDivPixelToLatLng(o);h!==null&&e.extend(h)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var u=0,h=this.markers;u<h.length;u++){var p=h[u];p.isAdded=!1,e&&p.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,u=(n.lng()-e.lng())*Math.PI/180,h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},i.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},i.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,u=0,h=this.clusters;u<h.length;u++){var p=h[u];n=p;var g=n.getCenter(),m=e.getPosition();if(g&&m){var _=this.distanceBetweenPoints(g,m);_<r&&(r=_,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new EA(this),n.addMarker(e),this.clusters.push(n))},i.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,u=r?.getZoom()||0,h=u>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(h),g=Math.min(e+this.batchSize,this.markers.length),m=e;m<g;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,p)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(g<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(g)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var T=0,S=this.clusters;T<S.length;T++){var D=S[T];D.updateIcon()}}}},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype){var h=u;this.prototype[h]=o.prototype[h]}return this}).apply(e,[n])},i})();function M_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function RA(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var ni={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},MA={};function DA(i){var{children:e,options:n,averageCenter:r,batchSizeIE:o,calculator:u,clusterClass:h,enableRetinaIcons:p,gridSize:g,ignoreHidden:m,imageExtension:_,imagePath:T,imageSizes:S,maxZoom:D,minimumClusterSize:M,styles:U,title:V,zoomOnClick:H,onClick:B,onClusteringBegin:te,onClusteringEnd:Y,onMouseOver:F,onMouseOut:X,onLoad:L,onUnmount:A}=i,[C,I]=y.useState(null),x=y.useContext(Ue),[k,O]=y.useState(null),[me,be]=y.useState(null),[G,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null);return y.useEffect(()=>{C&&X&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(C,ni.onMouseOut,X)))},[X]),y.useEffect(()=>{C&&F&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(C,ni.onMouseOver,F)))},[F]),y.useEffect(()=>{C&&B&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(C,ni.onClick,B)))},[B]),y.useEffect(()=>{C&&te&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(C,ni.onClusteringBegin,te)))},[te]),y.useEffect(()=>{C&&Y&&(G!==null&&google.maps.event.removeListener(G),be(google.maps.event.addListener(C,ni.onClusteringEnd,Y)))},[Y]),y.useEffect(()=>{typeof r<"u"&&C!==null&&et.averageCenter(C,r)},[C,r]),y.useEffect(()=>{typeof o<"u"&&C!==null&&et.batchSizeIE(C,o)},[C,o]),y.useEffect(()=>{typeof u<"u"&&C!==null&&et.calculator(C,u)},[C,u]),y.useEffect(()=>{typeof h<"u"&&C!==null&&et.clusterClass(C,h)},[C,h]),y.useEffect(()=>{typeof p<"u"&&C!==null&&et.enableRetinaIcons(C,p)},[C,p]),y.useEffect(()=>{typeof g<"u"&&C!==null&&et.gridSize(C,g)},[C,g]),y.useEffect(()=>{typeof m<"u"&&C!==null&&et.ignoreHidden(C,m)},[C,m]),y.useEffect(()=>{typeof _<"u"&&C!==null&&et.imageExtension(C,_)},[C,_]),y.useEffect(()=>{typeof T<"u"&&C!==null&&et.imagePath(C,T)},[C,T]),y.useEffect(()=>{typeof S<"u"&&C!==null&&et.imageSizes(C,S)},[C,S]),y.useEffect(()=>{typeof D<"u"&&C!==null&&et.maxZoom(C,D)},[C,D]),y.useEffect(()=>{typeof M<"u"&&C!==null&&et.minimumClusterSize(C,M)},[C,M]),y.useEffect(()=>{typeof U<"u"&&C!==null&&et.styles(C,U)},[C,U]),y.useEffect(()=>{typeof V<"u"&&C!==null&&et.title(C,V)},[C,V]),y.useEffect(()=>{typeof H<"u"&&C!==null&&et.zoomOnClick(C,H)},[C,H]),y.useEffect(()=>{if(x){var W=RA({},n||MA),se=new m0(x,[],W);return r&&et.averageCenter(se,r),o&&et.batchSizeIE(se,o),u&&et.calculator(se,u),h&&et.clusterClass(se,h),p&&et.enableRetinaIcons(se,p),g&&et.gridSize(se,g),m&&et.ignoreHidden(se,m),_&&et.imageExtension(se,_),T&&et.imagePath(se,T),S&&et.imageSizes(se,S),D&&et.maxZoom(se,D),M&&et.minimumClusterSize(se,M),U&&et.styles(se,U),V&&et.title(se,V),H&&et.zoomOnClick(se,H),X&&Ee(google.maps.event.addListener(se,ni.onMouseOut,X)),F&&N(google.maps.event.addListener(se,ni.onMouseOver,F)),B&&O(google.maps.event.addListener(se,ni.onClick,B)),te&&be(google.maps.event.addListener(se,ni.onClusteringBegin,te)),Y&&ue(google.maps.event.addListener(se,ni.onClusteringEnd,Y)),I(se),L&&L(se),()=>{fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),G!==null&&google.maps.event.removeListener(G),A&&A(se)}}},[]),C!==null&&e(C)||null}y.memo(DA);class OA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new m0(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:et,eventMap:ni,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),qe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(OA,"contextType",Ue);function D_(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var v0=(function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,n=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||D_(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],h=0,p=u;h<p.length;h++){var g=p[h];this.eventListeners.push(google.maps.event.addListener(this.div,g,D_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,u=n.getBounds();u&&!u.contains(this.position)&&n.setCenter(this.position);var h=n.getDiv(),p=h.offsetWidth,g=h.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,T=this.div.offsetWidth,S=this.div.offsetHeight,D=this.infoBoxClearance.width,M=this.infoBoxClearance.height,U=this.getProjection(),V=U.fromLatLngToContainerPixel(this.position);V!==null&&(V.x<-m+D?r=V.x+m-D:V.x+T+m+D>p&&(r=V.x+T+m+D-p),this.alignBottom?V.y<-_+M+S?o=V.y+_-M-S:V.y+_+M>g&&(o=V.y+_+M-g):V.y<-_+M?o=V.y+_-M:V.y+S+_+M>g&&(o=V.y+S+_+M-g)),r===0&&o===0||n.panBy(r,o)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=o.prototype[u]);return this}).apply(e,[n])},i})(),xA=["position"],IA=["position"];function O_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ih(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var x_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},I_={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},VA={};function NA(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,D=y.useContext(Ue),[M,U]=y.useState(null),[V,H]=y.useState(null),[B,te]=y.useState(null),[Y,F]=y.useState(null),[X,L]=y.useState(null),[A,C]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{D&&M!==null&&(M.close(),n?M.open(D,n):M.getPosition()&&M.open(D))},[D,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{if(o&&M!==null){var x=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);M.setPosition(x)}},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),H(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(Y!==null&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(X!==null&&google.maps.event.removeListener(X),L(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&_&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(M,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(D){var x=r||VA,{position:k}=x,O=zp(x,xA),me;k&&!(k instanceof google.maps.LatLng)&&(me=new google.maps.LatLng(k.lat,k.lng));var be=new v0(ih(ih({},O),me?{position:me}:{}));I.current=document.createElement("div"),U(be),h&&H(google.maps.event.addListener(be,"closeclick",h)),p&&te(google.maps.event.addListener(be,"domready",p)),g&&F(google.maps.event.addListener(be,"content_changed",g)),m&&L(google.maps.event.addListener(be,"position_changed",m)),_&&C(google.maps.event.addListener(be,"zindex_changed",_)),be.setContent(I.current),n?be.open(D,n):be.getPosition()?be.open(D):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),T&&T(be)}return()=>{M!==null&&(V&&google.maps.event.removeListener(V),Y&&google.maps.event.removeListener(Y),B&&google.maps.event.removeListener(B),X&&google.maps.event.removeListener(X),A&&google.maps.event.removeListener(A),S&&S(M),M.close())}},[]),I.current?Eo.createPortal(y.Children.only(e),I.current):null}y.memo(NA);class PA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=zp(e,IA),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var u=new v0(ih(ih({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:I_,eventMap:x_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),qe(this.registeredEvents),n.close())}render(){return this.containerElement?Eo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(PA,"contextType",Ue);var Hd,V_;function kA(){return V_||(V_=1,Hd=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;o--!==0;){var h=u[o];if(!i(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}),Hd}var UA=kA(),N_=l0(UA),P_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],qd=1,Dl=8;class jp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==qd)throw new Error("Got v".concat(o," data when expected v").concat(qd,"."));var u=P_[r&15];if(!u)throw new Error("Unrecognized array type.");var[h]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new jp(p,h,u,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=P_.indexOf(this.ArrayType),h=e*2*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-p%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Dl,e),this.coords=new this.ArrayType(this.data,Dl+p+g,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Dl+h+p+g),this.ids=new this.IndexArrayType(this.data,Dl,e),this.coords=new this.ArrayType(this.data,Dl+p+g,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(qd<<4)+u]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return op(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:h,nodeSize:p}=this,g=[0,u.length-1,0],m=[];g.length;){var _=g.pop()||0,T=g.pop()||0,S=g.pop()||0;if(T-S<=p){for(var D=S;D<=T;D++){var M=h[2*D],U=h[2*D+1];M>=e&&M<=r&&U>=n&&U<=o&&m.push(u[D])}continue}var V=S+T>>1,H=h[2*V],B=h[2*V+1];H>=e&&H<=r&&B>=n&&B<=o&&m.push(u[V]),(_===0?e<=H:n<=B)&&(g.push(S),g.push(V-1),g.push(1-_)),(_===0?r>=H:o>=B)&&(g.push(V+1),g.push(T),g.push(1-_))}return m}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:u,nodeSize:h}=this,p=[0,o.length-1,0],g=[],m=r*r;p.length;){var _=p.pop()||0,T=p.pop()||0,S=p.pop()||0;if(T-S<=h){for(var D=S;D<=T;D++)k_(u[2*D],u[2*D+1],e,n)<=m&&g.push(o[D]);continue}var M=S+T>>1,U=u[2*M],V=u[2*M+1];k_(U,V,e,n)<=m&&g.push(o[M]),(_===0?e-r<=U:n-r<=V)&&(p.push(S),p.push(M-1),p.push(1-_)),(_===0?e+r>=U:n+r>=V)&&(p.push(M+1),p.push(T),p.push(1-_))}return g}}function op(i,e,n,r,o,u){if(!(o-r<=n)){var h=r+o>>1;y0(i,e,h,r,o,u),op(i,e,n,r,h-1,1-u),op(i,e,n,h+1,o,1-u)}}function y0(i,e,n,r,o,u){for(;o>r;){if(o-r>600){var h=o-r+1,p=n-r+1,g=Math.log(h),m=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*m*(h-m)/h)*(p-h/2<0?-1:1),T=Math.max(r,Math.floor(n-p*m/h+_)),S=Math.min(o,Math.floor(n+(h-p)*m/h+_));y0(i,e,n,T,S,u)}var D=e[2*n+u],M=r,U=o;for(Ol(i,e,r,n),e[2*o+u]>D&&Ol(i,e,r,o);M<U;){for(Ol(i,e,M,U),M++,U--;e[2*M+u]<D;)M++;for(;e[2*U+u]>D;)U--}e[2*r+u]===D?Ol(i,e,r,U):(U++,Ol(i,e,U,o)),U<=n&&(r=U+1),n<=U&&(o=U-1)}}function Ol(i,e,n,r){Fd(i,n,r),Fd(e,2*n,2*r),Fd(e,2*n+1,2*r+1)}function Fd(i,e,n){var r=i[e];i[e]=i[n],i[n]=r}function k_(i,e,n,r){var o=i-n,u=e-r;return o*o+u*u}var zA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},U_=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),Jr=2,hr=3,Gd=4,cr=5,_0=6;class BA{constructor(e){this.options=Object.assign(Object.create(zA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");var u="prepare ".concat(e.length," points");n&&console.time(u),this.points=e;for(var h=[],p=0;p<e.length;p++){var g=e[p];if(g.geometry){var[m,_]=g.geometry.coordinates,T=U_(Vc(m)),S=U_(Nc(_));h.push(T,S,1/0,p,-1,1),this.options.reduce&&h.push(0)}}var D=this.trees[o+1]=this._createTree(h);n&&console.timeEnd(u);for(var M=o;M>=r;M--){var U=+Date.now();D=this.trees[M]=this._createTree(this._cluster(D,M)),n&&console.log("z%d: %d clusters in %dms",M,D.numItems,+Date.now()-U)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,h=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,u=180;else if(r>u){var p=this.getClusters([r,o,180,h],n),g=this.getClusters([-180,o,u,h],n);return p.concat(g)}var m=this.trees[this._limitZoom(n)],_=m.range(Vc(r),Nc(h),Vc(u),Nc(o)),T=m.data,S=[];for(var D of _){var M=this.stride*D;S.push(T[M+cr]>1?z_(T,M,this.clusterProps):this.points[T[M+hr]])}return S}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",u=this.trees[r];if(!u)throw new Error(o);var h=u.data;if(n*this.stride>=h.length)throw new Error(o);var p=this.options.radius/(this.options.extent*Math.pow(2,r-1)),g=h[n*this.stride],m=h[n*this.stride+1],_=u.within(g,m,p),T=[];for(var S of _){var D=S*this.stride;h[D+Gd]===e&&T.push(h[D+cr]>1?z_(h,D,this.clusterProps):this.points[h[D+hr]])}if(T.length===0)throw new Error(o);return T}getLeaves(e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){var o=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:h,radius:p}=this.options,g=p/h,m=(r-g)/u,_=(r+1+g)/u,T={features:[]};return this._addTileFeatures(o.range((n-g)/u,m,(n+1+g)/u,_),o.data,n,r,u,T),n===0&&this._addTileFeatures(o.range(1-g/u,m,1,_),o.data,u,r,u,T),n===u-1&&this._addTileFeatures(o.range(0,m,g/u,_),o.data,-1,r,u,T),T.features.length?T:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,u){var h=this.getChildren(n);for(var p of h){var g=p.properties;if(g&&g.cluster?u+g.point_count<=o?u+=g.point_count:u=this._appendLeaves(e,g.cluster_id,r,o,u):u<o?u++:e.push(p),e.length===r)break}return u}_createTree(e){for(var n=new jp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,u,h){for(var p of e){var g=p*this.stride,m=n[g+cr]>1,_=void 0,T=void 0,S=void 0;if(m)_=E0(n,g,this.clusterProps),T=n[g],S=n[g+1];else{var D=this.points[n[g+hr]];_=D.properties;var[M,U]=D.geometry.coordinates;T=Vc(M),S=Nc(U)}var V={type:1,geometry:[[Math.round(this.options.extent*(T*u-r)),Math.round(this.options.extent*(S*u-o))]],tags:_},H=void 0;m||this.options.generateId?H=n[g+hr]:H=this.points[n[g+hr]].id,H!==void 0&&(V.id=H),h.features.push(V)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:o,reduce:u,minPoints:h}=this.options,p=r/(o*Math.pow(2,n)),g=e.data,m=[],_=this.stride,T=0;T<g.length;T+=_)if(!(g[T+Jr]<=n)){g[T+Jr]=n;var S=g[T],D=g[T+1],M=e.within(g[T],g[T+1],p),U=g[T+cr],V=U;for(var H of M){var B=H*_;g[B+Jr]>n&&(V+=g[B+cr])}if(V>U&&V>=h){var te=S*U,Y=D*U,F=void 0,X=-1,L=((T/_|0)<<5)+(n+1)+this.points.length;for(var A of M){var C=A*_;if(!(g[C+Jr]<=n)){g[C+Jr]=n;var I=g[C+cr];te+=g[C]*I,Y+=g[C+1]*I,g[C+Gd]=L,u&&(F||(F=this._map(g,T,!0),X=this.clusterProps.length,this.clusterProps.push(F)),u(F,this._map(g,C)))}}g[T+Gd]=L,m.push(te/V,Y/V,1/0,L,-1,V),u&&m.push(X)}else{for(var x=0;x<_;x++)m.push(g[T+x]);if(V>1)for(var k of M){var O=k*_;if(!(g[O+Jr]<=n)){g[O+Jr]=n;for(var me=0;me<_;me++)m.push(g[O+me])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+cr]>1){var o=this.clusterProps[e[n+_0]];return r?Object.assign({},o):o}var u=this.points[e[n+hr]].properties,h=this.options.map(u);return r&&h===u?Object.assign({},h):h}}function z_(i,e,n){return{type:"Feature",id:i[e+hr],properties:E0(i,e,n),geometry:{type:"Point",coordinates:[jA(i[e]),HA(i[e+1])]}}}function E0(i,e,n){var r=i[e+cr],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,u=i[e+_0],h=u===-1?{}:Object.assign({},n[u]);return Object.assign(h,{cluster:!0,cluster_id:i[e+hr],point_count:r,point_count_abbreviated:o})}function Vc(i){return i/360+.5}function Nc(i){var e=Math.sin(i*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function jA(i){return(i-.5)*360}function HA(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qA(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(n[r[o]]=i[r[o]]);return n}class Hn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class lp{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Hn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Hn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Hn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class FA{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return GA(n)}}var GA=i=>{var e=i.map(n=>new lp({position:Hn.getPosition(n),markers:[n]}));return e};class QA extends FA{constructor(e){var{maxZoom:n,radius:r=60}=e,o=qA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new BA(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!N_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(u=>{var h=Hn.getPosition(u),p=[h.lng(),h.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:u}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!N_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:o}=e;if(o.cluster)return new lp({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(h=>h.properties.marker),position:{lat:r,lng:n}});var u=o.marker;return new lp({markers:[u],position:Hn.getPosition(u)})}}class KA{constructor(e,n){this.markers={sum:e.length};var r=n.map(u=>u.count),o=r.reduce((u,h)=>u+h,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class YA{render(e,n,r){var{count:o,position:u}=e,h=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(h,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),g="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Hn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,T=_.parseFromString(p,"image/svg+xml").documentElement;T.setAttribute("transform","translate(0 25)");var S={map:r,position:u,zIndex:m,title:g,content:T};return new google.maps.marker.AdvancedMarkerElement(S)}var D={position:u,zIndex:m,title:g,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(D)}}function $A(i,e){for(var n in e.prototype)i.prototype[n]=e.prototype[n]}class Hp{constructor(){$A(Hp,google.maps.OverlayView)}}var kl;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(kl||(kl={}));var ZA=(i,e,n)=>{n.fitBounds(e.bounds)};class XA extends Hp{constructor(e){var{map:n,markers:r=[],algorithmOptions:o={},algorithm:u=new QA(o),renderer:h=new YA,onClusterClick:p=ZA}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=u,this.renderer=h,this.onClusterClick=p,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Hn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,kl.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var u of n)u.markers.length==1&&o.add(u.markers[0]);var h=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?o.has(p.marker)||Hn.setMap(p.marker,null):h.push(p.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>h.forEach(g=>Hn.setMap(g,null)))}google.maps.event.trigger(this,kl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Hn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new KA(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>Hn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,kl.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),Hn.setMap(r.marker,n)})}}function B_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function j_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function WA(i){var e=Ww(),[n,r]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var o=new XA(j_(j_({},i),{},{map:e}));r(o)}},[e]),n}function JA(i){var{children:e,options:n}=i,r=WA(n);return r!==null?e(r):null}y.memo(JA);var H_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},q_={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function eL(i){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:h,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,D=y.useContext(Ue),[M,U]=y.useState(null),[V,H]=y.useState(null),[B,te]=y.useState(null),[Y,F]=y.useState(null),[X,L]=y.useState(null),[A,C]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{M!==null&&(M.close(),n?M.open(D,n):M.getPosition()&&M.open(D))},[D,M,n]),y.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),y.useEffect(()=>{o&&M!==null&&M.setPosition(o)},[o]),y.useEffect(()=>{typeof u=="number"&&M!==null&&M.setZIndex(u)},[u]),y.useEffect(()=>{M&&h&&(V!==null&&google.maps.event.removeListener(V),H(google.maps.event.addListener(M,"closeclick",h)))},[h]),y.useEffect(()=>{M&&p&&(B!==null&&google.maps.event.removeListener(B),te(google.maps.event.addListener(M,"domready",p)))},[p]),y.useEffect(()=>{M&&g&&(Y!==null&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(M,"content_changed",g)))},[g]),y.useEffect(()=>{M&&m&&(X!==null&&google.maps.event.removeListener(X),L(google.maps.event.addListener(M,"position_changed",m)))},[m]),y.useEffect(()=>{M&&_&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(M,"zindex_changed",_)))},[_]),y.useEffect(()=>{var x=new google.maps.InfoWindow(r);return U(x),I.current=document.createElement("div"),h&&H(google.maps.event.addListener(x,"closeclick",h)),p&&te(google.maps.event.addListener(x,"domready",p)),g&&F(google.maps.event.addListener(x,"content_changed",g)),m&&L(google.maps.event.addListener(x,"position_changed",m)),_&&C(google.maps.event.addListener(x,"zindex_changed",_)),x.setContent(I.current),o&&x.setPosition(o),u&&x.setZIndex(u),n?x.open(D,n):x.getPosition()?x.open(D):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),T&&T(x),()=>{V&&google.maps.event.removeListener(V),Y&&google.maps.event.removeListener(Y),B&&google.maps.event.removeListener(B),X&&google.maps.event.removeListener(X),A&&google.maps.event.removeListener(A),S&&S(x),x.close()}},[]),I.current?Eo.createPortal(y.Children.only(e),I.current):null}y.memo(eL);class b0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:q_,eventMap:H_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:q_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Eo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(b0,"contextType",Ue);function F_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function sh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var G_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Q_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},tL={};function nL(i){var{options:e,draggable:n,editable:r,visible:o,path:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:D,onRightClick:M,onClick:U,onDrag:V,onLoad:H,onUnmount:B}=i,te=y.useContext(Ue),[Y,F]=y.useState(null),[X,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[k,O]=y.useState(null),[me,be]=y.useState(null),[G,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[W,se]=y.useState(null),[he,$]=y.useState(null),[ve,Se]=y.useState(null);return y.useEffect(()=>{Y!==null&&Y.setMap(te)},[te]),y.useEffect(()=>{typeof e<"u"&&Y!==null&&Y.setOptions(e)},[Y,e]),y.useEffect(()=>{typeof n<"u"&&Y!==null&&Y.setDraggable(n)},[Y,n]),y.useEffect(()=>{typeof r<"u"&&Y!==null&&Y.setEditable(r)},[Y,r]),y.useEffect(()=>{typeof o<"u"&&Y!==null&&Y.setVisible(o)},[Y,o]),y.useEffect(()=>{typeof u<"u"&&Y!==null&&Y.setPath(u)},[Y,u]),y.useEffect(()=>{Y&&h&&(X!==null&&google.maps.event.removeListener(X),L(google.maps.event.addListener(Y,"dblclick",h)))},[h]),y.useEffect(()=>{Y&&p&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(Y,"dragend",p)))},[p]),y.useEffect(()=>{Y&&g&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(Y,"dragstart",g)))},[g]),y.useEffect(()=>{Y&&m&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(Y,"mousedown",m)))},[m]),y.useEffect(()=>{Y&&_&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(Y,"mousemove",_)))},[_]),y.useEffect(()=>{Y&&T&&(G!==null&&google.maps.event.removeListener(G),ue(google.maps.event.addListener(Y,"mouseout",T)))},[T]),y.useEffect(()=>{Y&&S&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(Y,"mouseover",S)))},[S]),y.useEffect(()=>{Y&&D&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(Y,"mouseup",D)))},[D]),y.useEffect(()=>{Y&&M&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(Y,"rightclick",M)))},[M]),y.useEffect(()=>{Y&&U&&(he!==null&&google.maps.event.removeListener(he),$(google.maps.event.addListener(Y,"click",U)))},[U]),y.useEffect(()=>{Y&&V&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(Y,"drag",V)))},[V]),y.useEffect(()=>{var Ce=new google.maps.Polyline(sh(sh({},e||tL),{},{map:te}));return u&&Ce.setPath(u),typeof o<"u"&&Ce.setVisible(o),typeof r<"u"&&Ce.setEditable(r),typeof n<"u"&&Ce.setDraggable(n),h&&L(google.maps.event.addListener(Ce,"dblclick",h)),p&&C(google.maps.event.addListener(Ce,"dragend",p)),g&&x(google.maps.event.addListener(Ce,"dragstart",g)),m&&O(google.maps.event.addListener(Ce,"mousedown",m)),_&&be(google.maps.event.addListener(Ce,"mousemove",_)),T&&ue(google.maps.event.addListener(Ce,"mouseout",T)),S&&Ee(google.maps.event.addListener(Ce,"mouseover",S)),D&&N(google.maps.event.addListener(Ce,"mouseup",D)),M&&se(google.maps.event.addListener(Ce,"rightclick",M)),U&&$(google.maps.event.addListener(Ce,"click",U)),V&&Se(google.maps.event.addListener(Ce,"drag",V)),F(Ce),H&&H(Ce),()=>{X!==null&&google.maps.event.removeListener(X),A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),W!==null&&google.maps.event.removeListener(W),he!==null&&google.maps.event.removeListener(he),B&&B(Ce),Ce.setMap(null)}},[]),null}y.memo(nL);class iL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(sh(sh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Q_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),qe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(iL,"contextType",Ue);function K_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function Y_(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var $_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Z_={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function sL(i){var{options:e,draggable:n,editable:r,visible:o,path:u,paths:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:D,onMouseUp:M,onRightClick:U,onClick:V,onDrag:H,onLoad:B,onUnmount:te,onEdit:Y}=i,F=y.useContext(Ue),[X,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[k,O]=y.useState(null),[me,be]=y.useState(null),[G,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[W,se]=y.useState(null),[he,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null);return y.useEffect(()=>{X!==null&&X.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&X!==null&&X.setOptions(e)},[X,e]),y.useEffect(()=>{typeof n<"u"&&X!==null&&X.setDraggable(n)},[X,n]),y.useEffect(()=>{typeof r<"u"&&X!==null&&X.setEditable(r)},[X,r]),y.useEffect(()=>{typeof o<"u"&&X!==null&&X.setVisible(o)},[X,o]),y.useEffect(()=>{typeof u<"u"&&X!==null&&X.setPath(u)},[X,u]),y.useEffect(()=>{typeof h<"u"&&X!==null&&X.setPaths(h)},[X,h]),y.useEffect(()=>{X&&typeof p=="function"&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(X,"dblclick",p)))},[p]),y.useEffect(()=>{X&&(google.maps.event.addListener(X.getPath(),"insert_at",()=>{Y?.(X)}),google.maps.event.addListener(X.getPath(),"set_at",()=>{Y?.(X)}),google.maps.event.addListener(X.getPath(),"remove_at",()=>{Y?.(X)}))},[X,Y]),y.useEffect(()=>{X&&typeof g=="function"&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(X,"dragend",g)))},[g]),y.useEffect(()=>{X&&typeof m=="function"&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(X,"dragstart",m)))},[m]),y.useEffect(()=>{X&&typeof _=="function"&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(X,"mousedown",_)))},[_]),y.useEffect(()=>{X&&typeof T=="function"&&(G!==null&&google.maps.event.removeListener(G),ue(google.maps.event.addListener(X,"mousemove",T)))},[T]),y.useEffect(()=>{X&&typeof S=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(X,"mouseout",S)))},[S]),y.useEffect(()=>{X&&typeof D=="function"&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(X,"mouseover",D)))},[D]),y.useEffect(()=>{X&&typeof M=="function"&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(X,"mouseup",M)))},[M]),y.useEffect(()=>{X&&typeof U=="function"&&(he!==null&&google.maps.event.removeListener(he),$(google.maps.event.addListener(X,"rightclick",U)))},[U]),y.useEffect(()=>{X&&typeof V=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(X,"click",V)))},[V]),y.useEffect(()=>{X&&typeof H=="function"&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(X,"drag",H)))},[H]),y.useEffect(()=>{var we=new google.maps.Polygon(Y_(Y_({},e),{},{map:F}));return u&&we.setPath(u),h&&we.setPaths(h),typeof o<"u"&&we.setVisible(o),typeof r<"u"&&we.setEditable(r),typeof n<"u"&&we.setDraggable(n),p&&C(google.maps.event.addListener(we,"dblclick",p)),g&&x(google.maps.event.addListener(we,"dragend",g)),m&&O(google.maps.event.addListener(we,"dragstart",m)),_&&be(google.maps.event.addListener(we,"mousedown",_)),T&&ue(google.maps.event.addListener(we,"mousemove",T)),S&&Ee(google.maps.event.addListener(we,"mouseout",S)),D&&N(google.maps.event.addListener(we,"mouseover",D)),M&&se(google.maps.event.addListener(we,"mouseup",M)),U&&$(google.maps.event.addListener(we,"rightclick",U)),V&&Se(google.maps.event.addListener(we,"click",V)),H&&Oe(google.maps.event.addListener(we,"drag",H)),L(we),B&&B(we),()=>{A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),W!==null&&google.maps.event.removeListener(W),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),te&&te(we),we.setMap(null)}},[]),null}y.memo(sL);class rL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:Z_,eventMap:$_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Z_,eventMap:$_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),qe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(rL,"contextType",Ue);function X_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function rh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var W_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},J_={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function aL(i){var{options:e,bounds:n,draggable:r,editable:o,visible:u,onDblClick:h,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:D,onRightClick:M,onClick:U,onDrag:V,onBoundsChanged:H,onLoad:B,onUnmount:te}=i,Y=y.useContext(Ue),[F,X]=y.useState(null),[L,A]=y.useState(null),[C,I]=y.useState(null),[x,k]=y.useState(null),[O,me]=y.useState(null),[be,G]=y.useState(null),[ue,fe]=y.useState(null),[Ee,_e]=y.useState(null),[N,W]=y.useState(null),[se,he]=y.useState(null),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(Y)},[Y]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof r<"u"&&F!==null&&F.setDraggable(r)},[F,r]),y.useEffect(()=>{typeof o<"u"&&F!==null&&F.setEditable(o)},[F,o]),y.useEffect(()=>{typeof u<"u"&&F!==null&&F.setVisible(u)},[F,u]),y.useEffect(()=>{typeof n<"u"&&F!==null&&F.setBounds(n)},[F,n]),y.useEffect(()=>{F&&h&&(L!==null&&google.maps.event.removeListener(L),A(google.maps.event.addListener(F,"dblclick",h)))},[h]),y.useEffect(()=>{F&&p&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(F,"dragend",p)))},[p]),y.useEffect(()=>{F&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(F,"dragstart",g)))},[g]),y.useEffect(()=>{F&&m&&(O!==null&&google.maps.event.removeListener(O),me(google.maps.event.addListener(F,"mousedown",m)))},[m]),y.useEffect(()=>{F&&_&&(be!==null&&google.maps.event.removeListener(be),G(google.maps.event.addListener(F,"mousemove",_)))},[_]),y.useEffect(()=>{F&&T&&(ue!==null&&google.maps.event.removeListener(ue),fe(google.maps.event.addListener(F,"mouseout",T)))},[T]),y.useEffect(()=>{F&&S&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(F,"mouseover",S)))},[S]),y.useEffect(()=>{F&&D&&(N!==null&&google.maps.event.removeListener(N),W(google.maps.event.addListener(F,"mouseup",D)))},[D]),y.useEffect(()=>{F&&M&&(se!==null&&google.maps.event.removeListener(se),he(google.maps.event.addListener(F,"rightclick",M)))},[M]),y.useEffect(()=>{F&&U&&($!==null&&google.maps.event.removeListener($),ve(google.maps.event.addListener(F,"click",U)))},[U]),y.useEffect(()=>{F&&V&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(F,"drag",V)))},[V]),y.useEffect(()=>{F&&H&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener(F,"bounds_changed",H)))},[H]),y.useEffect(()=>{var ze=new google.maps.Rectangle(rh(rh({},e),{},{map:Y}));return typeof u<"u"&&ze.setVisible(u),typeof o<"u"&&ze.setEditable(o),typeof r<"u"&&ze.setDraggable(r),typeof n<"u"&&ze.setBounds(n),h&&A(google.maps.event.addListener(ze,"dblclick",h)),p&&I(google.maps.event.addListener(ze,"dragend",p)),g&&k(google.maps.event.addListener(ze,"dragstart",g)),m&&me(google.maps.event.addListener(ze,"mousedown",m)),_&&G(google.maps.event.addListener(ze,"mousemove",_)),T&&fe(google.maps.event.addListener(ze,"mouseout",T)),S&&_e(google.maps.event.addListener(ze,"mouseover",S)),D&&W(google.maps.event.addListener(ze,"mouseup",D)),M&&he(google.maps.event.addListener(ze,"rightclick",M)),U&&ve(google.maps.event.addListener(ze,"click",U)),V&&Ce(google.maps.event.addListener(ze,"drag",V)),H&&we(google.maps.event.addListener(ze,"bounds_changed",H)),X(ze),B&&B(ze),()=>{L!==null&&google.maps.event.removeListener(L),C!==null&&google.maps.event.removeListener(C),x!==null&&google.maps.event.removeListener(x),O!==null&&google.maps.event.removeListener(O),be!==null&&google.maps.event.removeListener(be),ue!==null&&google.maps.event.removeListener(ue),Ee!==null&&google.maps.event.removeListener(Ee),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),te&&te(ze),ze.setMap(null)}},[]),null}y.memo(aL);class oL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(rh(rh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:J_,eventMap:W_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:J_,eventMap:W_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),qe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(oL,"contextType",Ue);function eE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function ah(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var tE={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nE={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},lL={};function uL(i){var{options:e,center:n,radius:r,draggable:o,editable:u,visible:h,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:D,onMouseUp:M,onRightClick:U,onClick:V,onDrag:H,onCenterChanged:B,onRadiusChanged:te,onLoad:Y,onUnmount:F}=i,X=y.useContext(Ue),[L,A]=y.useState(null),[C,I]=y.useState(null),[x,k]=y.useState(null),[O,me]=y.useState(null),[be,G]=y.useState(null),[ue,fe]=y.useState(null),[Ee,_e]=y.useState(null),[N,W]=y.useState(null),[se,he]=y.useState(null),[$,ve]=y.useState(null),[Se,Ce]=y.useState(null),[Oe,we]=y.useState(null),[ze,Qt]=y.useState(null),[un,cn]=y.useState(null);return y.useEffect(()=>{L!==null&&L.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),y.useEffect(()=>{typeof o<"u"&&L!==null&&L.setDraggable(o)},[L,o]),y.useEffect(()=>{typeof u<"u"&&L!==null&&L.setEditable(u)},[L,u]),y.useEffect(()=>{typeof h<"u"&&L!==null&&L.setVisible(h)},[L,h]),y.useEffect(()=>{typeof r=="number"&&L!==null&&L.setRadius(r)},[L,r]),y.useEffect(()=>{typeof n<"u"&&L!==null&&L.setCenter(n)},[L,n]),y.useEffect(()=>{L&&p&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(L,"dblclick",p)))},[p]),y.useEffect(()=>{L&&g&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(L,"dragend",g)))},[g]),y.useEffect(()=>{L&&m&&(O!==null&&google.maps.event.removeListener(O),me(google.maps.event.addListener(L,"dragstart",m)))},[m]),y.useEffect(()=>{L&&_&&(be!==null&&google.maps.event.removeListener(be),G(google.maps.event.addListener(L,"mousedown",_)))},[_]),y.useEffect(()=>{L&&T&&(ue!==null&&google.maps.event.removeListener(ue),fe(google.maps.event.addListener(L,"mousemove",T)))},[T]),y.useEffect(()=>{L&&S&&(Ee!==null&&google.maps.event.removeListener(Ee),_e(google.maps.event.addListener(L,"mouseout",S)))},[S]),y.useEffect(()=>{L&&D&&(N!==null&&google.maps.event.removeListener(N),W(google.maps.event.addListener(L,"mouseover",D)))},[D]),y.useEffect(()=>{L&&M&&(se!==null&&google.maps.event.removeListener(se),he(google.maps.event.addListener(L,"mouseup",M)))},[M]),y.useEffect(()=>{L&&U&&($!==null&&google.maps.event.removeListener($),ve(google.maps.event.addListener(L,"rightclick",U)))},[U]),y.useEffect(()=>{L&&V&&(Se!==null&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(L,"click",V)))},[V]),y.useEffect(()=>{L&&H&&(Oe!==null&&google.maps.event.removeListener(Oe),we(google.maps.event.addListener(L,"drag",H)))},[H]),y.useEffect(()=>{L&&B&&(ze!==null&&google.maps.event.removeListener(ze),Qt(google.maps.event.addListener(L,"center_changed",B)))},[V]),y.useEffect(()=>{L&&te&&(un!==null&&google.maps.event.removeListener(un),cn(google.maps.event.addListener(L,"radius_changed",te)))},[te]),y.useEffect(()=>{var $e=new google.maps.Circle(ah(ah({},e||lL),{},{map:X}));return typeof r=="number"&&$e.setRadius(r),typeof n<"u"&&$e.setCenter(n),typeof r=="number"&&$e.setRadius(r),typeof h<"u"&&$e.setVisible(h),typeof u<"u"&&$e.setEditable(u),typeof o<"u"&&$e.setDraggable(o),p&&I(google.maps.event.addListener($e,"dblclick",p)),g&&k(google.maps.event.addListener($e,"dragend",g)),m&&me(google.maps.event.addListener($e,"dragstart",m)),_&&G(google.maps.event.addListener($e,"mousedown",_)),T&&fe(google.maps.event.addListener($e,"mousemove",T)),S&&_e(google.maps.event.addListener($e,"mouseout",S)),D&&W(google.maps.event.addListener($e,"mouseover",D)),M&&he(google.maps.event.addListener($e,"mouseup",M)),U&&ve(google.maps.event.addListener($e,"rightclick",U)),V&&Ce(google.maps.event.addListener($e,"click",V)),H&&we(google.maps.event.addListener($e,"drag",H)),B&&Qt(google.maps.event.addListener($e,"center_changed",B)),te&&cn(google.maps.event.addListener($e,"radius_changed",te)),A($e),Y&&Y($e),()=>{C!==null&&google.maps.event.removeListener(C),x!==null&&google.maps.event.removeListener(x),O!==null&&google.maps.event.removeListener(O),be!==null&&google.maps.event.removeListener(be),ue!==null&&google.maps.event.removeListener(ue),Ee!==null&&google.maps.event.removeListener(Ee),N!==null&&google.maps.event.removeListener(N),se!==null&&google.maps.event.removeListener(se),$!==null&&google.maps.event.removeListener($),Se!==null&&google.maps.event.removeListener(Se),ze!==null&&google.maps.event.removeListener(ze),un!==null&&google.maps.event.removeListener(un),F&&F($e),$e.setMap(null)}},[]),null}y.memo(uL);class cL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(ah(ah({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),qe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(cL,"contextType",Ue);function iE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function oh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var sE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},rE={add(i,e){i.add(e)},addgeojson(i,e,n){i.addGeoJson(e,n)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,n,r){i.loadGeoJson(e,n,r)},overridestyle(i,e,n){i.overrideStyle(e,n)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function hL(i){var{options:e,onClick:n,onDblClick:r,onMouseDown:o,onMouseMove:u,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:m,onAddFeature:_,onRemoveFeature:T,onRemoveProperty:S,onSetGeometry:D,onSetProperty:M,onLoad:U,onUnmount:V}=i,H=y.useContext(Ue),[B,te]=y.useState(null),[Y,F]=y.useState(null),[X,L]=y.useState(null),[A,C]=y.useState(null),[I,x]=y.useState(null),[k,O]=y.useState(null),[me,be]=y.useState(null),[G,ue]=y.useState(null),[fe,Ee]=y.useState(null),[_e,N]=y.useState(null),[W,se]=y.useState(null),[he,$]=y.useState(null),[ve,Se]=y.useState(null),[Ce,Oe]=y.useState(null);return y.useEffect(()=>{B!==null&&B.setMap(H)},[H]),y.useEffect(()=>{B&&r&&(Y!==null&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(B,"dblclick",r)))},[r]),y.useEffect(()=>{B&&o&&(X!==null&&google.maps.event.removeListener(X),L(google.maps.event.addListener(B,"mousedown",o)))},[o]),y.useEffect(()=>{B&&u&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(B,"mousemove",u)))},[u]),y.useEffect(()=>{B&&h&&(I!==null&&google.maps.event.removeListener(I),x(google.maps.event.addListener(B,"mouseout",h)))},[h]),y.useEffect(()=>{B&&p&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(B,"mouseover",p)))},[p]),y.useEffect(()=>{B&&g&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(B,"mouseup",g)))},[g]),y.useEffect(()=>{B&&m&&(G!==null&&google.maps.event.removeListener(G),ue(google.maps.event.addListener(B,"rightclick",m)))},[m]),y.useEffect(()=>{B&&n&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(B,"click",n)))},[n]),y.useEffect(()=>{B&&_&&(_e!==null&&google.maps.event.removeListener(_e),N(google.maps.event.addListener(B,"addfeature",_)))},[_]),y.useEffect(()=>{B&&T&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(B,"removefeature",T)))},[T]),y.useEffect(()=>{B&&S&&(he!==null&&google.maps.event.removeListener(he),$(google.maps.event.addListener(B,"removeproperty",S)))},[S]),y.useEffect(()=>{B&&D&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(B,"setgeometry",D)))},[D]),y.useEffect(()=>{B&&M&&(Ce!==null&&google.maps.event.removeListener(Ce),Oe(google.maps.event.addListener(B,"setproperty",M)))},[M]),y.useEffect(()=>{if(H!==null){var we=new google.maps.Data(oh(oh({},e),{},{map:H}));r&&F(google.maps.event.addListener(we,"dblclick",r)),o&&L(google.maps.event.addListener(we,"mousedown",o)),u&&C(google.maps.event.addListener(we,"mousemove",u)),h&&x(google.maps.event.addListener(we,"mouseout",h)),p&&O(google.maps.event.addListener(we,"mouseover",p)),g&&be(google.maps.event.addListener(we,"mouseup",g)),m&&ue(google.maps.event.addListener(we,"rightclick",m)),n&&Ee(google.maps.event.addListener(we,"click",n)),_&&N(google.maps.event.addListener(we,"addfeature",_)),T&&se(google.maps.event.addListener(we,"removefeature",T)),S&&$(google.maps.event.addListener(we,"removeproperty",S)),D&&Se(google.maps.event.addListener(we,"setgeometry",D)),M&&Oe(google.maps.event.addListener(we,"setproperty",M)),te(we),U&&U(we)}return()=>{B&&(Y!==null&&google.maps.event.removeListener(Y),X!==null&&google.maps.event.removeListener(X),A!==null&&google.maps.event.removeListener(A),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),me!==null&&google.maps.event.removeListener(me),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),W!==null&&google.maps.event.removeListener(W),he!==null&&google.maps.event.removeListener(he),ve!==null&&google.maps.event.removeListener(ve),Ce!==null&&google.maps.event.removeListener(Ce),V&&V(B),B.setMap(null))}},[]),null}y.memo(hL);class fL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(oh(oh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:rE,eventMap:sE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:rE,eventMap:sE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(fL,"contextType",Ue);function aE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function oE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var lE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},uE={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class dL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(oE(oE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:uE,eventMap:lE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:uE,eventMap:lE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),qe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(dL,"contextType",Ue);function T0(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function pL(i,e){return new e(i.lat,i.lng)}function gL(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function mL(i,e,n){return i instanceof e?i:n(i,e)}function vL(i,e,n){return i instanceof e?i:n(i,e)}function yL(i,e,n){var r=i&&i.fromLatLngToDivPixel(n.getNorthEast()),o=i&&i.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function _L(i,e,n){var r=i&&i.fromLatLngToDivPixel(n);if(r){var{x:o,y:u}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function S0(i,e,n,r){return n!==void 0?yL(i,e,vL(n,google.maps.LatLngBounds,gL)):_L(i,e,mL(r,google.maps.LatLng,pL))}function EL(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function cE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function bL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function TL(i,e,n,r,o){class u extends google.maps.OverlayView{constructor(p,g,m,_){super(),this.container=p,this.pane=g,this.position=m,this.bounds=_}onAdd(){var p,g=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];g?.appendChild(this.container)}draw(){var p=this.getProjection(),g=bL({},this.container?T0(this.container,o):{x:0,y:0}),m=S0(p,g,this.bounds,this.position);for(var[_,T]of Object.entries(m))this.container.style[_]=T}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(i,e,n,r)}function hE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function SL(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function fE(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function dE(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function CL(i){var{position:e,bounds:n,mapPaneName:r,zIndex:o,onLoad:u,onUnmount:h,getPixelPositionOffset:p,children:g}=i,m=y.useContext(Ue),_=y.useMemo(()=>{var S=document.createElement("div");return S.style.position="absolute",S},[]),T=y.useMemo(()=>TL(_,r,e,n,p),[_,r,e,n]);return y.useEffect(()=>(u?.(T),T?.setMap(m),()=>{h?.(T),T?.setMap(null)}),[m,T]),y.useEffect(()=>{_.style.zIndex="".concat(o)},[o,_]),Eo.createPortal(g,_)}y.memo(CL);class bo extends y.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();Gt(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=SL({x:0,y:0},this.containerRef.current?T0(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=S0(r,o,this.props.bounds,this.props.position);if(!EL(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var h,p,g,m;this.setState({containerStyle:{top:(h=u.top)!==null&&h!==void 0?h:0,left:(p=u.left)!==null&&p!==void 0?p:0,width:(g=u.width)!==null&&g!==void 0?g:0,height:(m=u.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=fE(e.position),r=fE(this.props.position),o=dE(e.bounds),u=dE(this.props.bounds);(n!==r||o!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Eo.createPortal(ce.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ne(bo,"FLOAT_PANE","floatPane");ne(bo,"MAP_PANE","mapPane");ne(bo,"MARKER_LAYER","markerLayer");ne(bo,"OVERLAY_LAYER","overlayLayer");ne(bo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(bo,"contextType",Ue);function wL(){}function pE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function gE(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var mE={onDblClick:"dblclick",onClick:"click"},vE={opacity(i,e){i.setOpacity(e)}};function AL(i){var{url:e,bounds:n,options:r,visible:o}=i,u=y.useContext(Ue),h=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),p=y.useMemo(()=>new google.maps.GroundOverlay(e,h,r),[]);return y.useEffect(()=>{p!==null&&p.setMap(u)},[u]),y.useEffect(()=>{typeof e<"u"&&p!==null&&(p.set("url",e),p.setMap(u))},[p,e]),y.useEffect(()=>{typeof o<"u"&&p!==null&&p.setOpacity(o?1:0)},[p,o]),y.useEffect(()=>{var g=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&p!==null&&(p.set("bounds",g),p.setMap(u))},[p,n]),null}y.memo(AL);class C0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Gt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,gE(gE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:vE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(C0,"defaultProps",{onLoad:wL});ne(C0,"contextType",Ue);function yE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,r)}return n}function lh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){ne(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var _E={},EE={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function LL(i){var{data:e,onLoad:n,onUnmount:r,options:o}=i,u=y.useContext(Ue),[h,p]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Gt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{h!==null&&h.setMap(u)},[u]),y.useEffect(()=>{o&&h!==null&&h.setOptions(o)},[h,o]),y.useEffect(()=>{var g=new google.maps.visualization.HeatmapLayer(lh(lh({},o),{},{data:e,map:u}));return p(g),n&&n(g),()=>{h!==null&&(r&&r(h),h.setMap(null))}},[]),null}y.memo(LL);class RL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Gt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(lh(lh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:EE,eventMap:_E,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:EE,eventMap:_E,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(RL,"contextType",Ue);var bE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},TE={register(i,e,n){i.registerPanoProvider(e,n)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class ML extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:TE,eventMap:bE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:TE,eventMap:bE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(ML,"contextType",Ue);class DL extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(DL,"contextType",Ue);var SE={onDirectionsChanged:"directions_changed"},CE={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class OL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:CE,eventMap:SE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:CE,eventMap:SE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(OL,"contextType",Ue);var wE={onPlacesChanged:"places_changed"},AE={bounds(i,e){i.setBounds(e)}};class xL extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:AE,eventMap:wE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:AE,eventMap:wE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),qe(this.registeredEvents))}render(){return ce.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ne(xL,"contextType",Ue);var LE={onPlaceChanged:"place_changed"},RE={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class qp extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Be({updaterMap:RE,eventMap:LE,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Be({updaterMap:RE,eventMap:LE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&qe(this.registeredEvents)}render(){return ce.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ne(qp,"defaultProps",{className:""});ne(qp,"contextType",Ue);const IL=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VL=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,_=u>>2,T=(u&3)<<4|p>>4;let S=(p&15)<<2|m>>6,D=m&63;g||(D=64,h||(S=64)),r.push(n[_],n[T],n[S],n[D])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(w0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):VL(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new NL;const S=u<<2|p>>4;if(r.push(S),m!==64){const D=p<<4&240|m>>2;if(r.push(D),T!==64){const M=m<<6&192|T;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class NL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PL=function(i){const e=w0(i);return A0.encodeByteArray(e,!0)},uh=function(i){return PL(i).replace(/\./g,"")},kL=function(i){try{return A0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=()=>UL().__FIREBASE_DEFAULTS__,BL=()=>{if(typeof process>"u"||typeof ME>"u")return;const i=ME.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},jL=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&kL(i[1]);return e&&JSON.parse(e)},Fp=()=>{try{return IL()||zL()||BL()||jL()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},HL=i=>Fp()?.emulatorHosts?.[i],L0=i=>{const e=HL(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R0=()=>Fp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[uh(JSON.stringify(n)),uh(JSON.stringify(h)),""].join(".")}const Ul={};function FL(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?i.emulator.push(e):i.prod.push(e);return i}function GL(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let DE=!1;function O0(i,e){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Ul[i]===e||Ul[i]||DE)return;Ul[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=FL().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{DE=!0,h()},S}function _(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=GL(r),D=n("text"),M=document.getElementById(D)||document.createElement("span"),U=n("learnmore"),V=document.getElementById(U)||document.createElement("a"),H=n("preprendIcon"),B=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;p(te),_(V,U);const Y=m();g(B,H),te.append(B,M,V,Y),document.body.appendChild(te)}u?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KL(){const i=Fp()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YL(){return!KL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $L(){try{return typeof indexedDB=="object"}catch{return!1}}function ZL(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XL,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x0.prototype.create)}}class x0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?WL(u,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new la(o,p,r)}}function WL(i,e){return i.replace(JL,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JL=/\{\$([^}]+)}/g;function ch(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(OE(u)&&OE(h)){if(!ch(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function OE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(i){return i&&i._delegate?i._delegate:i}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(i){return i===ea?void 0:i}function nR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const sR={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},rR=Xe.INFO,aR={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},oR=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=aR[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const lR=(i,e)=>e.some(n=>i instanceof n);let xE,IE;function uR(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,up=new WeakMap,N0=new WeakMap,Qd=new WeakMap,Gp=new WeakMap;function hR(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(pr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&V0.set(n,i)}).catch(()=>{}),Gp.set(e,i),e}function fR(i){if(up.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});up.set(i,e)}let cp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||N0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dR(i){cp=i(cp)}function pR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Kd(this),e,...n);return N0.set(r,e.sort?e.sort():[e]),pr(r)}:cR().includes(i)?function(...e){return i.apply(Kd(this),e),pr(V0.get(this))}:function(...e){return pr(i.apply(Kd(this),e))}}function gR(i){return typeof i=="function"?pR(i):(i instanceof IDBTransaction&&fR(i),lR(i,uR())?new Proxy(i,cp):i)}function pr(i){if(i instanceof IDBRequest)return hR(i);if(Qd.has(i))return Qd.get(i);const e=gR(i);return e!==i&&(Qd.set(i,e),Gp.set(e,i)),e}const Kd=i=>Gp.get(i);function mR(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=pr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(pr(h.result),g.oldVersion,g.newVersion,pr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const vR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],Yd=new Map;function VE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=yR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Yd.set(e,u),u}dR(i=>({...i,get:(e,n,r)=>VE(e,n)||i.get(e,n,r),has:(e,n)=>!!VE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ER(i){return i.getComponent()?.type==="VERSION"}const hp="@firebase/app",NE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new I0("@firebase/app"),bR="@firebase/app-compat",TR="@firebase/analytics-compat",SR="@firebase/analytics",CR="@firebase/app-check-compat",wR="@firebase/app-check",AR="@firebase/auth",LR="@firebase/auth-compat",RR="@firebase/database",MR="@firebase/data-connect",DR="@firebase/database-compat",OR="@firebase/functions",xR="@firebase/functions-compat",IR="@firebase/installations",VR="@firebase/installations-compat",NR="@firebase/messaging",PR="@firebase/messaging-compat",kR="@firebase/performance",UR="@firebase/performance-compat",zR="@firebase/remote-config",BR="@firebase/remote-config-compat",jR="@firebase/storage",HR="@firebase/storage-compat",qR="@firebase/firestore",FR="@firebase/ai",GR="@firebase/firestore-compat",QR="firebase",KR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",YR={[hp]:"fire-core",[bR]:"fire-core-compat",[SR]:"fire-analytics",[TR]:"fire-analytics-compat",[wR]:"fire-app-check",[CR]:"fire-app-check-compat",[AR]:"fire-auth",[LR]:"fire-auth-compat",[RR]:"fire-rtdb",[MR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[OR]:"fire-fn",[xR]:"fire-fn-compat",[IR]:"fire-iid",[VR]:"fire-iid-compat",[NR]:"fire-fcm",[PR]:"fire-fcm-compat",[kR]:"fire-perf",[UR]:"fire-perf-compat",[zR]:"fire-rc",[BR]:"fire-rc-compat",[jR]:"fire-gcs",[HR]:"fire-gcs-compat",[qR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,$R=new Map,dp=new Map;function PE(i,e){try{i.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ql(i){const e=i.name;if(dp.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const n of hh.values())PE(n,i);for(const n of $R.values())PE(n,i);return!0}function P0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function k0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new x0("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=KR;function z0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:fp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=R0()),!n)throw gr.create("no-options");const u=hh.get(o);if(u){if(ch(n,u.options)&&ch(r,u.config))return u;throw gr.create("duplicate-app",{appName:o})}const h=new iR(o);for(const g of dp.values())h.addComponent(g);const p=new XR(n,r,h);return hh.set(o,p),p}function B0(i=fp){const e=hh.get(i);if(!e&&i===fp&&R0())return z0();if(!e)throw gr.create("no-app",{appName:i});return e}function mr(i,e,n){let r=YR[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(h.join(" "));return}Ql(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",JR=1,Kl="firebase-heartbeat-store";let $d=null;function j0(){return $d||($d=mR(WR,JR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw gr.create("idb-open",{originalErrorMessage:i.message})})),$d}async function eM(i){try{const n=(await j0()).transaction(Kl),r=await n.objectStore(Kl).get(H0(i));return await n.done,r}catch(e){if(e instanceof la)As.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function kE(i,e){try{const r=(await j0()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,H0(i)),await r.done}catch(n){if(n instanceof la)As.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function H0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1024,nM=30;class iM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nM){const o=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UE(),{heartbeatsToSend:n,unsentEntries:r}=sM(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function UE(){return new Date().toISOString().substring(0,10)}function sM(i,e=tM){const n=[];let r=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),zE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $L()?ZL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zE(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function aM(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(i){Ql(new co("platform-logger",e=>new _R(e),"PRIVATE")),Ql(new co("heartbeat",e=>new iM(e),"PRIVATE")),mr(hp,NE,i),mr(hp,NE,"esm2020"),mr("fire-js","")}oM("");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,q0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,A){function C(){}C.prototype=A.prototype,L.F=A.prototype,L.prototype=new C,L.prototype.constructor=L,L.D=function(I,x,k){for(var O=Array(arguments.length-2),me=2;me<arguments.length;me++)O[me-2]=arguments[me];return A.prototype[x].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,A,C){C||(C=0);const I=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)I[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;x<16;++x)I[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=L.g[0],C=L.g[1],x=L.g[2];let k=L.g[3],O;O=A+(k^C&(x^k))+I[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+I[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+I[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+I[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+I[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+I[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+I[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+I[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+I[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+I[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+I[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+I[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+I[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+I[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+I[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+I[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^k&(C^x))+I[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+I[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+I[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+I[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+I[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+I[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+I[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+I[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+I[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+I[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+I[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+I[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+I[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+I[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+I[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+I[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^k)+I[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+I[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+I[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+I[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+I[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+I[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+I[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+I[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+I[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+I[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+I[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+I[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+I[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+I[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+I[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+I[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~k))+I[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+I[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+I[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+I[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+I[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+I[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+I[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+I[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+I[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+I[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+I[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+I[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+I[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+I[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+I[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+I[9]+3951481745&4294967295,L.g[0]=L.g[0]+A&4294967295,L.g[1]=L.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+x&4294967295,L.g[3]=L.g[3]+k&4294967295}r.prototype.v=function(L,A){A===void 0&&(A=L.length);const C=A-this.blockSize,I=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=C;)o(this,L,k),k+=this.blockSize;if(typeof L=="string"){for(;k<A;)if(I[x++]=L.charCodeAt(k++),x==this.blockSize){o(this,I),x=0;break}}else for(;k<A;)if(I[x++]=L[k++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=A},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var A=1;A<L.length-8;++A)L[A]=0;A=this.o*8;for(var C=L.length-8;C<L.length;++C)L[C]=A&255,A/=256;for(this.v(L),L=Array(16),A=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)L[A++]=this.g[C]>>>I&255;return L};function u(L,A){var C=p;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=A(L)}function h(L,A){this.h=A;const C=[];let I=!0;for(let x=L.length-1;x>=0;x--){const k=L[x]|0;I&&k==A||(C[x]=k,I=!1)}this.g=C}var p={};function g(L){return-128<=L&&L<128?u(L,function(A){return new h([A|0],A<0?-1:0)}):new h([L|0],L<0?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return T;if(L<0)return V(m(-L));const A=[];let C=1;for(let I=0;L>=C;I++)A[I]=L/C|0,C*=4294967296;return new h(A,0)}function _(L,A){if(L.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(L.charAt(0)=="-")return V(_(L.substring(1),A));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(A,8));let I=T;for(let k=0;k<L.length;k+=8){var x=Math.min(8,L.length-k);const O=parseInt(L.substring(k,k+x),A);x<8?(x=m(Math.pow(A,x)),I=I.j(x).add(m(O))):(I=I.j(C),I=I.add(m(O)))}return I}var T=g(0),S=g(1),D=g(16777216);i=h.prototype,i.m=function(){if(U(this))return-V(this).m();let L=0,A=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);L+=(I>=0?I:4294967296+I)*A,A*=4294967296}return L},i.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(M(this))return"0";if(U(this))return"-"+V(this).toString(L);const A=m(Math.pow(L,6));var C=this;let I="";for(;;){const x=Y(C,A).g;C=H(C,x.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(L);if(C=x,M(C))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},i.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function M(L){if(L.h!=0)return!1;for(let A=0;A<L.g.length;A++)if(L.g[A]!=0)return!1;return!0}function U(L){return L.h==-1}i.l=function(L){return L=H(this,L),U(L)?-1:M(L)?0:1};function V(L){const A=L.g.length,C=[];for(let I=0;I<A;I++)C[I]=~L.g[I];return new h(C,~L.h).add(S)}i.abs=function(){return U(this)?V(this):this},i.add=function(L){const A=Math.max(this.g.length,L.g.length),C=[];let I=0;for(let x=0;x<=A;x++){let k=I+(this.i(x)&65535)+(L.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(L.i(x)>>>16);I=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new h(C,C[C.length-1]&-2147483648?-1:0)};function H(L,A){return L.add(V(A))}i.j=function(L){if(M(this)||M(L))return T;if(U(this))return U(L)?V(this).j(V(L)):V(V(this).j(L));if(U(L))return V(this.j(V(L)));if(this.l(D)<0&&L.l(D)<0)return m(this.m()*L.m());const A=this.g.length+L.g.length,C=[];for(var I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let x=0;x<L.g.length;x++){const k=this.i(I)>>>16,O=this.i(I)&65535,me=L.i(x)>>>16,be=L.i(x)&65535;C[2*I+2*x]+=O*be,B(C,2*I+2*x),C[2*I+2*x+1]+=k*be,B(C,2*I+2*x+1),C[2*I+2*x+1]+=O*me,B(C,2*I+2*x+1),C[2*I+2*x+2]+=k*me,B(C,2*I+2*x+2)}for(L=0;L<A;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=A;L<2*A;L++)C[L]=0;return new h(C,0)};function B(L,A){for(;(L[A]&65535)!=L[A];)L[A+1]+=L[A]>>>16,L[A]&=65535,A++}function te(L,A){this.g=L,this.h=A}function Y(L,A){if(M(A))throw Error("division by zero");if(M(L))return new te(T,T);if(U(L))return A=Y(V(L),A),new te(V(A.g),V(A.h));if(U(A))return A=Y(L,V(A)),new te(V(A.g),A.h);if(L.g.length>30){if(U(L)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,I=A;I.l(L)<=0;)C=F(C),I=F(I);var x=X(C,1),k=X(I,1);for(I=X(I,2),C=X(C,2);!M(I);){var O=k.add(I);O.l(L)<=0&&(x=x.add(C),k=O),I=X(I,1),C=X(C,1)}return A=H(L,x.j(A)),new te(x,A)}for(x=T;L.l(A)>=0;){for(C=Math.max(1,Math.floor(L.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=m(C),O=k.j(A);U(O)||O.l(L)>0;)C-=I,k=m(C),O=k.j(A);M(k)&&(k=S),x=x.add(k),L=H(L,O)}return new te(x,L)}i.B=function(L){return Y(this,L).h},i.and=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)&L.i(I);return new h(C,this.h&L.h)},i.or=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)|L.i(I);return new h(C,this.h|L.h)},i.xor=function(L){const A=Math.max(this.g.length,L.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)^L.i(I);return new h(C,this.h^L.h)};function F(L){const A=L.g.length+1,C=[];for(let I=0;I<A;I++)C[I]=L.i(I)<<1|L.i(I-1)>>>31;return new h(C,L.h)}function X(L,A){const C=A>>5;A%=32;const I=L.g.length-C,x=[];for(let k=0;k<I;k++)x[k]=A>0?L.i(k+C)>>>A|L.i(k+C+1)<<32-A:L.i(k+C);return new h(x,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,q0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=m,h.fromString=_,vr=h}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,Il,G0,Kc,pp,Q0,K0,Y0;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var b=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var q=c[R];if(!(q in b))break e;b=b[q]}c=c[c.length-1],R=b[c],v=v(R),v!=R&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var b=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&b.push([R,v[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function m(c,v,b){return m=g,m.apply(null,arguments)}function _(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function T(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(R,q,J){for(var de=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)de[Ne-2]=arguments[Ne];return v.prototype[q].apply(R,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const v=c.length;if(v>0){const b=Array(v);for(let R=0;R<v;R++)b[R]=c[R];return b}return[]}function M(c,v){for(let R=1;R<arguments.length;R++){const q=arguments[R];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=c.length||0;const J=q.length||0;c.length=b+J;for(let de=0;de<J;de++)c[b+de]=q[de]}else c.push(q)}}class U{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(c){h.setTimeout(()=>{throw c},0)}function H(){var c=L;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,b){const R=te.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var te=new U(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,L=new B,A=()=>{const c=Promise.resolve(void 0);F=()=>{c.then(C)}};function C(){for(var c;c=H();){try{c.h.call(c.g)}catch(b){V(b)}var v=te;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}X=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return c})();function O(c){return/^[\s\xa0]*$/.test(c)}function me(c,v){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}T(me,x),me.prototype.init=function(c,v){const b=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),G=0;function ue(c,v,b,R,q){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=q,this.key=++G,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ee(c,v,b){for(const R in c)v.call(b,c[R],R,c)}function _e(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function N(c){const v={};for(const b in c)v[b]=c[b];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,v){let b,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(b in R)c[b]=R[b];for(let J=0;J<W.length;J++)b=W[J],Object.prototype.hasOwnProperty.call(R,b)&&(c[b]=R[b])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,v,b,R,q){const J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);const de=ve(c,v,R,q);return de>-1?(v=c[de],b||(v.fa=!1)):(v=new ue(v,this.src,J,!!R,q),v.fa=b,c.push(v)),v};function $(c,v){const b=v.type;if(b in c.g){var R=c.g[b],q=Array.prototype.indexOf.call(R,v,void 0),J;(J=q>=0)&&Array.prototype.splice.call(R,q,1),J&&(fe(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function ve(c,v,b,R){for(let q=0;q<c.length;++q){const J=c[q];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==R)return q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ce={};function Oe(c,v,b,R,q){if(Array.isArray(v)){for(let J=0;J<v.length;J++)Oe(c,v[J],b,R,q);return null}return b=Ds(b),c&&c[be]?c.J(v,b,p(R)?!!R.capture:!1,q):we(c,v,b,!1,R,q)}function we(c,v,b,R,q,J){if(!v)throw Error("Invalid event type");const de=p(q)?!!q.capture:!!q;let Ne=_i(c);if(Ne||(c[Se]=Ne=new he(c)),b=Ne.add(v,b,R,de,J),b.proxy)return b;if(R=ze(),b.proxy=R,R.src=c,R.listener=b,c.addEventListener)k||(q=de),q===void 0&&(q=!1),c.addEventListener(v.toString(),R,q);else if(c.attachEvent)c.attachEvent(cn(v.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ze(){function c(b){return v.call(c.src,c.listener,b)}const v=$e;return c}function Qt(c,v,b,R,q){if(Array.isArray(v))for(var J=0;J<v.length;J++)Qt(c,v[J],b,R,q);else R=p(R)?!!R.capture:!!R,b=Ds(b),c&&c[be]?(c=c.i,J=String(v).toString(),J in c.g&&(v=c.g[J],b=ve(v,b,R,q),b>-1&&(fe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[J],c.h--)))):c&&(c=_i(c))&&(v=c.g[v.toString()],c=-1,v&&(c=ve(v,b,R,q)),(b=c>-1?v[c]:null)&&un(b))}function un(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[be])$(v.i,c);else{var b=c.type,R=c.proxy;v.removeEventListener?v.removeEventListener(b,R,c.capture):v.detachEvent?v.detachEvent(cn(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=_i(v))?($(b,c),b.h==0&&(b.src=null,v[Se]=null)):fe(c)}}}function cn(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function $e(c,v){if(c.da)c=!0;else{v=new me(v,this);const b=c.listener,R=c.ha||c.src;c.fa&&un(c),c=b.call(R,v)}return c}function _i(c){return c=c[Se],c instanceof he?c:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(c){return typeof c=="function"?c:(c[Ei]||(c[Ei]=function(v){return c.handleEvent(v)}),c[Ei])}function dt(){I.call(this),this.i=new he(this),this.M=this,this.G=null}T(dt,I),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(c,v,b,R){Qt(this,c,v,b,R)};function St(c,v){var b,R=c.G;if(R)for(b=[];R;R=R.G)b.push(R);if(c=c.M,R=v.type||v,typeof v=="string")v=new x(v,c);else if(v instanceof x)v.target=v.target||c;else{var q=v;v=new x(R,c),se(v,q)}q=!0;let J,de;if(b)for(de=b.length-1;de>=0;de--)J=v.g=b[de],q=Mn(J,R,!0,v)&&q;if(J=v.g=c,q=Mn(J,R,!0,v)&&q,q=Mn(J,R,!1,v)&&q,b)for(de=0;de<b.length;de++)J=v.g=b[de],q=Mn(J,R,!1,v)&&q}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let R=0;R<b.length;R++)fe(b[R]);delete c.g[v],c.h--}}this.G=null},dt.prototype.J=function(c,v,b,R){return this.i.add(String(c),v,!1,b,R)},dt.prototype.K=function(c,v,b,R){return this.i.add(String(c),v,!0,b,R)};function Mn(c,v,b,R){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let J=0;J<v.length;++J){const de=v[J];if(de&&!de.da&&de.capture==b){const Ne=de.listener,Rt=de.ha||de.src;de.fa&&$(c.i,de),q=Ne.call(Rt,R)!==!1&&q}}return q&&!R.defaultPrevented}function pa(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function Zi(c){c.g=pa(()=>{c.g=null,c.i&&(c.i=!1,Zi(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Kt extends I{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){I.call(this),this.h=c,this.g={}}T(bi,I);var Os=[];function Ti(c){Ee(c.g,function(v,b){this.g.hasOwnProperty(b)&&un(v)},c),c.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Ti(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=h.JSON.stringify,xs=h.JSON.parse,Ar=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Xi(){}function Lr(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){x.call(this,"d")}T(xt,x);function Jt(){x.call(this,"c")}T(Jt,x);var vt={},Wi=null;function Ji(){return Wi=Wi||new dt}vt.Ia="serverreachability";function es(c){x.call(this,vt.Ia,c)}T(es,x);function Dn(c){const v=Ji();St(v,new es(v))}vt.STAT_EVENT="statevent";function Si(c,v){x.call(this,vt.STAT_EVENT,c),this.stat=v}T(Si,x);function Et(c){const v=Ji();St(v,new Si(v,c))}vt.Ja="timingevent";function vn(c,v){x.call(this,vt.Ja,c),this.size=v}T(vn,x);function On(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function ga(c,v,b,R,q,J){c.info(function(){if(c.g)if(J){var de="",Ne=J.split("&");for(let tt=0;tt<Ne.length;tt++){var Rt=Ne[tt].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const Kn=yt.split("_");de=Kn.length>=2&&Kn[1]=="type"?de+(yt+"="+Rt+"&"):de+(yt+"=redacted&")}}}else de=null;else de=J;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+b+`
`+de})}function ts(c,v,b,R,q,J,de){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+b+`
`+J+" "+de})}function xn(c,v,b,R){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+is(c,b)+(R?" "+R:"")})}function ns(c,v){c.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function is(c,v){if(!c.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(c=0;c<J.length;c++)if(Array.isArray(J[c])){var b=J[c];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return ri(J)}catch{return v}}var Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Rr(){}T(Rr,Xi),Rr.prototype.g=function(){return new XMLHttpRequest},Ro=new Rr;function ss(c){return encodeURIComponent(String(c))}function hu(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function ai(c,v,b,R){this.j=c,this.i=v,this.l=b,this.S=R||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var It={},Yt={};function Ci(c,v,b){c.M=1,c.A=Mr(Nt(v)),c.u=b,c.R=!0,ma(c,null)}function ma(c,v){c.F=Date.now(),wi(c),c.B=Nt(c.A);var b=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),Ea(b.i,"t",R),c.C=0,b=c.j.L,c.h=new oi,c.g=Au(c.j,b?v:null,!c.u),c.P>0&&(c.O=new Kt(m(c.Y,c,c.g),c.P)),v=c.V,b=c.g,R=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Os[0]=q.toString()),q=Os);for(let J=0;J<q.length;J++){const de=Oe(b,q[J],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=c.J?N(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Dn(),ga(c.i,c.v,c.B,c.l,c.S,c.u)}ai.prototype.ba=function(c){c=c.target;const v=this.O;v&&ci(c)==3?v.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ci(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ne!=4||Rt==7||(Rt==8||tt<=0?Dn(3):Dn(2)),Ai(this);var v=this.g.ca();this.X=v;var b=Uh(this);if(this.o=v==200,ts(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var J=R;break t}}J=null}if(c=J)xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,Et(12),In(this),Fn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=du(this,b),yt==Yt){Ne==4&&(this.m=4,Et(14),c=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==It){this.m=4,Et(15),xn(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else xn(this.i,this.l,yt,null),Li(this,yt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)xn(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Fn(this);else if(b.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),qo(de),de.P=!0,Et(11))}}else xn(this.i,this.l,b,null),Li(this,b);Ne==4&&In(this),this.o&&!this.K&&(Ne==4?Tu(this.j,this):(this.o=!1,wi(this)))}else as(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),In(this),Fn(this)}}}catch{}finally{}};function Uh(c){if(!fu(c))return c.g.la();const v=en(c.g);if(v==="")return"";let b="";const R=v.length,q=ci(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Fn(c),"";c.h.i=new h.TextDecoder}for(let J=0;J<R;J++)c.h.h=!0,b+=c.h.i.decode(v[J],{stream:!(q&&J==R-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,v){var b=c.C,R=v.indexOf(`
`,b);return R==-1?Yt:(b=Number(v.substring(b,R)),isNaN(b)?It:(R+=1,R+b>v.length?Yt:(v=v.slice(R,R+b),c.C=R+b,v)))}ai.prototype.cancel=function(){this.K=!0,In(this)};function wi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=On(m(c.aa,c),v)}function Ai(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ai.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ns(this.i,this.B),this.M!=2&&(Dn(),Et(17)),In(this),this.m=2,Fn(this)):va(this,this.T-c)};function Fn(c){c.j.I==0||c.K||Tu(c.j,c)}function In(c){Ai(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Ti(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Li(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Mi(b.h,c))){if(!c.L&&Mi(b.h,c)&&b.I==3){try{var R=b.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)wa(b),Bs(b);else break e;Pr(b),Et(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=On(m(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ni(b,11)}else if((c.L||b.g==c)&&wa(b),!O(v))for(q=b.Ba.g.parse(v),v=0;v<q.length;v++){let tt=q[v];const yt=tt[0];if(!(yt<=b.K))if(b.K=yt,tt=tt[1],b.I==2)if(tt[0]=="c"){b.M=tt[1],b.ba=tt[2];const Kn=tt[3];Kn!=null&&(b.ka=Kn,b.j.info("VER="+b.ka));const Pi=tt[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const hi=tt[5];hi!=null&&typeof hi=="number"&&hi>0&&(R=1.5*hi,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const fi=c.g;if(fi){const kr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var J=R.h;J.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Oo(J,J.h),J.h=null))}if(R.G){const Aa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(R.wa=Aa,st(R.J,R.G,Aa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var de=c;if(R.na=wu(R,R.L?R.ba:null,R.W),de.L){xo(R.h,de);var Ne=de,Rt=R.O;Rt&&(Ne.H=Rt),Ne.D&&(Ai(Ne),wi(Ne)),R.g=de}else Eu(R);b.i.length>0&&Vi(b)}else tt[0]!="stop"&&tt[0]!="close"||Ni(b,7);else b.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ni(b,7):jo(b):tt[0]!="noop"&&b.l&&b.l.qa(tt),b.A=0)}}Dn(4)}catch{}}var Vt=class{constructor(c,v){this.g=c,this.map=v}};function Mo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ri(c){return c.h?1:c.g?c.g.size:0}function Mi(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Oo(c,v){c.g?c.g.add(v):c.h=v}function xo(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Mo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return D(c.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const R=c[b].indexOf("=");let q,J=null;R>=0?(q=c[b].substring(0,R),J=c[b].substring(R+1)):q=c[b],v(q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Vn?(this.l=c.l,$t(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,Vo(this,yu(c.i)),this.m=c.m):c&&(v=String(c).match(pu))?(this.l=!1,$t(this,v[1]||"",!0),this.o=Di(v[2]||""),this.g=Di(v[3]||"",!0),Is(this,v[4]),this.h=Di(v[5]||"",!0),Vo(this,v[6]||"",!0),this.m=Di(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Vn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Dr(v,_a,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Dr(v,_a,!0),"@"),c.push(ss(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Dr(b,b.charAt(0)=="/"?No:gu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Dr(b,mu)),c.join("")},Vn.prototype.resolve=function(c){const v=Nt(this);let b=!!c.j;b?$t(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var R=c.h;if(b)Is(v,c.u);else if(b=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=v.h.lastIndexOf("/");q!=-1&&(R=v.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const J=[];for(let de=0;de<q.length;){const Ne=q[de++];Ne=="."?R&&de==q.length&&J.push(""):Ne==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&de==q.length&&J.push("")):(J.push(Ne),R=!0)}R=J.join("/")}else R=q}return b?v.h=R:b=c.i.toString()!=="",b?Vo(v,yu(c.i)):b=!!c.m,b&&(v.m=c.m),v};function Nt(c){return new Vn(c)}function $t(c,v,b){c.j=b?Di(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Vo(c,v,b){v instanceof Ns?(c.i=v,ba(c.i,c.l)):(b||(v=Dr(v,Vs)),c.i=new Ns(v,c.l))}function st(c,v,b){c.i.set(v,b)}function Mr(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dr(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,bn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,gu=/[#\?:]/g,No=/[#\?]/g,Vs=/[#\?@]/g,mu=/#/g;function Ns(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Ns.prototype,i.add=function(c,v){Tn(this),this.i=null,c=Ps(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function vu(c,v){Tn(c),v=Ps(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Po(c,v){return Tn(c),v=Ps(c,v),c.g.has(v)}i.forEach=function(c,v){Tn(this),this.g.forEach(function(b,R){b.forEach(function(q){c.call(v,q,R,this)},this)},this)};function ko(c,v){Tn(c);let b=[];if(typeof v=="string")Po(c,v)&&(b=b.concat(c.g.get(Ps(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}i.set=function(c,v){return Tn(this),this.i=null,c=Ps(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=ko(this,c),c.length>0?String(c[0]):v):v};function Ea(c,v,b){vu(c,v),b.length>0&&(c.i=null,c.g.set(Ps(c,v),D(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var b=v[R];const q=ss(b);b=ko(this,b);for(let J=0;J<b.length;J++){let de=q;b[J]!==""&&(de+="="+ss(b[J])),c.push(de)}}return this.i=c.join("&")};function yu(c){const v=new Ns;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ps(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ba(c,v){v&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(b,R){const q=R.toLowerCase();R!=q&&(vu(this,R),Ea(this,q,b))},c)),c.j=v}function li(c,v){const b=new fn;if(h.Image){const R=new Image;R.onload=_(Gn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=_(Gn,b,"TestLoadImage: error",!1,v,R),R.onabort=_(Gn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(Gn,b,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else v(!1)}function Uo(c,v){const b=new fn,R=new AbortController,q=setTimeout(()=>{R.abort(),Gn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:R.signal}).then(J=>{clearTimeout(q),J.ok?Gn(b,"TestPingServer: ok",!0,v):Gn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Gn(b,"TestPingServer: error",!1,v)})}function Gn(c,v,b,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(b)}catch{}}function ks(){this.g=new Ar}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Oi,Xi),Oi.prototype.g=function(){return new Or(this.i,this.h)};function Or(c,v){dt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Or,dt),i=Or.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ui(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Us(this):ui(this),this.readyState==3&&Ta(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Us(this))},i.Na=function(c){this.g&&(this.response=c,Us(this))},i.ga=function(){this.g&&Us(this)};function Us(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ui(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function ui(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qn(c){let v="";return Ee(c,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function xr(c,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Qn(b),typeof c=="string"?b!=null&&ss(b):st(c,v,b))}function ot(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ot,dt);var xi=/^https?$/i,zo=["POST","PUT"];i=ot.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(J){Ir(this,J);return}if(c=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)b.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(zo,v,void 0)>=0)||R||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of b)this.g.setRequestHeader(J,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(J){Ir(this,J)}};function Ir(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Bo(c),rs(c)}function Bo(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),ot.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},i.Xa=function(){Vr(this)};function Vr(c){if(c.h&&typeof u<"u"){if(c.v&&ci(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),ci(c)==4){c.h=!1;try{const J=c.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=J===0){let de=String(c.D).match(pu)[1]||null;!de&&h.self&&h.self.location&&(de=h.self.location.protocol.slice(0,-1)),R=!xi.test(de?de.toLowerCase():"")}b=R}if(b)St(c,"complete"),St(c,"success");else{c.o=6;try{var q=ci(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Bo(c)}}finally{rs(c)}}}}function rs(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||St(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xs(v)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function as(c){const v={};c=(c.g&&ci(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(O(c[R]))continue;var b=hu(c[R]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[q]||[];v[q]=J,J.push(b)}_e(v,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function zs(c){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=zs.prototype,i.ka=8,i.I=1,i.connect=function(c,v,b,R){Et(0),this.W=c,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=wu(this,null,this.W),Vi(this)};function jo(c){if(Sa(c),c.I==3){var v=c.V++,b=Nt(c.J);if(st(b,"SID",c.M),st(b,"RID",v),st(b,"TYPE","terminate"),Nr(c,b),v=new ai(c,c.j,v),v.M=2,v.A=Mr(Nt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Au(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wi(v)}Cu(c)}function Bs(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function Sa(c){Bs(c),c.v&&(h.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vi(c){if(!Do(c.h)&&!c.m){c.m=!0;var v=c.Ea;F||A(),X||(F(),X=!0),L.add(v,c),c.D=0}}function Ca(c,v){return Ri(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=On(m(c.Ea,c,v),Su(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ai(this,this.j,c);let J=this.o;if(this.U&&(J?(J=N(J),se(J,this.U)):J=this.U),this.u!==null||this.R||(q.J=J,J=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=_u(this,q,v),b=Nt(this.J),st(b,"RID",c),st(b,"CVER",22),this.G&&st(b,"X-HTTP-Session-Id",this.G),Nr(this,b),J&&(this.R?v="headers="+ss(Qn(J))+"&"+v:this.u&&xr(b,this.u,J)),Oo(this.h,q),this.Ra&&st(b,"TYPE","init"),this.S?(st(b,"$req",v),st(b,"SID","null"),q.U=!0,Ci(q,b,null)):Ci(q,b,v),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Do(this.h)||Ho(this))};function Ho(c,v){var b;v?b=v.l:b=c.V++;const R=Nt(c.J);st(R,"SID",c.M),st(R,"RID",b),st(R,"AID",c.K),Nr(c,R),c.u&&c.o&&xr(R,c.u,c.o),b=new ai(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=_u(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,b),Ci(b,R,v)}function Nr(c,v){c.H&&Ee(c.H,function(b,R){st(v,R,b)}),c.l&&Ee({},function(b,R){st(v,R,b)})}function _u(c,v,b){b=Math.min(c.i.length,b);const R=c.l?m(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ne=-1;for(;;){const Rt=["count="+b];Ne==-1?b>0?(Ne=q[0].g,Rt.push("ofs="+Ne)):Ne=0:Rt.push("ofs="+Ne);let tt=!0;for(let yt=0;yt<b;yt++){var J=q[yt].g;const Kn=q[yt].map;if(J-=Ne,J<0)Ne=Math.max(0,q[yt].g-100),tt=!1;else try{J="req"+J+"_"||"";try{var de=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Pi,hi]of de){let fi=hi;p(hi)&&(fi=ri(hi)),Rt.push(J+Pi+"="+encodeURIComponent(fi))}}catch(Pi){throw Rt.push(J+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(Kn)}}if(tt){de=Rt.join("&");break e}}de=void 0}return c=c.i.splice(0,b),v.G=c,de}function Eu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;F||A(),X||(F(),X=!0),L.add(v,c),c.A=0}}function Pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=On(m(c.Da,c),Su(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=On(m(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Bs(this),bu(this))};function qo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new ai(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Nt(c.na);st(v,"RID","rpc"),st(v,"SID",c.M),st(v,"AID",c.K),st(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(v,"TO",c.ia),st(v,"TYPE","xmlhttp"),Nr(c,v),c.u&&c.o&&xr(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Mr(Nt(v)),b.u=null,b.R=!0,ma(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Bs(this),Pr(this),Et(19))};function wa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Tu(c,v){var b=null;if(c.g==v){wa(c),qo(c),c.g=null;var R=2}else if(Mi(c.h,v))b=v.G,xo(c.h,v),R=1;else return;if(c.I!=0){if(v.o)if(R==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var q=c.D;R=Ji(),St(R,new vn(R,b)),Vi(c)}else Eu(c);else if(q=v.m,q==3||q==0&&v.X>0||!(R==1&&Ca(c,v)||R==2&&Pr(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),q){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Su(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Ni(c,v){if(c.j.info("Error code "+v),v==2){var b=m(c.bb,c),R=c.Ua;const q=!R;R=new Vn(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$t(R,"https"),Mr(R),q?li(R.toString(),b):Uo(R.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(v),Cu(c),Sa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const v=Io(c.h);(v.length!=0||c.i.length!=0)&&(M(c.ja,v),M(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function wu(c,v,b){var R=b instanceof Vn?Nt(b):new Vn(b);if(R.g!="")v&&(R.g=v+"."+R.g),Is(R,R.u);else{var q=h.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const J=new Vn(null);R&&$t(J,R),v&&(J.g=v),q&&Is(J,q),b&&(J.h=b),R=J}return b=c.G,v=c.wa,b&&v&&st(R,b,v),st(R,"VER",c.ka),Nr(c,R),R}function Au(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ot(new Oi({ab:b})):new ot(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}i=Lu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function js(){}js.prototype.g=function(c,v){return new yn(c,v)};function yn(c,v){dt.call(this),this.g=new zs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!O(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new os(this)}T(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){jo(this.g)},yn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ri(c),c=b);v.i.push(new Vt(v.Ya++,c)),v.I==3&&Vi(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,yn.Z.N.call(this)};function Ru(c){xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}T(Ru,xt);function Mu(){Jt.call(this),this.status=1}T(Mu,Jt);function os(c){this.g=c}T(os,Lu),os.prototype.ra=function(){St(this.g,"a")},os.prototype.qa=function(c){St(this.g,new Ru(c))},os.prototype.pa=function(c){St(this.g,new Mu)},os.prototype.oa=function(){St(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Y0=function(){return new js},K0=function(){return Ji()},Q0=vt,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Kc=Me,Lo.COMPLETE="complete",G0=Lo,Lr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Il=Lr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,F0=ot}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",HE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new I0("@firebase/firestore");function no(){return sa.logLevel}function ge(i,...e){if(sa.logLevel<=Xe.DEBUG){const n=e.map(Qp);sa.debug(`Firestore (${To}): ${i}`,...n)}}function Ls(i,...e){if(sa.logLevel<=Xe.ERROR){const n=e.map(Qp);sa.error(`Firestore (${To}): ${i}`,...n)}}function ho(i,...e){if(sa.logLevel<=Xe.WARN){const n=e.map(Qp);sa.warn(`Firestore (${To}): ${i}`,...n)}}function Qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$0(i,r,n)}function $0(i,e,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function it(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||$0(e,o,r)}function Ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cM{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new Z0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class hM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,k0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Qe(i,e){return i<e?-1:i>e?1:0}function gp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Zd(o)===Zd(u)?Qe(o,u):Zd(o)?1:-1}return Qe(i.length,e.length)}const gM=55296,mM=57343;function Zd(i){const e=i.charCodeAt(0);return e>=gM&&e<=mM}function fo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),o=ji.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class ft extends ji{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ji{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new on([FE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(u(),o++)}if(u(),h)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(ft.fromString(e))}static fromName(e){return new Le(ft.fromString(e).popFirst(5))}static empty(){return new Le(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yM(i,e,n,r){if(e===!0&&r===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function GE(i){if(!Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function QE(i){if(Le.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function W0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function fh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function au(i,e){if(!W0(i))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,YE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YE);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ht("string",mt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function _M(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Er(o,Le.empty(),e)}function EM(i){return new Er(i.readTime,i.key,Yl)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(xe.min(),Le.empty(),Yl)}static max(){return new Er(xe.max(),Le.empty(),Yl)}}function bM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==TM)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((o=>o?le.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((_=>{h[m]=_,++p,p===u&&r(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new le(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function CM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function Lh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function wM(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="";function AM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=$E(e)),e=LM(i.get(n),e);return $E(e)}function LM(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case J0:n+="";break;default:n+=u}}return n}function $E(i){return i+J0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ua(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function eT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new an(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new mi([])}unionWith(e){let n=new Ft(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tT("Invalid base64 string: "+u):u}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(i){if(it(!!i,39018),typeof i=="string"){let e=0;const n=RM.exec(i);if(it(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Tr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="server_timestamp",iT="__type__",sT="__previous_value__",rT="__local_write_time__";function $p(i){return(i?.mapValue?.fields||{})[iT]?.stringValue===nT}function Rh(i){const e=i.mapValue.fields[sT];return $p(e)?Rh(e):e}function $l(i){const e=br(i.mapValue.fields[rT].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,o,u,h,p,g,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=_}}const ph="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__type__",DM="__max__",Uc={mapValue:{}},oT="__vector__",gh="value";function Sr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$p(i)?4:xM(i)?9007199254740991:OM(i)?10:11:De(28295,{value:i})}function Yi(i,e){if(i===e)return!0;const n=Sr(i);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=br(o.timestampValue),p=br(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Tr(o.bytesValue).isEqual(Tr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ot(o.doubleValue),p=Ot(u.doubleValue);return h===p?dh(h)===dh(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(ZE(h)!==ZE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Yi(h[g],p[g])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function Xl(i,e){return(i.values||[]).find((n=>Yi(n,e)))!==void 0}function po(i,e){if(i===e)return 0;const n=Sr(i),r=Sr(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Ot(u.integerValue||u.doubleValue),g=Ot(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return WE(i.timestampValue,e.timestampValue);case 4:return WE($l(i),$l(e));case 5:return gp(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=Tr(u),g=Tr(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let m=0;m<p.length&&m<g.length;m++){const _=Qe(p[m],g[m]);if(_!==0)return _}return Qe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Qe(Ot(u.latitude),Ot(h.latitude));return p!==0?p:Qe(Ot(u.longitude),Ot(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return JE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},m=p[gh]?.arrayValue,_=g[gh]?.arrayValue,T=Qe(m?.values?.length||0,_?.values?.length||0);return T!==0?T:JE(m,_)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Uc.mapValue&&h===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(h===Uc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=h.fields||{},_=Object.keys(m);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const S=gp(g[T],_[T]);if(S!==0)return S;const D=po(p[g[T]],m[_[T]]);if(D!==0)return D}return Qe(g.length,_.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function WE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=br(i),r=br(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function JE(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=po(n[o],r[o]);if(u)return u}return Qe(n.length,r.length)}function go(i){return mp(i)}function mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=br(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Tr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Le.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=mp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${mp(n.fields[h])}`;return o+"}"})(i.mapValue):De(61005,{value:i})}function Yc(i){switch(Sr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(i);return e?16+Yc(e):16;case 5:return 2*i.stringValue.length;case 6:return Tr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Yc(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return ua(r.fields,((u,h)=>{o+=u.length+Yc(h)})),o})(i.mapValue);default:throw De(13486,{value:i})}}function eb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function Zp(i){return!!i&&"arrayValue"in i}function tb(i){return!!i&&"nullValue"in i}function nb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $c(i){return!!i&&"mapValue"in i}function OM(i){return(i?.mapValue?.fields||{})[aT]?.stringValue===oT}function zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zl(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return{...i}}function xM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=on.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=zl(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new ii(zl(this.value))}}function lT(i){const e=[];return ua(i.fields,((n,r)=>{const o=new on([n]);if($c(r)){const u=lT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,o,u,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),ii.empty(),0)}static newFoundDocument(e,n,r,o){return new mn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new mn(e,2,n,xe.min(),xe.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,xe.min(),xe.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function ib(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=Le.comparator(Le.fromName(h.referenceValue),n.key):r=po(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function sb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function IM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{}class jt extends uT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NM(e,n,r):n==="array-contains"?new UM(e,r):n==="in"?new zM(e,r):n==="not-in"?new BM(e,r):n==="array-contains-any"?new jM(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PM(e,r):new kM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends uT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return cT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(i){return i.op==="and"}function hT(i){return VM(i)&&cT(i)}function VM(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function yp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(hT(i))return i.filters.map((e=>yp(e))).join(",");{const e=i.filters.map((n=>yp(n))).join(",");return`${i.op}(${e})`}}function fT(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(i,e):i instanceof yi?(function(r,o){return o instanceof yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,p)=>u&&fT(h,o.filters[p])),!0):!1})(i,e):void De(19439)}function dT(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(i):i instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"})(i):"Filter"}class NM extends jt{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class PM extends jt{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kM extends jt{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pT(i,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class UM extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&Xl(n.arrayValue,this.value)}}class zM extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class BM extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class jM extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n=null,r=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function rb(i,e=null,n=[],r=[],o=null,u=null,h=null){return new HM(i,e,n,r,o,u,h)}function Xp(i){const e=Ve(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>yp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>go(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>go(r))).join(",")),e.Te=n}return e.Te}function Wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!IM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!fT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sb(i.startAt,e.startAt)&&sb(i.endAt,e.endAt)}function _p(i){return Le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,r=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qM(i,e,n,r,o,u,h,p){return new wo(i,e,n,r,o,u,h,p)}function gT(i){return new wo(i)}function ab(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mT(i){return i.collectionGroup!==null}function Bl(i){const e=Ve(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Ft(on.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wl(u,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new Wl(on.keyField(),r))}return e.Ie}function qi(i){const e=Ve(i);return e.Ee||(e.Ee=FM(e,Bl(i))),e.Ee}function FM(i,e){if(i.limitType==="F")return rb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)}));const n=i.endAt?new mh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new mh(i.startAt.position,i.startAt.inclusive):null;return rb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Ep(i,e){const n=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function bp(i,e,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Mh(i,e){return Wp(qi(i),qi(e))&&i.limitType===e.limitType}function vT(i){return`${Xp(qi(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>dT(o))).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${r})`})(qi(i))}; limitType=${i.limitType})`}function Dh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Le.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const m=ib(h,p,g);return h.inclusive?m<=0:m<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(h,p,g){const m=ib(h,p,g);return h.inclusive?m>=0:m>0})(r.endAt,Bl(r),o))})(i,e)}function GM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yT(i){return(e,n)=>{let r=!1;for(const o of Bl(i)){const u=QM(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function QM(i,e,n){const r=i.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),m=p.data.field(u);return g!==null&&m!==null?po(g,m):De(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Tt(Le.comparator);function Rs(){return KM}const _T=new Tt(Le.comparator);function Vl(...i){let e=_T;for(const n of i)e=e.insert(n.key,n);return e}function ET(i){let e=_T;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return jl()}function bT(){return jl()}function jl(){return new ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const YM=new Tt(Le.comparator),$M=new Ft(Le.comparator);function Ke(...i){let e=$M;for(const n of i)e=e.add(n);return e}const ZM=new Ft(Qe);function XM(){return ZM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function TT(i){return{integerValue:""+i}}function WM(i,e){return wM(e)?TT(e):Jp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function JM(i,e,n){return i instanceof Jl?(function(o,u){const h={fields:{[iT]:{stringValue:nT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=Rh(u)),u&&(h.fields[sT]=u),{mapValue:h}})(n,e):i instanceof eu?CT(i,e):i instanceof tu?wT(i,e):(function(o,u){const h=ST(o,u),p=ob(h)+ob(o.Ae);return vp(h)&&vp(o.Ae)?TT(p):Jp(o.serializer,p)})(i,e)}function e2(i,e,n){return i instanceof eu?CT(i,e):i instanceof tu?wT(i,e):n}function ST(i,e){return i instanceof vh?(function(r){return vp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Jl extends Oh{}class eu extends Oh{constructor(e){super(),this.elements=e}}function CT(i,e){const n=AT(e);for(const r of i.elements)n.some((o=>Yi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class tu extends Oh{constructor(e){super(),this.elements=e}}function wT(i,e){let n=AT(e);for(const r of i.elements)n=n.filter((o=>!Yi(o,r)));return{arrayValue:{values:n}}}class vh extends Oh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ob(i){return Ot(i.integerValue||i.doubleValue)}function AT(i){return Zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.field=e,this.transform=n}}function n2(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof eu&&o instanceof eu||r instanceof tu&&o instanceof tu?fo(r.elements,o.elements,Yi):r instanceof vh&&o instanceof vh?Yi(r.Ae,o.Ae):r instanceof Jl&&o instanceof Jl})(i.transform,e.transform)}class i2{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xh{}function LT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new MT(i.key,Cs.none()):new ou(i.key,i.data,Cs.none());{const n=i.data,r=ii.empty();let o=new Ft(on.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new ha(i.key,r,new mi(o.toArray()),Cs.none())}}function s2(i,e,n){i instanceof ou?(function(o,u,h){const p=o.value.clone(),g=ub(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof ha?(function(o,u,h){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=ub(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(RT(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Hl(i,e,n,r){return i instanceof ou?(function(u,h,p,g){if(!Zc(u.precondition,h))return p;const m=u.value.clone(),_=cb(u.fieldTransforms,g,h);return m.setAll(_),h.convertToFoundDocument(h.version,m).setHasLocalMutations(),null})(i,e,n,r):i instanceof ha?(function(u,h,p,g){if(!Zc(u.precondition,h))return p;const m=cb(u.fieldTransforms,g,h),_=h.data;return _.setAll(RT(u)),_.setAll(m),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,r):(function(u,h,p){return Zc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function r2(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=ST(r.transform,o||null);u!=null&&(n===null&&(n=ii.empty()),n.set(r.field,u))}return n||null}function lb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fo(r,o,((u,h)=>n2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ou extends xh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends xh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function ub(i,e,n){const r=new Map;it(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);r.set(u.field,e2(h,p,n[o]))}return r}function cb(i,e,n){const r=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);r.set(o.field,JM(u,h,e))}return r}class MT extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&s2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=LT(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,r)=>lb(n,r)))&&fo(this.baseMutations,e.baseMutations,((n,r)=>lb(n,r)))}}class eg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return YM})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new eg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function c2(i){switch(i){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function DT(i){if(i===void 0)return Ls("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Bt.OK:return oe.OK;case Bt.CANCELLED:return oe.CANCELLED;case Bt.UNKNOWN:return oe.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return oe.INTERNAL;case Bt.UNAVAILABLE:return oe.UNAVAILABLE;case Bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Bt.NOT_FOUND:return oe.NOT_FOUND;case Bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Bt.ABORTED:return oe.ABORTED;case Bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Bt.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:i})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new vr([4294967295,4294967295],0);function hb(i){const e=h2().encode(i),n=new q0;return n.update(e),new Uint8Array(n.digest())}function fb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vr([n,r],0),new vr([o,u],0)]}class tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(vr.fromNumber(r)));return o.compare(f2)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hb(e),[r,o]=fb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tg(u,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=hb(e),[r,o]=fb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ih(xe.min(),o,new Tt(Qe),Rs(),Ke())}}class lu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class OT{constructor(e,n){this.targetId=e,this.Ce=n}}class xT{constructor(e,n,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class db{constructor(){this.ve=0,this.Fe=pb(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:De(38017,{changeType:u})}})),new lu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=zc(),this.He=zc(),this.Ye=new Tt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_p(u))if(r===0){const h=new Le(u.path);this.et(n,h,mn.newNoDocument(h,xe.min()))}else it(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Tr(r).toUint8Array()}catch(g){if(g instanceof tT)return ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new tg(h,o,u)}catch(g){return ho(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&_p(p.target)){const g=new Le(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,mn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Ke();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Ih(e,n,this.Ye,this.je,r);return this.je=Rs(),this.Je=zc(),this.He=zc(),this.Ye=new Tt(Qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new db,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new db),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new Tt(Le.comparator)}function pb(){return new Tt(Le.comparator)}const p2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class v2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function y2(i,e){return yh(i,e.toTimestamp())}function Fi(i){return it(!!i,49232),xe.fromTimestamp((function(n){const r=br(n);return new mt(r.seconds,r.nanos)})(i))}function ng(i,e){return Sp(i,e).canonicalString()}function Sp(i,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function VT(i){const e=ft.fromString(i);return it(zT(e),10190,{key:e.toString()}),e}function Cp(i,e){return ng(i.databaseId,e.path)}function Xd(i,e){const n=VT(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Le(PT(n))}function NT(i,e){return ng(i.databaseId,e)}function _2(i){const e=VT(i);return e.length===4?ft.emptyPath():PT(e)}function wp(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function PT(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gb(i,e,n){return{name:Cp(i,e),fields:n.value.mapValue.fields}}function E2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(it(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(m){const _=m.code===void 0?oe.UNKNOWN:DT(m.code);return new pe(_,m.message||"")})(h);n=new xT(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xd(i,r.document.name),u=Fi(r.document.updateTime),h=r.document.createTime?Fi(r.document.createTime):xe.min(),p=new ii({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,u,h,p),m=r.targetIds||[],_=r.removedTargetIds||[];n=new Xc(m,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xd(i,r.document),u=r.readTime?Fi(r.readTime):xe.min(),h=mn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Xc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xd(i,r.document),u=r.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new u2(o,u),p=r.targetId;n=new OT(p,h)}}return n}function b2(i,e){let n;if(e instanceof ou)n={update:gb(i,e.key,e.value)};else if(e instanceof MT)n={delete:Cp(i,e.key)};else if(e instanceof ha)n={update:gb(i,e.key,e.data),updateMask:D2(e.fieldMask)};else{if(!(e instanceof a2))return De(16599,{Vt:e.type});n={verify:Cp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const p=h.transform;if(p instanceof Jl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw De(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:y2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(i,e.precondition)),n}function T2(i,e){return i&&i.length>0?(it(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Fi(o.updateTime):Fi(u);return h.isEqual(xe.min())&&(h=Fi(u)),new i2(h,o.transformResults||[])})(n,e)))):[]}function S2(i,e){return{documents:[NT(i,e.path)]}}function C2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NT(i,o);const u=(function(m){if(m.length!==0)return UT(yi.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((_=>(function(S){return{field:so(S.field),direction:L2(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Tp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function w2(i){let e=_2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){it(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=kT(T);return S instanceof yi&&hT(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(M){return new Wl(ro(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,Lh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,D=T.values||[];return new mh(D,S)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const S=!T.before,D=T.values||[];return new mh(D,S)})(n.endAt)),qM(e,o,h,u,p,"F",g,m)}function A2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((r=>kT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(i):De(30097,{filter:i})}function L2(i){return p2[i]}function R2(i){return g2[i]}function M2(i){return m2[i]}function so(i){return{fieldPath:i.canonicalString()}}function ro(i){return on.fromServerFormat(i.fieldPath)}function UT(i){return i instanceof jt?(function(n){if(n.op==="=="){if(nb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(tb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(tb(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:R2(n.op),value:n.value}}})(i):i instanceof yi?(function(n){const r=n.getFilters().map((o=>UT(o)));return r.length===1?r[0]:{compositeFilter:{op:M2(n.op),filters:r}}})(i):De(54877,{filter:i})}function D2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,o,u=xe.min(),h=xe.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.yt=e}}function x2(i){const e=w2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Cn=new V2}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Er.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class V2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ft(ft.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(BT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="LruGarbageCollector",N2=1048576;function yb([i,e],[n,r]){const o=Qe(i,n);return o===0?Qe(e,r):o}class P2{constructor(e){this.Ir=e,this.buffer=new Ft(yb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(vb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?ge(vb,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class U2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Ah.ce);const r=new P2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(mb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,p,g,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(m=Date.now(),no()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(m-g)+`ms
Total Duration: ${m-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function z2(i,e){return new U2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Hl(r.mutation,o,mi.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Vl();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let u=Rs();const h=jl(),p=(function(){return jl()})();return n.forEach(((g,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof ha)?u=u.insert(m.key,m):_!==void 0?(h.set(m.key,_.mutation.getFieldMask()),Hl(_.mutation,m,_.mutation.getFieldMask(),mt.now())):h.set(m.key,mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,_)=>h.set(m,_))),n.forEach(((m,_)=>p.set(m,new j2(_,h.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=jl();let o=new Tt(((h,p)=>h-p)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let _=r.get(g)||mi.empty();_=p.applyToLocalView(m,_),r.set(g,_);const T=(o.get(p.batchId)||Ke()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,_=g.value,T=bT();_.forEach((S=>{if(!u.has(S)){const D=LT(n.get(S),r.get(S));D!==null&&T.set(S,D),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,m,T))}return le.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Le.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):le.resolve(na());let p=Yl,g=u;return h.next((m=>le.forEach(m,((_,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Ke()))).next((_=>({batchId:p,changes:ET(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Vl();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(g=>{const m=(function(T,S){return new wo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((_=>{_.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,m)=>{const _=m.getKey();h.get(_)===null&&(h=h.insert(_,mn.newInvalidDocument(_)))}));let p=Vl();return h.forEach(((g,m)=>{const _=u.get(g);_!==void 0&&Hl(_.mutation,m,mi.empty(),mt.now()),Dh(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:x2(o.bundledQuery),readTime:Fi(o.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.overlays=new Tt(Le.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return le.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const o=na(),u=n.length+1,h=new Le(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Tt(((m,_)=>m-_));const h=this.overlays.getIterator();for(;h.hasNext();){const m=h.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let _=u.get(m.largestBatchId);_===null&&(_=na(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const p=na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,_)=>p.set(m,_))),!(p.size()>=o)););return le.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new l2(n,r));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Le(new ft([])),r=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new ft([])),r=new Xt(n,e),o=new Xt(n,e+1);let u=Ke();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new o2(u,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Xt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Yp:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Qe);return n.forEach((o=>{const u=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{r=r.add(p.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Le.isDocumentKey(u)||(u=u.child(""));const h=new Xt(new Le(u),0);let p=new Ft(Qe);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),h),le.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),o=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Rs();const h=n.path,p=new Le(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:_}}=g.getNext();if(!h.isPrefixOf(m.path))break;m.path.length>h.length+1||bM(EM(_),r)<=0||(o.has(_.key)||Dh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,r,o){De(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Y2(this)}getSize(e){return le.resolve(this.size)}}class Y2 extends B2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.persistence=e,this.si=new ca((n=>Xp(n)),Wp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new G2,this.referenceDelegate=e(this),this.Pi=new $2(this),this.indexManager=new I2,this.remoteDocumentCache=(function(o){return new K2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new O2(n),this.Ii=new q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Q2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new Z2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Z2 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const o=Le.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.pi=new ca((r=>AM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=z2(this,n)}static mi(e,n){return new _h(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?le.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,u.removeEntry(h,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return le.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ke(),o=Ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YL()?8:CM(QL())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new X2;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(no()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(no()<=Xe.DEBUG&&ge("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(no()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):le.resolve())}ys(e,n){if(ab(n))return le.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=bp(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ke(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,h,g.readTime)?this.ys(e,bp(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,r,o){return ab(n)||o.isEqual(xe.min())?le.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?le.resolve(null):(no()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(e,h,n,_M(o,Yl)).next((p=>p)))}))}Ds(e,n){let r=new Ft(yT(e));return n.forEach(((o,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return no()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",J2=3e8;class eD{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Tt(Qe),this.xs=new ca((u=>Xp(u)),Wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tD(i,e,n,r){return new eD(i,e,n,r)}async function HT(i,e){const n=Ve(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],p=[];let g=Ke();for(const m of o){h.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}for(const m of u){p.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(r,g).next((m=>({Ls:m,removedBatchIds:h,addedBatchIds:p})))}))}))}function nD(i,e){const n=Ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,_){const T=m.batch,S=T.keys();let D=le.resolve();return S.forEach((M=>{D=D.next((()=>_.getEntry(g,M))).next((U=>{const V=m.docVersions.get(M);it(V!==null,48541),U.version.compareTo(V)<0&&(T.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),_.addEntry(U)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ke();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function qT(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iD(i,e){const n=Ve(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),o=o.insert(T,D),(function(U,V,H){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=J2?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(S,D,_)&&p.push(n.Pi.updateTargetData(u,D))}));let g=Rs(),m=Ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(sD(u,h,e.documentUpdates).next((_=>{g=_.ks,m=_.qs}))),!r.isEqual(xe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(_)}return le.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function sD(i,e,n){let r=Ke(),o=Ke();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let h=Rs();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ge(ag,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function rD(i,e){const n=Ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aD(i,e){const n=Ve(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,le.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new dr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ap(i,e,n){const r=Ve(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Co(h))throw h;ge(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function _b(i,e,n){const r=Ve(i);let o=xe.min(),u=Ke();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,m,_){const T=Ve(g),S=T.xs.get(_);return S!==void 0?le.resolve(T.Ms.get(S)):T.Pi.getTargetData(m,_)})(r,h,qi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?u:Ke()))).next((p=>(oD(r,GM(e),p),{documents:p,Qs:u})))))}function oD(i,e,n){let r=i.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class Eb{constructor(){this.activeTargetIds=XM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lD{constructor(){this.Mo=new Eb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Eb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="ConnectivityMonitor";class Tb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Lp(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=Lp(),p=this.zo(e,n.toUriEncodedString());ge(Wd,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),_=ru(m);return this.Jo(e,p,g,r,_).then((T=>(ge(Wd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ho(Wd,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=cD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class dD extends hD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=Lp();return new Promise(((p,g)=>{const m=new F0;m.setWithCredentials(!0),m.listenOnce(G0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Kc.NO_ERROR:const T=m.getResponseJson();ge(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Kc.TIMEOUT:ge(pn,`RPC '${e}' ${h} timed out`),g(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const S=m.getStatus();if(ge(pn,`RPC '${e}' ${h} failed with status:`,S,"response text:",m.getResponseText()),S>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D?.error;if(M&&M.status&&M.message){const U=(function(H){const B=H.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN})(M.status);g(new pe(U,M.message))}else g(new pe(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:h,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(pn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ge(pn,`RPC '${e}' ${h} sending request:`,o),m.send(n,"POST",_,r,15)}))}T_(e,n,r){const o=Lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Y0(),p=K0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const _=u.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let S=!1,D=!1;const M=new fD({Yo:V=>{D?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),U=(V,H,B)=>{V.listen(H,(te=>{try{B(te)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return U(T,Il.EventType.OPEN,(()=>{D||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),U(T,Il.EventType.CLOSE,(()=>{D||(D=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(T))})),U(T,Il.EventType.ERROR,(V=>{D||(D=!0,ho(pn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))})),U(T,Il.EventType.MESSAGE,(V=>{if(!D){const H=V.data[0];it(!!H,16349);const B=H,te=B?.error||B[0]?.error;if(te){ge(pn,`RPC '${e}' stream ${o} received error:`,te);const Y=te.status;let F=(function(A){const C=Bt[A];if(C!==void 0)return DT(C)})(Y),X=te.message;F===void 0&&(F=oe.INTERNAL,X="Unknown error status: "+Y+" with message "+te.message),D=!0,M.a_(new pe(F,X)),T.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,H),M.u_(H)}})),U(p,Q0.STAT_EVENT,(V=>{V.stat===pp.PROXY?ge(pn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===pp.NOPROXY&&ge(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){return new v2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="PersistentStream";class GT{constructor(e,n,r,o,u,h,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pD extends GT{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E2(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Fi(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=_p(g)?{documents:S2(u,g)}:{query:C2(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=IT(u,h.resumeToken);const m=Tp(u,h.expectedCount);m!==null&&(p.expectedCount=m)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=yh(u,h.snapshotVersion.toTimestamp());const m=Tp(u,h.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=A2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.q_(n)}}class gD extends GT{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T2(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>b2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{}class vD extends mD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Sp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Sp(n,r),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(oe.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class _D{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{fa(this)&&(ge(ra,"Restarting streams for network reachability change."),await(async function(g){const m=Ve(g);m.Ea.add(4),await uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Nh(m)})(this))}))})),this.Ra=new yD(r,o)}}async function Nh(i){if(fa(i))for(const e of i.da)await e(!0)}async function uu(i){for(const e of i.da)await e(!1)}function QT(i,e){const n=Ve(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):Ao(n).O_()&&lg(n,e))}function og(i,e){const n=Ve(i),r=Ao(n);n.Ia.delete(e),r.O_()&&KT(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function lg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(i).Y_(e)}function KT(i,e){i.Va.Ue(e),Ao(i).Z_(e)}function ug(i){i.Va=new d2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.Ra.ua()}function cg(i){return fa(i)&&!Ao(i).x_()&&i.Ia.size>0}function fa(i){return Ve(i).Ea.size===0}function YT(i){i.Va=void 0}async function ED(i){i.Ra.set("Online")}async function bD(i){i.Ia.forEach(((e,n)=>{lg(i,e)}))}async function TD(i,e){YT(i),cg(i)?(i.Ra.ha(e),ug(i)):i.Ra.set("Unknown")}async function SD(i,e,n){if(i.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ge(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(i,r)}else if(e instanceof Xc?i.Va.Ze(e):e instanceof OT?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const r=await qT(i.localStore);n.compareTo(r)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,m)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),KT(u,g);const T=new dr(_.target,g,m,_.sequenceNumber);lg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){ge(ra,"Failed to raise snapshot:",r),await Eh(i,r)}}async function Eh(i,e,n){if(!Co(e))throw e;i.Ea.add(1),await uu(i),i.Ra.set("Offline"),n||(n=()=>qT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(ra,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Nh(i)}))}function $T(i,e){return e().catch((n=>Eh(i,n,e)))}async function Ph(i){const e=Ve(i),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;CD(e);)try{const o=await rD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,wD(e,o)}catch(o){await Eh(e,o)}ZT(e)&&XT(e)}function CD(i){return fa(i)&&i.Ta.length<10}function wD(i,e){i.Ta.push(e);const n=Cr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function ZT(i){return fa(i)&&!Cr(i).x_()&&i.Ta.length>0}function XT(i){Cr(i).start()}async function AD(i){Cr(i).ra()}async function LD(i){const e=Cr(i);for(const n of i.Ta)e.ea(n.mutations)}async function RD(i,e,n){const r=i.Ta.shift(),o=eg.from(r,e,n);await $T(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ph(i)}async function MD(i,e){e&&Cr(i).X_&&await(async function(r,o){if((function(h){return c2(h)&&h!==oe.ABORTED})(o.code)){const u=r.Ta.shift();Cr(r).B_(),await $T(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ph(r)}})(i,e),ZT(i)&&XT(i)}async function Cb(i,e){const n=Ve(i);n.asyncQueue.verifyOperationInProgress(),ge(ra,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await uu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nh(n)}async function DD(i,e){const n=Ve(i);e?(n.Ea.delete(2),await Nh(n)):e||(n.Ea.add(2),await uu(n),n.Ra.set("Unknown"))}function Ao(i){return i.ma||(i.ma=(function(n,r,o){const u=Ve(n);return u.sa(),new pD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ED.bind(null,i),t_:bD.bind(null,i),r_:TD.bind(null,i),H_:SD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),cg(i)?ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),YT(i))}))),i.ma}function Cr(i){return i.fa||(i.fa=(function(n,r,o){const u=Ve(n);return u.sa(),new gD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:AD.bind(null,i),r_:MD.bind(null,i),ta:LD.bind(null,i),na:RD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ph(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(ra,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,p=new hg(e,n,h,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(i,e){if(Ls("AsyncQueue",`${e}: ${i}`),Co(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.ga=new Tt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vo{constructor(e,n,r,o,u,h,p,g,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new vo(e,n,oo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xD{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),u=o.queries;o.queries=Ab(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function Ab(){return new ca((i=>vT(i)),Mh)}async function ID(i,e){const n=Ve(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new OD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=fg(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&dg(n)}async function VD(i,e){const n=Ve(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ND(i,e){const n=Ve(i);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(r=!0);h.wa=o}}r&&dg(n)}function PD(i,e,n){const r=Ve(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function dg(i){i.Ca.forEach((e=>{e.next()}))}var Rp,Lb;(Lb=Rp||(Rp={})).Ma="default",Lb.Cache="cache";class kD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.key=e}}class JT{constructor(e){this.key=e}}class UD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=yT(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),D=Dh(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),U=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;S&&D?S.data.isEqual(D.data)?M!==U&&(r.track({type:3,doc:D}),V=!0):this.su(S,D)||(r.track({type:2,doc:D}),V=!0,(g&&this.eu(D,g)>0||m&&this.eu(D,m)<0)&&(p=!0)):!S&&D?(r.track({type:0,doc:D}),V=!0):S&&!D&&(r.track({type:1,doc:S}),V=!0,(g||m)&&(p=!0)),V&&(D?(h=h.add(D),u=U?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:h,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(D,M){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:V})}};return U(D)-U(M)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,h.length!==0||m?{snapshot:new vo(this.query,e.tu,u,h,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new JT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new WT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pg="SyncEngine";class zD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((p=>vT(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Le.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HD(i,e,n=!0){const r=rS(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await eS(r,e,n,!0),o}async function qD(i,e){const n=rS(i);await eS(n,e,!0,!1)}async function eS(i,e,n,r){const o=await aD(i.localStore,qi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await FD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&QT(i.remoteStore,o),p}async function FD(i,e,n,r,o){i.pu=(T,S,D)=>(async function(U,V,H,B){let te=V.view.ru(H);te.Cs&&(te=await _b(U.localStore,V.query,!1).then((({documents:L})=>V.view.ru(L,te))));const Y=B&&B.targetChanges.get(V.targetId),F=B&&B.targetMismatches.get(V.targetId)!=null,X=V.view.applyChanges(te,U.isPrimaryClient,Y,F);return Mb(U,V.targetId,X.au),X.snapshot})(i,T,S,D);const u=await _b(i.localStore,e,!0),h=new UD(e,u.Qs),p=h.ru(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),m=h.applyChanges(p,i.isPrimaryClient,g);Mb(i,n,m.au);const _=new zD(e,n,h);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),m.snapshot}async function GD(i,e,n){const r=Ve(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!Mh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&og(r.remoteStore,o.targetId),Mp(r,o.targetId)})).catch(So)):(Mp(r,o.targetId),await Ap(r.localStore,o.targetId,!0))}async function QD(i,e){const n=Ve(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),og(n.remoteStore,r.targetId))}async function KD(i,e,n){const r=eO(i);try{const o=await(function(h,p){const g=Ve(h),m=mt.now(),_=p.reduce(((D,M)=>D.add(M.key)),Ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let M=Rs(),U=Ke();return g.Ns.getEntries(D,_).next((V=>{M=V,M.forEach(((H,B)=>{B.isValidDocument()||(U=U.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,M))).next((V=>{T=V;const H=[];for(const B of p){const te=r2(B,T.get(B.key).overlayedDocument);te!=null&&H.push(new ha(B.key,te,lT(te.value.mapValue),Cs.exists(!0)))}return g.mutationQueue.addMutationBatch(D,m,H,p)})).next((V=>{S=V;const H=V.applyToLocalDocumentSet(T,U);return g.documentOverlayCache.saveOverlays(D,V.batchId,H)}))})).then((()=>({batchId:S.batchId,changes:ET(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let m=h.Vu[h.currentUser.toKey()];m||(m=new Tt(Qe)),m=m.insert(p,g),h.Vu[h.currentUser.toKey()]=m})(r,o.batchId,n),await cu(r,o.changes),await Ph(r.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function tS(i,e){const n=Ve(i);try{const r=await iD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?it(h.hu,14607):o.removedDocuments.size>0&&(it(h.hu,42227),h.hu=!1))})),await cu(n,r,e)}catch(r){await So(r)}}function Rb(i,e,n){const r=Ve(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ve(h);g.onlineState=p;let m=!1;g.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(p)&&(m=!0)})),m&&dg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YD(i,e,n){const r=Ve(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new Tt(Le.comparator);h=h.insert(u,mn.newNoDocument(u,xe.min()));const p=Ke().add(u),g=new Ih(xe.min(),new Map,new Tt(Qe),h,p);await tS(r,g),r.du=r.du.remove(u),r.Au.delete(e),gg(r)}else await Ap(r.localStore,e,!1).then((()=>Mp(r,e,n))).catch(So)}async function $D(i,e){const n=Ve(i),r=e.batch.batchId;try{const o=await nD(n.localStore,e);iS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,o)}catch(o){await So(o)}}async function ZD(i,e,n){const r=Ve(i);try{const o=await(function(h,p){const g=Ve(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return g.mutationQueue.lookupMutationBatch(m,p).next((T=>(it(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(m,T)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>g.localDocuments.getDocuments(m,_)))}))})(r.localStore,e);iS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,o)}catch(o){await So(o)}}function nS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function iS(i,e,n){const r=Ve(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||sS(i,r)}))}function sS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(og(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),gg(i))}function Mb(i,e,n){for(const r of n)r instanceof WT?(i.Ru.addReference(r.key,e),XD(i,r)):r instanceof JT?(ge(pg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||sS(i,r.key)):De(19791,{wu:r})}function XD(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ge(pg,"New document in limbo: "+n),i.Eu.add(r),gg(i))}function gg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Le(ft.fromString(e)),r=i.fu.next();i.Au.set(r,new BD(n)),i.du=i.du.insert(n,r),QT(i.remoteStore,new dr(qi(gT(n.path)),r,"TargetPurposeLimboResolution",Ah.ce))}}async function cu(i,e,n){const r=Ve(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const _=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(m){o.push(m);const _=rg.As(g.targetId,m);u.push(_)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,m){const _=Ve(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(m,(S=>le.forEach(S.Es,(D=>_.persistence.referenceDelegate.addReference(T,S.targetId,D))).next((()=>le.forEach(S.ds,(D=>_.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))))))}catch(T){if(!Co(T))throw T;ge(ag,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const D=_.Ms.get(S),M=D.snapshotVersion,U=D.withLastLimboFreeSnapshotVersion(M);_.Ms=_.Ms.insert(S,U)}}})(r.localStore,u))}async function WD(i,e){const n=Ve(i);if(!n.currentUser.isEqual(e)){ge(pg,"User change. New user:",e.toKey());const r=await HT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(oe.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ls)}}function JD(i,e){const n=Ve(i),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function rS(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.Pu.H_=ND.bind(null,e.eventManager),e.Pu.yu=PD.bind(null,e.eventManager),e}function eO(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZD.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tD(this.persistence,new W2,e.initialUser,this.serializer)}Cu(e){return new jT(sg.mi,this.serializer)}Du(e){return new lD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class tO extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new jT((r=>_h.mi(r,n)),this.serializer)}}class Dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await DD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xD})()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),r=(function(u){return new dD(u)})(e.databaseInfo);return(function(u,h,p,g){return new vD(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,p){return new _D(r,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rb(this.syncEngine,n,0)),(function(){return Tb.v()?new Tb:new uD})())}createSyncEngine(e,n){return(function(o,u,h,p,g,m,_){const T=new jD(o,u,h,p,g,m);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ge(ra,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class iO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ge(wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ge(wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ep(i,e){i.asyncQueue.verifyOperationInProgress(),ge(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await HT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Db(i,e){i.asyncQueue.verifyOperationInProgress();const n=await sO(i);ge(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Cb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Cb(e.remoteStore,o))),i._onlineComponents=e}async function sO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(wr,"Using user provided OfflineComponentProvider");try{await ep(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await ep(i,new bh)}}else ge(wr,"Using default OfflineComponentProvider"),await ep(i,new tO(void 0));return i._offlineComponents}async function aS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(wr,"Using user provided OnlineComponentProvider"),await Db(i,i._uninitializedComponentsProvider._online)):(ge(wr,"Using default OnlineComponentProvider"),await Db(i,new Dp))),i._onlineComponents}function rO(i){return aS(i).then((e=>e.syncEngine))}async function aO(i){const e=await aS(i),n=e.eventManager;return n.onListen=HD.bind(null,e.syncEngine),n.onUnlisten=GD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QD.bind(null,e.syncEngine),n}function oO(i,e,n={}){const r=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,m){const _=new nO({next:S=>{_.Nu(),h.enqueueAndForget((()=>VD(u,T))),S.fromCache&&g.source==="server"?m.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new kD(p,_,{includeMetadataChanges:!0,qa:!0});return ID(u,T)})(await aO(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firestore.googleapis.com",xb=!0;class Ib{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=xb}else this.host=e.host,this.ssl=e.ssl??xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ob.get(n);r&&(ge("ComponentProvider","Removing Datastore"),Ob.delete(n),r.terminate())})(this),Promise.resolve()}}function lO(i,e,n,r={}){i=fh(i,kh);const o=ru(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(M0(`https://${p}`),O0("Firestore",!0)),u.host!==lS&&u.host!==p&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!ch(g,h)&&(i._setSettings(g),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=gn.MOCK_USER;else{m=D0(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(T)}i._authCredentials=new uM(new Z0(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(au(n,Wt._jsonSchema))return new Wt(e,r||null,new Le(ft.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Ht("string",Wt._jsonSchemaVersion),referencePath:Ht("string")};class _r extends da{constructor(e,n,r){super(e,n,gT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Le(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function uS(i,e,...n){if(i=Ki(i),X0("collection","path",e),i instanceof kh){const r=ft.fromString(e,...n);return QE(r),new _r(i,null,r)}{if(!(i instanceof Wt||i instanceof _r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ft.fromString(e,...n));return QE(r),new _r(i.firestore,null,r)}}function uO(i,e,...n){if(i=Ki(i),arguments.length===1&&(e=Kp.newId()),X0("doc","path",e),i instanceof kh){const r=ft.fromString(e,...n);return GE(r),new Wt(i,null,new Le(r))}{if(!(i instanceof Wt||i instanceof _r))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ft.fromString(e,...n));return GE(r),new Wt(i.firestore,i instanceof _r?i.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="AsyncQueue";class Nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FT(this,"async_queue_retry"),this._c=()=>{const r=Jd();r&&ge(Vb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;ge(Vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",Pb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Pb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class mg extends kh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Nb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nb(e),this._firestoreClient=void 0,await e}}}function cO(i,e){const n=typeof i=="object"?i:B0(),r=typeof i=="string"?i:ph,o=P0(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=L0("firestore");u&&lO(o,...u)}return o}function cS(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hO(i),i._firestoreClient}function hO(i){const e=i._freezeSettings(),n=(function(o,u,h,p){return new MM(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,oS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new iO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(ln.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ht("string",si._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(au(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ht("string",vi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ht("string",Gi._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^__.*__$/;class dO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}function hS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:i})}}class _g{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hS(this.Ac)&&fO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(e)}Cc(e,n,r,o=!1){return new _g({Ac:e,methodName:n,Dc:r,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fS(i){const e=i._freezeSettings(),n=Vh(i._databaseId);return new pO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function gO(i,e,n,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);gS("Data must be an object, but it was:",h,r);const p=dS(r,h);let g,m;if(u.merge)g=new mi(h.fieldMask),m=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=vO(e,T,n);if(!h.contains(S))throw new pe(oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_O(_,S)||_.push(S)}g=new mi(_),m=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,m=h.fieldTransforms;return new dO(new ii(p),g,m)}class Eg extends yg{_toFieldTransform(e){return new t2(e.path,new Jl)}isEqual(e){return e instanceof Eg}}function mO(i,e,n,r=!1){return bg(n,i.Cc(r?4:3,e))}function bg(i,e){if(pS(i=Ki(i)))return gS("Unsupported field value:",e,i),dS(i,e);if(i instanceof yg)return(function(r,o){if(!hS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const p of r){let g=bg(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:yh(o.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:IT(o.serializer,r._byteString)};if(r instanceof Wt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Gi)return(function(h,p){return{mapValue:{fields:{[aT]:{stringValue:oT},[gh]:{arrayValue:{values:h.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jp(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${wh(r)}`)})(i,e)}function dS(i,e){const n={};return eT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(i,((r,o)=>{const u=bg(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function pS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof vi||i instanceof si||i instanceof Wt||i instanceof yg||i instanceof Gi)}function gS(i,e,n){if(!pS(n)||!W0(n)){const r=wh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function vO(i,e,n){if((e=Ki(e))instanceof vg)return e._internalPath;if(typeof e=="string")return mS(i,e);throw Th("Field path arguments must be of type string or ",i,!1,void 0,n)}const yO=new RegExp("[~\\*/\\[\\]]");function mS(i,e,n){if(e.search(yO)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vg(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Th(i,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new pe(oe.INVALID_ARGUMENT,p+i+g)}function _O(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EO extends vS{data(){return super.data()}}function Tg(i,e){return typeof e=="string"?mS(i,e):e instanceof vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class yS extends Sg{}function TO(i,e,...n){let r=[];e instanceof Sg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((g=>g instanceof wg)).length,p=u.filter((g=>g instanceof Cg)).length;if(h>1||h>0&&p>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Cg extends yS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=this._parse(e);return _S(e._query,n),new da(e.firestore,e.converter,Ep(e._query,n))}_parse(e){const n=fS(e.firestore);return(function(u,h,p,g,m,_,T){let S;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Ub(T,_);const M=[];for(const U of T)M.push(kb(g,u,U));S={arrayValue:{values:M}}}else S=kb(g,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Ub(T,_),S=mO(p,h,T,_==="in"||_==="not-in");return jt.create(m,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)_S(h,g),h=Ep(h,g)})(e._query,n),new da(e.firestore,e.converter,Ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends yS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,h)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function SO(i,e="asc"){const n=e,r=Tg("orderBy",i);return Ag._create(r,n)}function kb(i,e,n){if(typeof(n=Ki(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Le.isDocumentKey(r))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eb(i,new Le(r))}if(n instanceof Wt)return eb(i,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function Ub(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _S(i,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CO{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new vi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=br(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);it(zT(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),u=new Le(r.popFirst(5));return o.isEqual(n)||Ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends vS{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ht("string",lo._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Wc extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return p.type!==0&&(m=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:AO(p.type),doc:g,oldIndex:m,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ht("string",uo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class LO extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function RO(i){i=fh(i,da);const e=fh(i.firestore,mg),n=cS(e),r=new LO(e);return bO(i._query),oO(n,i._query).then((o=>new uo(e,r,i,o)))}function MO(i,e){const n=fh(i.firestore,mg),r=uO(i),o=wO(i.converter,e);return DO(n,[gO(fS(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then((()=>r))}function DO(i,e){return(function(r,o){const u=new yr;return r.asyncQueue.enqueueAndForget((async()=>KD(await rO(r),o,u))),u.promise})(cS(i),e)}function OO(){return new Eg("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(U0),Ql(new co("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),p=new mg(new cM(r.getProvider("auth-internal")),new dM(h,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(m.options.projectId,_)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),mr(jE,HE,e),mr(jE,HE,"esm2020")})();var xO="firebase",IO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(xO,IO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebasestorage.googleapis.com",bS="storageBucket",VO=120*1e3,NO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends la{constructor(e,n,r=0){super(tp(e),`Firebase Storage: ${n} (${tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function tp(i){return"storage/"+i}function Lg(){const i="An unknown error occurred, please check the error payload for server response.";return new Lt(At.UNKNOWN,i)}function PO(i){return new Lt(At.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function kO(i){return new Lt(At.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(At.UNAUTHENTICATED,i)}function zO(){return new Lt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BO(i){return new Lt(At.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function jO(){return new Lt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HO(){return new Lt(At.CANCELED,"User canceled the upload/download.")}function qO(i){return new Lt(At.INVALID_URL,"Invalid URL '"+i+"'.")}function FO(i){return new Lt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function GO(){return new Lt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bS+"' property when initializing the app?")}function QO(){return new Lt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KO(){return new Lt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YO(i){return new Lt(At.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Op(i){return new Lt(At.INVALID_ARGUMENT,i)}function TS(){return new Lt(At.APP_DELETED,"The Firebase app was deleted.")}function $O(i){return new Lt(At.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ql(i,e){return new Lt(At.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function xl(i){throw new Lt(At.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(r.path==="")return r;throw FO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${T}/${_}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},U=n===ES?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",H=new RegExp(`^https?://${U}/${o}/${V}`,"i"),te=[{regex:p,indices:g,postModify:u},{regex:D,indices:M,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<te.length;Y++){const F=te[Y],X=F.regex.exec(e);if(X){const L=X[F.indices.bucket];let A=X[F.indices.path];A||(A=""),r=new qn(L,A),F.postModify(r);break}}if(r==null)throw qO(e);return r}}class ZO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(i,e,n){let r=1,o=null,u=null,h=!1,p=0;function g(){return p===2}let m=!1;function _(...V){m||(m=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(D,g())},V)}function S(){u&&clearTimeout(u)}function D(V,...H){if(m){S();return}if(V){S(),_.call(null,V,...H);return}if(g()||h){S(),_.call(null,V,...H);return}r<64&&(r*=2);let te;p===1?(p=2,te=0):te=(r+Math.random())*1e3,T(te)}let M=!1;function U(V){M||(M=!0,S(),!m&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function WO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i){return i!==void 0}function ex(i){return typeof i=="object"&&!Array.isArray(i)}function Rg(i){return typeof i=="string"||i instanceof String}function zb(i){return Mg()&&i instanceof Blob}function Mg(){return typeof Blob<"u"}function Bb(i,e,n,r){if(r<e)throw Op(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw Op(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(i,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${i}`}function SS(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,o,u,h,p,g,m,_,T,S=!0,D=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===ia.NO_ERROR,g=u.getStatus();if(!p||tx(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ia.ABORT;r(!1,new Hc(!1,null,_));return}const m=this.successCodes_.indexOf(g)!==-1;r(!0,new Hc(m,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());JO(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=Lg();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?TS():HO();h(g)}else{const g=jO();h(g)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=XO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ix(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function sx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function ax(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function ox(i,e,n,r,o,u,h=!0,p=!1){const g=SS(i.urlParams),m=i.url+g,_=Object.assign({},i.headers);return rx(_,e),ix(_,n),sx(_,u),ax(_,r),new nx(m,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ux(...i){const e=lx();if(e!==void 0){const n=new e;for(let r=0;r<i.length;r++)n.append(i[r]);return n.getBlob()}else{if(Mg())return new Blob(i);throw new Lt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(i){if(typeof atob>"u")throw YO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class np{constructor(e,n){this.data=e,this.contentType=n||null}}function fx(i,e){switch(i){case Hi.RAW:return new np(CS(e));case Hi.BASE64:case Hi.BASE64URL:return new np(wS(i,e));case Hi.DATA_URL:return new np(px(e),gx(e))}throw Lg()}function CS(i){const e=[];for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=i.charCodeAt(++n);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dx(i){let e;try{e=decodeURIComponent(i)}catch{throw ql(Hi.DATA_URL,"Malformed data URL.")}return CS(e)}function wS(i,e){switch(i){case Hi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ql(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Hi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ql(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hx(e)}catch(o){throw o.message.includes("polyfill")?o:ql(i,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class AS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ql(Hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mx(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function px(i){const e=new AS(i);return e.base64?wS(Hi.BASE64,e.rest):dx(e.rest)}function gx(i){return new AS(i).contentType}function mx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){let r=0,o="";zb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(zb(this.data_)){const r=this.data_,o=cx(r,e,n);return o===null?null:new fr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fr(r,!0)}}static getBlob(...e){if(Mg()){const n=e.map(r=>r instanceof fr?r.data_:r);return new fr(ux.apply(null,n))}else{const n=e.map(h=>Rg(h)?fx(Hi.RAW,h).data:h.data_);let r=0;n.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(h=>{for(let p=0;p<h.length;p++)o[u++]=h[p]}),new fr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(i){let e;try{e=JSON.parse(i)}catch{return null}return ex(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function yx(i,e){const n=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?n:i+"/"+n}function RS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(i,e){return e}class En{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||_x}}let qc=null;function Ex(i){return!Rg(i)||i.length<2?i:RS(i)}function MS(){if(qc)return qc;const i=[];i.push(new En("bucket")),i.push(new En("generation")),i.push(new En("metageneration")),i.push(new En("name","fullPath",!0));function e(u,h){return Ex(h)}const n=new En("name");n.xform=e,i.push(n);function r(u,h){return h!==void 0?Number(h):h}const o=new En("size");return o.xform=r,i.push(o),i.push(new En("timeCreated")),i.push(new En("updated")),i.push(new En("md5Hash",null,!0)),i.push(new En("cacheControl",null,!0)),i.push(new En("contentDisposition",null,!0)),i.push(new En("contentEncoding",null,!0)),i.push(new En("contentLanguage",null,!0)),i.push(new En("contentType",null,!0)),i.push(new En("metadata","customMetadata",!0)),qc=i,qc}function bx(i,e){function n(){const r=i.bucket,o=i.fullPath,u=new qn(r,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Tx(i,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];r[h.local]=h.xform(r,e[h.server])}return bx(r,i),r}function DS(i,e,n){const r=LS(e);return r===null?null:Tx(i,r,n)}function Sx(i,e,n,r){const o=LS(e);if(o===null||!Rg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(m=>{const _=i.bucket,T=i.fullPath,S="/b/"+h(_)+"/o/"+h(T),D=Dg(S,n,r),M=SS({alt:"media",token:m});return D+M})[0]}function Cx(i,e){const n={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class OS{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(i){if(!i)throw Lg()}function wx(i,e){function n(r,o){const u=DS(i,o,e);return xS(u!==null),u}return n}function Ax(i,e){function n(r,o){const u=DS(i,o,e);return xS(u!==null),Sx(u,o,i.host,i._protocol)}return n}function IS(i){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=zO():o=UO():n.getStatus()===402?o=kO(i.bucket):n.getStatus()===403?o=BO(i.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Lx(i){const e=IS(i);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=PO(i.path)),u.serverResponse=o.serverResponse,u}return n}function Rx(i,e,n){const r=e.fullServerUrl(),o=Dg(r,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,p=new OS(o,u,Ax(i,n),h);return p.errorHandler=Lx(e),p}function Mx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Dx(i,e,n){const r=Object.assign({},n);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=Mx(null,e)),r}function Ox(i,e,n,r,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let te="";for(let Y=0;Y<2;Y++)te=te+Math.random().toString().slice(2);return te}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const m=Dx(e,r,o),_=Cx(m,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+m.contentType+`\r
\r
`,S=`\r
--`+g+"--",D=fr.getBlob(T,r,S);if(D===null)throw QO();const M={name:m.fullPath},U=Dg(u,i.host,i._protocol),V="POST",H=i.maxUploadRetryTime,B=new OS(U,V,wx(i,n),H);return B.urlParams=M,B.headers=h,B.body=D.uploadData(),B.errorHandler=IS(e),B}class xx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw xl("cannot .send() more than once");if(ru(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ix extends xx{initXhr(){this.xhr_.responseType="text"}}function VS(){return new Ix}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new aa(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RS(this._location.path)}get storage(){return this._service}get parent(){const e=vx(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $O(e)}}function Vx(i,e,n){i._throwIfRoot("uploadBytes");const r=Ox(i.storage,i._location,MS(),new fr(e,!0),n);return i.storage.makeRequestWithTokens(r,VS).then(o=>({metadata:o,ref:i}))}function Nx(i){i._throwIfRoot("getDownloadURL");const e=Rx(i.storage,i._location,MS());return i.storage.makeRequestWithTokens(e,VS).then(n=>{if(n===null)throw KO();return n})}function Px(i,e){const n=yx(i._location.path,e),r=new qn(i._location.bucket,n);return new aa(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){return/^[A-Za-z]+:\/\//.test(i)}function Ux(i,e){return new aa(i,e)}function NS(i,e){if(i instanceof Og){const n=i;if(n._bucket==null)throw GO();const r=new aa(n,n._bucket);return e!=null?NS(r,e):r}else return e!==void 0?Px(i,e):i}function zx(i,e){if(e&&kx(e)){if(i instanceof Og)return Ux(i,e);throw Op("To use ref(service, url), the first argument must be a Storage instance.")}else return NS(i,e)}function jb(i,e){const n=e?.[bS];return n==null?null:qn.makeFromBucketSpec(n,i)}function Bx(i,e,n,r={}){i.host=`${e}:${n}`;const o=ru(e);o&&(M0(`https://${i.host}/b`),O0("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:D0(u,i.app.options.projectId))}class Og{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ES,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VO,this._maxUploadRetryTime=NO,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=jb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=jb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(k0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new ZO(TS());{const h=ox(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Hb="@firebase/storage",qb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="storage";function jx(i,e,n){return i=Ki(i),Vx(i,e,n)}function Hx(i){return i=Ki(i),Nx(i)}function qx(i,e){return i=Ki(i),zx(i,e)}function Fx(i=B0(),e){i=Ki(i);const r=P0(i,PS).getImmediate({identifier:e}),o=L0("storage");return o&&Gx(r,...o),r}function Gx(i,e,n,r={}){Bx(i,e,n,r)}function Qx(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Og(n,r,o,e,U0)}function Kx(){Ql(new co(PS,Qx,"PUBLIC").setMultipleInstances(!0)),mr(Hb,qb,""),mr(Hb,qb,"esm2020")}Kx();const Yx={apiKey:"AIzaSyAr49Z1qFSxcD5d8N2TaMRv7j-_5lQ6Cq8",authDomain:"kizuki-8a65a.firebaseapp.com",databaseURL:void 0,projectId:"kizuki-8a65a",storageBucket:"kizuki-8a65a.firebasestorage.app",messagingSenderId:"118026654293",appId:"1:118026654293:web:16b1bdcf7555f8f72ffadc"},kS=z0(Yx),US=cO(kS),$x=Fx(kS),Zx={width:"100%",height:"90vh"},Xx={lat:35.681236,lng:139.767125};function Wx(){const[i,e]=y.useState([]),[n,r]=y.useState(null),[o,u]=y.useState(""),h=["","","","",""];y.useEffect(()=>{(async()=>{try{const m=TO(uS(US,"posts"),SO("createdAt","desc")),T=(await RO(m)).docs.map(S=>({id:S.id,...S.data()}));e(T)}catch(m){console.error(":",m)}})()},[]);const p=o===""?i:i.filter(g=>g.tag===o);return ce.jsxs("div",{style:{height:"100vh",width:"100%"},children:[ce.jsx("div",{style:{padding:"10px",textAlign:"center"},children:h.map(g=>ce.jsx("button",{onClick:()=>u(g),style:{margin:"5px",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:o===g?"#007bff":"#e0e0e0",color:o===g?"white":"black",fontWeight:o===g?"bold":"normal",transition:"0.2s"},children:g},g))}),ce.jsxs(u0,{mapContainerStyle:Zx,center:Xx,zoom:13,children:[p.map(g=>g.location&&ce.jsx(Bp,{position:{lat:g.location.lat,lng:g.location.lng},onClick:()=>r(g)},g.id)),n&&ce.jsx(b0,{position:{lat:n.location.lat,lng:n.location.lng},onCloseClick:()=>r(null),children:ce.jsxs("div",{style:{maxWidth:"200px"},children:[ce.jsx("h4",{style:{margin:0},children:n.tag}),ce.jsx("p",{style:{margin:"4px 0"},children:n.message}),n.imageUrl&&ce.jsx("img",{src:n.imageUrl,alt:"",style:{width:"100%",borderRadius:"8px",marginBottom:"4px"}}),n.riskLevel&&ce.jsxs("p",{style:{color:"red",fontWeight:"bold"},children:[" ",n.riskLevel]})]})})]})]})}const ip={message:`
`,imageUrl:"https://placehold.co/600x800/EFEFEF/AAAAAA?text=Post+Image",goodCount:15};function Jx(){const i=Vp(),[e,n]=y.useState(ip.goodCount),r=()=>{n(u=>u+1),console.log("Good+1 ()"),alert("Good")},o=()=>{i(-1)};return ce.jsxs("div",{className:"post-detail-container",children:[ce.jsxs("div",{className:"post-content",children:[ce.jsx("p",{className:"message-text",children:ip.message}),ce.jsx("img",{src:ip.imageUrl,alt:""})]}),ce.jsxs("div",{className:"button-area",children:[ce.jsxs("button",{onClick:r,className:"btn good-btn",children:["Good (",e,")"]}),ce.jsx("button",{onClick:o,className:"btn back-btn",children:""})]})]})}const eI={width:"100%",height:"400px"},tI={lat:35.681236,lng:139.767125};function nI({onClose:i,onSelectLocation:e}){const[n,r]=y.useState(null),[o,u]=y.useState(tI),[h,p]=y.useState(null),g=y.useRef(null),m=y.useCallback(function(U){r(U)},[]),_=y.useCallback(function(U){r(null)},[]),T=M=>{const U={lat:M.latLng.lat(),lng:M.latLng.lng()};p(U)},S=()=>{if(g.current!==null){const M=g.current.getPlace(),U={lat:M.geometry.location.lat(),lng:M.geometry.location.lng()};u(U),p(U),n.panTo(U),n.setZoom(15)}},D=()=>{h?e(h.lat,h.lng):alert("")};return ce.jsx("div",{className:"modal-backdrop",children:ce.jsxs("div",{className:"modal-content",children:[ce.jsx("h3",{children:""}),ce.jsx("p",{children:""}),ce.jsx(qp,{onLoad:M=>g.current=M,onPlaceChanged:S,children:ce.jsx("input",{type:"text",placeholder:"...",className:"map-search-input"})}),ce.jsx("div",{className:"map-wrapper",children:ce.jsx(u0,{mapContainerStyle:eI,center:o,zoom:12,onLoad:m,onUnmount:_,onClick:T,children:h&&ce.jsx(Bp,{position:h})})}),ce.jsxs("div",{className:"modal-actions",children:[ce.jsx("button",{onClick:D,className:"btn confirm-btn",disabled:!h,children:""}),ce.jsx("button",{onClick:i,className:"btn close-btn",children:""})]})]})})}function iI(){const[i,e]=y.useState(""),[n,r]=y.useState(""),[o,u]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(!1),[_,T]=y.useState(!1),[S,D]=y.useState(null),[M,U]=y.useState(!1),[V,H]=y.useState(""),B=Vp(),te=A=>{const C=A.target.files[0];C&&(p(C),u(URL.createObjectURL(C)))},Y=()=>{u(null),p(null),document.getElementById("imageUpload").value=""},F=A=>{const C=A.target.value;r(C),C!==""&&H("")},X=()=>{if(!navigator.geolocation){alert("");return}T(!0),navigator.geolocation.getCurrentPosition(A=>{const{latitude:C,longitude:I}=A.coords;D({lat:C,lng:I}),T(!1)},A=>{let C="";switch(A.code){case A.PERMISSION_DENIED:C="";break;case A.POSITION_UNAVAILABLE:C="";break;case A.TIMEOUT:C="";break}alert(C),console.error("Geolocation error: ",A),T(!1)})},L=async A=>{if(A.preventDefault(),!i||!n){alert("");return}if(n===""&&!V){alert("");return}if(!S){alert("");return}m(!0);try{let C="";if(h){const x=qx($x,`images/${h.name+Date.now()}`);await jx(x,h),C=await Hx(x)}const I={message:i,tag:n,imageUrl:C,createdAt:OO(),location:new vi(S.lat,S.lng),...V&&{riskLevel:V}};await MO(uS(US,"posts"),I),alert(""),B("/mapinfo")}catch(C){console.error(": ",C),alert(`
: ${C.message}`)}finally{m(!1)}};return ce.jsx("div",{className:"container",children:ce.jsxs("form",{onSubmit:L,children:[ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{htmlFor:"message",children:""}),ce.jsxs("div",{className:"message-box-container",children:[ce.jsx("textarea",{id:"message",name:"message",placeholder:"...",value:i,onChange:A=>e(A.target.value)}),ce.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:te}),ce.jsx("label",{htmlFor:"imageUpload",className:"btn image-btn",children:""})]}),o&&ce.jsxs("div",{id:"imagePreviewContainer",children:[ce.jsx("img",{src:o,alt:"Preview"}),ce.jsx("button",{type:"button",onClick:Y,className:"btn clear-btn",children:""})]})]}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{children:""}),ce.jsxs("div",{className:"location-buttons-container",children:[ce.jsx("button",{type:"button",className:"btn map-btn",onClick:()=>U(!0),children:""}),ce.jsx("button",{type:"button",className:"btn current-location-btn",onClick:X,disabled:_,children:_?"":""})]}),ce.jsx("input",{type:"text",id:"location",name:"location",readOnly:!0,value:S?`: ${S.lat.toFixed(5)}, : ${S.lng.toFixed(5)}`:""}),M&&ce.jsx(nI,{onClose:()=>U(!1),onSelectLocation:(A,C)=>{D({lat:A,lng:C}),U(!1)}})]}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{htmlFor:"tag",children:""}),ce.jsxs("select",{id:"tag",name:"tag",value:n,onChange:F,children:[ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""})]})]}),n===""&&ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{htmlFor:"riskLevel",children:""}),ce.jsxs("select",{id:"riskLevel",name:"riskLevel",value:V,onChange:A=>H(A.target.value),children:[ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""}),ce.jsx("option",{value:"",children:""})]})]}),ce.jsx("div",{className:"form-group",children:ce.jsx("button",{type:"submit",className:"btn submit-btn",disabled:g,children:g?"...":""})})]})})}function sI(){return ce.jsxs("div",{children:[ce.jsxs("nav",{style:{padding:"10px",backgroundColor:"#eee",marginBottom:"20px"},children:[ce.jsx("strong",{children:":"}),ce.jsx(Pl,{to:"/postform",style:{marginLeft:"15px"},children:""}),ce.jsx(Pl,{to:"/post/1",style:{marginLeft:"15px"},children:""}),ce.jsx(Pl,{to:"/mapinfo",style:{marginLeft:"15px"},children:""})]}),ce.jsxs(gw,{children:[ce.jsx(Fc,{path:"/postform",element:ce.jsx(iI,{})}),ce.jsx(Fc,{path:"/post/1",element:ce.jsx(Jx,{})}),ce.jsx(Fc,{path:"/mapinfo",element:ce.jsx(Wx,{})})]})]})}const rI=["maps","places"],aI=wC.createRoot(document.getElementById("root"));aI.render(ce.jsx(yC.StrictMode,{children:ce.jsx(g0,{googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc",libraries:rI,children:ce.jsx(Uw,{children:ce.jsx(sI,{})})})}));
