(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function d0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function p1(){if(by)return ml;by=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return ml.Fragment=e,ml.jsx=n,ml.jsxs=n,ml}var Sy;function g1(){return Sy||(Sy=1,pd.exports=p1()),pd.exports}var Me=g1(),gd={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function m1(){if(Ty)return De;Ty=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function Y(V,J,se){this.props=V,this.context=J,this.refs=P,this.updater=se||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=Y.prototype;function te(V,J,se){this.props=V,this.context=J,this.refs=P,this.updater=se||x}var Z=te.prototype=new j;Z.constructor=te,z(Z,Y.prototype),Z.isPureReactComponent=!0;var q=Array.isArray;function X(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(V,J,se){var ue=se.ref;return{$$typeof:s,type:V,key:J,ref:ue!==void 0?ue:null,props:se}}function I(V,J){return A(V.type,J,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return J[se]})}var M=/\/+/g;function de(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function Ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(X,X):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,J,se,ue,K){var me=typeof V;(me==="undefined"||me==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case s:case e:Se=!0;break;case E:return Se=V._init,G(Se(V._payload),J,se,ue,K)}}if(Se)return K=K(V),Se=ue===""?"."+de(V,0):ue,q(K)?(se="",Se!=null&&(se=Se.replace(M,"$&/")+"/"),G(K,J,se,"",function(Ce){return Ce})):K!=null&&(D(K)&&(K=I(K,se+(K.key==null||V&&V.key===K.key?"":(""+K.key).replace(M,"$&/")+"/")+Se)),J.push(K)),1;Se=0;var Te=ue===""?".":ue+":";if(q(V))for(var Oe=0;Oe<V.length;Oe++)ue=V[Oe],me=Te+de(ue,Oe),Se+=G(ue,J,se,me,K);else if(Oe=O(V),typeof Oe=="function")for(V=Oe.call(V),Oe=0;!(ue=V.next()).done;)ue=ue.value,me=Te+de(ue,Oe++),Se+=G(ue,J,se,me,K);else if(me==="object"){if(typeof V.then=="function")return G(Ee(V),J,se,ue,K);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Se}function le(V,J,se){if(V==null)return V;var ue=[],K=0;return G(V,ue,"","",function(me){return J.call(se,me,K++)}),ue}function he(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var _e=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ye={map:le,forEach:function(V,J,se){le(V,function(){J.apply(this,arguments)},se)},count:function(V){var J=0;return le(V,function(){J++}),J},toArray:function(V){return le(V,function(J){return J})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return De.Activity=S,De.Children=ye,De.Component=Y,De.Fragment=n,De.Profiler=o,De.PureComponent=te,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,De.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(V,J,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=z({},V.props),K=V.key;if(J!=null)for(me in J.key!==void 0&&(K=""+J.key),J)!R.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(ue[me]=J[me]);var me=arguments.length-2;if(me===1)ue.children=se;else if(1<me){for(var Se=Array(me),Te=0;Te<me;Te++)Se[Te]=arguments[Te+2];ue.children=Se}return A(V.type,K,ue)},De.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},De.createElement=function(V,J,se){var ue,K={},me=null;if(J!=null)for(ue in J.key!==void 0&&(me=""+J.key),J)R.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(K[ue]=J[ue]);var Se=arguments.length-2;if(Se===1)K.children=se;else if(1<Se){for(var Te=Array(Se),Oe=0;Oe<Se;Oe++)Te[Oe]=arguments[Oe+2];K.children=Te}if(V&&V.defaultProps)for(ue in Se=V.defaultProps,Se)K[ue]===void 0&&(K[ue]=Se[ue]);return A(V,me,K)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:p,render:V}},De.isValidElement=D,De.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:he}},De.memo=function(V,J){return{$$typeof:m,type:V,compare:J===void 0?null:J}},De.startTransition=function(V){var J=w.T,se={};w.T=se;try{var ue=V(),K=w.S;K!==null&&K(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(X,_e)}catch(me){_e(me)}finally{J!==null&&se.types!==null&&(J.types=se.types),w.T=J}},De.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},De.use=function(V){return w.H.use(V)},De.useActionState=function(V,J,se){return w.H.useActionState(V,J,se)},De.useCallback=function(V,J){return w.H.useCallback(V,J)},De.useContext=function(V){return w.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,J){return w.H.useDeferredValue(V,J)},De.useEffect=function(V,J){return w.H.useEffect(V,J)},De.useEffectEvent=function(V){return w.H.useEffectEvent(V)},De.useId=function(){return w.H.useId()},De.useImperativeHandle=function(V,J,se){return w.H.useImperativeHandle(V,J,se)},De.useInsertionEffect=function(V,J){return w.H.useInsertionEffect(V,J)},De.useLayoutEffect=function(V,J){return w.H.useLayoutEffect(V,J)},De.useMemo=function(V,J){return w.H.useMemo(V,J)},De.useOptimistic=function(V,J){return w.H.useOptimistic(V,J)},De.useReducer=function(V,J,se){return w.H.useReducer(V,J,se)},De.useRef=function(V){return w.H.useRef(V)},De.useState=function(V){return w.H.useState(V)},De.useSyncExternalStore=function(V,J,se){return w.H.useSyncExternalStore(V,J,se)},De.useTransition=function(){return w.H.useTransition()},De.version="19.2.0",De}var Cy;function gp(){return Cy||(Cy=1,gd.exports=m1()),gd.exports}var y=gp();const v1=d0(y);var md={exports:{}},vl={},vd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function y1(){return Ay||(Ay=1,(function(s){function e(G,le){var he=G.length;G.push(le);e:for(;0<he;){var _e=he-1>>>1,ye=G[_e];if(0<o(ye,le))G[_e]=le,G[he]=ye,he=_e;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var le=G[0],he=G.pop();if(he!==le){G[0]=he;e:for(var _e=0,ye=G.length,V=ye>>>1;_e<V;){var J=2*(_e+1)-1,se=G[J],ue=J+1,K=G[ue];if(0>o(se,he))ue<ye&&0>o(K,se)?(G[_e]=K,G[ue]=he,_e=ue):(G[_e]=se,G[J]=he,_e=J);else if(ue<ye&&0>o(K,he))G[_e]=K,G[ue]=he,_e=ue;else break e}}return le}function o(G,le){var he=G.sortIndex-le.sortIndex;return he!==0?he:G.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],m=[],E=1,S=null,T=3,O=!1,x=!1,z=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Z(G){for(var le=n(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=G)r(m),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(m)}}function q(G){if(z=!1,Z(G),!x)if(n(g)!==null)x=!0,X||(X=!0,k());else{var le=n(m);le!==null&&Ee(q,le.startTime-G)}}var X=!1,w=-1,R=5,A=-1;function I(){return P?!0:!(s.unstable_now()-A<R)}function D(){if(P=!1,X){var G=s.unstable_now();A=G;var le=!0;try{e:{x=!1,z&&(z=!1,j(w),w=-1),O=!0;var he=T;try{t:{for(Z(G),S=n(g);S!==null&&!(S.expirationTime>G&&I());){var _e=S.callback;if(typeof _e=="function"){S.callback=null,T=S.priorityLevel;var ye=_e(S.expirationTime<=G);if(G=s.unstable_now(),typeof ye=="function"){S.callback=ye,Z(G),le=!0;break t}S===n(g)&&r(g),Z(G)}else r(g);S=n(g)}if(S!==null)le=!0;else{var V=n(m);V!==null&&Ee(q,V.startTime-G),le=!1}}break e}finally{S=null,T=he,O=!1}le=void 0}}finally{le?k():X=!1}}}var k;if(typeof te=="function")k=function(){te(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,de=M.port2;M.port1.onmessage=D,k=function(){de.postMessage(null)}}else k=function(){Y(D,0)};function Ee(G,le){w=Y(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(G){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var he=T;T=le;try{return G()}finally{T=he}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=T;T=G;try{return le()}finally{T=he}},s.unstable_scheduleCallback=function(G,le,he){var _e=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,G){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=he+ye,G={id:E++,callback:le,priorityLevel:G,startTime:he,expirationTime:ye,sortIndex:-1},he>_e?(G.sortIndex=he,e(m,G),n(g)===null&&G===n(m)&&(z?(j(w),w=-1):z=!0,Ee(q,he-_e))):(G.sortIndex=ye,e(g,G),x||O||(x=!0,X||(X=!0,k()))),G},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(G){var le=T;return function(){var he=T;T=le;try{return G.apply(this,arguments)}finally{T=he}}}})(yd)),yd}var wy;function _1(){return wy||(wy=1,vd.exports=y1()),vd.exports}var _d={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function E1(){if(Ly)return un;Ly=1;var s=gp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:m,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(g,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,E)},un.flushSync=function(g){var m=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=E,r.d.f()}},un.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},un.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},un.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var E=m.as,S=p(E,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:O}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},un.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},un.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,S=p(E,m.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},un.preloadModule=function(g,m){if(typeof g=="string")if(m){var E=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},un.requestFormReset=function(g){r.d.r(g)},un.unstable_batchedUpdates=function(g,m){return g(m)},un.useFormState=function(g,m,E){return f.H.useFormState(g,m,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.2.0",un}var Ry;function p0(){if(Ry)return _d.exports;Ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_d.exports=E1(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function b1(){if(My)return vl;My=1;var s=_1(),e=gp(),n=p0();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,C=h.child;C;){if(C===a){_=!0,a=h,l=d;break}if(C===l){_=!0,l=h,a=d;break}C=C.sibling}if(!_){for(C=d.child;C;){if(C===a){_=!0,a=d,l=h;break}if(C===l){_=!0,l=d,a=h;break}C=C.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case te:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case Z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:de(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return de(t(i))}catch{}}return null}var Ee=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],ye=-1;function V(t){return{current:t}}function J(t){0>ye||(t.current=_e[ye],_e[ye]=null,ye--)}function se(t,i){ye++,_e[ye]=t.current,t.current=i}var ue=V(null),K=V(null),me=V(null),Se=V(null);function Te(t,i){switch(se(me,i),se(K,t),se(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Gv(i),t=Fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),se(ue,t)}function Oe(){J(ue),J(K),J(me)}function Ce(t){t.memoizedState!==null&&se(Se,t);var i=ue.current,a=Fv(i,t.type);i!==a&&(se(K,t),se(ue,a))}function Ue(t){K.current===t&&(J(ue),J(K)),Se.current===t&&(J(Se),fl._currentValue=he)}var Gt,rn;function an(t){if(Gt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Gt=i&&i[1]||"",rn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+t+rn}var Ye=!1;function di(t,i){if(!t||Ye)return"";Ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var $=ee}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(ee){$=ee}t.call(ae.prototype)}}else{try{throw Error()}catch(ee){$=ee}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&$&&typeof ee.stack=="string")return[ee.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],C=d[1];if(_&&C){var N=_.split(`
`),Q=C.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===Q.length)for(l=N.length-1,h=Q.length-1;1<=l&&0<=h&&N[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==Q[h]){var ie=`
`+N[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=h);break}}}finally{Ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?an(a):""}function pi(t,i){switch(t.tag){case 26:case 27:case 5:return an(t.type);case 16:return an("Lazy");case 13:return t.child!==i&&i!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return di(t.type,!1);case 11:return di(t.type.render,!1);case 1:return di(t.type,!0);case 31:return an("Activity");default:return""}}function Ts(t){try{var i="",a=null;do i+=pi(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,wn=s.unstable_cancelCallback,ta=s.unstable_shouldYield,Fi=s.unstable_requestPaint,Ft=s.unstable_now,gi=s.unstable_getCurrentPriorityLevel,Cs=s.unstable_ImmediatePriority,mi=s.unstable_UserBlockingPriority,ei=s.unstable_NormalPriority,As=s.unstable_LowPriority,vr=s.unstable_IdlePriority,Qi=s.log,yr=s.unstable_setDisableYieldValue,on=null,Ot=null;function $t(t){if(typeof Qi=="function"&&yr(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(on,t)}catch{}}var pt=Math.clz32?Math.clz32:Zi,Yi=Math.log,Ki=Math.LN2;function Zi(t){return t>>>=0,t===0?32:31-(Yi(t)/Ki|0)|0}var Ln=256,vi=262144,_t=4194304;function pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?h=pn(l):(_&=C,_!==0?h=pn(_):a||(a=C&~t,a!==0&&(h=pn(a))))):(C=l&~d,C!==0?h=pn(C):_!==0?h=pn(_):a||(a=l&~t,a!==0&&(h=pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ln(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function na(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function Mn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Xi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ji(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,N=t.expirationTimes,Q=t.hiddenUpdates;for(a=_&~a;0<a;){var ie=31-pt(a),ae=1<<ie;C[ie]=0,N[ie]=-1;var $=Q[ie];if($!==null)for(Q[ie]=null,ie=0;ie<$.length;ie++){var ee=$[ie];ee!==null&&(ee.lane&=-536870913)}a&=~ae}l!==0&&Re(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Re(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function yo(t,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(t.suspendedLanes|i))!==0?0:a}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zl(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function ti(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ni=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ni,Qt="__reactProps$"+ni,yi="__reactContainer$"+ni,ia="__reactEvents$"+ni,_h="__reactListeners$"+ni,$l="__reactHandles$"+ni,Xl="__reactResources$"+ni,_i="__reactMarker$"+ni;function sa(t){delete t[Dt],delete t[Qt],delete t[ia],delete t[_h],delete t[$l]}function Ei(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Jv(t);t!==null;){if(a=t[Dt])return a;t=Jv(t)}return i}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Dt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function On(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function bi(t){var i=t[Xl];return i||(i=t[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[_i]=!0}var _o=new Set,Eo={};function Si(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Eo[t]=i,t=0;t<i.length;t++)_o.add(i[t])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},To={};function Jl(t){return ht.call(To,t)?!0:ht.call(So,t)?!1:bo.test(t)?To[t]=!0:(So[t]=!0,!1)}function ra(t,i,a){if(Jl(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Co(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=ws(t)?"checked":"value";t._valueTracker=Co(t,i,""+t[i])}}function Er(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function yn(t){return t.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function aa(t,i,a,l,h,d,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ao(t,_,Yt(i)):a!=null?Ao(t,_,Yt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Yt(C):t.removeAttribute("name")}function Wl(t,i,a,l,h,d,_,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){it(t);return}a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,C||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function Ao(t,i,a){i==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ls(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function eu(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function Rs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ee(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||tu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&wo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&wo(t,d,i[d])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Ro=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ai=null;function Sr(t){var i=Bn(t);if(i&&(t=i.stateNode)){var a=t[Qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(r(90));aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Er(l)}break e;case"textarea":eu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ls(t,!!a.multiple,i,!1)}}}var ua=!1;function Ds(t,i,a){if(ua)return t(i,a);ua=!0;try{var l=t(i);return l}finally{if(ua=!1,(Os!==null||Ai!==null)&&(Zu(),Os&&(i=Os,t=Ai,Ai=Os=null,Sr(i),t)))for(i=0;i<t.length;i++)Sr(t[i])}}function si(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Hn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Tr=!1}var wi=null,Mo=null,Cr=null;function Oo(){if(Cr)return Cr;var t,i=Mo,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cr=h.slice(t,1<l?1-l:void 0)}function Ar(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function ri(){return!1}function Xt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?es:ri,this.isPropagationStopped=ri,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Xt(ts),xs=S({},ts,{view:0,detail:0}),Do=Xt(xs),Is,ca,Ri,ha=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Is=t.screenX-Ri.screenX,ca=t.screenY-Ri.screenY):ca=Is=0,Ri=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),xo=Xt(ha),wr=S({},ha,{dataTransfer:0}),iu=Xt(wr),su=S({},xs,{relatedTarget:0}),Lr=Xt(su),Io=S({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Xt(Io),fa=S({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),au=Xt(fa),ou=S({},ts,{data:0}),Mi=Xt(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function Vs(){return hu}var gn=S({},xs,{key:function(t){if(t.key){var i=lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fu=Xt(gn),du=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Xt(du),c=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Xt(c),b=S({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=Xt(b),H=S({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Xt(H),fe=S({},ts,{newState:0,oldState:0}),Ve=Xt(fe),At=[9,13,27,32],tt=Hn&&"CompositionEvent"in window,gt=null;Hn&&"documentMode"in document&&(gt=document.documentMode);var qn=Hn&&"TextEvent"in window&&!gt,Oi=Hn&&(!tt||gt&&8<gt&&11>=gt),ai=" ",oi=!1;function Rr(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function US(t,i){switch(t){case"compositionend":return da(i);case"keypress":return i.which!==32?null:(oi=!0,ai);case"textInput":return t=i.data,t===ai&&oi?null:t;default:return null}}function zS(t,i){if(pa)return t==="compositionend"||!tt&&Rr(t,i)?(t=Oo(),Cr=Mo=wi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oi&&i.locale!=="ko"?null:i.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!BS[t.type]:i==="textarea"}function ng(t,i,a,l){Os?Ai?Ai.push(l):Ai=[l]:Os=l,i=nc(i,"onChange"),0<i.length&&(a=new Li("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Vo=null,No=null;function jS(t){Uv(t,0)}function pu(t){var i=On(t);if(Er(i))return t}function ig(t,i){if(t==="change")return i}var sg=!1;if(Hn){var Eh;if(Hn){var bh="oninput"in document;if(!bh){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),bh=typeof rg.oninput=="function"}Eh=bh}else Eh=!1;sg=Eh&&(!document.documentMode||9<document.documentMode)}function ag(){Vo&&(Vo.detachEvent("onpropertychange",og),No=Vo=null)}function og(t){if(t.propertyName==="value"&&pu(No)){var i=[];ng(i,No,t,jn(t)),Ds(jS,i)}}function HS(t,i,a){t==="focusin"?(ag(),Vo=i,No=a,Vo.attachEvent("onpropertychange",og)):t==="focusout"&&ag()}function qS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(No)}function GS(t,i){if(t==="click")return pu(i)}function FS(t,i){if(t==="input"||t==="change")return pu(i)}function QS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:QS;function Po(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ht.call(i,h)||!xn(t[h],i[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var a=lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lg(a)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ci(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ci(t.document)}return i}function Sh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var YS=Hn&&"documentMode"in document&&11>=document.documentMode,ga=null,Th=null,ko=null,Ch=!1;function fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ch||ga==null||ga!==Ci(l)||(l=ga,"selectionStart"in l&&Sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Po(ko,l)||(ko=l,l=nc(Th,"onSelect"),0<l.length&&(i=new Li("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ga)))}function Mr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ma={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Ah={},dg={};Hn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Or(t){if(Ah[t])return Ah[t];if(!ma[t])return t;var i=ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return Ah[t]=i[a];return t}var pg=Or("animationend"),gg=Or("animationiteration"),mg=Or("animationstart"),KS=Or("transitionrun"),ZS=Or("transitionstart"),$S=Or("transitioncancel"),vg=Or("transitionend"),yg=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function li(t,i){yg.set(t,i),Si(i,[t])}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],va=0,Lh=0;function mu(){for(var t=va,i=Lh=va=0;i<t;){var a=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var h=Gn[i];Gn[i++]=null;var d=Gn[i];if(Gn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&_g(a,h,d)}}function vu(t,i,a,l){Gn[va++]=t,Gn[va++]=i,Gn[va++]=a,Gn[va++]=l,Lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rh(t,i,a,l){return vu(t,i,a,l),yu(t)}function Dr(t,i){return vu(t,null,null,i),yu(t)}function _g(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function yu(t){if(50<rl)throw rl=0,Uf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ya={};function XS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new XS(t,i,a,l)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function _u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Mh(t)&&(_=1);else if(typeof t=="string")_=n1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=In(31,a,i,h),t.elementType=A,t.lanes=d,t;case z:return xr(a.children,h,d,i);case P:_=8,h|=24;break;case Y:return t=In(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case q:return t=In(13,a,i,h),t.elementType=q,t.lanes=d,t;case X:return t=In(19,a,i,h),t.elementType=X,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case j:_=9;break e;case Z:_=11;break e;case w:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=In(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function xr(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function Oh(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function bg(t){var i=In(18,null,null,0);return i.stateNode=t,i}function Dh(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ts(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:Ts(i)}}var _a=[],Ea=0,Eu=null,Uo=0,Qn=[],Yn=0,Ns=null,Di=1,xi="";function ss(t,i){_a[Ea++]=Uo,_a[Ea++]=Eu,Eu=t,Uo=i}function Tg(t,i,a){Qn[Yn++]=Di,Qn[Yn++]=xi,Qn[Yn++]=Ns,Ns=t;var l=Di;t=xi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Di=1<<32-pt(i)+h|a<<h|l,xi=d+t}else Di=1<<d|a<<h|l,xi=t}function xh(t){t.return!==null&&(ss(t,1),Tg(t,1,0))}function Ih(t){for(;t===Eu;)Eu=_a[--Ea],_a[Ea]=null,Uo=_a[--Ea],_a[Ea]=null;for(;t===Ns;)Ns=Qn[--Yn],Qn[Yn]=null,xi=Qn[--Yn],Qn[Yn]=null,Di=Qn[--Yn],Qn[Yn]=null}function Cg(t,i){Qn[Yn++]=Di,Qn[Yn++]=xi,Qn[Yn++]=Ns,Di=i.id,xi=i.overflow,Ns=t}var Jt=null,ft=null,Fe=!1,Ps=null,Kn=!1,Vh=Error(r(519));function ks(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Fn(i,t)),Vh}function Ag(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[Qt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)je(ol[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Wl(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Rs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Hv(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||ks(t,!0)}function wg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function ba(t){if(t!==Jt)return!1;if(!Fe)return wg(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wf(t.type,t.memoizedProps)),a=!a),a&&ft&&ks(t),wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=Xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=Xv(t)}else i===27?(i=ft,Xs(t.type)?(t=sd,sd=null,ft=t):ft=i):ft=Jt?$n(t.stateNode.nextSibling):null;return!0}function Ir(){ft=Jt=null,Fe=!1}function Nh(){var t=Ps;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ps=null),t}function zo(t){Ps===null?Ps=[t]:Ps.push(t)}var Ph=V(null),Vr=null,rs=null;function Us(t,i,a){se(Ph,i._currentValue),i._currentValue=a}function as(t){t._currentValue=Ph.current,J(Ph)}function kh(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Uh(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=h;for(var N=0;N<i.length;N++)if(C.context===i[N]){d.lanes|=a,C=d.alternate,C!==null&&(C.lanes|=a),kh(d.return,a,t),l||(_=null);break e}d=C.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Sa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var C=h.type;xn(h.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&Uh(i,t,a,l),i.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Nr(t){Vr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Lg(Vr,t)}function Su(t,i){return Vr===null&&Nr(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rs===null){if(t===null)throw Error(r(308));rs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else rs=rs.next=i;return a}var JS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},WS=s.unstable_scheduleCallback,eT=s.unstable_NormalPriority,Vt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new JS,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&WS(eT,function(){t.controller.abort()})}var jo=null,Bh=0,Ta=0,Ca=null;function tT(t,i){if(jo===null){var a=jo=[];Bh=0,Ta=Gf(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bh++,i.then(Rg,Rg),i}function Rg(){if(--Bh===0&&jo!==null){Ca!==null&&(Ca.status="fulfilled");var t=jo;jo=null,Ta=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=G.S;G.S=function(t,i){fv=Ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tT(t,i),Mg!==null&&Mg(t,i)};var Pr=V(null);function jh(){var t=Pr.current;return t!==null?t:ct.pooledCache}function Tu(t,i){i===null?se(Pr,Pr.current):se(Pr,i.pool)}function Og(){var t=jh();return t===null?null:{parent:Vt._currentValue,pool:t}}var Aa=Error(r(460)),Hh=Error(r(474)),Cu=Error(r(542)),Au={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t}throw Ur=i,Aa}}function kr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Aa):a}}var Ur=null;function Ig(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function Vg(t){if(t===Aa||t===Cu)throw Error(r(483))}var wa=null,Ho=0;function wu(t){var i=Ho;return Ho+=1,wa===null&&(wa=[]),xg(wa,t,i)}function qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Lu(t,i){throw i.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ng(t){function i(B,U){if(t){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=is(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=67108866,U):F):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function C(B,U,F,re){return U===null||U.tag!==6?(U=Oh(F,B.mode,re),U.return=B,U):(U=h(U,F),U.return=B,U)}function N(B,U,F,re){var Ae=F.type;return Ae===z?ie(B,U,F.props.children,re,F.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&kr(Ae)===U.type)?(U=h(U,F.props),qo(U,F),U.return=B,U):(U=_u(F.type,F.key,F.props,null,B.mode,re),qo(U,F),U.return=B,U)}function Q(B,U,F,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=Dh(F,B.mode,re),U.return=B,U):(U=h(U,F.children||[]),U.return=B,U)}function ie(B,U,F,re,Ae){return U===null||U.tag!==7?(U=xr(F,B.mode,re,Ae),U.return=B,U):(U=h(U,F),U.return=B,U)}function ae(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Oh(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return F=_u(U.type,U.key,U.props,null,B.mode,F),qo(F,U),F.return=B,F;case x:return U=Dh(U,B.mode,F),U.return=B,U;case R:return U=kr(U),ae(B,U,F)}if(Ee(U)||k(U))return U=xr(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return ae(B,wu(U),F);if(U.$$typeof===te)return ae(B,Su(B,U),F);Lu(B,U)}return null}function $(B,U,F,re){var Ae=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ae!==null?null:C(B,U,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return F.key===Ae?N(B,U,F,re):null;case x:return F.key===Ae?Q(B,U,F,re):null;case R:return F=kr(F),$(B,U,F,re)}if(Ee(F)||k(F))return Ae!==null?null:ie(B,U,F,re,null);if(typeof F.then=="function")return $(B,U,wu(F),re);if(F.$$typeof===te)return $(B,U,Su(B,F),re);Lu(B,F)}return null}function ee(B,U,F,re,Ae){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(F)||null,C(U,B,""+re,Ae);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case O:return B=B.get(re.key===null?F:re.key)||null,N(U,B,re,Ae);case x:return B=B.get(re.key===null?F:re.key)||null,Q(U,B,re,Ae);case R:return re=kr(re),ee(B,U,F,re,Ae)}if(Ee(re)||k(re))return B=B.get(F)||null,ie(U,B,re,Ae,null);if(typeof re.then=="function")return ee(B,U,F,wu(re),Ae);if(re.$$typeof===te)return ee(B,U,F,Su(U,re),Ae);Lu(U,re)}return null}function ve(B,U,F,re){for(var Ae=null,Je=null,be=U,Pe=U=0,Ge=null;be!==null&&Pe<F.length;Pe++){be.index>Pe?(Ge=be,be=null):Ge=be.sibling;var We=$(B,be,F[Pe],re);if(We===null){be===null&&(be=Ge);break}t&&be&&We.alternate===null&&i(B,be),U=d(We,U,Pe),Je===null?Ae=We:Je.sibling=We,Je=We,be=Ge}if(Pe===F.length)return a(B,be),Fe&&ss(B,Pe),Ae;if(be===null){for(;Pe<F.length;Pe++)be=ae(B,F[Pe],re),be!==null&&(U=d(be,U,Pe),Je===null?Ae=be:Je.sibling=be,Je=be);return Fe&&ss(B,Pe),Ae}for(be=l(be);Pe<F.length;Pe++)Ge=ee(be,B,Pe,F[Pe],re),Ge!==null&&(t&&Ge.alternate!==null&&be.delete(Ge.key===null?Pe:Ge.key),U=d(Ge,U,Pe),Je===null?Ae=Ge:Je.sibling=Ge,Je=Ge);return t&&be.forEach(function(nr){return i(B,nr)}),Fe&&ss(B,Pe),Ae}function we(B,U,F,re){if(F==null)throw Error(r(151));for(var Ae=null,Je=null,be=U,Pe=U=0,Ge=null,We=F.next();be!==null&&!We.done;Pe++,We=F.next()){be.index>Pe?(Ge=be,be=null):Ge=be.sibling;var nr=$(B,be,We.value,re);if(nr===null){be===null&&(be=Ge);break}t&&be&&nr.alternate===null&&i(B,be),U=d(nr,U,Pe),Je===null?Ae=nr:Je.sibling=nr,Je=nr,be=Ge}if(We.done)return a(B,be),Fe&&ss(B,Pe),Ae;if(be===null){for(;!We.done;Pe++,We=F.next())We=ae(B,We.value,re),We!==null&&(U=d(We,U,Pe),Je===null?Ae=We:Je.sibling=We,Je=We);return Fe&&ss(B,Pe),Ae}for(be=l(be);!We.done;Pe++,We=F.next())We=ee(be,B,Pe,We.value,re),We!==null&&(t&&We.alternate!==null&&be.delete(We.key===null?Pe:We.key),U=d(We,U,Pe),Je===null?Ae=We:Je.sibling=We,Je=We);return t&&be.forEach(function(d1){return i(B,d1)}),Fe&&ss(B,Pe),Ae}function ut(B,U,F,re){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case O:e:{for(var Ae=F.key;U!==null;){if(U.key===Ae){if(Ae=F.type,Ae===z){if(U.tag===7){a(B,U.sibling),re=h(U,F.props.children),re.return=B,B=re;break e}}else if(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&kr(Ae)===U.type){a(B,U.sibling),re=h(U,F.props),qo(re,F),re.return=B,B=re;break e}a(B,U);break}else i(B,U);U=U.sibling}F.type===z?(re=xr(F.props.children,B.mode,re,F.key),re.return=B,B=re):(re=_u(F.type,F.key,F.props,null,B.mode,re),qo(re,F),re.return=B,B=re)}return _(B);case x:e:{for(Ae=F.key;U!==null;){if(U.key===Ae)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(B,U.sibling),re=h(U,F.children||[]),re.return=B,B=re;break e}else{a(B,U);break}else i(B,U);U=U.sibling}re=Dh(F,B.mode,re),re.return=B,B=re}return _(B);case R:return F=kr(F),ut(B,U,F,re)}if(Ee(F))return ve(B,U,F,re);if(k(F)){if(Ae=k(F),typeof Ae!="function")throw Error(r(150));return F=Ae.call(F),we(B,U,F,re)}if(typeof F.then=="function")return ut(B,U,wu(F),re);if(F.$$typeof===te)return ut(B,U,Su(B,F),re);Lu(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(B,U.sibling),re=h(U,F),re.return=B,B=re):(a(B,U),re=Oh(F,B.mode,re),re.return=B,B=re),_(B)):a(B,U)}return function(B,U,F,re){try{Ho=0;var Ae=ut(B,U,F,re);return wa=null,Ae}catch(be){if(be===Aa||be===Cu)throw be;var Je=In(29,be,null,B.mode);return Je.lanes=re,Je.return=B,Je}finally{}}}var zr=Ng(!0),Pg=Ng(!1),zs=!1;function qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=yu(t),_g(t,null,a),i}return vu(t,l,i,a),yu(t)}function Go(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vo(t,a)}}function Fh(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qh=!1;function Fo(){if(Qh){var t=Ca;if(t!==null)throw t}}function Qo(t,i,a,l){Qh=!1;var h=t.updateQueue;zs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var N=C,Q=N.next;N.next=null,_===null?d=Q:_.next=Q,_=N;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==_&&(C===null?ie.firstBaseUpdate=Q:C.next=Q,ie.lastBaseUpdate=N))}if(d!==null){var ae=h.baseState;_=0,ie=Q=N=null,C=d;do{var $=C.lane&-536870913,ee=$!==C.lane;if(ee?(qe&$)===$:(l&$)===$){$!==0&&$===Ta&&(Qh=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=t,we=C;$=i;var ut=a;switch(we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ae=ve.call(ut,ae,$);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,$=typeof ve=="function"?ve.call(ut,ae,$):ve,$==null)break e;ae=S({},ae,$);break e;case 2:zs=!0}}$=C.callback,$!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=h.callbacks,ee===null?h.callbacks=[$]:ee.push($))}else ee={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(Q=ie=ee,N=ae):ie=ie.next=ee,_|=$;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);ie===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=Q,h.lastBaseUpdate=ie,d===null&&(h.shared.lanes=0),Qs|=_,t.lanes=_,t.memoizedState=ae}}function kg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ug(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kg(a[t],i)}var La=V(null),Ru=V(0);function zg(t,i){t=gs,se(Ru,t),se(La,i),gs=t|i.baseLanes}function Yh(){se(Ru,gs),se(La,La.current)}function Kh(){gs=Ru.current,J(La),J(Ru)}var Vn=V(null),Zn=null;function Hs(t){var i=t.alternate;se(wt,wt.current&1),se(Vn,t),Zn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Zn=t)}function Zh(t){se(wt,wt.current),se(Vn,t),Zn===null&&(Zn=t)}function Bg(t){t.tag===22?(se(wt,wt.current),se(Vn,t),Zn===null&&(Zn=t)):qs()}function qs(){se(wt,wt.current),se(Vn,Vn.current)}function Nn(t){J(Vn),Zn===t&&(Zn=null),J(wt)}var wt=V(0);function Mu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nd(a)||id(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var os=0,Ne=null,ot=null,Nt=null,Ou=!1,Ra=!1,Br=!1,Du=0,Yo=0,Ma=null,iT=0;function Tt(){throw Error(r(321))}function $h(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Xh(t,i,a,l,h,d){return os=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Tm:df,Br=!1,d=a(l,h),Br=!1,Ra&&(d=Hg(i,a,l,h)),jg(t),d}function jg(t){G.H=$o;var i=ot!==null&&ot.next!==null;if(os=0,Nt=ot=Ne=null,Ou=!1,Yo=0,Ma=null,i)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&bu(t)&&(Pt=!0))}function Hg(t,i,a,l){Ne=t;var h=0;do{if(Ra&&(Ma=null),Yo=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Nt=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Cm,d=i(a,l)}while(Ra);return d}function sT(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Ko(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Jh(){var t=Du!==0;return Du=0,t}function Wh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ef(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}os=0,Nt=ot=Ne=null,Ra=!1,Yo=Du=0,Ma=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Lt(){if(ot===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=Nt===null?Ne.memoizedState:Nt.next;if(i!==null)Nt=i,ot=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var i=Yo;return Yo+=1,Ma===null&&(Ma=[]),t=xg(Ma,t,i),i=Ne,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Tm:df),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===te)return Wt(t)}throw Error(r(438,String(t)))}function tf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xu(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=I;return i.index++,a}function ls(t,i){return typeof i=="function"?i(t):i}function Vu(t){var i=Lt();return nf(i,ot,t)}function nf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var C=_=null,N=null,Q=i,ie=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(qe&ae)===ae:(os&ae)===ae){var $=Q.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Ta&&(ie=!0);else if((os&$)===$){Q=Q.next,$===Ta&&(ie=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(C=N=ae,_=d):N=N.next=ae,Ne.lanes|=$,Qs|=$;ae=Q.action,Br&&a(d,ae),d=Q.hasEagerState?Q.eagerState:a(d,ae)}else $={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(C=N=$,_=d):N=N.next=$,Ne.lanes|=ae,Qs|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(N===null?_=d:N.next=C,!xn(d,t.memoizedState)&&(Pt=!0,ie&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sf(t){var i=Lt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);xn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(t,i,a){var l=Ne,h=Lt(),d=Fe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!xn((ot||h).memoizedState,a);if(_&&(h.memoizedState=a,Pt=!0),h=h.queue,of(Qg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},Fg.bind(null,l,h,a,i),null),ct===null)throw Error(r(349));d||(os&127)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=xu(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Fg(t,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&Kg(t)}function Qg(t,i,a){return a(function(){Yg(i)&&Kg(t)})}function Yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function Kg(t){var i=Dr(t,2);i!==null&&Cn(i,t,2)}function rf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),Br){$t(!0);try{a()}finally{$t(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,nf(t,ot,typeof l=="function"?l:ls)}function rT(t,i,a,l,h){if(ku(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var C=a(h,l),N=G.S;N!==null&&N(_,C),Xg(t,i,C)}catch(Q){af(t,i,Q)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),Xg(t,i,d)}catch(Q){af(t,i,Q)}}function Xg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,i,l)},function(l){return af(t,i,l)}):Jg(t,i,a)}function Jg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$g(t,a)))}function af(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function em(t,i){return i}function tm(t,i){if(Fe){var a=ct.formState;if(a!==null){e:{var l=Ne;if(Fe){if(ft){t:{for(var h=ft,d=Kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=$n(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:i},a.queue=l,a=Em.bind(null,Ne,l),l.dispatch=a,l=rf(!1),d=ff.bind(null,Ne,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=rT.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function nm(t){var i=Lt();return im(i,ot,t)}function im(t,i,a){if(i=nf(t,i,em)[0],t=Vu(ls)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ko(i)}catch(_){throw _===Aa?Cu:_}else l=i;i=Lt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Oa(9,{destroy:void 0},aT.bind(null,h,a),null)),[l,d,t]}function aT(t,i){t.action=i}function sm(t){var i=Lt(),a=ot;if(a!==null)return im(i,a,t);Lt(),i=i.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=xu(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function rm(){return Lt().memoizedState}function Nu(t,i,a,l){var h=mn();Ne.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Pu(t,i,a,l){var h=Lt();l=l===void 0?null:l;var d=h.memoizedState.inst;ot!==null&&l!==null&&$h(l,ot.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(Ne.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function am(t,i){Nu(8390656,8,t,i)}function of(t,i){Pu(2048,8,t,i)}function oT(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=xu(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function om(t){var i=Lt().memoizedState;return oT({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function lm(t,i){return Pu(4,2,t,i)}function um(t,i){return Pu(4,4,t,i)}function cm(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hm(t,i,a){a=a!=null?a.concat([t]):null,Pu(4,4,cm.bind(null,i,t),a)}function lf(){}function fm(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$h(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function dm(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$h(i,l[1]))return l[0];if(l=t(),Br){$t(!0);try{t()}finally{$t(!1)}}return a.memoizedState=[l,i],l}function uf(t,i,a){return a===void 0||(os&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=pv(),Ne.lanes|=t,Qs|=t,a)}function pm(t,i,a,l){return xn(a,i)?a:La.current!==null?(t=uf(t,a,l),xn(t,i)||(Pt=!0),t):(os&42)===0||(os&1073741824)!==0&&(qe&261930)===0?(Pt=!0,t.memoizedState=a):(t=pv(),Ne.lanes|=t,Qs|=t,i)}function gm(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=G.T,C={};G.T=C,ff(t,!1,i,a);try{var N=h(),Q=G.S;if(Q!==null&&Q(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ie=nT(N,l);Zo(t,i,ie,Un(t))}else Zo(t,i,l,Un(t))}catch(ae){Zo(t,i,{then:function(){},status:"rejected",reason:ae},Un())}finally{le.p=d,_!==null&&C.types!==null&&(_.types=C.types),G.T=_}}function lT(){}function cf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=mm(t).queue;gm(t,h,i,he,a===null?lT:function(){return vm(t),a(l)})}function mm(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vm(t){var i=mm(t);i.next===null&&(i=t.alternate.memoizedState),Zo(t,i.next.queue,{},Un())}function hf(){return Wt(fl)}function ym(){return Lt().memoizedState}function _m(){return Lt().memoizedState}function uT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Un();t=Bs(a);var l=js(i,t,a);l!==null&&(Cn(l,i,a),Go(l,i,a)),i={cache:zh()},t.payload=i;return}i=i.return}}function cT(t,i,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ku(t)?bm(i,a):(a=Rh(t,i,a,l),a!==null&&(Cn(a,t,l),Sm(a,i,l)))}function Em(t,i,a){var l=Un();Zo(t,i,a,l)}function Zo(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(t))bm(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,C=d(_,a);if(h.hasEagerState=!0,h.eagerState=C,xn(C,_))return vu(t,i,h,0),ct===null&&mu(),!1}catch{}finally{}if(a=Rh(t,i,h,l),a!==null)return Cn(a,t,l),Sm(a,i,l),!0}return!1}function ff(t,i,a,l){if(l={lane:2,revertLane:Gf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(i)throw Error(r(479))}else i=Rh(t,a,l,2),i!==null&&Cn(i,t,2)}function ku(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function bm(t,i){Ra=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sm(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vo(t,a)}}var $o={readContext:Wt,use:Iu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};$o.useEffectEvent=Tt;var Tm={readContext:Wt,use:Iu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:am,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Nu(4194308,4,cm.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Nu(4194308,4,t,i)},useInsertionEffect:function(t,i){Nu(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if(Br){$t(!0);try{t()}finally{$t(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var h=a(i);if(Br){$t(!0);try{a(i)}finally{$t(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=rf(t);var i=t.queue,a=Em.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(t,i){var a=mn();return uf(a,t,i)},useTransition:function(){var t=rf(!1);return t=gm.bind(null,Ne,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=mn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ct===null)throw Error(r(349));(qe&127)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,am(Qg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,{destroy:void 0},Fg.bind(null,l,d,a,i),null),a},useId:function(){var t=mn(),i=ct.identifierPrefix;if(Fe){var a=xi,l=Di;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hf,useFormState:tm,useActionState:tm,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ff.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:tf,useCacheRefresh:function(){return mn().memoizedState=uT.bind(null,Ne)},useEffectEvent:function(t){var i=mn(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},df={readContext:Wt,use:Iu,useCallback:fm,useContext:Wt,useEffect:of,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:dm,useReducer:Vu,useRef:rm,useState:function(){return Vu(ls)},useDebugValue:lf,useDeferredValue:function(t,i){var a=Lt();return pm(a,ot.memoizedState,t,i)},useTransition:function(){var t=Vu(ls)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:qg,useId:ym,useHostTransitionStatus:hf,useFormState:nm,useActionState:nm,useOptimistic:function(t,i){var a=Lt();return Zg(a,ot,t,i)},useMemoCache:tf,useCacheRefresh:_m};df.useEffectEvent=om;var Cm={readContext:Wt,use:Iu,useCallback:fm,useContext:Wt,useEffect:of,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:dm,useReducer:sf,useRef:rm,useState:function(){return sf(ls)},useDebugValue:lf,useDeferredValue:function(t,i){var a=Lt();return ot===null?uf(a,t,i):pm(a,ot.memoizedState,t,i)},useTransition:function(){var t=sf(ls)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:qg,useId:ym,useHostTransitionStatus:hf,useFormState:sm,useActionState:sm,useOptimistic:function(t,i){var a=Lt();return ot!==null?Zg(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:tf,useCacheRefresh:_m};Cm.useEffectEvent=om;function pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Un(),h=Bs(l);h.payload=i,a!=null&&(h.callback=a),i=js(t,h,l),i!==null&&(Cn(i,t,l),Go(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Un(),h=Bs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=js(t,h,l),i!==null&&(Cn(i,t,l),Go(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Un(),l=Bs(a);l.tag=2,i!=null&&(l.callback=i),i=js(t,l,a),i!==null&&(Cn(i,t,a),Go(i,t,a))}};function Am(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Po(a,l)||!Po(h,d):!0}function wm(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gf.enqueueReplaceState(i,i.state,null)}function jr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Lm(t){gu(t)}function Rm(t){console.error(t)}function Mm(t){gu(t)}function Uu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Om(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(t,i,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Uu(t,i)},a}function Dm(t){return t=Bs(t),t.tag=3,t}function xm(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Om(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Om(i,a,l),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function hT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?$u():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Au?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),jf(t,l,h)),!1;case 22:return a.flags|=65536,l===Au?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),jf(t,l,h)),!1}throw Error(r(435,a.tag))}return jf(t,l,h),$u(),!1}if(Fe)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vh&&(t=Error(r(422),{cause:l}),zo(Fn(t,a)))):(l!==Vh&&(i=Error(r(423),{cause:l}),zo(Fn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,a),h=mf(t.stateNode,l,h),Fh(t,h),Ct!==4&&(Ct=2)),!1;var d=Error(r(520),{cause:l});if(d=Fn(d,a),sl===null?sl=[d]:sl.push(d),Ct!==4&&(Ct=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=mf(a.stateNode,l,t),Fh(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ys===null||!Ys.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dm(h),xm(h,t,a,l),Fh(a,h),!1}a=a.return}while(a!==null);return!1}var vf=Error(r(461)),Pt=!1;function en(t,i,a,l){i.child=t===null?Pg(i,null,a,l):zr(i,t.child,a,l)}function Im(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return Nr(i),l=Xh(t,i,a,_,d,h),C=Jh(),t!==null&&!Pt?(Wh(t,i,h),us(t,i,h)):(Fe&&C&&xh(i),i.flags|=1,en(t,i,l,h),i.child)}function Vm(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Nm(t,i,d,l,h)):(t=_u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Af(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(_,l)&&t.ref===i.ref)return us(t,i,h)}return i.flags|=1,t=is(d,l),t.ref=i.ref,t.return=i,i.child=t}function Nm(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Po(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Af(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,us(t,i,h)}return yf(t,i,a,l,h)}function Pm(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return km(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tu(i,d!==null?d.cachePool:null),d!==null?zg(i,d):Yh(),Bg(i);else return l=i.lanes=536870912,km(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tu(i,d.cachePool),zg(i,d),qs(),i.memoizedState=null):(t!==null&&Tu(i,null),Yh(),qs());return en(t,i,h,a),i.child}function Xo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function km(t,i,a,l,h){var d=jh();return d=d===null?null:{parent:Vt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tu(i,null),Yh(),Bg(i),t!==null&&Sa(t,i,l,!0),i.childLanes=h,null}function zu(t,i){return i=ju({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Um(t,i,a){return zr(i,t.child,null,a),t=zu(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function fT(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=zu(i,l),i.lanes=536870912,Xo(null,t);if(Zh(i),(t=ft)?(t=$v(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Di,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,Jt=i,ft=null)):t=null,t===null)throw ks(i);return i.lanes=536870912,null}return zu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Zh(i),h)if(i.flags&256)i.flags&=-257,i=Um(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Pt||Sa(t,i,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(l=ct,l!==null&&(_=yo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Dr(t,_),Cn(l,t,_),vf;$u(),i=Um(t,i,a)}else t=d.treeContext,ft=$n(_.nextSibling),Jt=i,Fe=!0,Ps=null,Kn=!1,t!==null&&Cg(i,t),i=zu(i,l),i.flags|=4096;return i}return t=is(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Bu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yf(t,i,a,l,h){return Nr(i),a=Xh(t,i,a,l,void 0,h),l=Jh(),t!==null&&!Pt?(Wh(t,i,h),us(t,i,h)):(Fe&&l&&xh(i),i.flags|=1,en(t,i,a,h),i.child)}function zm(t,i,a,l,h,d){return Nr(i),i.updateQueue=null,a=Hg(i,l,a,h),jg(t),l=Jh(),t!==null&&!Pt?(Wh(t,i,d),us(t,i,d)):(Fe&&l&&xh(i),i.flags|=1,en(t,i,a,d),i.child)}function Bm(t,i,a,l,h){if(Nr(i),i.stateNode===null){var d=ya,_=a.contextType;typeof _=="object"&&_!==null&&(d=Wt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qh(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Wt(_):ya,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gf.enqueueReplaceState(d,d.state,null),Qo(i,l,d,h),Fo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var C=i.memoizedProps,N=jr(a,C);d.props=N;var Q=d.context,ie=a.contextType;_=ya,typeof ie=="object"&&ie!==null&&(_=Wt(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||Q!==_)&&wm(i,d,l,_),zs=!1;var $=i.memoizedState;d.state=$,Qo(i,l,d,h),Fo(),Q=i.memoizedState,C||$!==Q||zs?(typeof ae=="function"&&(pf(i,a,ae,l),Q=i.memoizedState),(N=zs||Am(i,a,N,l,$,Q,_))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gh(t,i),_=i.memoizedProps,ie=jr(a,_),d.props=ie,ae=i.pendingProps,$=d.context,Q=a.contextType,N=ya,typeof Q=="object"&&Q!==null&&(N=Wt(Q)),C=a.getDerivedStateFromProps,(Q=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||$!==N)&&wm(i,d,l,N),zs=!1,$=i.memoizedState,d.state=$,Qo(i,l,d,h),Fo();var ee=i.memoizedState;_!==ae||$!==ee||zs||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof C=="function"&&(pf(i,a,C,l),ee=i.memoizedState),(ie=zs||Am(i,a,ie,l,$,ee,N)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ee,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ee,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ee),d.props=l,d.state=ee,d.context=N,l=ie):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Bu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=zr(i,t.child,null,h),i.child=zr(i,null,a,h)):en(t,i,a,h),i.memoizedState=d.state,t=i.child):t=us(t,i,h),t}function jm(t,i,a,l){return Ir(),i.flags|=256,en(t,i,a,l),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(t){return{baseLanes:t,cachePool:Og()}}function bf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Hm(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Hs(i):qs(),(t=ft)?(t=$v(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Di,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,Jt=i,ft=null)):t=null,t===null)throw ks(i);return id(t)?i.lanes=32:i.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(qs(),h=i.mode,C=ju({mode:"hidden",children:C},h),l=xr(l,h,a,null),C.return=i,l.return=i,C.sibling=l,i.child=C,l=i.child,l.memoizedState=Ef(a),l.childLanes=bf(t,_,a),i.memoizedState=_f,Xo(null,l)):(Hs(i),Sf(i,C))}var N=t.memoizedState;if(N!==null&&(C=N.dehydrated,C!==null)){if(d)i.flags&256?(Hs(i),i.flags&=-257,i=Tf(t,i,a)):i.memoizedState!==null?(qs(),i.child=t.child,i.flags|=128,i=null):(qs(),C=l.fallback,h=i.mode,l=ju({mode:"visible",children:l.children},h),C=xr(C,h,a,null),C.flags|=2,l.return=i,C.return=i,l.sibling=C,i.child=l,zr(i,t.child,null,a),l=i.child,l.memoizedState=Ef(a),l.childLanes=bf(t,_,a),i.memoizedState=_f,i=Xo(null,l));else if(Hs(i),id(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(r(419)),l.stack="",l.digest=_,zo({value:l,source:null,stack:null}),i=Tf(t,i,a)}else if(Pt||Sa(t,i,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=ct,_!==null&&(l=yo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Dr(t,l),Cn(_,t,l),vf;nd(C)||$u(),i=Tf(t,i,a)}else nd(C)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ft=$n(C.nextSibling),Jt=i,Fe=!0,Ps=null,Kn=!1,t!==null&&Cg(i,t),i=Sf(i,l.children),i.flags|=4096);return i}return h?(qs(),C=l.fallback,h=i.mode,N=t.child,Q=N.sibling,l=is(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Q!==null?C=is(Q,C):(C=xr(C,h,a,null),C.flags|=2),C.return=i,l.return=i,l.sibling=C,i.child=l,Xo(null,l),l=i.child,C=t.child.memoizedState,C===null?C=Ef(a):(h=C.cachePool,h!==null?(N=Vt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Og(),C={baseLanes:C.baseLanes|a,cachePool:h}),l.memoizedState=C,l.childLanes=bf(t,_,a),i.memoizedState=_f,Xo(t.child,l)):(Hs(i),a=t.child,t=a.sibling,a=is(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sf(t,i){return i=ju({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ju(t,i){return t=In(22,t,null,i),t.lanes=0,t}function Tf(t,i,a){return zr(i,t.child,null,a),t=Sf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qm(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kh(t.return,i,a)}function Cf(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Gm(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=wt.current,C=(_&2)!==0;if(C?(_=_&1|2,i.flags|=128):_&=1,se(wt,_),en(t,i,l,a),l=Fe?Uo:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qm(t,a,i);else if(t.tag===19)qm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Mu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Mu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cf(i,!0,a,null,d,l);break;case"together":Cf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function us(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Sa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=is(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=is(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Af(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function dT(t,i,a){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Us(i,Vt,t.memoizedState.cache),Ir();break;case 27:case 5:Ce(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zh(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hm(t,i,a):(Hs(i),t=us(t,i,a),t!==null?t.sibling:null);Hs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Sa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Gm(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),l)break;return null;case 22:return i.lanes=0,Pm(t,i,a,i.pendingProps);case 24:Us(i,Vt,t.memoizedState.cache)}return us(t,i,a)}function Fm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Af(t,a)&&(i.flags&128)===0)return Pt=!1,dT(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(i.flags&1048576)!==0&&Tg(i,Uo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=kr(i.elementType),i.type=t,typeof t=="function")Mh(t)?(l=jr(t,l),i.tag=1,i=Bm(null,i,t,l,a)):(i.tag=0,i=yf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Z){i.tag=11,i=Im(null,i,t,l,a);break e}else if(h===w){i.tag=14,i=Vm(null,i,t,l,a);break e}}throw i=de(t)||t,Error(r(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=jr(l,i.pendingProps),Bm(t,i,l,h,a);case 3:e:{if(Te(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Gh(t,i),Qo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Us(i,Vt,l),l!==d.cache&&Uh(i,[Vt],a,!0),Fo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=jm(t,i,l,a);break e}else if(l!==h){h=Fn(Error(r(424)),i),zo(h),i=jm(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=$n(t.firstChild),Jt=i,Fe=!0,Ps=null,Kn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),l===h){i=us(t,i,a);break e}en(t,i,l,a)}i=i.child}return i;case 26:return Bu(t,i),t===null?(a=ny(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=ic(me.current).createElement(a),l[Dt]=i,l[Qt]=t,tn(l,a,t),xt(l),i.stateNode=l):i.memoizedState=ny(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ce(i),t===null&&Fe&&(l=i.stateNode=Wv(i.type,i.pendingProps,me.current),Jt=i,Kn=!0,h=ft,Xs(i.type)?(sd=h,ft=$n(l.firstChild)):ft=h),en(t,i,i.pendingProps.children,a),Bu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=qT(l,i.type,i.pendingProps,Kn),l!==null?(i.stateNode=l,Jt=i,ft=$n(l.firstChild),Kn=!1,h=!0):h=!1),h||ks(i)),Ce(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wf(h,d)?l=null:_!==null&&Wf(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xh(t,i,sT,null,null,a),fl._currentValue=h),Bu(t,i),en(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=GT(a,i.pendingProps,Kn),a!==null?(i.stateNode=a,Jt=i,ft=null,t=!0):t=!1),t||ks(i)),null;case 13:return Hm(t,i,a);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zr(i,null,l,a):en(t,i,l,a),i.child;case 11:return Im(t,i,i.type,i.pendingProps,a);case 7:return en(t,i,i.pendingProps,a),i.child;case 8:return en(t,i,i.pendingProps.children,a),i.child;case 12:return en(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Us(i,i.type,l.value),en(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Nr(i),h=Wt(h),l=l(h),i.flags|=1,en(t,i,l,a),i.child;case 14:return Vm(t,i,i.type,i.pendingProps,a);case 15:return Nm(t,i,i.type,i.pendingProps,a);case 19:return Gm(t,i,a);case 31:return fT(t,i,a);case 22:return Pm(t,i,a,i.pendingProps);case 24:return Nr(i),l=Wt(Vt),t===null?(h=jh(),h===null&&(h=ct,d=zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qh(i),Us(i,Vt,h)):((t.lanes&a)!==0&&(Gh(t,i),Qo(i,null,null,a),Fo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Us(i,Vt,l)):(l=d.cache,Us(i,Vt,l),l!==h.cache&&Uh(i,[Vt],a,!0))),en(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function cs(t){t.flags|=4}function wf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw Ur=Au,Hh}else t.flags&=-16777217}function Qm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oy(i))if(yv())t.flags|=8192;else throw Ur=Au,Hh}function Hu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$i():536870912,t.lanes|=i,Va|=i)}function Jo(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pT(t,i,a){var l=i.pendingProps;switch(Ih(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),as(Vt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(i)?cs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nh())),dt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(cs(i),d!==null?(dt(i),Qm(i,d)):(dt(i),wf(i,h,null,l,a))):d?d!==t.memoizedState?(cs(i),dt(i),Qm(i,d)):(dt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(i),dt(i),wf(i,h,t,l,a)),null;case 27:if(Ue(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}t=ue.current,ba(i)?Ag(i):(t=Wv(h,l,a),i.stateNode=t,cs(i))}return dt(i),null;case 5:if(Ue(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(d=ue.current,ba(i))Ag(i);else{var _=ic(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Dt]=i,d[Qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cs(i)}}return dt(i),wf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=me.current,ba(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hv(t.nodeValue,a)),t||ks(i,!0)}else t=ic(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return dt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ba(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),t=!1}else a=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),dt(i),null);case 4:return Oe(),t===null&&Kf(i.stateNode.containerInfo),dt(i),null;case 10:return as(i.type),dt(i),null;case 19:if(J(wt),l=i.memoizedState,l===null)return dt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Jo(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Mu(t),d!==null){for(i.flags|=128,Jo(l,!1),t=d.updateQueue,i.updateQueue=t,Hu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Eg(a,t),a=a.sibling;return se(wt,wt.current&1|2),Fe&&ss(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ft()>Yu&&(i.flags|=128,h=!0,Jo(l,!1),i.lanes=4194304)}else{if(!h)if(t=Mu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Hu(i,t),Jo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return dt(i),null}else 2*Ft()-l.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,h=!0,Jo(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=wt.current,se(wt,h?a&1|2:a&1),Fe&&ss(i,l.treeForkCount),t):(dt(i),null);case 22:case 23:return Nn(i),Kh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),as(Vt),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function gT(t,i){switch(Ih(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return as(Vt),Oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(wt),null;case 4:return Oe(),null;case 10:return as(i.type),null;case 22:case 23:return Nn(i),Kh(),t!==null&&J(Pr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return as(Vt),null;case 25:return null;default:return null}}function Ym(t,i){switch(Ih(i),i.tag){case 3:as(Vt),Oe();break;case 26:case 27:case 5:Ue(i);break;case 4:Oe();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:J(wt);break;case 10:as(i.type);break;case 22:case 23:Nn(i),Kh(),t!==null&&J(Pr);break;case 24:as(Vt)}}function Wo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(C){rt(i,i.return,C)}}function Gs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,h=i;var N=a,Q=C;try{Q()}catch(ie){rt(h,N,ie)}}}l=l.next}while(l!==d)}}catch(ie){rt(i,i.return,ie)}}function Km(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ug(i,a)}catch(l){rt(t,t.return,l)}}}function Zm(t,i,a){a.props=jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,i,l)}}function el(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){rt(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,i,h)}else a.current=null}function $m(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function Lf(t,i,a){try{var l=t.stateNode;kT(l,t.type,a,i),l[Qt]=i}catch(h){rt(t,t.return,h)}}function Xm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(l!==4&&(l===27&&Xs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Mf(t,i,a),t=t.sibling;t!==null;)Mf(t,i,a),t=t.sibling}function qu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qu(t,i,a),t=t.sibling;t!==null;)qu(t,i,a),t=t.sibling}function Jm(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Dt]=t,i[Qt]=a}catch(d){rt(t,t.return,d)}}var hs=!1,kt=!1,Of=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function mT(t,i){if(t=t.containerInfo,Xf=cc,t=hg(t),Sh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,C=-1,N=-1,Q=0,ie=0,ae=t,$=null;t:for(;;){for(var ee;ae!==a||h!==0&&ae.nodeType!==3||(C=_+h),ae!==d||l!==0&&ae.nodeType!==3||(N=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)$=ae,ae=ee;for(;;){if(ae===t)break t;if($===a&&++Q===h&&(C=_),$===d&&++ie===l&&(N=_),(ee=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=ee}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:t,selectionRange:a},cc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=jr(a.type,h);t=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){rt(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)td(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function ev(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ds(t,a),l&4&&Wo(5,a);break;case 1:if(ds(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){rt(a,a.return,_)}else{var h=jr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(a,a.return,_)}}l&64&&Km(a),l&512&&el(a,a.return);break;case 3:if(ds(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(t,i)}catch(_){rt(a,a.return,_)}}break;case 27:i===null&&l&4&&Jm(a);case 26:case 5:ds(t,a),i===null&&l&4&&$m(a),l&512&&el(a,a.return);break;case 12:ds(t,a);break;case 31:ds(t,a),l&4&&iv(t,a);break;case 13:ds(t,a),l&4&&sv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AT.bind(null,a),FT(t,a))));break;case 22:if(l=a.memoizedState!==null||hs,!l){i=i!==null&&i.memoizedState!==null||kt,h=hs;var d=kt;hs=l,(kt=i)&&!d?ps(t,a,(a.subtreeFlags&8772)!==0):ds(t,a),hs=h,kt=d}break;case 30:break;default:ds(t,a)}}function tv(t){var i=t.alternate;i!==null&&(t.alternate=null,tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,En=!1;function fs(t,i,a){for(a=a.child;a!==null;)nv(t,i,a),a=a.sibling}function nv(t,i,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(on,a)}catch{}switch(a.tag){case 26:kt||Ii(a,i),fs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||Ii(a,i);var l=mt,h=En;Xs(a.type)&&(mt=a.stateNode,En=!1),fs(t,i,a),ul(a.stateNode),mt=l,En=h;break;case 5:kt||Ii(a,i);case 6:if(l=mt,h=En,mt=null,fs(t,i,a),mt=l,En=h,mt!==null)if(En)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){rt(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){rt(a,i,d)}break;case 18:mt!==null&&(En?(t=mt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):Kv(mt,a.stateNode));break;case 4:l=mt,h=En,mt=a.stateNode.containerInfo,En=!0,fs(t,i,a),mt=l,En=h;break;case 0:case 11:case 14:case 15:Gs(2,a,i),kt||Gs(4,a,i),fs(t,i,a);break;case 1:kt||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zm(a,i,l)),fs(t,i,a);break;case 21:fs(t,i,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,fs(t,i,a),kt=l;break;default:fs(t,i,a)}}function iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){rt(i,i.return,a)}}}function sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){rt(i,i.return,a)}}function vT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Wm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Wm),i;default:throw Error(r(435,t.tag))}}function Gu(t,i){var a=vT(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=wT.bind(null,t,l);l.then(h,h)}})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(Xs(C.type)){mt=C.stateNode,En=!1;break e}break;case 5:mt=C.stateNode,En=!1;break e;case 3:case 4:mt=C.stateNode.containerInfo,En=!0;break e}C=C.return}if(mt===null)throw Error(r(160));nv(d,_,h),mt=null,En=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)rv(i,t),i=i.sibling}var ui=null;function rv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),Sn(t),l&4&&(Gs(3,t,t.return),Wo(3,t),Gs(5,t,t.return));break;case 1:bn(i,t),Sn(t),l&512&&(kt||a===null||Ii(a,a.return)),l&64&&hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ui;if(bn(i,t),Sn(t),l&512&&(kt||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Dt]=t,xt(d),l=d;break e;case"link":var _=ry("link","href",h).get(l+(a.href||""));if(_){for(var C=0;C<_.length;C++)if(d=_[C],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(C,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=ry("meta","content",h).get(l+(a.content||""))){for(C=0;C<_.length;C++)if(d=_[C],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(C,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Dt]=t,xt(d),l=d}t.stateNode=l}else ay(h,t.type,t.stateNode);else t.stateNode=sy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ay(h,t.type,t.stateNode):sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),Sn(t),l&512&&(kt||a===null||Ii(a,a.return)),a!==null&&l&4&&Lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),Sn(t),l&512&&(kt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ve){rt(t,t.return,ve)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Lf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Of=!0);break;case 6:if(bn(i,t),Sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){rt(t,t.return,ve)}}break;case 3:if(ac=null,h=ui,ui=sc(i.containerInfo),bn(i,t),ui=h,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(ve){rt(t,t.return,ve)}Of&&(Of=!1,av(t));break;case 4:l=ui,ui=sc(t.stateNode.containerInfo),bn(i,t),Sn(t),ui=l;break;case 12:bn(i,t),Sn(t);break;case 31:bn(i,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 13:bn(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qu=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,Q=hs,ie=kt;if(hs=Q||h,kt=ie||N,bn(i,t),kt=ie,hs=Q,Sn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||hs||kt||Hr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=N.stateNode;var ae=N.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ve){rt(N,N.return,ve)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ve){rt(N,N.return,ve)}}}else if(i.tag===18){if(a===null){N=i;try{var ee=N.stateNode;h?Zv(ee,!0):Zv(N.stateNode,!1)}catch(ve){rt(N,N.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gu(t,a))));break;case 19:bn(i,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 30:break;case 21:break;default:bn(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Xm(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Rf(t);qu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var C=Rf(t);qu(t,C,_);break;case 3:case 4:var N=a.stateNode.containerInfo,Q=Rf(t);Mf(t,Q,N);break;default:throw Error(r(161))}}catch(ie){rt(t,t.return,ie)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ds(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ev(t,i.alternate,i),i=i.sibling}function Hr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gs(4,i,i.return),Hr(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zm(i,i.return,a),Hr(i);break;case 27:ul(i.stateNode);case 26:case 5:Ii(i,i.return),Hr(i);break;case 22:i.memoizedState===null&&Hr(i);break;case 30:Hr(i);break;default:Hr(i)}t=t.sibling}}function ps(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ps(h,d,a),Wo(4,d);break;case 1:if(ps(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){rt(l,l.return,Q)}if(l=d,h=l.updateQueue,h!==null){var C=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)kg(N[h],C)}catch(Q){rt(l,l.return,Q)}}a&&_&64&&Km(d),el(d,d.return);break;case 27:Jm(d);case 26:case 5:ps(h,d,a),a&&l===null&&_&4&&$m(d),el(d,d.return);break;case 12:ps(h,d,a);break;case 31:ps(h,d,a),a&&_&4&&iv(h,d);break;case 13:ps(h,d,a),a&&_&4&&sv(h,d);break;case 22:d.memoizedState===null&&ps(h,d,a),el(d,d.return);break;case 30:break;default:ps(h,d,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bo(a))}function xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t))}function ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(t,i,a,l),i=i.sibling}function ov(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,l),h&2048&&Wo(9,i);break;case 1:ci(t,i,a,l);break;case 3:ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t)));break;case 12:if(h&2048){ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,C=d.onPostCommit;typeof C=="function"&&C(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){rt(i,i.return,N)}}else ci(t,i,a,l);break;case 31:ci(t,i,a,l);break;case 13:ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ci(t,i,a,l):tl(t,i):d._visibility&2?ci(t,i,a,l):(d._visibility|=2,Da(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Df(_,i);break;case 24:ci(t,i,a,l),h&2048&&xf(i.alternate,i);break;default:ci(t,i,a,l)}}function Da(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,C=a,N=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Da(d,_,C,N,h),Wo(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?Da(d,_,C,N,h):tl(d,_):(ie._visibility|=2,Da(d,_,C,N,h)),h&&Q&2048&&Df(_.alternate,_);break;case 24:Da(d,_,C,N,h),h&&Q&2048&&xf(_.alternate,_);break;default:Da(d,_,C,N,h)}i=i.sibling}}function tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:tl(a,l),h&2048&&Df(l.alternate,l);break;case 24:tl(a,l),h&2048&&xf(l.alternate,l);break;default:tl(a,l)}i=i.sibling}}var nl=8192;function xa(t,i,a){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)lv(t,i,a),t=t.sibling}function lv(t,i,a){switch(t.tag){case 26:xa(t,i,a),t.flags&nl&&t.memoizedState!==null&&i1(a,ui,t.memoizedState,t.memoizedProps);break;case 5:xa(t,i,a);break;case 3:case 4:var l=ui;ui=sc(t.stateNode.containerInfo),xa(t,i,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=nl,nl=16777216,xa(t,i,a),nl=l):xa(t,i,a));break;default:xa(t,i,a)}}function uv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,hv(l,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fu(t)):il(t);break;default:il(t)}}function Fu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,hv(l,t)}uv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gs(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(i));break;default:Fu(i)}t=t.sibling}}function hv(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(tv(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var yT={getCacheForType:function(t){var i=Wt(Vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Wt(Vt).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,nt=0,ct=null,Be=null,qe=0,st=0,Pn=null,Fs=!1,Ia=!1,If=!1,gs=0,Ct=0,Qs=0,qr=0,Vf=0,kn=0,Va=0,sl=null,Tn=null,Nf=!1,Qu=0,fv=0,Yu=1/0,Ku=null,Ys=null,jt=0,Ks=null,Na=null,ms=0,Pf=0,kf=null,dv=null,rl=0,Uf=null;function Un(){return(nt&2)!==0&&qe!==0?qe&-qe:G.T!==null?Gf():Zl()}function pv(){if(kn===0)if((qe&536870912)===0||Fe){var t=vi;vi<<=1,(vi&3932160)===0&&(vi=262144),kn=t}else kn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),kn}function Cn(t,i,a){(t===ct&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Zs(t,qe,kn,!1)),Xi(t,a),((nt&2)===0||t!==ct)&&(t===ct&&((nt&2)===0&&(qr|=a),Ct===4&&Zs(t,qe,kn,!1)),Vi(t))}function gv(t,i,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ln(t,i),h=l?ST(t,i):Bf(t,i,!0),d=l;do{if(h===0){Ia&&!l&&Zs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ET(a)){h=Bf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var C=t;h=sl;var N=C.current.memoizedState.isDehydrated;if(N&&(Pa(C,_).flags|=256),_=Bf(C,_,!1),_!==2){if(If&&!N){C.errorRecoveryDisabledLanes|=d,qr|=d,h=4;break e}d=Tn,Tn=h,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Pa(t,0),Zs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Zs(l,i,kn,!Fs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Qu+300-Ft(),10<h)){if(Zs(l,i,kn,!Fs),Rn(l,0,!0)!==0)break e;ms=i,l.timeoutHandle=Qv(mv.bind(null,l,a,Tn,Ku,Nf,i,kn,qr,Va,Fs,d,"Throttled",-0,0),h);break e}mv(l,a,Tn,Ku,Nf,i,kn,qr,Va,Fs,d,null,-0,0)}}break}while(!0);Vi(t)}function mv(t,i,a,l,h,d,_,C,N,Q,ie,ae,$,ee){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},lv(i,d,ae);var ve=(d&62914560)===d?Qu-Ft():(d&4194048)===d?fv-Ft():0;if(ve=s1(ae,ve),ve!==null){ms=d,t.cancelPendingCommit=ve(Cv.bind(null,t,i,d,a,l,h,_,C,N,ie,ae,null,$,ee)),Zs(t,d,_,!Q);return}}Cv(t,i,d,a,l,h,_,C,N)}function ET(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zs(t,i,a,l){i&=~Vf,i&=~qr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Re(t,a,i)}function Zu(){return(nt&6)===0?(al(0),!1):!0}function zf(){if(Be!==null){if(st===0)var t=Be.return;else t=Be,rs=Vr=null,ef(t),wa=null,Ho=0,t=Be;for(;t!==null;)Ym(t.alternate,t),t=t.return;Be=null}}function Pa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,zf(),ct=t,Be=a=is(t.current,null),qe=i,st=0,Pn=null,Fs=!1,Ia=ln(t,i),If=!1,Va=kn=Vf=qr=Qs=Ct=0,Tn=sl=null,Nf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return gs=i,mu(),a}function vv(t,i){Ne=null,G.H=$o,i===Aa||i===Cu?(i=Ig(),st=3):i===Hh?(i=Ig(),st=4):st=i===vf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Be===null&&(Ct=1,Uu(t,Fn(i,t.current)))}function yv(){var t=Vn.current;return t===null?!0:(qe&4194048)===qe?Zn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===Zn:!1}function _v(){var t=G.H;return G.H=$o,t===null?$o:t}function Ev(){var t=G.A;return G.A=yT,t}function $u(){Ct=4,Fs||(qe&4194048)!==qe&&Vn.current!==null||(Ia=!0),(Qs&134217727)===0&&(qr&134217727)===0||ct===null||Zs(ct,qe,kn,!1)}function Bf(t,i,a){var l=nt;nt|=2;var h=_v(),d=Ev();(ct!==t||qe!==i)&&(Ku=null,Pa(t,i)),i=!1;var _=Ct;e:do try{if(st!==0&&Be!==null){var C=Be,N=Pn;switch(st){case 8:zf(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var Q=st;if(st=0,Pn=null,ka(t,C,N,Q),a&&Ia){_=0;break e}break;default:Q=st,st=0,Pn=null,ka(t,C,N,Q)}}bT(),_=Ct;break}catch(ie){vv(t,ie)}while(!0);return i&&t.shellSuspendCounter++,rs=Vr=null,nt=l,G.H=h,G.A=d,Be===null&&(ct=null,qe=0,mu()),_}function bT(){for(;Be!==null;)bv(Be)}function ST(t,i){var a=nt;nt|=2;var l=_v(),h=Ev();ct!==t||qe!==i?(Ku=null,Yu=Ft()+500,Pa(t,i)):Ia=ln(t,i);e:do try{if(st!==0&&Be!==null){i=Be;var d=Pn;t:switch(st){case 1:st=0,Pn=null,ka(t,i,d,1);break;case 2:case 9:if(Dg(d)){st=0,Pn=null,Sv(i);break}i=function(){st!==2&&st!==9||ct!==t||(st=7),Vi(t)},d.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Dg(d)?(st=0,Pn=null,Sv(i)):(st=0,Pn=null,ka(t,i,d,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var C=Be;if(_?oy(_):C.stateNode.complete){st=0,Pn=null;var N=C.sibling;if(N!==null)Be=N;else{var Q=C.return;Q!==null?(Be=Q,Xu(Q)):Be=null}break t}}st=0,Pn=null,ka(t,i,d,5);break;case 6:st=0,Pn=null,ka(t,i,d,6);break;case 8:zf(),Ct=6;break e;default:throw Error(r(462))}}TT();break}catch(ie){vv(t,ie)}while(!0);return rs=Vr=null,G.H=l,G.A=h,nt=a,Be!==null?0:(ct=null,qe=0,mu(),Ct)}function TT(){for(;Be!==null&&!ta();)bv(Be)}function bv(t){var i=Fm(t.alternate,t,gs);t.memoizedProps=t.pendingProps,i===null?Xu(t):Be=i}function Sv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=zm(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=zm(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:ef(i);default:Ym(a,i),i=Be=Eg(i,gs),i=Fm(a,i,gs)}t.memoizedProps=t.pendingProps,i===null?Xu(t):Be=i}function ka(t,i,a,l){rs=Vr=null,ef(i),wa=null,Ho=0;var h=i.return;try{if(hT(t,h,i,a,qe)){Ct=1,Uu(t,Fn(a,t.current)),Be=null;return}}catch(d){if(h!==null)throw Be=h,d;Ct=1,Uu(t,Fn(a,t.current)),Be=null;return}i.flags&32768?(Fe||l===1?t=!0:Ia||(qe&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tv(i,t)):Xu(i)}function Xu(t){var i=t;do{if((i.flags&32768)!==0){Tv(i,Fs);return}t=i.return;var a=pT(i.alternate,i,gs);if(a!==null){Be=a;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=t}while(i!==null);Ct===0&&(Ct=5)}function Tv(t,i){do{var a=gT(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);Ct=6,Be=null}function Cv(t,i,a,l,h,d,_,C,N){t.cancelPendingCommit=null;do Ju();while(jt!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Lh,Ji(t,a,d,_,C,N),t===ct&&(Be=ct=null,qe=0),Na=i,Ks=t,ms=a,Pf=d,kf=h,dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LT(ei,function(){return Mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=le.p,le.p=2,_=nt,nt|=4;try{mT(t,i,a)}finally{nt=_,le.p=h,G.T=l}}jt=1,Av(),wv(),Lv()}}function Av(){if(jt===1){jt=0;var t=Ks,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{rv(i,t);var d=Jf,_=hg(t.containerInfo),C=d.focusedElem,N=d.selectionRange;if(_!==C&&C&&C.ownerDocument&&cg(C.ownerDocument.documentElement,C)){if(N!==null&&Sh(C)){var Q=N.start,ie=N.end;if(ie===void 0&&(ie=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(ie,C.value.length);else{var ae=C.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var ee=$.getSelection(),ve=C.textContent.length,we=Math.min(N.start,ve),ut=N.end===void 0?we:Math.min(N.end,ve);!ee.extend&&we>ut&&(_=ut,ut=we,we=_);var B=ug(C,we),U=ug(C,ut);if(B&&U&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==U.node||ee.focusOffset!==U.offset)){var F=ae.createRange();F.setStart(B.node,B.offset),ee.removeAllRanges(),we>ut?(ee.addRange(F),ee.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),ee.addRange(F))}}}}for(ae=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var re=ae[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}cc=!!Xf,Jf=Xf=null}finally{nt=h,le.p=l,G.T=a}}t.current=i,jt=2}}function wv(){if(jt===2){jt=0;var t=Ks,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{ev(t,i.alternate,i)}finally{nt=h,le.p=l,G.T=a}}jt=3}}function Lv(){if(jt===4||jt===3){jt=0,Fi();var t=Ks,i=Na,a=ms,l=dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Na=Ks=null,Rv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Wi(a),i=i.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(on,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=le.p,le.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var C=l[_];d(C.value,{componentStack:C.stack})}}finally{G.T=i,le.p=h}}(ms&3)!==0&&Ju(),Vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Uf?rl++:(rl=0,Uf=t):rl=0,al(0)}}function Rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bo(i)))}function Ju(){return Av(),wv(),Lv(),Mv()}function Mv(){if(jt!==5)return!1;var t=Ks,i=Pf;Pf=0;var a=Wi(ms),l=G.T,h=le.p;try{le.p=32>a?32:a,G.T=null,a=kf,kf=null;var d=Ks,_=ms;if(jt=0,Na=Ks=null,ms=0,(nt&6)!==0)throw Error(r(331));var C=nt;if(nt|=4,cv(d.current),ov(d,d.current,_,a),nt=C,al(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(on,d)}catch{}return!0}finally{le.p=h,G.T=l,Rv(t,i)}}function Ov(t,i,a){i=Fn(a,i),i=mf(t.stateNode,i,2),t=js(t,i,2),t!==null&&(Xi(t,2),Vi(t))}function rt(t,i,a){if(t.tag===3)Ov(t,t,a);else for(;i!==null;){if(i.tag===3){Ov(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Fn(a,t),a=Dm(2),l=js(i,a,2),l!==null&&(xm(a,l,i,t),Xi(l,2),Vi(l));break}}i=i.return}}function jf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _T;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(If=!0,h.add(a),t=CT.bind(null,t,i,a),i.then(t,t))}function CT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(qe&a)===a&&(Ct===4||Ct===3&&(qe&62914560)===qe&&300>Ft()-Qu?(nt&2)===0&&Pa(t,0):Vf|=a,Va===qe&&(Va=0)),Vi(t)}function Dv(t,i){i===0&&(i=$i()),t=Dr(t,i),t!==null&&(Xi(t,i),Vi(t))}function AT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Dv(t,a)}function wT(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Dv(t,a)}function LT(t,i){return St(t,i)}var Wu=null,Ua=null,Hf=!1,ec=!1,qf=!1,$s=0;function Vi(t){t!==Ua&&t.next===null&&(Ua===null?Wu=Ua=t:Ua=Ua.next=t),ec=!0,Hf||(Hf=!0,MT())}function al(t,i){if(!qf&&ec){qf=!0;do for(var a=!1,l=Wu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nv(l,d))}else d=qe,d=Rn(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ln(l,d)||(a=!0,Nv(l,d));l=l.next}while(a);qf=!1}}function RT(){xv()}function xv(){ec=Hf=!1;var t=0;$s!==0&&zT()&&(t=$s);for(var i=Ft(),a=null,l=Wu;l!==null;){var h=l.next,d=Iv(l,i);d===0?(l.next=null,a===null?Wu=h:a.next=h,h===null&&(Ua=a)):(a=l,(t!==0||(d&3)!==0)&&(ec=!0)),l=h}jt!==0&&jt!==5||al(t),$s!==0&&($s=0)}function Iv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),C=1<<_,N=h[_];N===-1?((C&a)===0||(C&l)!==0)&&(h[_]=na(C,i)):N<=i&&(t.expiredLanes|=C),d&=~C}if(i=ct,a=qe,a=Rn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ln(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&wn(l),Wi(a)){case 2:case 8:a=mi;break;case 32:a=ei;break;case 268435456:a=vr;break;default:a=ei}return l=Vv.bind(null,t),a=St(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ju()&&t.callbackNode!==a)return null;var l=qe;return l=Rn(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gv(t,l,i),Iv(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?Vv.bind(null,t):null)}function Nv(t,i){if(Ju())return null;gv(t,i,!0)}function MT(){jT(function(){(nt&6)!==0?St(Cs,RT):xv()})}function Gf(){if($s===0){var t=Ta;t===0&&(t=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),$s=t}return $s}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function kv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function OT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Pv((h[Qt]||null).action),_=l.submitter;_&&(i=(i=_[Qt]||null)?Pv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var C=new Li("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var N=_?kv(h,_):new FormData(h);cf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(C.preventDefault(),N=_?kv(h,_):new FormData(h),cf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ff=0;Ff<wh.length;Ff++){var Qf=wh[Ff],DT=Qf.toLowerCase(),xT=Qf[0].toUpperCase()+Qf.slice(1);li(DT,"on"+xT)}li(pg,"onAnimationEnd"),li(gg,"onAnimationIteration"),li(mg,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(KS,"onTransitionRun"),li(ZS,"onTransitionStart"),li($S,"onTransitionCancel"),li(vg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Uv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var C=l[_],N=C.instance,Q=C.currentTarget;if(C=C.listener,N!==d&&h.isPropagationStopped())break e;d=C,h.currentTarget=Q;try{d(h)}catch(ie){gu(ie)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(C=l[_],N=C.instance,Q=C.currentTarget,C=C.listener,N!==d&&h.isPropagationStopped())break e;d=C,h.currentTarget=Q;try{d(h)}catch(ie){gu(ie)}h.currentTarget=null,d=N}}}}function je(t,i){var a=i[ia];a===void 0&&(a=i[ia]=new Set);var l=t+"__bubble";a.has(l)||(zv(i,t,2,!1),a.add(l))}function Yf(t,i,a){var l=0;i&&(l|=4),zv(a,t,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[tc]){t[tc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||Yf(a,!1,t),Yf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[tc]||(i[tc]=!0,Yf("selectionchange",!1,i))}}function zv(t,i,a,l){switch(py(i)){case 2:var h=o1;break;case 8:h=l1;break;default:h=ud}a=h.bind(null,i,a,t),h=void 0,!Tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zf(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;C!==null;){if(_=Ei(C),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}C=C.parentNode}}l=l.return}Ds(function(){var Q=d,ie=jn(a),ae=[];e:{var $=yg.get(t);if($!==void 0){var ee=Li,ve=t;switch(t){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":ee=fu;break;case"focusin":ve="focus",ee=Lr;break;case"focusout":ve="blur",ee=Lr;break;case"beforeblur":case"afterblur":ee=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case pg:case gg:case mg:ee=ru;break;case vg:ee=L;break;case"scroll":case"scrollend":ee=Do;break;case"wheel":ee=W;break;case"copy":case"cut":case"paste":ee=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ns;break;case"toggle":case"beforetoggle":ee=Ve}var we=(i&4)!==0,ut=!we&&(t==="scroll"||t==="scrollend"),B=we?$!==null?$+"Capture":null:$;we=[];for(var U=Q,F;U!==null;){var re=U;if(F=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||F===null||B===null||(re=si(U,B),re!=null&&we.push(ll(U,re,F))),ut)break;U=U.return}0<we.length&&($=new ee($,ve,null,a,ie),ae.push({event:$,listeners:we}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",$&&a!==Ro&&(ve=a.relatedTarget||a.fromElement)&&(Ei(ve)||ve[yi]))break e;if((ee||$)&&($=ie.window===ie?ie:($=ie.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(ve=a.relatedTarget||a.toElement,ee=Q,ve=ve?Ei(ve):null,ve!==null&&(ut=u(ve),we=ve.tag,ve!==ut||we!==5&&we!==27&&we!==6)&&(ve=null)):(ee=null,ve=Q),ee!==ve)){if(we=xo,re="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=ns,re="onPointerLeave",B="onPointerEnter",U="pointer"),ut=ee==null?$:On(ee),F=ve==null?$:On(ve),$=new we(re,U+"leave",ee,a,ie),$.target=ut,$.relatedTarget=F,re=null,Ei(ie)===Q&&(we=new we(B,U+"enter",ve,a,ie),we.target=F,we.relatedTarget=ut,re=we),ut=re,ee&&ve)t:{for(we=VT,B=ee,U=ve,F=0,re=B;re;re=we(re))F++;re=0;for(var Ae=U;Ae;Ae=we(Ae))re++;for(;0<F-re;)B=we(B),F--;for(;0<re-F;)U=we(U),re--;for(;F--;){if(B===U||U!==null&&B===U.alternate){we=B;break t}B=we(B),U=we(U)}we=null}else we=null;ee!==null&&Bv(ae,$,ee,we,!1),ve!==null&&ut!==null&&Bv(ae,ut,ve,we,!0)}}e:{if($=Q?On(Q):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var Je=ig;else if(tg($))if(sg)Je=FS;else{Je=qS;var be=HS}else ee=$.nodeName,!ee||ee.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&oa(Q.elementType)&&(Je=ig):Je=GS;if(Je&&(Je=Je(t,Q))){ng(ae,Je,a,ie);break e}be&&be(t,$,Q),t==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&Ao($,"number",$.value)}switch(be=Q?On(Q):window,t){case"focusin":(tg(be)||be.contentEditable==="true")&&(ga=be,Th=Q,ko=null);break;case"focusout":ko=Th=ga=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,fg(ae,a,ie);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":fg(ae,a,ie)}var Pe;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else pa?Rr(t,a)&&(Ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Oi&&a.locale!=="ko"&&(pa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&pa&&(Pe=Oo()):(wi=ie,Mo="value"in wi?wi.value:wi.textContent,pa=!0)),be=nc(Q,Ge),0<be.length&&(Ge=new Mi(Ge,t,null,a,ie),ae.push({event:Ge,listeners:be}),Pe?Ge.data=Pe:(Pe=da(a),Pe!==null&&(Ge.data=Pe)))),(Pe=qn?US(t,a):zS(t,a))&&(Ge=nc(Q,"onBeforeInput"),0<Ge.length&&(be=new Mi("onBeforeInput","beforeinput",null,a,ie),ae.push({event:be,listeners:Ge}),be.data=Pe)),OT(ae,t,Q,a,ie)}Uv(ae,i)})}function ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=si(t,a),h!=null&&l.unshift(ll(t,h,d)),h=si(t,i),h!=null&&l.push(ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function VT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var C=a,N=C.alternate,Q=C.stateNode;if(C=C.tag,N!==null&&N===l)break;C!==5&&C!==26&&C!==27||Q===null||(N=Q,h?(Q=si(a,d),Q!=null&&_.unshift(ll(a,Q,N))):h||(Q=si(a,d),Q!=null&&_.push(ll(a,Q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var NT=/\r\n?/g,PT=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(NT,`
`).replace(PT,"")}function Hv(t,i){return i=jv(i),jv(t)===i}function lt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",h.name,h,null),lt(t,i,"formEncType",h.formEncType,h,null),lt(t,i,"formMethod",h.formMethod,h,null),lt(t,i,"formTarget",h.formTarget,h,null)):(lt(t,i,"encType",h.encType,h,null),lt(t,i,"method",h.method,h,null),lt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ra(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nu.get(a)||a,ra(t,a,l))}}function $f(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ra(t,a,l)}}}function tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,d,_,a,null)}}h&&lt(t,i,"srcSet",a.srcSet,a,null),l&&lt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var C=d=_=h=null,N=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":h=ie;break;case"type":_=ie;break;case"checked":N=ie;break;case"defaultChecked":Q=ie;break;case"value":d=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:lt(t,i,l,ie,a,null)}}Wl(t,d,C,N,Q,_,h,!1);return;case"select":je("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":d=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:lt(t,i,h,C,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ls(t,!!l,i,!1):a!=null&&Ls(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(C=a[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":h=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:lt(t,i,_,C,a,null)}Rs(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(t,i,N,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<ol.length;l++)je(ol[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,Q,l,a,null)}return;default:if(oa(i)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&$f(t,i,ie,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&lt(t,i,C,l,a,null))}function kT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,C=null,N=null,Q=null,ie=null;for(ee in a){var ae=a[ee];if(a.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":N=ae;default:l.hasOwnProperty(ee)||lt(t,i,ee,null,l,ae)}}for(var $ in l){var ee=l[$];if(ae=a[$],l.hasOwnProperty($)&&(ee!=null||ae!=null))switch($){case"type":d=ee;break;case"name":h=ee;break;case"checked":Q=ee;break;case"defaultChecked":ie=ee;break;case"value":_=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==ae&&lt(t,i,$,ee,l,ae)}}aa(t,_,C,N,Q,ie,d,h);return;case"select":ee=_=C=$=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":ee=N;default:l.hasOwnProperty(d)||lt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":$=d;break;case"defaultValue":C=d;break;case"multiple":_=d;default:d!==N&&lt(t,i,h,d,l,N)}i=C,a=_,l=ee,$!=null?Ls(t,!!a,$,!1):!!l!=!!a&&(i!=null?Ls(t,!!a,i,!0):Ls(t,!!a,a?[]:"",!1));return;case"textarea":ee=$=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:lt(t,i,C,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":$=h;break;case"defaultValue":ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&lt(t,i,_,h,l,d)}eu(t,$,ee);return;case"option":for(var ve in a)if($=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:lt(t,i,ve,null,l,$)}for(N in l)if($=l[N],ee=a[N],l.hasOwnProperty(N)&&$!==ee&&($!=null||ee!=null))switch(N){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:lt(t,i,N,$,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)$=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we)&&lt(t,i,we,null,l,$);for(Q in l)if($=l[Q],ee=a[Q],l.hasOwnProperty(Q)&&$!==ee&&($!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:lt(t,i,Q,$,l,ee)}return;default:if(oa(i)){for(var ut in a)$=a[ut],a.hasOwnProperty(ut)&&$!==void 0&&!l.hasOwnProperty(ut)&&$f(t,i,ut,void 0,l,$);for(ie in l)$=l[ie],ee=a[ie],!l.hasOwnProperty(ie)||$===ee||$===void 0&&ee===void 0||$f(t,i,ie,$,l,ee);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&lt(t,i,B,null,l,$);for(ae in l)$=l[ae],ee=a[ae],!l.hasOwnProperty(ae)||$===ee||$==null&&ee==null||lt(t,i,ae,$,l,ee)}function qv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,C=h.duration;if(d&&C&&qv(_)){for(_=0,C=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],Q=N.startTime;if(Q>C)break;var ie=N.transferSize,ae=N.initiatorType;ie&&qv(ae)&&(N=N.responseEnd,_+=ie*(N<C?1:(C-Q)/(N-Q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xf=null,Jf=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function Gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ed=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===ed?!1:(ed=t,!0):(ed=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(t){return Yv.resolve(null).then(t).catch(HT)}:Qv;function HT(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function Kv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ha(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ul(a);for(var d=a.firstChild;d;){var _=d.nextSibling,C=d.nodeName;d[_i]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ul(t.ownerDocument.body);a=h}while(a);Ha(i)}function Zv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function td(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":td(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function GT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function $v(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=$n(t.nextSibling),t===null))return null;return t}function nd(t){return t.data==="$?"||t.data==="$~"}function id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sd=null;function Xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return $n(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Jv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Wv(t,i,a){switch(i=ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sa(t)}var Xn=new Map,ey=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=le.d;le.d={f:QT,r:YT,D:KT,C:ZT,L:$T,m:XT,X:WT,S:JT,M:e1};function QT(){var t=vs.f(),i=Zu();return t||i}function YT(t){var i=Bn(t);i!==null&&i.tag===5&&i.type==="form"?vm(i):vs.r(t)}var za=typeof document>"u"?null:document;function ty(t,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=yn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ey.has(h)||(ey.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",t),xt(i),l.head.appendChild(i)))}}function KT(t){vs.D(t),ty("dns-prefetch",t,null)}function ZT(t,i){vs.C(t,i),ty("preconnect",t,i)}function $T(t,i,a){vs.L(t,i,a);var l=za;if(l&&t&&i){var h='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var d=h;switch(i){case"style":d=Ba(t);break;case"script":d=ja(t)}Xn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(cl(d))||i==="script"&&l.querySelector(hl(d))||(i=l.createElement("link"),tn(i,"link",t),xt(i),l.head.appendChild(i)))}}function XT(t,i){vs.m(t,i);var a=za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!Xn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(d)))return}l=a.createElement("link"),tn(l,"link",t),xt(l),a.head.appendChild(l)}}}function JT(t,i,a){vs.S(t,i,a);var l=za;if(l&&t){var h=bi(l).hoistableStyles,d=Ba(t);i=i||"default";var _=h.get(d);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(cl(d)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Xn.get(d))&&rd(t,a);var N=_=l.createElement("link");xt(N),tn(N,"link",t),N._p=new Promise(function(Q,ie){N.onload=Q,N.onerror=ie}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:C},h.set(d,_)}}}function WT(t,i){vs.X(t,i);var a=za;if(a&&t){var l=bi(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(hl(h)),d||(t=S({src:t,async:!0},i),(i=Xn.get(h))&&ad(t,i),d=a.createElement("script"),xt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function e1(t,i){vs.M(t,i);var a=za;if(a&&t){var l=bi(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(hl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Xn.get(h))&&ad(t,i),d=a.createElement("script"),xt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ny(t,i,a,l){var h=(h=me.current)?sc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=bi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=bi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||t1(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=bi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ba(t){return'href="'+yn(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function t1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),xt(i),t.head.appendChild(i))}function ja(t){return'[src="'+yn(t)+'"]'}function hl(t){return"script[async]"+t}function sy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),tn(l,"style",h),rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(cl(h));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=iy(a),(h=Xn.get(h))&&rd(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(C,N){_.onload=C,_.onerror=N}),tn(d,"link",l),i.state.loading|=4,rc(d,a.precedence,t),i.instance=d;case"script":return d=ja(a.src),(h=t.querySelector(hl(d)))?(i.instance=h,xt(h),h):(l=a,(h=Xn.get(d))&&(l=S({},a),ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),tn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rc(l,a.precedence,t));return i.instance}function rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===i)d=C;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ad(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ac=null;function ry(t,i,a){if(ac===null){var l=new Map,h=ac=new Map;h.set(a,l)}else h=ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var C=l.get(_);C?C.push(d):l.set(_,[d])}}return l}function ay(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function n1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(l.href),d=i.querySelector(cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=oc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=iy(l),(h=Xn.get(h))&&rd(l,h),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(C,N){_.onload=C,_.onerror=N}),tn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=oc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var od=0;function s1(t,i){return t.stylesheets&&t.count===0&&uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&uc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&od===0&&(od=62500*UT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>od?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function uc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,i.forEach(r1,t),lc=null,oc.call(t))}function r1(t,i){if(!(i.state.loading&4)){var a=lc.get(t);if(a)var l=a.get(null);else{a=new Map,lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var fl={$$typeof:te,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function a1(t,i,a,l,h,d,_,C,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ly(t,i,a,l,h,d,_,C,N,Q,ie,ae){return t=new a1(t,i,a,_,N,Q,ie,ae,C),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=zh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qh(d),t}function uy(t){return t?(t=ya,t):ya}function cy(t,i,a,l,h,d){h=uy(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(t,l,i),a!==null&&(Cn(a,t,i),Go(a,t,i))}function hy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ld(t,i){hy(t,i),(t=t.alternate)&&hy(t,i)}function fy(t){if(t.tag===13||t.tag===31){var i=Dr(t,67108864);i!==null&&Cn(i,t,67108864),ld(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var i=Un();i=_r(i);var a=Dr(t,i);a!==null&&Cn(a,t,i),ld(t,i)}}var cc=!0;function o1(t,i,a,l){var h=G.T;G.T=null;var d=le.p;try{le.p=2,ud(t,i,a,l)}finally{le.p=d,G.T=h}}function l1(t,i,a,l){var h=G.T;G.T=null;var d=le.p;try{le.p=8,ud(t,i,a,l)}finally{le.p=d,G.T=h}}function ud(t,i,a,l){if(cc){var h=cd(l);if(h===null)Zf(t,i,l,hc,a),gy(t,l);else if(c1(h,t,i,a,l))l.stopPropagation();else if(gy(t,l),i&4&&-1<u1.indexOf(t)){for(;h!==null;){var d=Bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pn(d.pendingLanes);if(_!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var N=1<<31-pt(_);C.entanglements[1]|=N,_&=~N}Vi(d),(nt&6)===0&&(Yu=Ft()+500,al(0))}}break;case 31:case 13:C=Dr(d,2),C!==null&&Cn(C,d,2),Zu(),ld(d,2)}if(d=cd(l),d===null&&Zf(t,i,l,hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zf(t,i,l,null,a)}}function cd(t){return t=jn(t),hd(t)}var hc=null;function hd(t){if(hc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hc=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case Cs:return 2;case mi:return 8;case ei:case As:return 32;case vr:return 268435456;default:return 32}default:return 32}}var fd=!1,Js=null,Ws=null,er=null,dl=new Map,pl=new Map,tr=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,i){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Bn(i),i!==null&&fy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function c1(t,i,a,l,h){switch(i){case"focusin":return Js=gl(Js,t,i,a,l,h),!0;case"dragenter":return Ws=gl(Ws,t,i,a,l,h),!0;case"mouseover":return er=gl(er,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,gl(dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,gl(pl.get(d)||null,t,i,a,l,h)),!0}return!1}function my(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ti(t.priority,function(){dy(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,ti(t.priority,function(){dy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ro=l,a.target.dispatchEvent(l),Ro=null}else return i=Bn(a),i!==null&&fy(i),t.blockedOn=a,!1;i.shift()}return!0}function vy(t,i,a){fc(t)&&a.delete(i)}function h1(){fd=!1,Js!==null&&fc(Js)&&(Js=null),Ws!==null&&fc(Ws)&&(Ws=null),er!==null&&fc(er)&&(er=null),dl.forEach(vy),pl.forEach(vy)}function dc(t,i){t.blockedOn===i&&(t.blockedOn=null,fd||(fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,h1)))}var pc=null;function yy(t){pc!==t&&(pc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hd(l||a)===null)continue;break}var d=Bn(a);d!==null&&(t.splice(i,3),i-=3,cf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ha(t){function i(N){return dc(N,t)}Js!==null&&dc(Js,t),Ws!==null&&dc(Ws,t),er!==null&&dc(er,t),dl.forEach(i),pl.forEach(i);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)my(a),a.blockedOn===null&&tr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Qt]||null;if(typeof d=="function")_||yy(a);else if(_){var C=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Qt]||null)C=_.formAction;else if(hd(h)!==null)continue}else C=_.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),yy(a)}}}function _y(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function dd(t){this._internalRoot=t}gc.prototype.render=dd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Un();cy(a,l,t,i,null,null)},gc.prototype.unmount=dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cy(t.current,2,null,t,null,null),Zu(),i[yi]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zl();t={blockedOn:null,target:t,priority:i};for(var a=0;a<tr.length&&i!==0&&i<tr[a].priority;a++);tr.splice(a,0,t),a===0&&my(t)}};var Ey=e.version;if(Ey!=="19.2.0")throw Error(r(527,Ey,"19.2.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var f1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{on=mc.inject(f1),Ot=mc}catch{}}return vl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Lm,d=Rm,_=Mm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=ly(t,1,!1,null,null,a,l,null,h,d,_,_y),t[yi]=i.current,Kf(t),new dd(i)},vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Lm,_=Rm,C=Mm,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=ly(t,1,!0,i,a??null,l,h,N,d,_,C,_y),i.context=uy(null),a=i.current,l=Un(),l=_r(l),h=Bs(l),h.callback=null,js(a,h,l),a=l,i.current.lanes=a,Xi(i,a),Vi(i),t[yi]=i.current,Kf(t),new gc(i)},vl.version="19.2.0",vl}var Oy;function S1(){if(Oy)return md.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),md.exports=b1(),md.exports}var T1=S1();const C1=d0(T1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dy="popstate";function A1(s={}){function e(r,o){let{pathname:u,search:f,hash:p}=r.location;return zd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:xl(o)}return L1(e,n,null,s)}function Et(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Bi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substring(2,10)}function xy(s,e){return{usr:s.state,key:s.key,idx:e}}function zd(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?oo(e):e,state:n,key:e&&e.key||r||w1()}}function xl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function oo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function L1(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,p="POP",g=null,m=E();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function E(){return(f.state||{idx:null}).idx}function S(){p="POP";let P=E(),Y=P==null?null:P-m;m=P,g&&g({action:p,location:z.location,delta:Y})}function T(P,Y){p="PUSH";let j=zd(z.location,P,Y);m=E()+1;let te=xy(j,m),Z=z.createHref(j);try{f.pushState(te,"",Z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(Z)}u&&g&&g({action:p,location:z.location,delta:1})}function O(P,Y){p="REPLACE";let j=zd(z.location,P,Y);m=E();let te=xy(j,m),Z=z.createHref(j);f.replaceState(te,"",Z),u&&g&&g({action:p,location:z.location,delta:0})}function x(P){return R1(P)}let z={get action(){return p},get location(){return s(o,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dy,S),g=P,()=>{o.removeEventListener(Dy,S),g=null}},createHref(P){return e(o,P)},createURL:x,encodeLocation(P){let Y=x(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:O,go(P){return f.go(P)}};return z}function R1(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:xl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function g0(s,e,n="/"){return M1(s,e,n,!1)}function M1(s,e,n,r){let o=typeof e=="string"?oo(e):e,u=_s(o.pathname||"/",n);if(u==null)return null;let f=m0(s);O1(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let m=j1(u);p=z1(f[g],m,r)}return p}function m0(s,e=[],n=[],r="",o=!1){let u=(f,p,g=o,m)=>{let E={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&g)return;Et(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let S=ys([r,E.relativePath]),T=n.concat(E);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),m0(f.children,e,T,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:k1(S,f.index),routesMeta:T})};return s.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of v0(f.path))u(f,p,!0,g)}),e}function v0(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=v0(r.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function O1(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:U1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D1=/^:[\w-]+$/,x1=3,I1=2,V1=1,N1=10,P1=-2,Iy=s=>s==="*";function k1(s,e){let n=s.split("/"),r=n.length;return n.some(Iy)&&(r+=P1),e&&(r+=I1),n.filter(o=>!Iy(o)).reduce((o,u)=>o+(D1.test(u)?x1:u===""?V1:N1),r)}function U1(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function z1(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let p=0;p<r.length;++p){let g=r[p],m=p===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},E),T=g.route;if(!S&&m&&n&&!r[r.length-1].route.index&&(S=Nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ys([u,S.pathname]),pathnameBase:F1(ys([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=ys([u,S.pathnameBase]))}return f}function Nc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=B1(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:E,isOptional:S},T)=>{if(E==="*"){let x=p[T]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const O=p[T];return S&&!O?m[E]=void 0:m[E]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function B1(s,e=!1,n=!0){Bi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function j1(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _s(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function H1(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?oo(s):s;return{pathname:n?n.startsWith("/")?n:q1(n,e):e,search:Q1(r),hash:Y1(o)}}function q1(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ed(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G1(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y0(s){let e=G1(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _0(s,e,n,r=!1){let o;typeof s=="string"?o=oo(s):(o={...s},Et(!o.pathname||!o.pathname.includes("?"),Ed("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Ed("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Ed("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=e.length-1;if(!r&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}p=S>=0?e[S]:"/"}let g=H1(o,p),m=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||E)&&(g.pathname+="/"),g}var ys=s=>s.join("/").replace(/\/\/+/g,"/"),F1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Q1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Y1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function K1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var Z1=["GET",...E0];new Set(Z1);var lo=y.createContext(null);lo.displayName="DataRouter";var sh=y.createContext(null);sh.displayName="DataRouterState";y.createContext(!1);var b0=y.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var $1=y.createContext(new Map);$1.displayName="Fetchers";var X1=y.createContext(null);X1.displayName="Await";var qi=y.createContext(null);qi.displayName="Navigation";var Hl=y.createContext(null);Hl.displayName="Location";var Ss=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var mp=y.createContext(null);mp.displayName="RouteError";function J1(s,{relative:e}={}){Et(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(qi),{hash:o,pathname:u,search:f}=Gl(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ys([n,u])),r.createHref({pathname:p,search:f,hash:o})}function ql(){return y.useContext(Hl)!=null}function Xr(){return Et(ql(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Hl).location}var S0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T0(s){y.useContext(qi).static||y.useLayoutEffect(s)}function C0(){let{isDataRoute:s}=y.useContext(Ss);return s?hC():W1()}function W1(){Et(ql(),"useNavigate() may be used only in the context of a <Router> component.");let s=y.useContext(lo),{basename:e,navigator:n}=y.useContext(qi),{matches:r}=y.useContext(Ss),{pathname:o}=Xr(),u=JSON.stringify(y0(r)),f=y.useRef(!1);return T0(()=>{f.current=!0}),y.useCallback((g,m={})=>{if(Bi(f.current,S0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=_0(g,JSON.parse(u),o,m.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ys([e,E.pathname])),(m.replace?n.replace:n.push)(E,m.state,m)},[e,n,u,o,s])}y.createContext(null);function Gl(s,{relative:e}={}){let{matches:n}=y.useContext(Ss),{pathname:r}=Xr(),o=JSON.stringify(y0(n));return y.useMemo(()=>_0(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function eC(s,e){return A0(s,e)}function A0(s,e,n,r,o){Et(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(qi),{matches:f}=y.useContext(Ss),p=f[f.length-1],g=p?p.params:{},m=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let j=S&&S.path||"";w0(m,!S||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=Xr(),O;if(e){let j=typeof e=="string"?oo(e):e;Et(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),O=j}else O=T;let x=O.pathname||"/",z=x;if(E!=="/"){let j=E.replace(/^\//,"").split("/");z="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=g0(s,{pathname:z});Bi(S||P!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Bi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rC(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:ys([E,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:ys([E,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),f,n,r,o);return e&&Y?y.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function tC(){let s=cC(),e=K1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:o},n):null,f)}var nC=y.createElement(tC,null),iC=class extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?y.createElement(Ss.Provider,{value:this.props.routeContext},y.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sC({routeContext:s,match:e,children:n}){let r=y.useContext(lo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ss.Provider,{value:s},n)}function rC(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,f=n?.errors;if(f!=null){let m=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);Et(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(n)for(let m=0;m<u.length;m++){let E=u[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=m),E.route.id){let{loaderData:S,errors:T}=n,O=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!T||T[E.route.id]===void 0);if(E.route.lazy||O){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,E,S)=>{let T,O=!1,x=null,z=null;n&&(T=f&&E.route.id?f[E.route.id]:void 0,x=E.route.errorElement||nC,p&&(g<0&&S===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):g===S&&(O=!0,z=E.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,S+1)),Y=()=>{let j;return T?j=x:O?j=z:E.route.Component?j=y.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=m,y.createElement(sC,{match:E,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:j})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?y.createElement(iC,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:Y(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):Y()},null)}function vp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aC(s){let e=y.useContext(lo);return Et(e,vp(s)),e}function oC(s){let e=y.useContext(sh);return Et(e,vp(s)),e}function lC(s){let e=y.useContext(Ss);return Et(e,vp(s)),e}function yp(s){let e=lC(s),n=e.matches[e.matches.length-1];return Et(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function uC(){return yp("useRouteId")}function cC(){let s=y.useContext(mp),e=oC("useRouteError"),n=yp("useRouteError");return s!==void 0?s:e.errors?.[n]}function hC(){let{router:s}=aC("useNavigate"),e=yp("useNavigate"),n=y.useRef(!1);return T0(()=>{n.current=!0}),y.useCallback(async(o,u={})=>{Bi(n.current,S0),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Vy={};function w0(s,e,n){!e&&!Vy[s]&&(Vy[s]=!0,Bi(!1,n))}y.memo(fC);function fC({routes:s,future:e,state:n,unstable_onError:r}){return A0(s,void 0,n,r,e)}function Lc(s){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dC({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Et(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=oo(n));let{pathname:g="/",search:m="",hash:E="",state:S=null,key:T="default"}=n,O=y.useMemo(()=>{let x=_s(g,f);return x==null?null:{location:{pathname:x,search:m,hash:E,state:S,key:T},navigationType:r}},[f,g,m,E,S,T,r]);return Bi(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:y.createElement(qi.Provider,{value:p},y.createElement(Hl.Provider,{children:e,value:O}))}function pC({children:s,location:e}){return eC(Bd(s),e)}function Bd(s,e=[]){let n=[];return y.Children.forEach(s,(r,o)=>{if(!y.isValidElement(r))return;let u=[...e,o];if(r.type===y.Fragment){n.push.apply(n,Bd(r.props.children,u));return}Et(r.type===Lc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Bd(r.props.children,u)),n.push(f)}),n}var Rc="get",Mc="application/x-www-form-urlencoded";function rh(s){return s!=null&&typeof s.tagName=="string"}function gC(s){return rh(s)&&s.tagName.toLowerCase()==="button"}function mC(s){return rh(s)&&s.tagName.toLowerCase()==="form"}function vC(s){return rh(s)&&s.tagName.toLowerCase()==="input"}function yC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _C(s,e){return s.button===0&&(!e||e==="_self")&&!yC(s)}var vc=null;function EC(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var bC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(s){return s!=null&&!bC.has(s)?(Bi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mc}"`),null):s}function SC(s,e){let n,r,o,u,f;if(mC(s)){let p=s.getAttribute("action");r=p?_s(p,e):null,n=s.getAttribute("method")||Rc,o=bd(s.getAttribute("enctype"))||Mc,u=new FormData(s)}else if(gC(s)||vC(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?_s(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Rc,o=bd(s.getAttribute("formenctype"))||bd(p.getAttribute("enctype"))||Mc,u=new FormData(p,s),!EC()){let{name:m,type:E,value:S}=s;if(E==="image"){let T=m?`${m}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else m&&u.append(m,S)}}else{if(rh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,r=null,o=Mc,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function TC(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&_s(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CC(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function wC(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await CC(u,n);return f.links?f.links():[]}return[]}));return OC(r.flat(1).filter(AC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ny(s,e,n,r,o,u){let f=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>f(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function LC(s,e,{includeHydrateFallback:n}={}){return RC(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RC(s){return[...new Set(s)]}function MC(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function OC(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(MC(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function L0(){let s=y.useContext(lo);return _p(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function DC(){let s=y.useContext(sh);return _p(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ep=y.createContext(void 0);Ep.displayName="FrameworkContext";function R0(){let s=y.useContext(Ep);return _p(s,"You must render this element inside a <HydratedRouter> element"),s}function xC(s,e){let n=y.useContext(Ep),[r,o]=y.useState(!1),[u,f]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:E,onTouchStart:S}=e,T=y.useRef(null);y.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let z=Y=>{Y.forEach(j=>{f(j.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[s]),y.useEffect(()=>{if(r){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[r]);let O=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?s!=="intent"?[u,T,{}]:[u,T,{onFocus:yl(p,O),onBlur:yl(g,x),onMouseEnter:yl(m,O),onMouseLeave:yl(E,x),onTouchStart:yl(S,O)}]:[!1,T,{}]}function yl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function IC({page:s,...e}){let{router:n}=L0(),r=y.useMemo(()=>g0(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?y.createElement(NC,{page:s,matches:r,...e}):null}function VC(s){let{manifest:e,routeModules:n}=R0(),[r,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return wC(s,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,n]),r}function NC({page:s,matches:e,...n}){let r=Xr(),{manifest:o,routeModules:u}=R0(),{basename:f}=L0(),{loaderData:p,matches:g}=DC(),m=y.useMemo(()=>Ny(s,e,g,o,r,"data"),[s,e,g,o,r]),E=y.useMemo(()=>Ny(s,e,g,o,r,"assets"),[s,e,g,o,r]),S=y.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let x=new Set,z=!1;if(e.forEach(Y=>{let j=o.routes[Y.route.id];!j||!j.hasLoader||(!m.some(te=>te.route.id===Y.route.id)&&Y.route.id in p&&u[Y.route.id]?.shouldRevalidate||j.hasClientLoader?z=!0:x.add(Y.route.id))}),x.size===0)return[];let P=TC(s,f,"data");return z&&x.size>0&&P.searchParams.set("_routes",e.filter(Y=>x.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[P.pathname+P.search]},[f,p,r,o,m,e,s,u]),T=y.useMemo(()=>LC(E,o),[E,o]),O=VC(E);return y.createElement(y.Fragment,null,S.map(x=>y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),T.map(x=>y.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),O.map(({key:x,link:z})=>y.createElement("link",{key:x,nonce:n.nonce,...z})))}function PC(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M0&&(window.__reactRouterVersion="7.9.4")}catch{}function kC({basename:s,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=A1({window:n,v5Compat:!0}));let o=r.current,[u,f]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>f(g))},[f]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(dC,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Al=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:m,preventScrollReset:E,viewTransition:S,...T},O){let{basename:x}=y.useContext(qi),z=typeof m=="string"&&O0.test(m),P,Y=!1;if(typeof m=="string"&&z&&(P=m,M0))try{let A=new URL(window.location.href),I=m.startsWith("//")?new URL(A.protocol+m):new URL(m),D=_s(I.pathname,x);I.origin===A.origin&&D!=null?m=D+I.search+I.hash:Y=!0}catch{Bi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=J1(m,{relative:o}),[te,Z,q]=xC(r,T),X=jC(m,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:S});function w(A){e&&e(A),A.defaultPrevented||X(A)}let R=y.createElement("a",{...T,...q,href:P||j,onClick:Y||u?e:w,ref:PC(O,Z),target:g,"data-discover":!z&&n==="render"?"true":void 0});return te&&!z?y.createElement(y.Fragment,null,R,y.createElement(IC,{page:j})):R});Al.displayName="Link";var UC=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...m},E){let S=Gl(f,{relative:m.relative}),T=Xr(),O=y.useContext(sh),{navigator:x,basename:z}=y.useContext(qi),P=O!=null&&QC(S)&&p===!0,Y=x.encodeLocation?x.encodeLocation(S).pathname:S.pathname,j=T.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(j=j.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&z&&(te=_s(te,z)||te);const Z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let q=j===Y||!o&&j.startsWith(Y)&&j.charAt(Z)==="/",X=te!=null&&(te===Y||!o&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),w={isActive:q,isPending:X,isTransitioning:P},R=q?e:void 0,A;typeof r=="function"?A=r(w):A=[r,q?"active":null,X?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(w):u;return y.createElement(Al,{...m,"aria-current":R,className:A,ref:E,style:I,to:f,viewTransition:p},typeof g=="function"?g(w):g)});UC.displayName="NavLink";var zC=y.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:f=Rc,action:p,onSubmit:g,relative:m,preventScrollReset:E,viewTransition:S,...T},O)=>{let x=GC(),z=FC(p,{relative:m}),P=f.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&O0.test(p),j=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let Z=te.nativeEvent.submitter,q=Z?.getAttribute("formmethod")||f;x(Z||te.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:o,state:u,relative:m,preventScrollReset:E,viewTransition:S})};return y.createElement("form",{ref:O,method:P,action:z,onSubmit:r?g:j,...T,"data-discover":!Y&&s==="render"?"true":void 0})});zC.displayName="Form";function BC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(s){let e=y.useContext(lo);return Et(e,BC(s)),e}function jC(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=C0(),g=Xr(),m=Gl(s,{relative:u});return y.useCallback(E=>{if(_C(E,e)){E.preventDefault();let S=n!==void 0?n:xl(g)===xl(m);p(s,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,m,n,r,e,s,o,u,f])}var HC=0,qC=()=>`__${String(++HC)}__`;function GC(){let{router:s}=D0("useSubmit"),{basename:e}=y.useContext(qi),n=uC();return y.useCallback(async(r,o={})=>{let{action:u,method:f,encType:p,formData:g,body:m}=SC(r,e);if(o.navigate===!1){let E=o.fetcherKey||qC();await s.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function FC(s,{relative:e}={}){let{basename:n}=y.useContext(qi),r=y.useContext(Ss);Et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Gl(s||".",{relative:e})},f=Xr();if(s==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ys([n,u.pathname])),xl(u)}function QC(s,{relative:e}={}){let n=y.useContext(b0);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D0("useViewTransitionState"),o=Gl(s,{relative:e});if(!n.isTransitioning)return!1;let u=_s(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=_s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nc(o.pathname,f)!=null||Nc(o.pathname,u)!=null}var uo=p0();function Il(s){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(s)}function YC(s,e){if(Il(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function KC(s){var e=YC(s,"string");return Il(e)=="symbol"?e:e+""}function ne(s,e,n){return(e=KC(e))in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function x0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sd,Py;function ZC(){if(Py)return Sd;Py=1;var s=function(n,r,o,u,f,p,g,m){if(!n){var E;if(r===void 0)E=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[o,u,f,p,g,m],T=0;E=new Error(r.replace(/%s/g,function(){return S[T++]})),E.name="Invariant Violation"}throw E.framesToPop=1,E}};return Sd=s,Sd}var $C=ZC(),qt=x0($C),ke=y.createContext(null);function XC(){qt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var s=y.useContext(ke);return qt(!!s,"useGoogleMap needs a GoogleMap available up in the tree"),s}function JC(s,e,n){return Object.keys(s).reduce(function(o,u){return e(o,s[u],u)},n)}function WC(s,e){Object.keys(s).forEach(n=>e(s[n],n))}function eA(s,e,n,r){var o={},u=(f,p)=>{var g=n[p];g!==e[p]&&(o[p]=g,f(r,g))};return WC(s,u),o}function tA(s,e,n){var r=JC(n,function(u,f,p){return typeof s[p]=="function"&&u.push(google.maps.event.addListener(e,f,s[p])),u},[]);return r}function nA(s){google.maps.event.removeListener(s)}function He(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(nA)}function ze(s){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:o,instance:u}=s,f=tA(o,u,n);return eA(e,r,o,u),f}var ky={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Uy={extraMapTypes(s,e){e.forEach(function(r,o){s.mapTypes.set(String(o),r)})},center(s,e){s.setCenter(e)},clickableIcons(s,e){s.setClickableIcons(e)},heading(s,e){s.setHeading(e)},mapTypeId(s,e){s.setMapTypeId(e)},options(s,e){s.setOptions(e)},streetView(s,e){s.setStreetView(e)},tilt(s,e){s.setTilt(e)},zoom(s,e){s.setZoom(e)}};function iA(s){var{children:e,options:n,id:r,mapContainerStyle:o,mapContainerClassName:u,center:f,onClick:p,onDblClick:g,onDrag:m,onDragEnd:E,onDragStart:S,onMouseMove:T,onMouseOut:O,onMouseOver:x,onMouseDown:z,onMouseUp:P,onRightClick:Y,onCenterChanged:j,onLoad:te,onUnmount:Z}=s,[q,X]=y.useState(null),w=y.useRef(null),[R,A]=y.useState(null),[I,D]=y.useState(null),[k,M]=y.useState(null),[de,Ee]=y.useState(null),[G,le]=y.useState(null),[he,_e]=y.useState(null),[ye,V]=y.useState(null),[J,se]=y.useState(null),[ue,K]=y.useState(null),[me,Se]=y.useState(null),[Te,Oe]=y.useState(null),[Ce,Ue]=y.useState(null);return y.useEffect(()=>{n&&q!==null&&q.setOptions(n)},[q,n]),y.useEffect(()=>{q!==null&&typeof f<"u"&&q.setCenter(f)},[q,f]),y.useEffect(()=>{q&&g&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(q,"dblclick",g)))},[g]),y.useEffect(()=>{q&&E&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(q,"dragend",E)))},[E]),y.useEffect(()=>{q&&S&&(de!==null&&google.maps.event.removeListener(de),Ee(google.maps.event.addListener(q,"dragstart",S)))},[S]),y.useEffect(()=>{q&&z&&(G!==null&&google.maps.event.removeListener(G),le(google.maps.event.addListener(q,"mousedown",z)))},[z]),y.useEffect(()=>{q&&T&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(q,"mousemove",T)))},[T]),y.useEffect(()=>{q&&O&&(ye!==null&&google.maps.event.removeListener(ye),V(google.maps.event.addListener(q,"mouseout",O)))},[O]),y.useEffect(()=>{q&&x&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(q,"mouseover",x)))},[x]),y.useEffect(()=>{q&&P&&(ue!==null&&google.maps.event.removeListener(ue),K(google.maps.event.addListener(q,"mouseup",P)))},[P]),y.useEffect(()=>{q&&Y&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(q,"rightclick",Y)))},[Y]),y.useEffect(()=>{q&&p&&(Te!==null&&google.maps.event.removeListener(Te),Oe(google.maps.event.addListener(q,"click",p)))},[p]),y.useEffect(()=>{q&&m&&(Ce!==null&&google.maps.event.removeListener(Ce),Ue(google.maps.event.addListener(q,"drag",m)))},[m]),y.useEffect(()=>{q&&j&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(q,"center_changed",j)))},[p]),y.useEffect(()=>{var Gt=w.current===null?null:new google.maps.Map(w.current,n);return X(Gt),Gt!==null&&te&&te(Gt),()=>{Gt!==null&&Z&&Z(Gt)}},[]),Me.jsx("div",{id:r,ref:w,style:o,className:u,children:Me.jsx(ke.Provider,{value:q,children:q!==null?e:null})})}y.memo(iA);class sA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ze({updaterMap:Uy,eventMap:ky,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Uy,eventMap:ky,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),He(this.registeredEvents))}render(){return Me.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:Me.jsx(ke.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function zy(s,e,n,r,o,u,f){try{var p=s[u](f),g=p.value}catch(m){return void n(m)}p.done?e(g):Promise.resolve(g).then(r,o)}function I0(s){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=s.apply(e,n);function f(g){zy(u,r,o,f,p,"next",g)}function p(g){zy(u,r,o,f,p,"throw",g)}f(void 0)})}}function V0(s){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:o,region:u,libraries:f,channel:p,mapIds:g,authReferrerPolicy:m,apiUrl:E="https://maps.googleapis.com"}=s,S=[];return qt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?S.push("key=".concat(e)):n&&S.push("client=".concat(n)),r&&S.push("v=".concat(r)),o&&S.push("language=".concat(o)),u&&S.push("region=".concat(u)),f&&f.length&&S.push("libraries=".concat(f.sort().join(","))),p&&S.push("channel=".concat(p)),g&&g.length&&S.push("map_ids=".concat(g.join(","))),m&&S.push("auth_referrer_policy=".concat(m)),S.push("loading=async"),S.push("callback=initMap"),"".concat(E,"/maps/api/js?").concat(S.join("&"))}var Qr=typeof document<"u";function N0(s){var{url:e,id:n,nonce:r}=s;return Qr?new Promise(function(u,f){var p=document.getElementById(n),g=window;if(p){var m=p.getAttribute("data-state");if(p.src===e&&m!=="error"){if(m==="ready")return u(n);var E=g.initMap,S=p.onerror;g.initMap=function(){E&&E(),u(n)},p.onerror=function(O){S&&S(O),f(O)};return}else p.remove()}var T=document.createElement("script");T.type="text/javascript",T.src=e,T.id=n,T.async=!0,T.nonce=r||"",T.onerror=function(x){T.setAttribute("data-state","error"),f(x)},g.initMap=function(){T.setAttribute("data-state","ready"),u(n)},document.head.appendChild(T)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function By(s){var e=s.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:s.tagName.toLowerCase()==="style"&&s.styleSheet&&s.styleSheet.cssText&&s.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(s.styleSheet.cssText="",!0):s.tagName.toLowerCase()==="style"&&s.innerHTML&&s.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(s.innerHTML="",!0):s.tagName.toLowerCase()==="style"&&!s.styleSheet&&!s.innerHTML}function P0(){var s=document.getElementsByTagName("head")[0];if(s){var e=s.insertBefore.bind(s);s.insertBefore=function(o,u){return By(o)||Reflect.apply(e,s,[o,u]),o};var n=s.appendChild.bind(s);s.appendChild=function(o){return By(o)||Reflect.apply(n,s,[o]),o}}}var _l=!1;function k0(){return Me.jsx("div",{children:"Loading..."})}var jd={id:"script-loader",version:"weekly"};class U0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",I0(function*(){function e(n){if(!_l)n();else if(Qr)var r=window.setInterval(function(){_l||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{_l=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&P0(),qt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:V0(this.props)};N0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Qr){if(window.google&&window.google.maps&&!_l){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Qr&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Qr){this.cleanup();var e=()=>{this.check||(delete window.google,_l=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Me.jsxs(Me.Fragment,{children:[Me.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||Me.jsx(k0,{})]})}}ne(U0,"defaultProps",jd);function rA(s,e){if(s==null)return{};var n={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(e.includes(r))continue;n[r]=s[r]}return n}function bp(s,e){if(s==null)return{};var n,r,o=rA(s,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(r=0;r<u.length;r++)n=u[r],e.includes(n)||{}.propertyIsEnumerable.call(s,n)&&(o[n]=s[n])}return o}var jy;function aA(s){var{id:e=jd.id,version:n=jd.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:u,language:f,region:p,libraries:g,preventGoogleFontsLoading:m,channel:E,mapIds:S,authReferrerPolicy:T,apiUrl:O="https://maps.googleapis.com"}=s,x=y.useRef(!1),[z,P]=y.useState(!1),[Y,j]=y.useState(void 0);y.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),y.useEffect(function(){Qr&&m&&P0()},[m]),y.useEffect(function(){z&&qt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[z]);var te=V0({version:n,googleMapsApiKey:o,googleMapsClientId:u,language:f,region:p,libraries:g,channel:E,mapIds:S,authReferrerPolicy:T,apiUrl:O});y.useEffect(function(){if(!Qr)return;function X(){x.current&&(P(!0),jy=te)}if(window.google&&window.google.maps&&jy===te){X();return}N0({id:e,url:te,nonce:r}).then(X).catch(function(R){x.current&&j(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(u||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[e,te,r]);var Z=y.useRef(void 0);return y.useEffect(function(){Z.current&&g!==Z.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Z.current=g},[g]),{isLoaded:z,loadError:Y,url:te}}var oA=["loadingElement","onLoad","onError","onUnmount","children"],lA=Me.jsx(k0,{});function uA(s){var{loadingElement:e,onLoad:n,onError:r,onUnmount:o,children:u}=s,f=bp(s,oA),{isLoaded:p,loadError:g}=aA(f);return y.useEffect(function(){p&&typeof n=="function"&&n()},[p,n]),y.useEffect(function(){g&&typeof r=="function"&&r(g)},[g,r]),y.useEffect(function(){return()=>{o&&o()}},[o]),p?u:e||lA}y.memo(uA);var Hy;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(Hy||(Hy={}));function qy(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Pc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Gy={},Fy={options(s,e){s.setOptions(e)}};function cA(s){var{options:e,onLoad:n,onUnmount:r}=s,o=y.useContext(ke),[u,f]=y.useState(null);return y.useEffect(()=>{u!==null&&u.setMap(o)},[o]),y.useEffect(()=>{e&&u!==null&&u.setOptions(e)},[u,e]),y.useEffect(()=>{var p=new google.maps.TrafficLayer(Pc(Pc({},e),{},{map:o}));return f(p),n&&n(p),()=>{u!==null&&(r&&r(u),u.setMap(null))}},[]),null}y.memo(cA);class hA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Pc(Pc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Fy,eventMap:Gy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Fy,eventMap:Gy,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),He(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(hA,"contextType",ke);function fA(s){var{onLoad:e,onUnmount:n}=s,r=y.useContext(ke),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var f=new google.maps.BicyclingLayer;return u(f),f.setMap(r),e&&e(f),()=>{f!==null&&(n&&n(f),f.setMap(null))}},[]),null}y.memo(fA);class dA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(dA,"contextType",ke);function pA(s){var{onLoad:e,onUnmount:n}=s,r=y.useContext(ke),[o,u]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var f=new google.maps.TransitLayer;return u(f),f.setMap(r),e&&e(f),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(pA);class gA extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(gA,"contextType",ke);function Qy(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function kc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qy(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Yy={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ky={drawingMode(s,e){s.setDrawingMode(e)},options(s,e){s.setOptions(e)}};function mA(s){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:u,onPolygonComplete:f,onPolylineComplete:p,onRectangleComplete:g,onLoad:m,onUnmount:E}=s,S=y.useContext(ke),[T,O]=y.useState(null),[x,z]=y.useState(null),[P,Y]=y.useState(null),[j,te]=y.useState(null),[Z,q]=y.useState(null),[X,w]=y.useState(null),[R,A]=y.useState(null);return y.useEffect(()=>{T!==null&&T.setMap(S)},[S]),y.useEffect(()=>{e&&T!==null&&T.setOptions(e)},[T,e]),y.useEffect(()=>{T!==null&&T.setDrawingMode(n??null)},[T,n]),y.useEffect(()=>{T&&r&&(x!==null&&google.maps.event.removeListener(x),z(google.maps.event.addListener(T,"circlecomplete",r)))},[T,r]),y.useEffect(()=>{T&&o&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(T,"markercomplete",o)))},[T,o]),y.useEffect(()=>{T&&u&&(j!==null&&google.maps.event.removeListener(j),te(google.maps.event.addListener(T,"overlaycomplete",u)))},[T,u]),y.useEffect(()=>{T&&f&&(Z!==null&&google.maps.event.removeListener(Z),q(google.maps.event.addListener(T,"polygoncomplete",f)))},[T,f]),y.useEffect(()=>{T&&p&&(X!==null&&google.maps.event.removeListener(X),w(google.maps.event.addListener(T,"polylinecomplete",p)))},[T,p]),y.useEffect(()=>{T&&g&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(T,"rectanglecomplete",g)))},[T,g]),y.useEffect(()=>{qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(kc(kc({},e),{},{map:S}));return n&&I.setDrawingMode(n),r&&z(google.maps.event.addListener(I,"circlecomplete",r)),o&&Y(google.maps.event.addListener(I,"markercomplete",o)),u&&te(google.maps.event.addListener(I,"overlaycomplete",u)),f&&q(google.maps.event.addListener(I,"polygoncomplete",f)),p&&w(google.maps.event.addListener(I,"polylinecomplete",p)),g&&A(google.maps.event.addListener(I,"rectanglecomplete",g)),O(I),m&&m(I),()=>{T!==null&&(x&&google.maps.event.removeListener(x),P&&google.maps.event.removeListener(P),j&&google.maps.event.removeListener(j),Z&&google.maps.event.removeListener(Z),X&&google.maps.event.removeListener(X),R&&google.maps.event.removeListener(R),E&&E(T),T.setMap(null))}},[]),null}y.memo(mA);class vA extends y.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(kc(kc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Ky,eventMap:Yy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Ky,eventMap:Yy,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),He(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(vA,"contextType",ke);function Zy(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Ya(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zy(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var $y={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Xy={animation(s,e){s.setAnimation(e)},clickable(s,e){s.setClickable(e)},cursor(s,e){s.setCursor(e)},draggable(s,e){s.setDraggable(e)},icon(s,e){s.setIcon(e)},label(s,e){s.setLabel(e)},map(s,e){s.setMap(e)},opacity(s,e){s.setOpacity(e)},options(s,e){s.setOptions(e)},position(s,e){s.setPosition(e)},shape(s,e){s.setShape(e)},title(s,e){s.setTitle(e)},visible(s,e){s.setVisible(e)},zIndex(s,e){s.setZIndex(e)}},Uc={};function yA(s){var{position:e,options:n,clusterer:r,noClustererRedraw:o,children:u,draggable:f,visible:p,animation:g,clickable:m,cursor:E,icon:S,label:T,opacity:O,shape:x,title:z,zIndex:P,onClick:Y,onDblClick:j,onDrag:te,onDragEnd:Z,onDragStart:q,onMouseOut:X,onMouseOver:w,onMouseUp:R,onMouseDown:A,onRightClick:I,onClickableChanged:D,onCursorChanged:k,onAnimationChanged:M,onDraggableChanged:de,onFlatChanged:Ee,onIconChanged:G,onPositionChanged:le,onShapeChanged:he,onTitleChanged:_e,onVisibleChanged:ye,onZindexChanged:V,onLoad:J,onUnmount:se}=s,ue=y.useContext(ke),[K,me]=y.useState(null),[Se,Te]=y.useState(null),[Oe,Ce]=y.useState(null),[Ue,Gt]=y.useState(null),[rn,an]=y.useState(null),[Ye,di]=y.useState(null),[pi,Ts]=y.useState(null),[ht,St]=y.useState(null),[wn,ta]=y.useState(null),[Fi,Ft]=y.useState(null),[gi,Cs]=y.useState(null),[mi,ei]=y.useState(null),[As,vr]=y.useState(null),[Qi,yr]=y.useState(null),[on,Ot]=y.useState(null),[$t,pt]=y.useState(null),[Yi,Ki]=y.useState(null),[Zi,Ln]=y.useState(null),[vi,_t]=y.useState(null),[pn,Rn]=y.useState(null),[ln,na]=y.useState(null),[$i,Mn]=y.useState(null);y.useEffect(()=>{K!==null&&K.setMap(ue)},[ue]),y.useEffect(()=>{typeof n<"u"&&K!==null&&K.setOptions(n)},[K,n]),y.useEffect(()=>{typeof f<"u"&&K!==null&&K.setDraggable(f)},[K,f]),y.useEffect(()=>{e&&K!==null&&K.setPosition(e)},[K,e]),y.useEffect(()=>{typeof p<"u"&&K!==null&&K.setVisible(p)},[K,p]),y.useEffect(()=>{K?.setAnimation(g)},[K,g]),y.useEffect(()=>{K&&m!==void 0&&K.setClickable(m)},[K,m]),y.useEffect(()=>{K&&E!==void 0&&K.setCursor(E)},[K,E]),y.useEffect(()=>{K&&S!==void 0&&K.setIcon(S)},[K,S]),y.useEffect(()=>{K&&T!==void 0&&K.setLabel(T)},[K,T]),y.useEffect(()=>{K&&O!==void 0&&K.setOpacity(O)},[K,O]),y.useEffect(()=>{K&&x!==void 0&&K.setShape(x)},[K,x]),y.useEffect(()=>{K&&z!==void 0&&K.setTitle(z)},[K,z]),y.useEffect(()=>{K&&P!==void 0&&K.setZIndex(P)},[K,P]),y.useEffect(()=>{K&&j&&(Se!==null&&google.maps.event.removeListener(Se),Te(google.maps.event.addListener(K,"dblclick",j)))},[j]),y.useEffect(()=>{K&&Z&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(K,"dragend",Z)))},[Z]),y.useEffect(()=>{K&&q&&(Ue!==null&&google.maps.event.removeListener(Ue),Gt(google.maps.event.addListener(K,"dragstart",q)))},[q]),y.useEffect(()=>{K&&A&&(rn!==null&&google.maps.event.removeListener(rn),an(google.maps.event.addListener(K,"mousedown",A)))},[A]),y.useEffect(()=>{K&&X&&(Ye!==null&&google.maps.event.removeListener(Ye),di(google.maps.event.addListener(K,"mouseout",X)))},[X]),y.useEffect(()=>{K&&w&&(pi!==null&&google.maps.event.removeListener(pi),Ts(google.maps.event.addListener(K,"mouseover",w)))},[w]),y.useEffect(()=>{K&&R&&(ht!==null&&google.maps.event.removeListener(ht),St(google.maps.event.addListener(K,"mouseup",R)))},[R]),y.useEffect(()=>{K&&I&&(wn!==null&&google.maps.event.removeListener(wn),ta(google.maps.event.addListener(K,"rightclick",I)))},[I]),y.useEffect(()=>{K&&Y&&(Fi!==null&&google.maps.event.removeListener(Fi),Ft(google.maps.event.addListener(K,"click",Y)))},[Y]),y.useEffect(()=>{K&&te&&(gi!==null&&google.maps.event.removeListener(gi),Cs(google.maps.event.addListener(K,"drag",te)))},[te]),y.useEffect(()=>{K&&D&&(mi!==null&&google.maps.event.removeListener(mi),ei(google.maps.event.addListener(K,"clickable_changed",D)))},[D]),y.useEffect(()=>{K&&k&&(As!==null&&google.maps.event.removeListener(As),vr(google.maps.event.addListener(K,"cursor_changed",k)))},[k]),y.useEffect(()=>{K&&M&&(Qi!==null&&google.maps.event.removeListener(Qi),yr(google.maps.event.addListener(K,"animation_changed",M)))},[M]),y.useEffect(()=>{K&&de&&(on!==null&&google.maps.event.removeListener(on),Ot(google.maps.event.addListener(K,"draggable_changed",de)))},[de]),y.useEffect(()=>{K&&Ee&&($t!==null&&google.maps.event.removeListener($t),pt(google.maps.event.addListener(K,"flat_changed",Ee)))},[Ee]),y.useEffect(()=>{K&&G&&(Yi!==null&&google.maps.event.removeListener(Yi),Ki(google.maps.event.addListener(K,"icon_changed",G)))},[G]),y.useEffect(()=>{K&&le&&(Zi!==null&&google.maps.event.removeListener(Zi),Ln(google.maps.event.addListener(K,"position_changed",le)))},[le]),y.useEffect(()=>{K&&he&&(vi!==null&&google.maps.event.removeListener(vi),_t(google.maps.event.addListener(K,"shape_changed",he)))},[he]),y.useEffect(()=>{K&&_e&&(pn!==null&&google.maps.event.removeListener(pn),Rn(google.maps.event.addListener(K,"title_changed",_e)))},[_e]),y.useEffect(()=>{K&&ye&&(ln!==null&&google.maps.event.removeListener(ln),na(google.maps.event.addListener(K,"visible_changed",ye)))},[ye]),y.useEffect(()=>{K&&V&&($i!==null&&google.maps.event.removeListener($i),Mn(google.maps.event.addListener(K,"zindex_changed",V)))},[V]),y.useEffect(()=>{var Ji=Ya(Ya(Ya({},n||Uc),r?Uc:{map:ue}),{},{position:e}),Re=new google.maps.Marker(Ji);return r?r.addMarker(Re,!!o):Re.setMap(ue),e&&Re.setPosition(e),typeof p<"u"&&Re.setVisible(p),typeof f<"u"&&Re.setDraggable(f),typeof m<"u"&&Re.setClickable(m),typeof E=="string"&&Re.setCursor(E),S&&Re.setIcon(S),typeof T<"u"&&Re.setLabel(T),typeof O<"u"&&Re.setOpacity(O),x&&Re.setShape(x),typeof z=="string"&&Re.setTitle(z),typeof P=="number"&&Re.setZIndex(P),j&&Te(google.maps.event.addListener(Re,"dblclick",j)),Z&&Ce(google.maps.event.addListener(Re,"dragend",Z)),q&&Gt(google.maps.event.addListener(Re,"dragstart",q)),A&&an(google.maps.event.addListener(Re,"mousedown",A)),X&&di(google.maps.event.addListener(Re,"mouseout",X)),w&&Ts(google.maps.event.addListener(Re,"mouseover",w)),R&&St(google.maps.event.addListener(Re,"mouseup",R)),I&&ta(google.maps.event.addListener(Re,"rightclick",I)),Y&&Ft(google.maps.event.addListener(Re,"click",Y)),te&&Cs(google.maps.event.addListener(Re,"drag",te)),D&&ei(google.maps.event.addListener(Re,"clickable_changed",D)),k&&vr(google.maps.event.addListener(Re,"cursor_changed",k)),M&&yr(google.maps.event.addListener(Re,"animation_changed",M)),de&&Ot(google.maps.event.addListener(Re,"draggable_changed",de)),Ee&&pt(google.maps.event.addListener(Re,"flat_changed",Ee)),G&&Ki(google.maps.event.addListener(Re,"icon_changed",G)),le&&Ln(google.maps.event.addListener(Re,"position_changed",le)),he&&_t(google.maps.event.addListener(Re,"shape_changed",he)),_e&&Rn(google.maps.event.addListener(Re,"title_changed",_e)),ye&&na(google.maps.event.addListener(Re,"visible_changed",ye)),V&&Mn(google.maps.event.addListener(Re,"zindex_changed",V)),me(Re),J&&J(Re),()=>{Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),Ue!==null&&google.maps.event.removeListener(Ue),rn!==null&&google.maps.event.removeListener(rn),Ye!==null&&google.maps.event.removeListener(Ye),pi!==null&&google.maps.event.removeListener(pi),ht!==null&&google.maps.event.removeListener(ht),wn!==null&&google.maps.event.removeListener(wn),Fi!==null&&google.maps.event.removeListener(Fi),mi!==null&&google.maps.event.removeListener(mi),As!==null&&google.maps.event.removeListener(As),Qi!==null&&google.maps.event.removeListener(Qi),on!==null&&google.maps.event.removeListener(on),$t!==null&&google.maps.event.removeListener($t),Yi!==null&&google.maps.event.removeListener(Yi),Zi!==null&&google.maps.event.removeListener(Zi),pn!==null&&google.maps.event.removeListener(pn),ln!==null&&google.maps.event.removeListener(ln),$i!==null&&google.maps.event.removeListener($i),se&&se(Re),r?r.removeMarker(Re,!!o):Re&&Re.setMap(null)}},[]);var Xi=y.useMemo(()=>u?y.Children.map(u,Ji=>{if(!y.isValidElement(Ji))return Ji;var Re=Ji;return y.cloneElement(Re,{anchor:K})}):null,[u,K]);return Me.jsx(Me.Fragment,{children:Xi})||null}y.memo(yA);class z0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return I0(function*(){var n=Ya(Ya(Ya({},e.props.options||Uc),e.props.clusterer?Uc:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ze({updaterMap:Xy,eventMap:$y,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Xy,eventMap:$y,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),He(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var r=n;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(z0,"contextType",ke);var _A=(function(){function s(e,n){e.getClusterer().extend(s,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return s.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},s.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},s.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),u=n.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(o),this.timeOut=window.setTimeout(function(){var f=n.getMap();if(f!==null){"fitBounds"in f&&f.fitBounds(o);var p=f.getZoom()||0;r!==null&&p>r&&f.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},s.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},s.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},s.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},s.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},s.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},s.prototype.show=function(){var e,n,r,o,u,f;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,g=this.backgroundPosition.split(" "),m=parseInt(((e=g[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),E=parseInt(((n=g[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),S=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(S!==null?"".concat(S.y,"px"):"0","; left: ").concat(S!==null?"".concat(S.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var T=document.createElement("img");T.alt=p,T.src=this.url,T.width=this.width,T.height=this.height,T.setAttribute("style","position: absolute; top: ".concat(E,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(T.style.clip="rect(-".concat(E,"px, -").concat(m+this.width,"px, -").concat(E+this.height,", -").concat(m,")"));var O=document.createElement("div");O.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(O.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((u=this.sums)===null||u===void 0)&&u.html&&(O.innerHTML="".concat((f=this.sums)===null||f===void 0?void 0:f.html)),this.div.innerHTML="",this.div.appendChild(T),this.div.appendChild(O),this.div.title=p,this.div.style.display=""}this.visible=!0},s.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},s.prototype.setCenter=function(e){this.center=e},s.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},s})(),EA=(function(){function s(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new _A(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return s.prototype.getSize=function(){return this.markers.length},s.prototype.getMarkers=function(){return this.markers},s.prototype.getCenter=function(){return this.center},s.prototype.getMap=function(){return this.map},s.prototype.getClusterer=function(){return this.markerClusterer},s.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var u=o[r],f=u.getPosition();f&&e.extend(f)}return e},s.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},s.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var u=this.markers.length,f=this.markerClusterer.getMaxZoom(),p=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(f!==null&&typeof p<"u"&&p>f)e.getMap()!==this.map&&e.setMap(this.map);else if(u<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(u===this.minClusterSize)for(var g=0,m=this.markers;g<m.length;g++){var E=m[g];E.setMap(null)}else e.setMap(null);return!0},s.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},s.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},s.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},s.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},s})();function bA(s,e){var n=s.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var SA=2e3,TA=500,CA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",AA="png",wA=[53,56,66,78,90],LA="cluster",B0=(function(){function s(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(s,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||CA,this.imageExtension=r.imageExtension||AA,this.imageSizes=r.imageSizes||wA,this.calculator=r.calculator||bA,this.batchSize=r.batchSize||SA,this.batchSizeIE=r.batchSizeIE||TA,this.clusterClass=r.clusterClass||LA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return s.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},s.prototype.onIdle=function(){this.redraw()},s.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},s.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,u=this.clusters;o<u.length;o++){var f=u[o];f.remove()}this.clusters=[];for(var p=0,g=this.listeners;p<g.length;p++){var m=g[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},s.prototype.draw=function(){},s.prototype.getMap=function(){return null},s.prototype.getPanes=function(){return null},s.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},s.prototype.setMap=function(){},s.prototype.addListener=function(){return{remove:function(){}}},s.prototype.bindTo=function(){},s.prototype.get=function(){},s.prototype.notify=function(){},s.prototype.set=function(){},s.prototype.setValues=function(){},s.prototype.unbind=function(){},s.prototype.unbindAll=function(){},s.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},s.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var u=o[r],f=u.getPosition();f&&n.extend(f)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(n)},s.prototype.getGridSize=function(){return this.gridSize},s.prototype.setGridSize=function(e){this.gridSize=e},s.prototype.getMinimumClusterSize=function(){return this.minClusterSize},s.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},s.prototype.getMaxZoom=function(){return this.maxZoom},s.prototype.setMaxZoom=function(e){this.maxZoom=e},s.prototype.getStyles=function(){return this.styles},s.prototype.setStyles=function(e){this.styles=e},s.prototype.getTitle=function(){return this.title},s.prototype.setTitle=function(e){this.title=e},s.prototype.getZoomOnClick=function(){return this.zoomOnClick},s.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},s.prototype.getAverageCenter=function(){return this.averageCenter},s.prototype.setAverageCenter=function(e){this.averageCenter=e},s.prototype.getIgnoreHidden=function(){return this.ignoreHidden},s.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},s.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},s.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},s.prototype.getImageExtension=function(){return this.imageExtension},s.prototype.setImageExtension=function(e){this.imageExtension=e},s.prototype.getImagePath=function(){return this.imagePath},s.prototype.setImagePath=function(e){this.imagePath=e},s.prototype.getImageSizes=function(){return this.imageSizes},s.prototype.setImageSizes=function(e){this.imageSizes=e},s.prototype.getCalculator=function(){return this.calculator},s.prototype.setCalculator=function(e){this.calculator=e},s.prototype.getBatchSizeIE=function(){return this.batchSizeIE},s.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},s.prototype.getClusterClass=function(){return this.clusterClass},s.prototype.setClusterClass=function(e){this.clusterClass=e},s.prototype.getMarkers=function(){return this.markers},s.prototype.getTotalMarkers=function(){return this.markers.length},s.prototype.getClusters=function(){return this.clusters},s.prototype.getTotalClusters=function(){return this.clusters.length},s.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},s.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},s.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},s.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},s.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},s.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,u=e;o<u.length;o++){var f=u[o];r=r||this.removeMarker_(f)}return!n&&r&&this.repaint(),r},s.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},s.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var u=o[r];u.remove()}},0)},s.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var u=n.fromDivPixelToLatLng(r);u!==null&&e.extend(u)}if(o!==null){var f=n.fromDivPixelToLatLng(o);f!==null&&e.extend(f)}return e},s.prototype.redraw=function(){this.createClusters(0)},s.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var u=0,f=this.markers;u<f.length;u++){var p=f[u];p.isAdded=!1,e&&p.setMap(null)}},s.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,u=(n.lng()-e.lng())*Math.PI/180,f=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))},s.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},s.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,u=0,f=this.clusters;u<f.length;u++){var p=f[u];n=p;var g=n.getCenter(),m=e.getPosition();if(g&&m){var E=this.distanceBetweenPoints(g,m);E<r&&(r=E,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new EA(this),n.addMarker(e),this.clusters.push(n))},s.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,u=r?.getZoom()||0,f=u>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(f),g=Math.min(e+this.batchSize,this.markers.length),m=e;m<g;m++){var E=this.markers[m];E&&!E.isAdded&&this.isMarkerInBounds(E,p)&&(!this.ignoreHidden||this.ignoreHidden&&E.getVisible())&&this.addToClosestCluster(E)}if(g<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(g)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var S=0,T=this.clusters;S<T.length;S++){var O=T[S];O.updateIcon()}}}},s.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype){var f=u;this.prototype[f]=o.prototype[f]}return this}).apply(e,[n])},s})();function Jy(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function RA(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Jn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(s,e){s.setAverageCenter(e)},batchSizeIE(s,e){s.setBatchSizeIE(e)},calculator(s,e){s.setCalculator(e)},clusterClass(s,e){s.setClusterClass(e)},enableRetinaIcons(s,e){s.setEnableRetinaIcons(e)},gridSize(s,e){s.setGridSize(e)},ignoreHidden(s,e){s.setIgnoreHidden(e)},imageExtension(s,e){s.setImageExtension(e)},imagePath(s,e){s.setImagePath(e)},imageSizes(s,e){s.setImageSizes(e)},maxZoom(s,e){s.setMaxZoom(e)},minimumClusterSize(s,e){s.setMinimumClusterSize(e)},styles(s,e){s.setStyles(e)},title(s,e){s.setTitle(e)},zoomOnClick(s,e){s.setZoomOnClick(e)}},MA={};function OA(s){var{children:e,options:n,averageCenter:r,batchSizeIE:o,calculator:u,clusterClass:f,enableRetinaIcons:p,gridSize:g,ignoreHidden:m,imageExtension:E,imagePath:S,imageSizes:T,maxZoom:O,minimumClusterSize:x,styles:z,title:P,zoomOnClick:Y,onClick:j,onClusteringBegin:te,onClusteringEnd:Z,onMouseOver:q,onMouseOut:X,onLoad:w,onUnmount:R}=s,[A,I]=y.useState(null),D=y.useContext(ke),[k,M]=y.useState(null),[de,Ee]=y.useState(null),[G,le]=y.useState(null),[he,_e]=y.useState(null),[ye,V]=y.useState(null);return y.useEffect(()=>{A&&X&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(A,Jn.onMouseOut,X)))},[X]),y.useEffect(()=>{A&&q&&(ye!==null&&google.maps.event.removeListener(ye),V(google.maps.event.addListener(A,Jn.onMouseOver,q)))},[q]),y.useEffect(()=>{A&&j&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(A,Jn.onClick,j)))},[j]),y.useEffect(()=>{A&&te&&(de!==null&&google.maps.event.removeListener(de),Ee(google.maps.event.addListener(A,Jn.onClusteringBegin,te)))},[te]),y.useEffect(()=>{A&&Z&&(G!==null&&google.maps.event.removeListener(G),Ee(google.maps.event.addListener(A,Jn.onClusteringEnd,Z)))},[Z]),y.useEffect(()=>{typeof r<"u"&&A!==null&&et.averageCenter(A,r)},[A,r]),y.useEffect(()=>{typeof o<"u"&&A!==null&&et.batchSizeIE(A,o)},[A,o]),y.useEffect(()=>{typeof u<"u"&&A!==null&&et.calculator(A,u)},[A,u]),y.useEffect(()=>{typeof f<"u"&&A!==null&&et.clusterClass(A,f)},[A,f]),y.useEffect(()=>{typeof p<"u"&&A!==null&&et.enableRetinaIcons(A,p)},[A,p]),y.useEffect(()=>{typeof g<"u"&&A!==null&&et.gridSize(A,g)},[A,g]),y.useEffect(()=>{typeof m<"u"&&A!==null&&et.ignoreHidden(A,m)},[A,m]),y.useEffect(()=>{typeof E<"u"&&A!==null&&et.imageExtension(A,E)},[A,E]),y.useEffect(()=>{typeof S<"u"&&A!==null&&et.imagePath(A,S)},[A,S]),y.useEffect(()=>{typeof T<"u"&&A!==null&&et.imageSizes(A,T)},[A,T]),y.useEffect(()=>{typeof O<"u"&&A!==null&&et.maxZoom(A,O)},[A,O]),y.useEffect(()=>{typeof x<"u"&&A!==null&&et.minimumClusterSize(A,x)},[A,x]),y.useEffect(()=>{typeof z<"u"&&A!==null&&et.styles(A,z)},[A,z]),y.useEffect(()=>{typeof P<"u"&&A!==null&&et.title(A,P)},[A,P]),y.useEffect(()=>{typeof Y<"u"&&A!==null&&et.zoomOnClick(A,Y)},[A,Y]),y.useEffect(()=>{if(D){var J=RA({},n||MA),se=new B0(D,[],J);return r&&et.averageCenter(se,r),o&&et.batchSizeIE(se,o),u&&et.calculator(se,u),f&&et.clusterClass(se,f),p&&et.enableRetinaIcons(se,p),g&&et.gridSize(se,g),m&&et.ignoreHidden(se,m),E&&et.imageExtension(se,E),S&&et.imagePath(se,S),T&&et.imageSizes(se,T),O&&et.maxZoom(se,O),x&&et.minimumClusterSize(se,x),z&&et.styles(se,z),P&&et.title(se,P),Y&&et.zoomOnClick(se,Y),X&&_e(google.maps.event.addListener(se,Jn.onMouseOut,X)),q&&V(google.maps.event.addListener(se,Jn.onMouseOver,q)),j&&M(google.maps.event.addListener(se,Jn.onClick,j)),te&&Ee(google.maps.event.addListener(se,Jn.onClusteringBegin,te)),Z&&le(google.maps.event.addListener(se,Jn.onClusteringEnd,Z)),I(se),w&&w(se),()=>{he!==null&&google.maps.event.removeListener(he),ye!==null&&google.maps.event.removeListener(ye),k!==null&&google.maps.event.removeListener(k),de!==null&&google.maps.event.removeListener(de),G!==null&&google.maps.event.removeListener(G),R&&R(se)}}},[]),A!==null&&e(A)||null}y.memo(OA);class DA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new B0(this.context,[],this.props.options);this.registeredEvents=ze({updaterMap:et,eventMap:Jn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:et,eventMap:Jn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),He(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(DA,"contextType",ke);function Wy(s){s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}var j0=(function(){function s(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(s,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return s.prototype.createInfoBoxDiv=function(){var e=this,n=function(E){E.returnValue=!1,E.preventDefault&&E.preventDefault(),e.enableEventPropagation||Wy(E)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var u=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],f=0,p=u;f<p.length;f++){var g=p[f];this.eventListeners.push(google.maps.event.addListener(this.div,g,Wy))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},s.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},s.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},s.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},s.prototype.getCloseClickHandler=function(){return this.closeClickHandler},s.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,u=n.getBounds();u&&!u.contains(this.position)&&n.setCenter(this.position);var f=n.getDiv(),p=f.offsetWidth,g=f.offsetHeight,m=this.pixelOffset.width,E=this.pixelOffset.height,S=this.div.offsetWidth,T=this.div.offsetHeight,O=this.infoBoxClearance.width,x=this.infoBoxClearance.height,z=this.getProjection(),P=z.fromLatLngToContainerPixel(this.position);P!==null&&(P.x<-m+O?r=P.x+m-O:P.x+S+m+O>p&&(r=P.x+S+m+O-p),this.alignBottom?P.y<-E+x+T?o=P.y+E-x-T:P.y+E+x>g&&(o=P.y+E+x-g):P.y<-E+x?o=P.y+E-x:P.y+T+E+x>g&&(o=P.y+T+E+x-g)),r===0&&o===0||n.panBy(r,o)}}},s.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},s.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},s.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},s.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},s.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},s.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},s.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},s.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},s.prototype.getContent=function(){return this.content},s.prototype.getPosition=function(){return this.position},s.prototype.getZIndex=function(){return this.zIndex},s.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},s.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},s.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},s.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},s.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},s.prototype.extend=function(e,n){return(function(o){for(var u in o.prototype)Object.prototype.hasOwnProperty.call(this,u)||(this.prototype[u]=o.prototype[u]);return this}).apply(e,[n])},s})(),xA=["position"],IA=["position"];function e_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function zc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var t_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},n_={options(s,e){s.setOptions(e)},position(s,e){e instanceof google.maps.LatLng?s.setPosition(e):s.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(s,e){s.setVisible(e)},zIndex(s,e){s.setZIndex(e)}},VA={};function NA(s){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:f,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:E,onLoad:S,onUnmount:T}=s,O=y.useContext(ke),[x,z]=y.useState(null),[P,Y]=y.useState(null),[j,te]=y.useState(null),[Z,q]=y.useState(null),[X,w]=y.useState(null),[R,A]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{O&&x!==null&&(x.close(),n?x.open(O,n):x.getPosition()&&x.open(O))},[O,x,n]),y.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),y.useEffect(()=>{if(o&&x!==null){var D=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);x.setPosition(D)}},[o]),y.useEffect(()=>{typeof u=="number"&&x!==null&&x.setZIndex(u)},[u]),y.useEffect(()=>{x&&f&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(x,"closeclick",f)))},[f]),y.useEffect(()=>{x&&p&&(j!==null&&google.maps.event.removeListener(j),te(google.maps.event.addListener(x,"domready",p)))},[p]),y.useEffect(()=>{x&&g&&(Z!==null&&google.maps.event.removeListener(Z),q(google.maps.event.addListener(x,"content_changed",g)))},[g]),y.useEffect(()=>{x&&m&&(X!==null&&google.maps.event.removeListener(X),w(google.maps.event.addListener(x,"position_changed",m)))},[m]),y.useEffect(()=>{x&&E&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(x,"zindex_changed",E)))},[E]),y.useEffect(()=>{if(O){var D=r||VA,{position:k}=D,M=bp(D,xA),de;k&&!(k instanceof google.maps.LatLng)&&(de=new google.maps.LatLng(k.lat,k.lng));var Ee=new j0(zc(zc({},M),de?{position:de}:{}));I.current=document.createElement("div"),z(Ee),f&&Y(google.maps.event.addListener(Ee,"closeclick",f)),p&&te(google.maps.event.addListener(Ee,"domready",p)),g&&q(google.maps.event.addListener(Ee,"content_changed",g)),m&&w(google.maps.event.addListener(Ee,"position_changed",m)),E&&A(google.maps.event.addListener(Ee,"zindex_changed",E)),Ee.setContent(I.current),n?Ee.open(O,n):Ee.getPosition()?Ee.open(O):qt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),S&&S(Ee)}return()=>{x!==null&&(P&&google.maps.event.removeListener(P),Z&&google.maps.event.removeListener(Z),j&&google.maps.event.removeListener(j),X&&google.maps.event.removeListener(X),R&&google.maps.event.removeListener(R),T&&T(x),x.close())}},[]),I.current?uo.createPortal(y.Children.only(e),I.current):null}y.memo(NA);class PA extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):qt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=bp(e,IA),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var u=new j0(zc(zc({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:n_,eventMap:t_,prevProps:{},nextProps:this.props,instance:u}),this.setState({infoBox:u},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:n_,eventMap:t_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),He(this.registeredEvents),n.close())}render(){return this.containerElement?uo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(PA,"contextType",ke);var Td,i_;function kA(){return i_||(i_=1,Td=function s(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!s(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;o--!==0;){var f=u[o];if(!s(e[f],n[f]))return!1}return!0}return e!==e&&n!==n}),Td}var UA=kA(),s_=x0(UA),r_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Cd=1,El=8;class Sp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==Cd)throw new Error("Got v".concat(o," data when expected v").concat(Cd,"."));var u=r_[r&15];if(!u)throw new Error("Unrecognized array type.");var[f]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new Sp(p,f,u,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var u=r_.indexOf(this.ArrayType),f=e*2*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-p%8)%8;if(u<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,El,e),this.coords=new this.ArrayType(this.data,El+p+g,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(El+f+p+g),this.ids=new this.IndexArrayType(this.data,El,e),this.coords=new this.ArrayType(this.data,El+p+g,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Cd<<4)+u]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Hd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:u,coords:f,nodeSize:p}=this,g=[0,u.length-1,0],m=[];g.length;){var E=g.pop()||0,S=g.pop()||0,T=g.pop()||0;if(S-T<=p){for(var O=T;O<=S;O++){var x=f[2*O],z=f[2*O+1];x>=e&&x<=r&&z>=n&&z<=o&&m.push(u[O])}continue}var P=T+S>>1,Y=f[2*P],j=f[2*P+1];Y>=e&&Y<=r&&j>=n&&j<=o&&m.push(u[P]),(E===0?e<=Y:n<=j)&&(g.push(T),g.push(P-1),g.push(1-E)),(E===0?r>=Y:o>=j)&&(g.push(P+1),g.push(S),g.push(1-E))}return m}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:u,nodeSize:f}=this,p=[0,o.length-1,0],g=[],m=r*r;p.length;){var E=p.pop()||0,S=p.pop()||0,T=p.pop()||0;if(S-T<=f){for(var O=T;O<=S;O++)a_(u[2*O],u[2*O+1],e,n)<=m&&g.push(o[O]);continue}var x=T+S>>1,z=u[2*x],P=u[2*x+1];a_(z,P,e,n)<=m&&g.push(o[x]),(E===0?e-r<=z:n-r<=P)&&(p.push(T),p.push(x-1),p.push(1-E)),(E===0?e+r>=z:n+r>=P)&&(p.push(x+1),p.push(S),p.push(1-E))}return g}}function Hd(s,e,n,r,o,u){if(!(o-r<=n)){var f=r+o>>1;H0(s,e,f,r,o,u),Hd(s,e,n,r,f-1,1-u),Hd(s,e,n,f+1,o,1-u)}}function H0(s,e,n,r,o,u){for(;o>r;){if(o-r>600){var f=o-r+1,p=n-r+1,g=Math.log(f),m=.5*Math.exp(2*g/3),E=.5*Math.sqrt(g*m*(f-m)/f)*(p-f/2<0?-1:1),S=Math.max(r,Math.floor(n-p*m/f+E)),T=Math.min(o,Math.floor(n+(f-p)*m/f+E));H0(s,e,n,S,T,u)}var O=e[2*n+u],x=r,z=o;for(bl(s,e,r,n),e[2*o+u]>O&&bl(s,e,r,o);x<z;){for(bl(s,e,x,z),x++,z--;e[2*x+u]<O;)x++;for(;e[2*z+u]>O;)z--}e[2*r+u]===O?bl(s,e,r,z):(z++,bl(s,e,z,o)),z<=n&&(r=z+1),n<=z&&(o=z-1)}}function bl(s,e,n,r){Ad(s,n,r),Ad(e,2*n,2*r),Ad(e,2*n+1,2*r+1)}function Ad(s,e,n){var r=s[e];s[e]=s[n],s[n]=r}function a_(s,e,n,r){var o=s-n,u=e-r;return o*o+u*u}var zA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:s=>s},o_=Math.fround||(s=>e=>(s[0]=+e,s[0]))(new Float32Array(1)),Gr=2,sr=3,wd=4,ir=5,q0=6;class BA{constructor(e){this.options=Object.assign(Object.create(zA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");var u="prepare ".concat(e.length," points");n&&console.time(u),this.points=e;for(var f=[],p=0;p<e.length;p++){var g=e[p];if(g.geometry){var[m,E]=g.geometry.coordinates,S=o_(yc(m)),T=o_(_c(E));f.push(S,T,1/0,p,-1,1),this.options.reduce&&f.push(0)}}var O=this.trees[o+1]=this._createTree(f);n&&console.timeEnd(u);for(var x=o;x>=r;x--){var z=+Date.now();O=this.trees[x]=this._createTree(this._cluster(O,x)),n&&console.log("z%d: %d clusters in %dms",x,O.numItems,+Date.now()-z)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),u=e[2]===180?180:((e[2]+180)%360+360)%360-180,f=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,u=180;else if(r>u){var p=this.getClusters([r,o,180,f],n),g=this.getClusters([-180,o,u,f],n);return p.concat(g)}var m=this.trees[this._limitZoom(n)],E=m.range(yc(r),_c(f),yc(u),_c(o)),S=m.data,T=[];for(var O of E){var x=this.stride*O;T.push(S[x+ir]>1?l_(S,x,this.clusterProps):this.points[S[x+sr]])}return T}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",u=this.trees[r];if(!u)throw new Error(o);var f=u.data;if(n*this.stride>=f.length)throw new Error(o);var p=this.options.radius/(this.options.extent*Math.pow(2,r-1)),g=f[n*this.stride],m=f[n*this.stride+1],E=u.within(g,m,p),S=[];for(var T of E){var O=T*this.stride;f[O+wd]===e&&S.push(f[O+ir]>1?l_(f,O,this.clusterProps):this.points[f[O+sr]])}if(S.length===0)throw new Error(o);return S}getLeaves(e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){var o=this.trees[this._limitZoom(e)],u=Math.pow(2,e),{extent:f,radius:p}=this.options,g=p/f,m=(r-g)/u,E=(r+1+g)/u,S={features:[]};return this._addTileFeatures(o.range((n-g)/u,m,(n+1+g)/u,E),o.data,n,r,u,S),n===0&&this._addTileFeatures(o.range(1-g/u,m,1,E),o.data,u,r,u,S),n===u-1&&this._addTileFeatures(o.range(0,m,g/u,E),o.data,-1,r,u,S),S.features.length?S:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,u){var f=this.getChildren(n);for(var p of f){var g=p.properties;if(g&&g.cluster?u+g.point_count<=o?u+=g.point_count:u=this._appendLeaves(e,g.cluster_id,r,o,u):u<o?u++:e.push(p),e.length===r)break}return u}_createTree(e){for(var n=new Sp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,u,f){for(var p of e){var g=p*this.stride,m=n[g+ir]>1,E=void 0,S=void 0,T=void 0;if(m)E=G0(n,g,this.clusterProps),S=n[g],T=n[g+1];else{var O=this.points[n[g+sr]];E=O.properties;var[x,z]=O.geometry.coordinates;S=yc(x),T=_c(z)}var P={type:1,geometry:[[Math.round(this.options.extent*(S*u-r)),Math.round(this.options.extent*(T*u-o))]],tags:E},Y=void 0;m||this.options.generateId?Y=n[g+sr]:Y=this.points[n[g+sr]].id,Y!==void 0&&(P.id=Y),f.features.push(P)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:o,reduce:u,minPoints:f}=this.options,p=r/(o*Math.pow(2,n)),g=e.data,m=[],E=this.stride,S=0;S<g.length;S+=E)if(!(g[S+Gr]<=n)){g[S+Gr]=n;var T=g[S],O=g[S+1],x=e.within(g[S],g[S+1],p),z=g[S+ir],P=z;for(var Y of x){var j=Y*E;g[j+Gr]>n&&(P+=g[j+ir])}if(P>z&&P>=f){var te=T*z,Z=O*z,q=void 0,X=-1,w=((S/E|0)<<5)+(n+1)+this.points.length;for(var R of x){var A=R*E;if(!(g[A+Gr]<=n)){g[A+Gr]=n;var I=g[A+ir];te+=g[A]*I,Z+=g[A+1]*I,g[A+wd]=w,u&&(q||(q=this._map(g,S,!0),X=this.clusterProps.length,this.clusterProps.push(q)),u(q,this._map(g,A)))}}g[S+wd]=w,m.push(te/P,Z/P,1/0,w,-1,P),u&&m.push(X)}else{for(var D=0;D<E;D++)m.push(g[S+D]);if(P>1)for(var k of x){var M=k*E;if(!(g[M+Gr]<=n)){g[M+Gr]=n;for(var de=0;de<E;de++)m.push(g[M+de])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+ir]>1){var o=this.clusterProps[e[n+q0]];return r?Object.assign({},o):o}var u=this.points[e[n+sr]].properties,f=this.options.map(u);return r&&f===u?Object.assign({},f):f}}function l_(s,e,n){return{type:"Feature",id:s[e+sr],properties:G0(s,e,n),geometry:{type:"Point",coordinates:[jA(s[e]),HA(s[e+1])]}}}function G0(s,e,n){var r=s[e+ir],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,u=s[e+q0],f=u===-1?{}:Object.assign({},n[u]);return Object.assign(f,{cluster:!0,cluster_id:s[e+sr],point_count:r,point_count_abbreviated:o})}function yc(s){return s/360+.5}function _c(s){var e=Math.sin(s*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function jA(s){return(s-.5)*360}function HA(s){var e=(180-s*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qA(s,e){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(n[r[o]]=s[r[o]]);return n}class zn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class qd{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(zn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>zn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(zn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class GA{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return FA(n)}}var FA=s=>{var e=s.map(n=>new qd({position:zn.getPosition(n),markers:[n]}));return e};class QA extends GA{constructor(e){var{maxZoom:n,radius:r=60}=e,o=qA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new BA(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!s_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(u=>{var f=zn.getPosition(u),p=[f.lng(),f.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:u}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!s_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:o}=e;if(o.cluster)return new qd({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(f=>f.properties.marker),position:{lat:r,lng:n}});var u=o.marker;return new qd({markers:[u],position:zn.getPosition(u)})}}class YA{constructor(e,n){this.markers={sum:e.length};var r=n.map(u=>u.count),o=r.reduce((u,f)=>u+f,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class KA{render(e,n,r){var{count:o,position:u}=e,f=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(f,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),g="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(zn.isAdvancedMarkerAvailable(r)){var E=new DOMParser,S=E.parseFromString(p,"image/svg+xml").documentElement;S.setAttribute("transform","translate(0 25)");var T={map:r,position:u,zIndex:m,title:g,content:S};return new google.maps.marker.AdvancedMarkerElement(T)}var O={position:u,zIndex:m,title:g,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(O)}}function ZA(s,e){for(var n in e.prototype)s.prototype[n]=e.prototype[n]}class Tp{constructor(){ZA(Tp,google.maps.OverlayView)}}var wl;(function(s){s.CLUSTERING_BEGIN="clusteringbegin",s.CLUSTERING_END="clusteringend",s.CLUSTER_CLICK="click"})(wl||(wl={}));var $A=(s,e,n)=>{n.fitBounds(e.bounds)};class XA extends Tp{constructor(e){var{map:n,markers:r=[],algorithmOptions:o={},algorithm:u=new QA(o),renderer:f=new KA,onClusterClick:p=$A}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=u,this.renderer=f,this.onClusterClick=p,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(zn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,wl.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var u of n)u.markers.length==1&&o.add(u.markers[0]);var f=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?o.has(p.marker)||zn.setMap(p.marker,null):f.push(p.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>f.forEach(g=>zn.setMap(g,null)))}google.maps.event.trigger(this,wl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>zn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new YA(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>zn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,wl.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),zn.setMap(r.marker,n)})}}function u_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function c_(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function JA(s){var e=XC(),[n,r]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var o=new XA(c_(c_({},s),{},{map:e}));r(o)}},[e]),n}function WA(s){var{children:e,options:n}=s,r=JA(n);return r!==null?e(r):null}y.memo(WA);var h_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},f_={options(s,e){s.setOptions(e)},position(s,e){s.setPosition(e)},zIndex(s,e){s.setZIndex(e)}};function ew(s){var{children:e,anchor:n,options:r,position:o,zIndex:u,onCloseClick:f,onDomReady:p,onContentChanged:g,onPositionChanged:m,onZindexChanged:E,onLoad:S,onUnmount:T}=s,O=y.useContext(ke),[x,z]=y.useState(null),[P,Y]=y.useState(null),[j,te]=y.useState(null),[Z,q]=y.useState(null),[X,w]=y.useState(null),[R,A]=y.useState(null),I=y.useRef(null);return y.useEffect(()=>{x!==null&&(x.close(),n?x.open(O,n):x.getPosition()&&x.open(O))},[O,x,n]),y.useEffect(()=>{r&&x!==null&&x.setOptions(r)},[x,r]),y.useEffect(()=>{o&&x!==null&&x.setPosition(o)},[o]),y.useEffect(()=>{typeof u=="number"&&x!==null&&x.setZIndex(u)},[u]),y.useEffect(()=>{x&&f&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(x,"closeclick",f)))},[f]),y.useEffect(()=>{x&&p&&(j!==null&&google.maps.event.removeListener(j),te(google.maps.event.addListener(x,"domready",p)))},[p]),y.useEffect(()=>{x&&g&&(Z!==null&&google.maps.event.removeListener(Z),q(google.maps.event.addListener(x,"content_changed",g)))},[g]),y.useEffect(()=>{x&&m&&(X!==null&&google.maps.event.removeListener(X),w(google.maps.event.addListener(x,"position_changed",m)))},[m]),y.useEffect(()=>{x&&E&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(x,"zindex_changed",E)))},[E]),y.useEffect(()=>{var D=new google.maps.InfoWindow(r);return z(D),I.current=document.createElement("div"),f&&Y(google.maps.event.addListener(D,"closeclick",f)),p&&te(google.maps.event.addListener(D,"domready",p)),g&&q(google.maps.event.addListener(D,"content_changed",g)),m&&w(google.maps.event.addListener(D,"position_changed",m)),E&&A(google.maps.event.addListener(D,"zindex_changed",E)),D.setContent(I.current),o&&D.setPosition(o),u&&D.setZIndex(u),n?D.open(O,n):D.getPosition()?D.open(O):qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),S&&S(D),()=>{P&&google.maps.event.removeListener(P),Z&&google.maps.event.removeListener(Z),j&&google.maps.event.removeListener(j),X&&google.maps.event.removeListener(X),R&&google.maps.event.removeListener(R),T&&T(D),D.close()}},[]),I.current?uo.createPortal(y.Children.only(e),I.current):null}y.memo(ew);class F0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:f_,eventMap:h_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:f_,eventMap:h_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(He(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?uo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ne(F0,"contextType",ke);function d_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Bc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var p_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},g_={draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},path(s,e){s.setPath(e)},visible(s,e){s.setVisible(e)}},tw={};function nw(s){var{options:e,draggable:n,editable:r,visible:o,path:u,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:E,onMouseOut:S,onMouseOver:T,onMouseUp:O,onRightClick:x,onClick:z,onDrag:P,onLoad:Y,onUnmount:j}=s,te=y.useContext(ke),[Z,q]=y.useState(null),[X,w]=y.useState(null),[R,A]=y.useState(null),[I,D]=y.useState(null),[k,M]=y.useState(null),[de,Ee]=y.useState(null),[G,le]=y.useState(null),[he,_e]=y.useState(null),[ye,V]=y.useState(null),[J,se]=y.useState(null),[ue,K]=y.useState(null),[me,Se]=y.useState(null);return y.useEffect(()=>{Z!==null&&Z.setMap(te)},[te]),y.useEffect(()=>{typeof e<"u"&&Z!==null&&Z.setOptions(e)},[Z,e]),y.useEffect(()=>{typeof n<"u"&&Z!==null&&Z.setDraggable(n)},[Z,n]),y.useEffect(()=>{typeof r<"u"&&Z!==null&&Z.setEditable(r)},[Z,r]),y.useEffect(()=>{typeof o<"u"&&Z!==null&&Z.setVisible(o)},[Z,o]),y.useEffect(()=>{typeof u<"u"&&Z!==null&&Z.setPath(u)},[Z,u]),y.useEffect(()=>{Z&&f&&(X!==null&&google.maps.event.removeListener(X),w(google.maps.event.addListener(Z,"dblclick",f)))},[f]),y.useEffect(()=>{Z&&p&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(Z,"dragend",p)))},[p]),y.useEffect(()=>{Z&&g&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(Z,"dragstart",g)))},[g]),y.useEffect(()=>{Z&&m&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(Z,"mousedown",m)))},[m]),y.useEffect(()=>{Z&&E&&(de!==null&&google.maps.event.removeListener(de),Ee(google.maps.event.addListener(Z,"mousemove",E)))},[E]),y.useEffect(()=>{Z&&S&&(G!==null&&google.maps.event.removeListener(G),le(google.maps.event.addListener(Z,"mouseout",S)))},[S]),y.useEffect(()=>{Z&&T&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(Z,"mouseover",T)))},[T]),y.useEffect(()=>{Z&&O&&(ye!==null&&google.maps.event.removeListener(ye),V(google.maps.event.addListener(Z,"mouseup",O)))},[O]),y.useEffect(()=>{Z&&x&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(Z,"rightclick",x)))},[x]),y.useEffect(()=>{Z&&z&&(ue!==null&&google.maps.event.removeListener(ue),K(google.maps.event.addListener(Z,"click",z)))},[z]),y.useEffect(()=>{Z&&P&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(Z,"drag",P)))},[P]),y.useEffect(()=>{var Te=new google.maps.Polyline(Bc(Bc({},e||tw),{},{map:te}));return u&&Te.setPath(u),typeof o<"u"&&Te.setVisible(o),typeof r<"u"&&Te.setEditable(r),typeof n<"u"&&Te.setDraggable(n),f&&w(google.maps.event.addListener(Te,"dblclick",f)),p&&A(google.maps.event.addListener(Te,"dragend",p)),g&&D(google.maps.event.addListener(Te,"dragstart",g)),m&&M(google.maps.event.addListener(Te,"mousedown",m)),E&&Ee(google.maps.event.addListener(Te,"mousemove",E)),S&&le(google.maps.event.addListener(Te,"mouseout",S)),T&&_e(google.maps.event.addListener(Te,"mouseover",T)),O&&V(google.maps.event.addListener(Te,"mouseup",O)),x&&se(google.maps.event.addListener(Te,"rightclick",x)),z&&K(google.maps.event.addListener(Te,"click",z)),P&&Se(google.maps.event.addListener(Te,"drag",P)),q(Te),Y&&Y(Te),()=>{X!==null&&google.maps.event.removeListener(X),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),de!==null&&google.maps.event.removeListener(de),G!==null&&google.maps.event.removeListener(G),he!==null&&google.maps.event.removeListener(he),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ue!==null&&google.maps.event.removeListener(ue),j&&j(Te),Te.setMap(null)}},[]),null}y.memo(nw);class iw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Bc(Bc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:g_,eventMap:p_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:g_,eventMap:p_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),He(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(iw,"contextType",ke);function m_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function v_(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var y_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},__={draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},path(s,e){s.setPath(e)},paths(s,e){s.setPaths(e)},visible(s,e){s.setVisible(e)}};function sw(s){var{options:e,draggable:n,editable:r,visible:o,path:u,paths:f,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:E,onMouseMove:S,onMouseOut:T,onMouseOver:O,onMouseUp:x,onRightClick:z,onClick:P,onDrag:Y,onLoad:j,onUnmount:te,onEdit:Z}=s,q=y.useContext(ke),[X,w]=y.useState(null),[R,A]=y.useState(null),[I,D]=y.useState(null),[k,M]=y.useState(null),[de,Ee]=y.useState(null),[G,le]=y.useState(null),[he,_e]=y.useState(null),[ye,V]=y.useState(null),[J,se]=y.useState(null),[ue,K]=y.useState(null),[me,Se]=y.useState(null),[Te,Oe]=y.useState(null);return y.useEffect(()=>{X!==null&&X.setMap(q)},[q]),y.useEffect(()=>{typeof e<"u"&&X!==null&&X.setOptions(e)},[X,e]),y.useEffect(()=>{typeof n<"u"&&X!==null&&X.setDraggable(n)},[X,n]),y.useEffect(()=>{typeof r<"u"&&X!==null&&X.setEditable(r)},[X,r]),y.useEffect(()=>{typeof o<"u"&&X!==null&&X.setVisible(o)},[X,o]),y.useEffect(()=>{typeof u<"u"&&X!==null&&X.setPath(u)},[X,u]),y.useEffect(()=>{typeof f<"u"&&X!==null&&X.setPaths(f)},[X,f]),y.useEffect(()=>{X&&typeof p=="function"&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(X,"dblclick",p)))},[p]),y.useEffect(()=>{X&&(google.maps.event.addListener(X.getPath(),"insert_at",()=>{Z?.(X)}),google.maps.event.addListener(X.getPath(),"set_at",()=>{Z?.(X)}),google.maps.event.addListener(X.getPath(),"remove_at",()=>{Z?.(X)}))},[X,Z]),y.useEffect(()=>{X&&typeof g=="function"&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(X,"dragend",g)))},[g]),y.useEffect(()=>{X&&typeof m=="function"&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(X,"dragstart",m)))},[m]),y.useEffect(()=>{X&&typeof E=="function"&&(de!==null&&google.maps.event.removeListener(de),Ee(google.maps.event.addListener(X,"mousedown",E)))},[E]),y.useEffect(()=>{X&&typeof S=="function"&&(G!==null&&google.maps.event.removeListener(G),le(google.maps.event.addListener(X,"mousemove",S)))},[S]),y.useEffect(()=>{X&&typeof T=="function"&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(X,"mouseout",T)))},[T]),y.useEffect(()=>{X&&typeof O=="function"&&(ye!==null&&google.maps.event.removeListener(ye),V(google.maps.event.addListener(X,"mouseover",O)))},[O]),y.useEffect(()=>{X&&typeof x=="function"&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(X,"mouseup",x)))},[x]),y.useEffect(()=>{X&&typeof z=="function"&&(ue!==null&&google.maps.event.removeListener(ue),K(google.maps.event.addListener(X,"rightclick",z)))},[z]),y.useEffect(()=>{X&&typeof P=="function"&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(X,"click",P)))},[P]),y.useEffect(()=>{X&&typeof Y=="function"&&(Te!==null&&google.maps.event.removeListener(Te),Oe(google.maps.event.addListener(X,"drag",Y)))},[Y]),y.useEffect(()=>{var Ce=new google.maps.Polygon(v_(v_({},e),{},{map:q}));return u&&Ce.setPath(u),f&&Ce.setPaths(f),typeof o<"u"&&Ce.setVisible(o),typeof r<"u"&&Ce.setEditable(r),typeof n<"u"&&Ce.setDraggable(n),p&&A(google.maps.event.addListener(Ce,"dblclick",p)),g&&D(google.maps.event.addListener(Ce,"dragend",g)),m&&M(google.maps.event.addListener(Ce,"dragstart",m)),E&&Ee(google.maps.event.addListener(Ce,"mousedown",E)),S&&le(google.maps.event.addListener(Ce,"mousemove",S)),T&&_e(google.maps.event.addListener(Ce,"mouseout",T)),O&&V(google.maps.event.addListener(Ce,"mouseover",O)),x&&se(google.maps.event.addListener(Ce,"mouseup",x)),z&&K(google.maps.event.addListener(Ce,"rightclick",z)),P&&Se(google.maps.event.addListener(Ce,"click",P)),Y&&Oe(google.maps.event.addListener(Ce,"drag",Y)),w(Ce),j&&j(Ce),()=>{R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),de!==null&&google.maps.event.removeListener(de),G!==null&&google.maps.event.removeListener(G),he!==null&&google.maps.event.removeListener(he),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),te&&te(Ce),Ce.setMap(null)}},[]),null}y.memo(sw);class rw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ze({updaterMap:__,eventMap:y_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:__,eventMap:y_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),He(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(rw,"contextType",ke);function E_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function jc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var b_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},S_={bounds(s,e){s.setBounds(e)},draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},visible(s,e){s.setVisible(e)}};function aw(s){var{options:e,bounds:n,draggable:r,editable:o,visible:u,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:m,onMouseMove:E,onMouseOut:S,onMouseOver:T,onMouseUp:O,onRightClick:x,onClick:z,onDrag:P,onBoundsChanged:Y,onLoad:j,onUnmount:te}=s,Z=y.useContext(ke),[q,X]=y.useState(null),[w,R]=y.useState(null),[A,I]=y.useState(null),[D,k]=y.useState(null),[M,de]=y.useState(null),[Ee,G]=y.useState(null),[le,he]=y.useState(null),[_e,ye]=y.useState(null),[V,J]=y.useState(null),[se,ue]=y.useState(null),[K,me]=y.useState(null),[Se,Te]=y.useState(null),[Oe,Ce]=y.useState(null);return y.useEffect(()=>{q!==null&&q.setMap(Z)},[Z]),y.useEffect(()=>{typeof e<"u"&&q!==null&&q.setOptions(e)},[q,e]),y.useEffect(()=>{typeof r<"u"&&q!==null&&q.setDraggable(r)},[q,r]),y.useEffect(()=>{typeof o<"u"&&q!==null&&q.setEditable(o)},[q,o]),y.useEffect(()=>{typeof u<"u"&&q!==null&&q.setVisible(u)},[q,u]),y.useEffect(()=>{typeof n<"u"&&q!==null&&q.setBounds(n)},[q,n]),y.useEffect(()=>{q&&f&&(w!==null&&google.maps.event.removeListener(w),R(google.maps.event.addListener(q,"dblclick",f)))},[f]),y.useEffect(()=>{q&&p&&(A!==null&&google.maps.event.removeListener(A),I(google.maps.event.addListener(q,"dragend",p)))},[p]),y.useEffect(()=>{q&&g&&(D!==null&&google.maps.event.removeListener(D),k(google.maps.event.addListener(q,"dragstart",g)))},[g]),y.useEffect(()=>{q&&m&&(M!==null&&google.maps.event.removeListener(M),de(google.maps.event.addListener(q,"mousedown",m)))},[m]),y.useEffect(()=>{q&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),G(google.maps.event.addListener(q,"mousemove",E)))},[E]),y.useEffect(()=>{q&&S&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(q,"mouseout",S)))},[S]),y.useEffect(()=>{q&&T&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(q,"mouseover",T)))},[T]),y.useEffect(()=>{q&&O&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(q,"mouseup",O)))},[O]),y.useEffect(()=>{q&&x&&(se!==null&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(q,"rightclick",x)))},[x]),y.useEffect(()=>{q&&z&&(K!==null&&google.maps.event.removeListener(K),me(google.maps.event.addListener(q,"click",z)))},[z]),y.useEffect(()=>{q&&P&&(Se!==null&&google.maps.event.removeListener(Se),Te(google.maps.event.addListener(q,"drag",P)))},[P]),y.useEffect(()=>{q&&Y&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(q,"bounds_changed",Y)))},[Y]),y.useEffect(()=>{var Ue=new google.maps.Rectangle(jc(jc({},e),{},{map:Z}));return typeof u<"u"&&Ue.setVisible(u),typeof o<"u"&&Ue.setEditable(o),typeof r<"u"&&Ue.setDraggable(r),typeof n<"u"&&Ue.setBounds(n),f&&R(google.maps.event.addListener(Ue,"dblclick",f)),p&&I(google.maps.event.addListener(Ue,"dragend",p)),g&&k(google.maps.event.addListener(Ue,"dragstart",g)),m&&de(google.maps.event.addListener(Ue,"mousedown",m)),E&&G(google.maps.event.addListener(Ue,"mousemove",E)),S&&he(google.maps.event.addListener(Ue,"mouseout",S)),T&&ye(google.maps.event.addListener(Ue,"mouseover",T)),O&&J(google.maps.event.addListener(Ue,"mouseup",O)),x&&ue(google.maps.event.addListener(Ue,"rightclick",x)),z&&me(google.maps.event.addListener(Ue,"click",z)),P&&Te(google.maps.event.addListener(Ue,"drag",P)),Y&&Ce(google.maps.event.addListener(Ue,"bounds_changed",Y)),X(Ue),j&&j(Ue),()=>{w!==null&&google.maps.event.removeListener(w),A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),M!==null&&google.maps.event.removeListener(M),Ee!==null&&google.maps.event.removeListener(Ee),le!==null&&google.maps.event.removeListener(le),_e!==null&&google.maps.event.removeListener(_e),V!==null&&google.maps.event.removeListener(V),se!==null&&google.maps.event.removeListener(se),K!==null&&google.maps.event.removeListener(K),Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),te&&te(Ue),Ue.setMap(null)}},[]),null}y.memo(aw);class ow extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(jc(jc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:S_,eventMap:b_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:S_,eventMap:b_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),He(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(ow,"contextType",ke);function T_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Hc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var C_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},A_={center(s,e){s.setCenter(e)},draggable(s,e){s.setDraggable(e)},editable(s,e){s.setEditable(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},radius(s,e){s.setRadius(e)},visible(s,e){s.setVisible(e)}},lw={};function uw(s){var{options:e,center:n,radius:r,draggable:o,editable:u,visible:f,onDblClick:p,onDragEnd:g,onDragStart:m,onMouseDown:E,onMouseMove:S,onMouseOut:T,onMouseOver:O,onMouseUp:x,onRightClick:z,onClick:P,onDrag:Y,onCenterChanged:j,onRadiusChanged:te,onLoad:Z,onUnmount:q}=s,X=y.useContext(ke),[w,R]=y.useState(null),[A,I]=y.useState(null),[D,k]=y.useState(null),[M,de]=y.useState(null),[Ee,G]=y.useState(null),[le,he]=y.useState(null),[_e,ye]=y.useState(null),[V,J]=y.useState(null),[se,ue]=y.useState(null),[K,me]=y.useState(null),[Se,Te]=y.useState(null),[Oe,Ce]=y.useState(null),[Ue,Gt]=y.useState(null),[rn,an]=y.useState(null);return y.useEffect(()=>{w!==null&&w.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&w!==null&&w.setOptions(e)},[w,e]),y.useEffect(()=>{typeof o<"u"&&w!==null&&w.setDraggable(o)},[w,o]),y.useEffect(()=>{typeof u<"u"&&w!==null&&w.setEditable(u)},[w,u]),y.useEffect(()=>{typeof f<"u"&&w!==null&&w.setVisible(f)},[w,f]),y.useEffect(()=>{typeof r=="number"&&w!==null&&w.setRadius(r)},[w,r]),y.useEffect(()=>{typeof n<"u"&&w!==null&&w.setCenter(n)},[w,n]),y.useEffect(()=>{w&&p&&(A!==null&&google.maps.event.removeListener(A),I(google.maps.event.addListener(w,"dblclick",p)))},[p]),y.useEffect(()=>{w&&g&&(D!==null&&google.maps.event.removeListener(D),k(google.maps.event.addListener(w,"dragend",g)))},[g]),y.useEffect(()=>{w&&m&&(M!==null&&google.maps.event.removeListener(M),de(google.maps.event.addListener(w,"dragstart",m)))},[m]),y.useEffect(()=>{w&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),G(google.maps.event.addListener(w,"mousedown",E)))},[E]),y.useEffect(()=>{w&&S&&(le!==null&&google.maps.event.removeListener(le),he(google.maps.event.addListener(w,"mousemove",S)))},[S]),y.useEffect(()=>{w&&T&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(w,"mouseout",T)))},[T]),y.useEffect(()=>{w&&O&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(w,"mouseover",O)))},[O]),y.useEffect(()=>{w&&x&&(se!==null&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(w,"mouseup",x)))},[x]),y.useEffect(()=>{w&&z&&(K!==null&&google.maps.event.removeListener(K),me(google.maps.event.addListener(w,"rightclick",z)))},[z]),y.useEffect(()=>{w&&P&&(Se!==null&&google.maps.event.removeListener(Se),Te(google.maps.event.addListener(w,"click",P)))},[P]),y.useEffect(()=>{w&&Y&&(Oe!==null&&google.maps.event.removeListener(Oe),Ce(google.maps.event.addListener(w,"drag",Y)))},[Y]),y.useEffect(()=>{w&&j&&(Ue!==null&&google.maps.event.removeListener(Ue),Gt(google.maps.event.addListener(w,"center_changed",j)))},[P]),y.useEffect(()=>{w&&te&&(rn!==null&&google.maps.event.removeListener(rn),an(google.maps.event.addListener(w,"radius_changed",te)))},[te]),y.useEffect(()=>{var Ye=new google.maps.Circle(Hc(Hc({},e||lw),{},{map:X}));return typeof r=="number"&&Ye.setRadius(r),typeof n<"u"&&Ye.setCenter(n),typeof r=="number"&&Ye.setRadius(r),typeof f<"u"&&Ye.setVisible(f),typeof u<"u"&&Ye.setEditable(u),typeof o<"u"&&Ye.setDraggable(o),p&&I(google.maps.event.addListener(Ye,"dblclick",p)),g&&k(google.maps.event.addListener(Ye,"dragend",g)),m&&de(google.maps.event.addListener(Ye,"dragstart",m)),E&&G(google.maps.event.addListener(Ye,"mousedown",E)),S&&he(google.maps.event.addListener(Ye,"mousemove",S)),T&&ye(google.maps.event.addListener(Ye,"mouseout",T)),O&&J(google.maps.event.addListener(Ye,"mouseover",O)),x&&ue(google.maps.event.addListener(Ye,"mouseup",x)),z&&me(google.maps.event.addListener(Ye,"rightclick",z)),P&&Te(google.maps.event.addListener(Ye,"click",P)),Y&&Ce(google.maps.event.addListener(Ye,"drag",Y)),j&&Gt(google.maps.event.addListener(Ye,"center_changed",j)),te&&an(google.maps.event.addListener(Ye,"radius_changed",te)),R(Ye),Z&&Z(Ye),()=>{A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),M!==null&&google.maps.event.removeListener(M),Ee!==null&&google.maps.event.removeListener(Ee),le!==null&&google.maps.event.removeListener(le),_e!==null&&google.maps.event.removeListener(_e),V!==null&&google.maps.event.removeListener(V),se!==null&&google.maps.event.removeListener(se),K!==null&&google.maps.event.removeListener(K),Se!==null&&google.maps.event.removeListener(Se),Ue!==null&&google.maps.event.removeListener(Ue),rn!==null&&google.maps.event.removeListener(rn),q&&q(Ye),Ye.setMap(null)}},[]),null}y.memo(uw);class cw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Hc(Hc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:A_,eventMap:C_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:A_,eventMap:C_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),He(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(cw,"contextType",ke);function w_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function qc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var L_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},R_={add(s,e){s.add(e)},addgeojson(s,e,n){s.addGeoJson(e,n)},contains(s,e){s.contains(e)},foreach(s,e){s.forEach(e)},loadgeojson(s,e,n,r){s.loadGeoJson(e,n,r)},overridestyle(s,e,n){s.overrideStyle(e,n)},remove(s,e){s.remove(e)},revertstyle(s,e){s.revertStyle(e)},controlposition(s,e){s.setControlPosition(e)},controls(s,e){s.setControls(e)},drawingmode(s,e){s.setDrawingMode(e)},map(s,e){s.setMap(e)},style(s,e){s.setStyle(e)},togeojson(s,e){s.toGeoJson(e)}};function hw(s){var{options:e,onClick:n,onDblClick:r,onMouseDown:o,onMouseMove:u,onMouseOut:f,onMouseOver:p,onMouseUp:g,onRightClick:m,onAddFeature:E,onRemoveFeature:S,onRemoveProperty:T,onSetGeometry:O,onSetProperty:x,onLoad:z,onUnmount:P}=s,Y=y.useContext(ke),[j,te]=y.useState(null),[Z,q]=y.useState(null),[X,w]=y.useState(null),[R,A]=y.useState(null),[I,D]=y.useState(null),[k,M]=y.useState(null),[de,Ee]=y.useState(null),[G,le]=y.useState(null),[he,_e]=y.useState(null),[ye,V]=y.useState(null),[J,se]=y.useState(null),[ue,K]=y.useState(null),[me,Se]=y.useState(null),[Te,Oe]=y.useState(null);return y.useEffect(()=>{j!==null&&j.setMap(Y)},[Y]),y.useEffect(()=>{j&&r&&(Z!==null&&google.maps.event.removeListener(Z),q(google.maps.event.addListener(j,"dblclick",r)))},[r]),y.useEffect(()=>{j&&o&&(X!==null&&google.maps.event.removeListener(X),w(google.maps.event.addListener(j,"mousedown",o)))},[o]),y.useEffect(()=>{j&&u&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(j,"mousemove",u)))},[u]),y.useEffect(()=>{j&&f&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(j,"mouseout",f)))},[f]),y.useEffect(()=>{j&&p&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(j,"mouseover",p)))},[p]),y.useEffect(()=>{j&&g&&(de!==null&&google.maps.event.removeListener(de),Ee(google.maps.event.addListener(j,"mouseup",g)))},[g]),y.useEffect(()=>{j&&m&&(G!==null&&google.maps.event.removeListener(G),le(google.maps.event.addListener(j,"rightclick",m)))},[m]),y.useEffect(()=>{j&&n&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(j,"click",n)))},[n]),y.useEffect(()=>{j&&E&&(ye!==null&&google.maps.event.removeListener(ye),V(google.maps.event.addListener(j,"addfeature",E)))},[E]),y.useEffect(()=>{j&&S&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(j,"removefeature",S)))},[S]),y.useEffect(()=>{j&&T&&(ue!==null&&google.maps.event.removeListener(ue),K(google.maps.event.addListener(j,"removeproperty",T)))},[T]),y.useEffect(()=>{j&&O&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(j,"setgeometry",O)))},[O]),y.useEffect(()=>{j&&x&&(Te!==null&&google.maps.event.removeListener(Te),Oe(google.maps.event.addListener(j,"setproperty",x)))},[x]),y.useEffect(()=>{if(Y!==null){var Ce=new google.maps.Data(qc(qc({},e),{},{map:Y}));r&&q(google.maps.event.addListener(Ce,"dblclick",r)),o&&w(google.maps.event.addListener(Ce,"mousedown",o)),u&&A(google.maps.event.addListener(Ce,"mousemove",u)),f&&D(google.maps.event.addListener(Ce,"mouseout",f)),p&&M(google.maps.event.addListener(Ce,"mouseover",p)),g&&Ee(google.maps.event.addListener(Ce,"mouseup",g)),m&&le(google.maps.event.addListener(Ce,"rightclick",m)),n&&_e(google.maps.event.addListener(Ce,"click",n)),E&&V(google.maps.event.addListener(Ce,"addfeature",E)),S&&se(google.maps.event.addListener(Ce,"removefeature",S)),T&&K(google.maps.event.addListener(Ce,"removeproperty",T)),O&&Se(google.maps.event.addListener(Ce,"setgeometry",O)),x&&Oe(google.maps.event.addListener(Ce,"setproperty",x)),te(Ce),z&&z(Ce)}return()=>{j&&(Z!==null&&google.maps.event.removeListener(Z),X!==null&&google.maps.event.removeListener(X),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),k!==null&&google.maps.event.removeListener(k),de!==null&&google.maps.event.removeListener(de),G!==null&&google.maps.event.removeListener(G),he!==null&&google.maps.event.removeListener(he),ye!==null&&google.maps.event.removeListener(ye),J!==null&&google.maps.event.removeListener(J),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),Te!==null&&google.maps.event.removeListener(Te),P&&P(j),j.setMap(null))}},[]),null}y.memo(hw);class fw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(qc(qc({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:R_,eventMap:L_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:R_,eventMap:L_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),He(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(fw,"contextType",ke);function M_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function O_(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var D_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},x_={options(s,e){s.setOptions(e)},url(s,e){s.setUrl(e)},zIndex(s,e){s.setZIndex(e)}};class dw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(O_(O_({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:x_,eventMap:D_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:x_,eventMap:D_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),He(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(dw,"contextType",ke);function Q0(s,e){return typeof e=="function"?e(s.offsetWidth,s.offsetHeight):{x:0,y:0}}function pw(s,e){return new e(s.lat,s.lng)}function gw(s,e){return new e(new google.maps.LatLng(s.ne.lat,s.ne.lng),new google.maps.LatLng(s.sw.lat,s.sw.lng))}function mw(s,e,n){return s instanceof e?s:n(s,e)}function vw(s,e,n){return s instanceof e?s:n(s,e)}function yw(s,e,n){var r=s&&s.fromLatLngToDivPixel(n.getNorthEast()),o=s&&s.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function _w(s,e,n){var r=s&&s.fromLatLngToDivPixel(n);if(r){var{x:o,y:u}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(u+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Y0(s,e,n,r){return n!==void 0?yw(s,e,vw(n,google.maps.LatLngBounds,gw)):_w(s,e,mw(r,google.maps.LatLng,pw))}function Ew(s,e){return s.left===e.left&&s.top===e.top&&s.width===e.height&&s.height===e.height}function I_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function bw(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function Sw(s,e,n,r,o){class u extends google.maps.OverlayView{constructor(p,g,m,E){super(),this.container=p,this.pane=g,this.position=m,this.bounds=E}onAdd(){var p,g=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];g?.appendChild(this.container)}draw(){var p=this.getProjection(),g=bw({},this.container?Q0(this.container,o):{x:0,y:0}),m=Y0(p,g,this.bounds,this.position);for(var[E,S]of Object.entries(m))this.container.style[E]=S}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new u(s,e,n,r)}function V_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Tw(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function N_(s){if(!s)return"";var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);return e+""}function P_(s){if(!s)return"";var e=s instanceof google.maps.LatLngBounds?s:new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.east),new google.maps.LatLng(s.north,s.west));return e+""}function Cw(s){var{position:e,bounds:n,mapPaneName:r,zIndex:o,onLoad:u,onUnmount:f,getPixelPositionOffset:p,children:g}=s,m=y.useContext(ke),E=y.useMemo(()=>{var T=document.createElement("div");return T.style.position="absolute",T},[]),S=y.useMemo(()=>Sw(E,r,e,n,p),[E,r,e,n]);return y.useEffect(()=>(u?.(S),S?.setMap(m),()=>{f?.(S),S?.setMap(null)}),[m,S]),y.useEffect(()=>{E.style.zIndex="".concat(o)},[o,E]),uo.createPortal(g,E)}y.memo(Cw);class co extends y.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();qt(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=Tw({x:0,y:0},this.containerRef.current?Q0(this.containerRef.current,this.props.getPixelPositionOffset):{}),u=Y0(r,o,this.props.bounds,this.props.position);if(!Ew(u,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var f,p,g,m;this.setState({containerStyle:{top:(f=u.top)!==null&&f!==void 0?f:0,left:(p=u.left)!==null&&p!==void 0?p:0,width:(g=u.width)!==null&&g!==void 0?g:0,height:(m=u.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=N_(e.position),r=N_(this.props.position),o=P_(e.bounds),u=P_(this.props.bounds);(n!==r||o!==u)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?uo.createPortal(Me.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ne(co,"FLOAT_PANE","floatPane");ne(co,"MAP_PANE","mapPane");ne(co,"MARKER_LAYER","markerLayer");ne(co,"OVERLAY_LAYER","overlayLayer");ne(co,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(co,"contextType",ke);function Aw(){}function k_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function U_(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var z_={onDblClick:"dblclick",onClick:"click"},B_={opacity(s,e){s.setOpacity(e)}};function ww(s){var{url:e,bounds:n,options:r,visible:o}=s,u=y.useContext(ke),f=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),p=y.useMemo(()=>new google.maps.GroundOverlay(e,f,r),[]);return y.useEffect(()=>{p!==null&&p.setMap(u)},[u]),y.useEffect(()=>{typeof e<"u"&&p!==null&&(p.set("url",e),p.setMap(u))},[p,e]),y.useEffect(()=>{typeof o<"u"&&p!==null&&p.setOpacity(o?1:0)},[p,o]),y.useEffect(()=>{var g=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&p!==null&&(p.set("bounds",g),p.setMap(u))},[p,n]),null}y.memo(ww);class K0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){qt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,U_(U_({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:B_,eventMap:z_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:B_,eventMap:z_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(K0,"defaultProps",{onLoad:Aw});ne(K0,"contextType",ke);function j_(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Gc(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){ne(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var H_={},q_={data(s,e){s.setData(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)}};function Lw(s){var{data:e,onLoad:n,onUnmount:r,options:o}=s,u=y.useContext(ke),[f,p]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{qt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{f!==null&&f.setMap(u)},[u]),y.useEffect(()=>{o&&f!==null&&f.setOptions(o)},[f,o]),y.useEffect(()=>{var g=new google.maps.visualization.HeatmapLayer(Gc(Gc({},o),{},{data:e,map:u}));return p(g),n&&n(g),()=>{f!==null&&(r&&r(f),f.setMap(null))}},[]),null}y.memo(Lw);class Rw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),qt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Gc(Gc({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ze({updaterMap:q_,eventMap:H_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=ze({updaterMap:q_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),He(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(Rw,"contextType",ke);var G_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},F_={register(s,e,n){s.registerPanoProvider(e,n)},links(s,e){s.setLinks(e)},motionTracking(s,e){s.setMotionTracking(e)},options(s,e){s.setOptions(e)},pano(s,e){s.setPano(e)},position(s,e){s.setPosition(e)},pov(s,e){s.setPov(e)},visible(s,e){s.setVisible(e)},zoom(s,e){s.setZoom(e)}};class Mw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ze({updaterMap:F_,eventMap:G_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:F_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),He(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(Mw,"contextType",ke);class Ow extends y.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(Ow,"contextType",ke);var Q_={onDirectionsChanged:"directions_changed"},Y_={directions(s,e){s.setDirections(e)},map(s,e){s.setMap(e)},options(s,e){s.setOptions(e)},panel(s,e){s.setPanel(e)},routeIndex(s,e){s.setRouteIndex(e)}};class Dw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ze({updaterMap:Y_,eventMap:Q_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Y_,eventMap:Q_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),He(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(Dw,"contextType",ke);var K_={onPlacesChanged:"places_changed"},Z_={bounds(s,e){s.setBounds(e)}};class xw extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ze({updaterMap:Z_,eventMap:K_,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(He(this.registeredEvents),this.registeredEvents=ze({updaterMap:Z_,eventMap:K_,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),He(this.registeredEvents))}render(){return Me.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ne(xw,"contextType",ke);var $_={onPlaceChanged:"place_changed"},X_={bounds(s,e){s.setBounds(e)},restrictions(s,e){s.setComponentRestrictions(e)},fields(s,e){s.setFields(e)},options(s,e){s.setOptions(e)},types(s,e){s.setTypes(e)}};class Z0 extends y.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",y.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ze({updaterMap:X_,eventMap:$_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){He(this.registeredEvents),this.registeredEvents=ze({updaterMap:X_,eventMap:$_,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&He(this.registeredEvents)}render(){return Me.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ne(Z0,"defaultProps",{className:""});ne(Z0,"contextType",ke);const Iw=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Vw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,m=g?s[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let T=(p&15)<<2|m>>6,O=m&63;g||(O=64,f||(T=64)),r.push(n[E],n[S],n[T],n[O])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Vw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const m=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||m==null||S==null)throw new Nw;const T=u<<2|p>>4;if(r.push(T),m!==64){const O=p<<4&240|m>>2;if(r.push(O),S!==64){const x=m<<6&192|S;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pw=function(s){const e=$0(s);return X0.encodeByteArray(e,!0)},Fc=function(s){return Pw(s).replace(/\./g,"")},kw=function(s){try{return X0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=()=>Uw().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof J_>"u")return;const s=J_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kw(s[1]);return e&&JSON.parse(e)},Cp=()=>{try{return Iw()||zw()||Bw()||jw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Hw=s=>Cp()?.emulatorHosts?.[s],J0=s=>{const e=Hw(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W0=()=>Cp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(n)),Fc(JSON.stringify(f)),""].join(".")}const Ll={};function Gw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?s.emulator.push(e):s.prod.push(e);return s}function Fw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let W_=!1;function nb(s,e){if(typeof window>"u"||typeof document>"u"||!ah(window.location.host)||Ll[s]===e||Ll[s]||W_)return;Ll[s]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=Gw().prod.length>0;function f(){const T=document.getElementById(r);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{W_=!0,f()},T}function E(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=Fw(r),O=n("text"),x=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),Y=n("preprendIcon"),j=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const te=T.element;p(te),E(P,z);const Z=m();g(j,Y),te.append(j,x,P,Z),document.body.appendChild(te)}u?(x.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yw(){const s=Cp()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function $w(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xw,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ib.prototype.create)}}class ib{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Jw(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Jr(o,p,r)}}function Jw(s,e){return s.replace(Ww,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Ww=/\{\$([^}]+)}/g;function Qc(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(eE(u)&&eE(f)){if(!Qc(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function eE(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(s){return s&&s._delegate?s._delegate:s}class Wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nL(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tL(s){return s===Fr?void 0:s}function nL(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ze||(Ze={}));const sL={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},rL=Ze.INFO,aL={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},oL=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=aL[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sb{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=oL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const lL=(s,e)=>e.some(n=>s instanceof n);let tE,nE;function uL(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cL(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rb=new WeakMap,Gd=new WeakMap,ab=new WeakMap,Ld=new WeakMap,Ap=new WeakMap;function hL(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(or(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rb.set(n,s)}).catch(()=>{}),Ap.set(e,s),e}function fL(s){if(Gd.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Gd.set(s,e)}let Fd={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Gd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ab.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function dL(s){Fd=s(Fd)}function pL(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Rd(this),e,...n);return ab.set(r,e.sort?e.sort():[e]),or(r)}:cL().includes(s)?function(...e){return s.apply(Rd(this),e),or(rb.get(this))}:function(...e){return or(s.apply(Rd(this),e))}}function gL(s){return typeof s=="function"?pL(s):(s instanceof IDBTransaction&&fL(s),lL(s,uL())?new Proxy(s,Fd):s)}function or(s){if(s instanceof IDBRequest)return hL(s);if(Ld.has(s))return Ld.get(s);const e=gL(s);return e!==s&&(Ld.set(s,e),Ap.set(e,s)),e}const Rd=s=>Ap.get(s);function mL(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),p=or(f);return r&&f.addEventListener("upgradeneeded",g=>{r(or(f.result),g.oldVersion,g.newVersion,or(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const vL=["get","getKey","getAll","getAllKeys","count"],yL=["put","add","delete","clear"],Md=new Map;function iE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=yL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vL.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Md.set(e,u),u}dL(s=>({...s,get:(e,n,r)=>iE(e,n)||s.get(e,n,r),has:(e,n)=>!!iE(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EL(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",sE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new sb("@firebase/app"),bL="@firebase/app-compat",SL="@firebase/analytics-compat",TL="@firebase/analytics",CL="@firebase/app-check-compat",AL="@firebase/app-check",wL="@firebase/auth",LL="@firebase/auth-compat",RL="@firebase/database",ML="@firebase/data-connect",OL="@firebase/database-compat",DL="@firebase/functions",xL="@firebase/functions-compat",IL="@firebase/installations",VL="@firebase/installations-compat",NL="@firebase/messaging",PL="@firebase/messaging-compat",kL="@firebase/performance",UL="@firebase/performance-compat",zL="@firebase/remote-config",BL="@firebase/remote-config-compat",jL="@firebase/storage",HL="@firebase/storage-compat",qL="@firebase/firestore",GL="@firebase/ai",FL="@firebase/firestore-compat",QL="firebase",YL="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",KL={[Qd]:"fire-core",[bL]:"fire-core-compat",[TL]:"fire-analytics",[SL]:"fire-analytics-compat",[AL]:"fire-app-check",[CL]:"fire-app-check-compat",[wL]:"fire-auth",[LL]:"fire-auth-compat",[RL]:"fire-rtdb",[ML]:"fire-data-connect",[OL]:"fire-rtdb-compat",[DL]:"fire-fn",[xL]:"fire-fn-compat",[IL]:"fire-iid",[VL]:"fire-iid-compat",[NL]:"fire-fcm",[PL]:"fire-fcm-compat",[kL]:"fire-perf",[UL]:"fire-perf-compat",[zL]:"fire-rc",[BL]:"fire-rc-compat",[jL]:"fire-gcs",[HL]:"fire-gcs-compat",[qL]:"fire-fst",[FL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,ZL=new Map,Kd=new Map;function rE(s,e){try{s.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Nl(s){const e=s.name;if(Kd.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,s);for(const n of Yc.values())rE(n,s);for(const n of ZL.values())rE(n,s);return!0}function ob(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function lb(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new ib("app","Firebase",$L);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=YL;function cb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Yd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(n||(n=W0()),!n)throw lr.create("no-options");const u=Yc.get(o);if(u){if(Qc(n,u.options)&&Qc(r,u.config))return u;throw lr.create("duplicate-app",{appName:o})}const f=new iL(o);for(const g of Kd.values())f.addComponent(g);const p=new XL(n,r,f);return Yc.set(o,p),p}function hb(s=Yd){const e=Yc.get(s);if(!e&&s===Yd&&W0())return cb();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,n){let r=KL[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(f.join(" "));return}Nl(new Wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebase-heartbeat-database",WL=1,Pl="firebase-heartbeat-store";let Od=null;function fb(){return Od||(Od=mL(JL,WL,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Od}async function eR(s){try{const n=(await fb()).transaction(Pl),r=await n.objectStore(Pl).get(db(s));return await n.done,r}catch(e){if(e instanceof Jr)Es.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function aE(s,e){try{const r=(await fb()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,db(s)),await r.done}catch(n){if(n instanceof Jr)Es.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function db(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1024,nR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nR){const o=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oE(),{heartbeatsToSend:n,unsentEntries:r}=sR(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function oE(){return new Date().toISOString().substring(0,10)}function sR(s,e=tR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),lE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?$w().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lE(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function aR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(s){Nl(new Wa("platform-logger",e=>new _L(e),"PRIVATE")),Nl(new Wa("heartbeat",e=>new iR(e),"PRIVATE")),ur(Qd,sE,s),ur(Qd,sE,"esm2020"),ur("fire-js","")}oR("");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,pb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,R){function A(){}A.prototype=R.prototype,w.F=R.prototype,w.prototype=new A,w.prototype.constructor=w,w.D=function(I,D,k){for(var M=Array(arguments.length-2),de=2;de<arguments.length;de++)M[de-2]=arguments[de];return R.prototype[D].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,R,A){A||(A=0);const I=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)I[D]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(D=0;D<16;++D)I[D]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=w.g[0],A=w.g[1],D=w.g[2];let k=w.g[3],M;M=R+(k^A&(D^k))+I[0]+3614090360&4294967295,R=A+(M<<7&4294967295|M>>>25),M=k+(D^R&(A^D))+I[1]+3905402710&4294967295,k=R+(M<<12&4294967295|M>>>20),M=D+(A^k&(R^A))+I[2]+606105819&4294967295,D=k+(M<<17&4294967295|M>>>15),M=A+(R^D&(k^R))+I[3]+3250441966&4294967295,A=D+(M<<22&4294967295|M>>>10),M=R+(k^A&(D^k))+I[4]+4118548399&4294967295,R=A+(M<<7&4294967295|M>>>25),M=k+(D^R&(A^D))+I[5]+1200080426&4294967295,k=R+(M<<12&4294967295|M>>>20),M=D+(A^k&(R^A))+I[6]+2821735955&4294967295,D=k+(M<<17&4294967295|M>>>15),M=A+(R^D&(k^R))+I[7]+4249261313&4294967295,A=D+(M<<22&4294967295|M>>>10),M=R+(k^A&(D^k))+I[8]+1770035416&4294967295,R=A+(M<<7&4294967295|M>>>25),M=k+(D^R&(A^D))+I[9]+2336552879&4294967295,k=R+(M<<12&4294967295|M>>>20),M=D+(A^k&(R^A))+I[10]+4294925233&4294967295,D=k+(M<<17&4294967295|M>>>15),M=A+(R^D&(k^R))+I[11]+2304563134&4294967295,A=D+(M<<22&4294967295|M>>>10),M=R+(k^A&(D^k))+I[12]+1804603682&4294967295,R=A+(M<<7&4294967295|M>>>25),M=k+(D^R&(A^D))+I[13]+4254626195&4294967295,k=R+(M<<12&4294967295|M>>>20),M=D+(A^k&(R^A))+I[14]+2792965006&4294967295,D=k+(M<<17&4294967295|M>>>15),M=A+(R^D&(k^R))+I[15]+1236535329&4294967295,A=D+(M<<22&4294967295|M>>>10),M=R+(D^k&(A^D))+I[1]+4129170786&4294967295,R=A+(M<<5&4294967295|M>>>27),M=k+(A^D&(R^A))+I[6]+3225465664&4294967295,k=R+(M<<9&4294967295|M>>>23),M=D+(R^A&(k^R))+I[11]+643717713&4294967295,D=k+(M<<14&4294967295|M>>>18),M=A+(k^R&(D^k))+I[0]+3921069994&4294967295,A=D+(M<<20&4294967295|M>>>12),M=R+(D^k&(A^D))+I[5]+3593408605&4294967295,R=A+(M<<5&4294967295|M>>>27),M=k+(A^D&(R^A))+I[10]+38016083&4294967295,k=R+(M<<9&4294967295|M>>>23),M=D+(R^A&(k^R))+I[15]+3634488961&4294967295,D=k+(M<<14&4294967295|M>>>18),M=A+(k^R&(D^k))+I[4]+3889429448&4294967295,A=D+(M<<20&4294967295|M>>>12),M=R+(D^k&(A^D))+I[9]+568446438&4294967295,R=A+(M<<5&4294967295|M>>>27),M=k+(A^D&(R^A))+I[14]+3275163606&4294967295,k=R+(M<<9&4294967295|M>>>23),M=D+(R^A&(k^R))+I[3]+4107603335&4294967295,D=k+(M<<14&4294967295|M>>>18),M=A+(k^R&(D^k))+I[8]+1163531501&4294967295,A=D+(M<<20&4294967295|M>>>12),M=R+(D^k&(A^D))+I[13]+2850285829&4294967295,R=A+(M<<5&4294967295|M>>>27),M=k+(A^D&(R^A))+I[2]+4243563512&4294967295,k=R+(M<<9&4294967295|M>>>23),M=D+(R^A&(k^R))+I[7]+1735328473&4294967295,D=k+(M<<14&4294967295|M>>>18),M=A+(k^R&(D^k))+I[12]+2368359562&4294967295,A=D+(M<<20&4294967295|M>>>12),M=R+(A^D^k)+I[5]+4294588738&4294967295,R=A+(M<<4&4294967295|M>>>28),M=k+(R^A^D)+I[8]+2272392833&4294967295,k=R+(M<<11&4294967295|M>>>21),M=D+(k^R^A)+I[11]+1839030562&4294967295,D=k+(M<<16&4294967295|M>>>16),M=A+(D^k^R)+I[14]+4259657740&4294967295,A=D+(M<<23&4294967295|M>>>9),M=R+(A^D^k)+I[1]+2763975236&4294967295,R=A+(M<<4&4294967295|M>>>28),M=k+(R^A^D)+I[4]+1272893353&4294967295,k=R+(M<<11&4294967295|M>>>21),M=D+(k^R^A)+I[7]+4139469664&4294967295,D=k+(M<<16&4294967295|M>>>16),M=A+(D^k^R)+I[10]+3200236656&4294967295,A=D+(M<<23&4294967295|M>>>9),M=R+(A^D^k)+I[13]+681279174&4294967295,R=A+(M<<4&4294967295|M>>>28),M=k+(R^A^D)+I[0]+3936430074&4294967295,k=R+(M<<11&4294967295|M>>>21),M=D+(k^R^A)+I[3]+3572445317&4294967295,D=k+(M<<16&4294967295|M>>>16),M=A+(D^k^R)+I[6]+76029189&4294967295,A=D+(M<<23&4294967295|M>>>9),M=R+(A^D^k)+I[9]+3654602809&4294967295,R=A+(M<<4&4294967295|M>>>28),M=k+(R^A^D)+I[12]+3873151461&4294967295,k=R+(M<<11&4294967295|M>>>21),M=D+(k^R^A)+I[15]+530742520&4294967295,D=k+(M<<16&4294967295|M>>>16),M=A+(D^k^R)+I[2]+3299628645&4294967295,A=D+(M<<23&4294967295|M>>>9),M=R+(D^(A|~k))+I[0]+4096336452&4294967295,R=A+(M<<6&4294967295|M>>>26),M=k+(A^(R|~D))+I[7]+1126891415&4294967295,k=R+(M<<10&4294967295|M>>>22),M=D+(R^(k|~A))+I[14]+2878612391&4294967295,D=k+(M<<15&4294967295|M>>>17),M=A+(k^(D|~R))+I[5]+4237533241&4294967295,A=D+(M<<21&4294967295|M>>>11),M=R+(D^(A|~k))+I[12]+1700485571&4294967295,R=A+(M<<6&4294967295|M>>>26),M=k+(A^(R|~D))+I[3]+2399980690&4294967295,k=R+(M<<10&4294967295|M>>>22),M=D+(R^(k|~A))+I[10]+4293915773&4294967295,D=k+(M<<15&4294967295|M>>>17),M=A+(k^(D|~R))+I[1]+2240044497&4294967295,A=D+(M<<21&4294967295|M>>>11),M=R+(D^(A|~k))+I[8]+1873313359&4294967295,R=A+(M<<6&4294967295|M>>>26),M=k+(A^(R|~D))+I[15]+4264355552&4294967295,k=R+(M<<10&4294967295|M>>>22),M=D+(R^(k|~A))+I[6]+2734768916&4294967295,D=k+(M<<15&4294967295|M>>>17),M=A+(k^(D|~R))+I[13]+1309151649&4294967295,A=D+(M<<21&4294967295|M>>>11),M=R+(D^(A|~k))+I[4]+4149444226&4294967295,R=A+(M<<6&4294967295|M>>>26),M=k+(A^(R|~D))+I[11]+3174756917&4294967295,k=R+(M<<10&4294967295|M>>>22),M=D+(R^(k|~A))+I[2]+718787259&4294967295,D=k+(M<<15&4294967295|M>>>17),M=A+(k^(D|~R))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.v=function(w,R){R===void 0&&(R=w.length);const A=R-this.blockSize,I=this.C;let D=this.h,k=0;for(;k<R;){if(D==0)for(;k<=A;)o(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<R;)if(I[D++]=w.charCodeAt(k++),D==this.blockSize){o(this,I),D=0;break}}else for(;k<R;)if(I[D++]=w[k++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var A=w.length-8;A<w.length;++A)w[A]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)w[R++]=this.g[A]>>>I&255;return w};function u(w,R){var A=p;return Object.prototype.hasOwnProperty.call(A,w)?A[w]:A[w]=R(w)}function f(w,R){this.h=R;const A=[];let I=!0;for(let D=w.length-1;D>=0;D--){const k=w[D]|0;I&&k==R||(A[D]=k,I=!1)}this.g=A}var p={};function g(w){return-128<=w&&w<128?u(w,function(R){return new f([R|0],R<0?-1:0)}):new f([w|0],w<0?-1:0)}function m(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return P(m(-w));const R=[];let A=1;for(let I=0;w>=A;I++)R[I]=w/A|0,A*=4294967296;return new f(R,0)}function E(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return P(E(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=m(Math.pow(R,8));let I=S;for(let k=0;k<w.length;k+=8){var D=Math.min(8,w.length-k);const M=parseInt(w.substring(k,k+D),R);D<8?(D=m(Math.pow(R,D)),I=I.j(D).add(m(M))):(I=I.j(A),I=I.add(m(M)))}return I}var S=g(0),T=g(1),O=g(16777216);s=f.prototype,s.m=function(){if(z(this))return-P(this).m();let w=0,R=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);w+=(I>=0?I:4294967296+I)*R,R*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(z(this))return"-"+P(this).toString(w);const R=m(Math.pow(w,6));var A=this;let I="";for(;;){const D=Z(A,R).g;A=Y(A,D.j(R));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(w);if(A=D,x(A))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function z(w){return w.h==-1}s.l=function(w){return w=Y(this,w),z(w)?-1:x(w)?0:1};function P(w){const R=w.g.length,A=[];for(let I=0;I<R;I++)A[I]=~w.g[I];return new f(A,~w.h).add(T)}s.abs=function(){return z(this)?P(this):this},s.add=function(w){const R=Math.max(this.g.length,w.g.length),A=[];let I=0;for(let D=0;D<=R;D++){let k=I+(this.i(D)&65535)+(w.i(D)&65535),M=(k>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=M>>>16,k&=65535,M&=65535,A[D]=M<<16|k}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Y(w,R){return w.add(P(R))}s.j=function(w){if(x(this)||x(w))return S;if(z(this))return z(w)?P(this).j(P(w)):P(P(this).j(w));if(z(w))return P(this.j(P(w)));if(this.l(O)<0&&w.l(O)<0)return m(this.m()*w.m());const R=this.g.length+w.g.length,A=[];for(var I=0;I<2*R;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<w.g.length;D++){const k=this.i(I)>>>16,M=this.i(I)&65535,de=w.i(D)>>>16,Ee=w.i(D)&65535;A[2*I+2*D]+=M*Ee,j(A,2*I+2*D),A[2*I+2*D+1]+=k*Ee,j(A,2*I+2*D+1),A[2*I+2*D+1]+=M*de,j(A,2*I+2*D+1),A[2*I+2*D+2]+=k*de,j(A,2*I+2*D+2)}for(w=0;w<R;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=R;w<2*R;w++)A[w]=0;return new f(A,0)};function j(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function te(w,R){this.g=w,this.h=R}function Z(w,R){if(x(R))throw Error("division by zero");if(x(w))return new te(S,S);if(z(w))return R=Z(P(w),R),new te(P(R.g),P(R.h));if(z(R))return R=Z(w,P(R)),new te(P(R.g),R.h);if(w.g.length>30){if(z(w)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var A=T,I=R;I.l(w)<=0;)A=q(A),I=q(I);var D=X(A,1),k=X(I,1);for(I=X(I,2),A=X(A,2);!x(I);){var M=k.add(I);M.l(w)<=0&&(D=D.add(A),k=M),I=X(I,1),A=X(A,1)}return R=Y(w,D.j(R)),new te(D,R)}for(D=S;w.l(R)>=0;){for(A=Math.max(1,Math.floor(w.m()/R.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=m(A),M=k.j(R);z(M)||M.l(w)>0;)A-=I,k=m(A),M=k.j(R);x(k)&&(k=T),D=D.add(k),w=Y(w,M)}return new te(D,w)}s.B=function(w){return Z(this,w).h},s.and=function(w){const R=Math.max(this.g.length,w.g.length),A=[];for(let I=0;I<R;I++)A[I]=this.i(I)&w.i(I);return new f(A,this.h&w.h)},s.or=function(w){const R=Math.max(this.g.length,w.g.length),A=[];for(let I=0;I<R;I++)A[I]=this.i(I)|w.i(I);return new f(A,this.h|w.h)},s.xor=function(w){const R=Math.max(this.g.length,w.g.length),A=[];for(let I=0;I<R;I++)A[I]=this.i(I)^w.i(I);return new f(A,this.h^w.h)};function q(w){const R=w.g.length+1,A=[];for(let I=0;I<R;I++)A[I]=w.i(I)<<1|w.i(I-1)>>>31;return new f(A,w.h)}function X(w,R){const A=R>>5;R%=32;const I=w.g.length-A,D=[];for(let k=0;k<I;k++)D[k]=R>0?w.i(k+A)>>>R|w.i(k+A+1)<<32-R:w.i(k+A);return new f(D,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=E,cr=f}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gb,Sl,mb,Oc,Zd,vb,yb,_b;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var b=r;c=c.split(".");for(var L=0;L<c.length-1;L++){var H=c[L];if(!(H in b))break e;b=b[H]}c=c[c.length-1],L=b[c],v=v(L),v!=L&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var b=[],L;for(L in v)Object.prototype.hasOwnProperty.call(v,L)&&b.push([L,v[L]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function m(c,v,b){return m=g,m.apply(null,arguments)}function E(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var L=b.slice();return L.push.apply(L,arguments),c.apply(this,L)}}function S(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(L,H,W){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return v.prototype[H].apply(L,fe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const v=c.length;if(v>0){const b=Array(v);for(let L=0;L<v;L++)b[L]=c[L];return b}return[]}function x(c,v){for(let L=1;L<arguments.length;L++){const H=arguments[L];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=c.length||0;const W=H.length||0;c.length=b+W;for(let fe=0;fe<W;fe++)c[b+fe]=H[fe]}else c.push(H)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=w;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class j{constructor(){this.h=this.g=null}add(v,b){const L=te.get();L.set(v,b),this.h?this.h.next=L:this.g=L,this.h=L}}var te=new z(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let q,X=!1,w=new j,R=()=>{const c=Promise.resolve(void 0);q=()=>{c.then(A)}};function A(){for(var c;c=Y();){try{c.h.call(c.g)}catch(b){P(b)}var v=te;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}X=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function de(c,v){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}S(de,D),de.prototype.init=function(c,v){const b=this.type=c.type,L=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function le(c,v,b,L,H){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!L,this.ha=H,this.key=++G,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _e(c,v,b){for(const L in c)v.call(b,c[L],L,c)}function ye(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function V(c){const v={};for(const b in c)v[b]=c[b];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,v){let b,L;for(let H=1;H<arguments.length;H++){L=arguments[H];for(b in L)c[b]=L[b];for(let W=0;W<J.length;W++)b=J[W],Object.prototype.hasOwnProperty.call(L,b)&&(c[b]=L[b])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,v,b,L,H){const W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);const fe=me(c,v,L,H);return fe>-1?(v=c[fe],b||(v.fa=!1)):(v=new le(v,this.src,W,!!L,H),v.fa=b,c.push(v)),v};function K(c,v){const b=v.type;if(b in c.g){var L=c.g[b],H=Array.prototype.indexOf.call(L,v,void 0),W;(W=H>=0)&&Array.prototype.splice.call(L,H,1),W&&(he(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function me(c,v,b,L){for(let H=0;H<c.length;++H){const W=c[H];if(!W.da&&W.listener==v&&W.capture==!!b&&W.ha==L)return H}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Te={};function Oe(c,v,b,L,H){if(Array.isArray(v)){for(let W=0;W<v.length;W++)Oe(c,v[W],b,L,H);return null}return b=Ts(b),c&&c[Ee]?c.J(v,b,p(L)?!!L.capture:!1,H):Ce(c,v,b,!1,L,H)}function Ce(c,v,b,L,H,W){if(!v)throw Error("Invalid event type");const fe=p(H)?!!H.capture:!!H;let Ve=di(c);if(Ve||(c[Se]=Ve=new ue(c)),b=Ve.add(v,b,L,fe,W),b.proxy)return b;if(L=Ue(),b.proxy=L,L.src=c,L.listener=b,c.addEventListener)k||(H=fe),H===void 0&&(H=!1),c.addEventListener(v.toString(),L,H);else if(c.attachEvent)c.attachEvent(an(v.toString()),L);else if(c.addListener&&c.removeListener)c.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ue(){function c(b){return v.call(c.src,c.listener,b)}const v=Ye;return c}function Gt(c,v,b,L,H){if(Array.isArray(v))for(var W=0;W<v.length;W++)Gt(c,v[W],b,L,H);else L=p(L)?!!L.capture:!!L,b=Ts(b),c&&c[Ee]?(c=c.i,W=String(v).toString(),W in c.g&&(v=c.g[W],b=me(v,b,L,H),b>-1&&(he(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[W],c.h--)))):c&&(c=di(c))&&(v=c.g[v.toString()],c=-1,v&&(c=me(v,b,L,H)),(b=c>-1?v[c]:null)&&rn(b))}function rn(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ee])K(v.i,c);else{var b=c.type,L=c.proxy;v.removeEventListener?v.removeEventListener(b,L,c.capture):v.detachEvent?v.detachEvent(an(b),L):v.addListener&&v.removeListener&&v.removeListener(L),(b=di(v))?(K(b,c),b.h==0&&(b.src=null,v[Se]=null)):he(c)}}}function an(c){return c in Te?Te[c]:Te[c]="on"+c}function Ye(c,v){if(c.da)c=!0;else{v=new de(v,this);const b=c.listener,L=c.ha||c.src;c.fa&&rn(c),c=b.call(L,v)}return c}function di(c){return c=c[Se],c instanceof ue?c:null}var pi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(c){return typeof c=="function"?c:(c[pi]||(c[pi]=function(v){return c.handleEvent(v)}),c[pi])}function ht(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}S(ht,I),ht.prototype[Ee]=!0,ht.prototype.removeEventListener=function(c,v,b,L){Gt(this,c,v,b,L)};function St(c,v){var b,L=c.G;if(L)for(b=[];L;L=L.G)b.push(L);if(c=c.M,L=v.type||v,typeof v=="string")v=new D(v,c);else if(v instanceof D)v.target=v.target||c;else{var H=v;v=new D(L,c),se(v,H)}H=!0;let W,fe;if(b)for(fe=b.length-1;fe>=0;fe--)W=v.g=b[fe],H=wn(W,L,!0,v)&&H;if(W=v.g=c,H=wn(W,L,!0,v)&&H,H=wn(W,L,!1,v)&&H,b)for(fe=0;fe<b.length;fe++)W=v.g=b[fe],H=wn(W,L,!1,v)&&H}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let L=0;L<b.length;L++)he(b[L]);delete c.g[v],c.h--}}this.G=null},ht.prototype.J=function(c,v,b,L){return this.i.add(String(c),v,!1,b,L)},ht.prototype.K=function(c,v,b,L){return this.i.add(String(c),v,!0,b,L)};function wn(c,v,b,L){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let W=0;W<v.length;++W){const fe=v[W];if(fe&&!fe.da&&fe.capture==b){const Ve=fe.listener,At=fe.ha||fe.src;fe.fa&&K(c.i,fe),H=Ve.call(At,L)!==!1&&H}}return H&&!L.defaultPrevented}function ta(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function Fi(c){c.g=ta(()=>{c.g=null,c.i&&(c.i=!1,Fi(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Ft extends I{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(c){I.call(this),this.h=c,this.g={}}S(gi,I);var Cs=[];function mi(c){_e(c.g,function(v,b){this.g.hasOwnProperty(b)&&rn(v)},c),c.g={}}gi.prototype.N=function(){gi.Z.N.call(this),mi(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=f.JSON.stringify,As=f.JSON.parse,vr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Qi(){}function yr(){}var on={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){D.call(this,"d")}S(Ot,D);function $t(){D.call(this,"c")}S($t,D);var pt={},Yi=null;function Ki(){return Yi=Yi||new ht}pt.Ia="serverreachability";function Zi(c){D.call(this,pt.Ia,c)}S(Zi,D);function Ln(c){const v=Ki();St(v,new Zi(v))}pt.STAT_EVENT="statevent";function vi(c,v){D.call(this,pt.STAT_EVENT,c),this.stat=v}S(vi,D);function _t(c){const v=Ki();St(v,new vi(v,c))}pt.Ja="timingevent";function pn(c,v){D.call(this,pt.Ja,c),this.size=v}S(pn,D);function Rn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function ln(){this.g=!0}ln.prototype.ua=function(){this.g=!1};function na(c,v,b,L,H,W){c.info(function(){if(c.g)if(W){var fe="",Ve=W.split("&");for(let tt=0;tt<Ve.length;tt++){var At=Ve[tt].split("=");if(At.length>1){const gt=At[0];At=At[1];const qn=gt.split("_");fe=qn.length>=2&&qn[1]=="type"?fe+(gt+"="+At+"&"):fe+(gt+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+L+") [attempt "+H+"]: "+v+`
`+b+`
`+fe})}function $i(c,v,b,L,H,W,fe){c.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+H+"]: "+v+`
`+b+`
`+W+" "+fe})}function Mn(c,v,b,L){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ji(c,b)+(L?" "+L:"")})}function Xi(c,v){c.info(function(){return"TIMEOUT: "+v})}ln.prototype.info=function(){};function Ji(c,v){if(!c.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(c=0;c<W.length;c++)if(Array.isArray(W[c])){var b=W[c];if(!(b.length<2)){var L=b[1];if(Array.isArray(L)&&!(L.length<1)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(let fe=1;fe<L.length;fe++)L[fe]=""}}}}return ei(W)}catch{return v}}var Re={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function _r(){}S(_r,Qi),_r.prototype.g=function(){return new XMLHttpRequest},yo=new _r;function Wi(c){return encodeURIComponent(String(c))}function Zl(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function ti(c,v,b,L){this.j=c,this.i=v,this.l=b,this.S=L||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Dt={},Qt={};function yi(c,v,b){c.M=1,c.A=Er(It(v)),c.u=b,c.R=!0,ia(c,null)}function ia(c,v){c.F=Date.now(),_i(c),c.B=It(c.A);var b=c.B,L=c.S;Array.isArray(L)||(L=[String(L)]),oa(b.i,"t",L),c.C=0,b=c.j.L,c.h=new ni,c.g=cu(c.j,b?v:null,!c.u),c.P>0&&(c.O=new Ft(m(c.Y,c,c.g),c.P)),v=c.V,b=c.g,L=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Cs[0]=H.toString()),H=Cs);for(let W=0;W<H.length;W++){const fe=Oe(b,H[W],L||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Ln(),na(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const v=this.O;v&&ri(c)==3?v.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=ri(this.g),At=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ve!=4||At==7||(At==8||tt<=0?Ln(3):Ln(2)),Ei(this);var v=this.g.ca();this.X=v;var b=_h(this);if(this.o=v==200,$i(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var L,H=this.g;if((L=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(L)){var W=L;break t}}W=null}if(c=W)Mn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,_t(12),On(this),Bn(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Xl(this,b),gt==Qt){Ve==4&&(this.m=4,_t(14),c=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Dt){this.m=4,_t(15),Mn(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else Mn(this.i,this.l,gt,null),bi(this,gt);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||b.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)Mn(this.i,this.l,b,"[Invalid Chunked Response]"),On(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Io(fe),fe.P=!0,_t(11))}}else Mn(this.i,this.l,b,null),bi(this,b);Ve==4&&On(this),this.o&&!this.K&&(Ve==4?au(this.j,this):(this.o=!1,_i(this)))}else ts(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),On(this),Bn(this)}}}catch{}finally{}};function _h(c){if(!$l(c))return c.g.la();const v=Xt(c.g);if(v==="")return"";let b="";const L=v.length,H=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return On(c),Bn(c),"";c.h.i=new f.TextDecoder}for(let W=0;W<L;W++)c.h.h=!0,b+=c.h.i.decode(v[W],{stream:!(H&&W==L-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function $l(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xl(c,v){var b=c.C,L=v.indexOf(`
`,b);return L==-1?Qt:(b=Number(v.substring(b,L)),isNaN(b)?Dt:(L+=1,L+b>v.length?Qt:(v=v.slice(L,L+b),c.C=L+b,v)))}ti.prototype.cancel=function(){this.K=!0,On(this)};function _i(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Rn(m(c.aa,c),v)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Xi(this.i,this.B),this.M!=2&&(Ln(),_t(17)),On(this),this.m=2,Bn(this)):sa(this,this.T-c)};function Bn(c){c.j.I==0||c.K||au(c.j,c)}function On(c){Ei(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,mi(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function bi(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Ti(b.h,c))){if(!c.L&&Ti(b.h,c)&&b.I==3){try{var L=b.Ba.g.parse(v)}catch{L=null}if(Array.isArray(L)&&L.length==3){var H=L;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)fa(b),Is(b);else break e;Lr(b),_t(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Rn(m(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mi(b,11)}else if((c.L||b.g==c)&&fa(b),!M(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let tt=H[v];const gt=tt[0];if(!(gt<=b.K))if(b.K=gt,tt=tt[1],b.I==2)if(tt[0]=="c"){b.M=tt[1],b.ba=tt[2];const qn=tt[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Oi=tt[4];Oi!=null&&(b.za=Oi,b.j.info("SVER="+b.za));const ai=tt[5];ai!=null&&typeof ai=="number"&&ai>0&&(L=1.5*ai,b.O=L,b.j.info("backChannelRequestTimeoutMs_="+L)),L=b;const oi=c.g;if(oi){const Rr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var W=L.h;W.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(bo(W,W.h),W.h=null))}if(L.G){const da=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(L.wa=da,it(L.J,L.G,da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),L=b;var fe=c;if(L.na=uu(L,L.L?L.ba:null,L.W),fe.L){So(L.h,fe);var Ve=fe,At=L.O;At&&(Ve.H=At),Ve.D&&(Ei(Ve),_i(Ve)),L.g=fe}else su(L);b.i.length>0&&Ri(b)}else tt[0]!="stop"&&tt[0]!="close"||Mi(b,7);else b.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Mi(b,7):Do(b):tt[0]!="noop"&&b.l&&b.l.qa(tt),b.A=0)}}Ln(4)}catch{}}var xt=class{constructor(c,v){this.g=c,this.map=v}};function _o(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ti(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function bo(c,v){c.g?c.g.add(v):c.h=v}function So(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}_o.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function To(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return O(c.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const L=c[b].indexOf("=");let H,W=null;L>=0?(H=c[b].substring(0,L),W=c[b].substring(L+1)):H=c[b],v(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Dn?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,ws(this,c.u),this.h=c.h,Co(this,nu(c.i)),this.m=c.m):c&&(v=String(c).match(Jl))?(this.l=!1,Yt(this,v[1]||"",!0),this.o=Ci(v[2]||""),this.g=Ci(v[3]||"",!0),ws(this,v[4]),this.h=Ci(v[5]||"",!0),Co(this,v[6]||"",!0),this.m=Ci(v[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Dn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(br(v,aa,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(br(v,aa,!0),"@"),c.push(Wi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(br(b,b.charAt(0)=="/"?Ao:Wl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",br(b,eu)),c.join("")},Dn.prototype.resolve=function(c){const v=It(this);let b=!!c.j;b?Yt(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var L=c.h;if(b)ws(v,c.u);else if(b=!!c.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var H=v.h.lastIndexOf("/");H!=-1&&(L=v.h.slice(0,H+1)+L)}if(H=L,H==".."||H==".")L="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){L=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let fe=0;fe<H.length;){const Ve=H[fe++];Ve=="."?L&&fe==H.length&&W.push(""):Ve==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),L&&fe==H.length&&W.push("")):(W.push(Ve),L=!0)}L=W.join("/")}else L=H}return b?v.h=L:b=c.i.toString()!=="",b?Co(v,nu(c.i)):b=!!c.m,b&&(v.m=c.m),v};function It(c){return new Dn(c)}function Yt(c,v,b){c.j=b?Ci(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ws(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Co(c,v,b){v instanceof Rs?(c.i=v,la(c.i,c.l)):(b||(v=br(v,Ls)),c.i=new Rs(v,c.l))}function it(c,v,b){c.i.set(v,b)}function Er(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ci(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,Wl=/[#\?:]/g,Ao=/[#\?]/g,Ls=/[#\?@]/g,eu=/#/g;function Rs(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Rs.prototype,s.add=function(c,v){_n(this),this.i=null,c=Ms(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function tu(c,v){_n(c),v=Ms(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function wo(c,v){return _n(c),v=Ms(c,v),c.g.has(v)}s.forEach=function(c,v){_n(this),this.g.forEach(function(b,L){b.forEach(function(H){c.call(v,H,L,this)},this)},this)};function Lo(c,v){_n(c);let b=[];if(typeof v=="string")wo(c,v)&&(b=b.concat(c.g.get(Ms(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}s.set=function(c,v){return _n(this),this.i=null,c=Ms(this,c),wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},s.get=function(c,v){return c?(c=Lo(this,c),c.length>0?String(c[0]):v):v};function oa(c,v,b){tu(c,v),b.length>0&&(c.i=null,c.g.set(Ms(c,v),O(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let L=0;L<v.length;L++){var b=v[L];const H=Wi(b);b=Lo(this,b);for(let W=0;W<b.length;W++){let fe=H;b[W]!==""&&(fe+="="+Wi(b[W])),c.push(fe)}}return this.i=c.join("&")};function nu(c){const v=new Rs;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ms(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function la(c,v){v&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(b,L){const H=L.toLowerCase();L!=H&&(tu(this,L),oa(this,H,b))},c)),c.j=v}function ii(c,v){const b=new ln;if(f.Image){const L=new Image;L.onload=E(jn,b,"TestLoadImage: loaded",!0,v,L),L.onerror=E(jn,b,"TestLoadImage: error",!1,v,L),L.onabort=E(jn,b,"TestLoadImage: abort",!1,v,L),L.ontimeout=E(jn,b,"TestLoadImage: timeout",!1,v,L),f.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=c}else v(!1)}function Ro(c,v){const b=new ln,L=new AbortController,H=setTimeout(()=>{L.abort(),jn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:L.signal}).then(W=>{clearTimeout(H),W.ok?jn(b,"TestPingServer: ok",!0,v):jn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),jn(b,"TestPingServer: error",!1,v)})}function jn(c,v,b,L,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),L(b)}catch{}}function Os(){this.g=new vr}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ai,Qi),Ai.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(c,v){ht.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Sr,ht),s=Sr.prototype,s.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,si(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ds(this):si(this),this.readyState==3&&ua(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ds(this))},s.Na=function(c){this.g&&(this.response=c,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}s.setRequestHeader=function(c,v){this.A.append(c,v)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hn(c){let v="";return _e(c,function(b,L){v+=L,v+=":",v+=b,v+=`\r
`}),v}function Tr(c,v,b){e:{for(L in b){var L=!1;break e}L=!0}L||(b=Hn(b),typeof c=="string"?b!=null&&Wi(b):it(c,v,b))}function at(c){ht.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(at,ht);var wi=/^https?$/i,Mo=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,v,b,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(W){Cr(this,W);return}if(c=b||"",b=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var H in L)b.set(H,L[H]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const W of L.keys())b.set(W,L.get(W));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),H=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Mo,v,void 0)>=0)||L||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of b)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(W){Cr(this,W)}};function Cr(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Oo(c),es(c)}function Oo(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),es(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),ri(c)==4){c.h=!1;try{const W=c.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var L;if(L=W===0){let fe=String(c.D).match(Jl)[1]||null;!fe&&f.self&&f.self.location&&(fe=f.self.location.protocol.slice(0,-1)),L=!wi.test(fe?fe.toLowerCase():"")}b=L}if(b)St(c,"complete"),St(c,"success");else{c.o=6;try{var H=ri(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",Oo(c)}}finally{es(c)}}}}function es(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||St(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),As(v)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(c){const v={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<c.length;L++){if(M(c[L]))continue;var b=Zl(c[L]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=v[H]||[];v[H]=W,W.push(b)}ye(v,function(L){return L.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function xs(c){this.za=0,this.i=[],this.j=new ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,c),this.Za=Li("retryDelaySeedMs",1e4,c),this.Ta=Li("forwardChannelMaxRetries",2,c),this.va=Li("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(c&&c.concurrentRequestLimit),this.Ba=new Os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(c,v,b,L){_t(0),this.W=c,this.H=v||{},b&&L!==void 0&&(this.H.OSID=b,this.H.OAID=L),this.F=this.X,this.J=uu(this,null,this.W),Ri(this)};function Do(c){if(ca(c),c.I==3){var v=c.V++,b=It(c.J);if(it(b,"SID",c.M),it(b,"RID",v),it(b,"TYPE","terminate"),wr(c,b),v=new ti(c,c.j,v),v.M=2,v.A=Er(It(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.A,b=!0),b||(v.g=cu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_i(v)}lu(c)}function Is(c){c.g&&(Io(c),c.g.cancel(),c.g=null)}function ca(c){Is(c),c.v&&(f.clearTimeout(c.v),c.v=null),fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Eo(c.h)&&!c.m){c.m=!0;var v=c.Ea;q||R(),X||(q(),X=!0),w.add(v,c),c.D=0}}function ha(c,v){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Rn(m(c.Ea,c,v),ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new ti(this,this.j,c);let W=this.o;if(this.U&&(W?(W=V(W),se(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var L=this.i[b];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(v+=L,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=iu(this,H,v),b=It(this.J),it(b,"RID",c),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),wr(this,b),W&&(this.R?v="headers="+Wi(Hn(W))+"&"+v:this.u&&Tr(b,this.u,W)),bo(this.h,H),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",v),it(b,"SID","null"),H.U=!0,yi(H,b,null)):yi(H,b,v),this.I=2}}else this.I==3&&(c?xo(this,c):this.i.length==0||Eo(this.h)||xo(this))};function xo(c,v){var b;v?b=v.l:b=c.V++;const L=It(c.J);it(L,"SID",c.M),it(L,"RID",b),it(L,"AID",c.K),wr(c,L),c.u&&c.o&&Tr(L,c.u,c.o),b=new ti(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=iu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bo(c.h,b),yi(b,L,v)}function wr(c,v){c.H&&_e(c.H,function(b,L){it(v,L,b)}),c.l&&_e({},function(b,L){it(v,L,b)})}function iu(c,v,b){b=Math.min(c.i.length,b);const L=c.l?m(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ve=-1;for(;;){const At=["count="+b];Ve==-1?b>0?(Ve=H[0].g,At.push("ofs="+Ve)):Ve=0:At.push("ofs="+Ve);let tt=!0;for(let gt=0;gt<b;gt++){var W=H[gt].g;const qn=H[gt].map;if(W-=Ve,W<0)Ve=Math.max(0,H[gt].g-100),tt=!1;else try{W="req"+W+"_"||"";try{var fe=qn instanceof Map?qn:Object.entries(qn);for(const[Oi,ai]of fe){let oi=ai;p(ai)&&(oi=ei(ai)),At.push(W+Oi+"="+encodeURIComponent(oi))}}catch(Oi){throw At.push(W+"type="+encodeURIComponent("_badmap")),Oi}}catch{L&&L(qn)}}if(tt){fe=At.join("&");break e}}fe=void 0}return c=c.i.splice(0,b),v.G=c,fe}function su(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;q||R(),X||(q(),X=!0),w.add(v,c),c.A=0}}function Lr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Rn(m(c.Da,c),ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Rn(m(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Is(this),ru(this))};function Io(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ru(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=It(c.na);it(v,"RID","rpc"),it(v,"SID",c.M),it(v,"AID",c.K),it(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(v,"TO",c.ia),it(v,"TYPE","xmlhttp"),wr(c,v),c.u&&c.o&&Tr(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Er(It(v)),b.u=null,b.R=!0,ia(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Lr(this),_t(19))};function fa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function au(c,v){var b=null;if(c.g==v){fa(c),Io(c),c.g=null;var L=2}else if(Ti(c.h,v))b=v.G,So(c.h,v),L=1;else return;if(c.I!=0){if(v.o)if(L==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=c.D;L=Ki(),St(L,new pn(L,b)),Ri(c)}else su(c);else if(H=v.m,H==3||H==0&&v.X>0||!(L==1&&ha(c,v)||L==2&&Lr(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),H){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function ou(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Mi(c,v){if(c.j.info("Error code "+v),v==2){var b=m(c.bb,c),L=c.Ua;const H=!L;L=new Dn(L||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yt(L,"https"),Er(L),H?ii(L.toString(),b):Ro(L.toString(),b)}else _t(2);c.I=0,c.l&&c.l.pa(v),lu(c),ca(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function lu(c){if(c.I=0,c.ja=[],c.l){const v=To(c.h);(v.length!=0||c.i.length!=0)&&(x(c.ja,v),x(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function uu(c,v,b){var L=b instanceof Dn?It(b):new Dn(b);if(L.g!="")v&&(L.g=v+"."+L.g),ws(L,L.u);else{var H=f.location;L=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const W=new Dn(null);L&&Yt(W,L),v&&(W.g=v),H&&ws(W,H),b&&(W.h=b),L=W}return b=c.G,v=c.wa,b&&v&&it(L,b,v),it(L,"VER",c.ka),wr(c,L),L}function cu(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new at(new Ai({ab:b})):new at(c.ma),v.Fa(c.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}s=hu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(c,v){return new gn(c,v)};function gn(c,v){ht.call(this),this.g=new xs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!M(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ns(this)}S(gn,ht),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Do(this.g)},gn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ei(c),c=b);v.i.push(new xt(v.Ya++,c)),v.I==3&&Ri(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,gn.Z.N.call(this)};function fu(c){Ot.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}S(fu,Ot);function du(){$t.call(this),this.status=1}S(du,$t);function ns(c){this.g=c}S(ns,hu),ns.prototype.ra=function(){St(this.g,"a")},ns.prototype.qa=function(c){St(this.g,new fu(c))},ns.prototype.pa=function(c){St(this.g,new du)},ns.prototype.oa=function(){St(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,_b=function(){return new Vs},yb=function(){return Ki()},vb=pt,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Oc=Re,vo.COMPLETE="complete",mb=vo,yr.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Sl=yr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,gb=at}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",hE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new sb("@firebase/firestore");function qa(){return $r.logLevel}function pe(s,...e){if($r.logLevel<=Ze.DEBUG){const n=e.map(wp);$r.debug(`Firestore (${ho}): ${s}`,...n)}}function bs(s,...e){if($r.logLevel<=Ze.ERROR){const n=e.map(wp);$r.error(`Firestore (${ho}): ${s}`,...n)}}function eo(s,...e){if($r.logLevel<=Ze.WARN){const n=e.map(wp);$r.warn(`Firestore (${ho}): ${s}`,...n)}}function wp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Eb(s,r,n)}function Eb(s,e,n){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function bt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||Eb(e,o,r)}function $e(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class uR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new bb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class hR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function $d(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Dd(o)===Dd(u)?Qe(o,u):Dd(o)?1:-1}return Qe(s.length,e.length)}const gR=55296,mR=57343;function Dd(s){const e=s.charCodeAt(0);return e>=gR&&e<=mR}function to(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),o=Ni.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):$d(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class vt extends Ni{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const vR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ni{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return vR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dE}static keyField(){return new dn([dE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new ge(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(vt.fromString(e))}static fromName(e){return new Le(vt.fromString(e).popFirst(5))}static empty(){return new Le(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new vt(e.slice()))}}function yR(s,e,n,r){if(e===!0&&r===!0)throw new ge(ce.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function pE(s){if(Le.isDocumentKey(s))throw new ge(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Tb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ie(12329,{type:typeof s})}function Xd(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(s);throw new ge(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Fl(s,e){if(!Tb(s))throw new ge(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ge(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,mE=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mE);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fl(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Bt("string",yt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new yt(0,0))}static max(){return new xe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function _R(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new hr(o,Le.empty(),e)}function ER(s){return new hr(s.readTime,s.key,kl)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(xe.min(),Le.empty(),kl)}static max(){return new hr(xe.max(),Le.empty(),kl)}}function bR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(s.documentKey,e.documentKey),n!==0?n:Qe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(s){if(s.code!==ce.FAILED_PRECONDITION||s.message!==SR)throw s;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((E=>{f[m]=E,++p,p===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function CR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=-1;function ch(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function wR(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="";function LR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=vE(e)),e=RR(s.get(n),e);return vE(e)}function RR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case Cb:n+="";break;default:n+=u}}return n}function vE(s){return s+Cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function po(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Ab(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new nn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new rr([])}unionWith(e){let n=new Ht(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wb("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(bt(!!s,39018),typeof s=="string"){let e=0;const n=MR.exec(s);if(bt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",Rb="__type__",Mb="__previous_value__",Ob="__local_write_time__";function Lp(s){return(s?.mapValue?.fields||{})[Rb]?.stringValue===Lb}function hh(s){const e=s.mapValue.fields[Mb];return Lp(e)?hh(e):e}function Ul(s){const e=fr(s.mapValue.fields[Ob].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,o,u,f,p,g,m,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=E}}const Zc="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="__type__",DR="__max__",Sc={mapValue:{}},xb="__vector__",$c="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lp(s)?4:IR(s)?9007199254740991:xR(s)?10:11:Ie(28295,{value:s})}function ji(s,e){if(s===e)return!0;const n=pr(s);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ul(s).isEqual(Ul(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fr(o.timestampValue),p=fr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return dr(o.bytesValue).isEqual(dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),p=Rt(u.doubleValue);return f===p?Kc(f)===Kc(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return to(s.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(yE(f)!==yE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ji(f[g],p[g])))return!1;return!0})(s,e);default:return Ie(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((n=>ji(n,e)))!==void 0}function no(s,e){if(s===e)return 0;const n=pr(s),r=pr(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=Rt(u.integerValue||u.doubleValue),g=Rt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return EE(s.timestampValue,e.timestampValue);case 4:return EE(Ul(s),Ul(e));case 5:return $d(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=dr(u),g=dr(f);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let m=0;m<p.length&&m<g.length;m++){const E=Qe(p[m],g[m]);if(E!==0)return E}return Qe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Qe(Rt(u.latitude),Rt(f.latitude));return p!==0?p:Qe(Rt(u.longitude),Rt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return bE(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},m=p[$c]?.arrayValue,E=g[$c]?.arrayValue,S=Qe(m?.values?.length||0,E?.values?.length||0);return S!==0?S:bE(m,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Sc.mapValue&&f===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=f.fields||{},E=Object.keys(m);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const T=$d(g[S],E[S]);if(T!==0)return T;const O=no(p[g[S]],m[E[S]]);if(O!==0)return O}return Qe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function EE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const n=fr(s),r=fr(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function bE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=no(n[o],r[o]);if(u)return u}return Qe(n.length,r.length)}function io(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return dr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Le.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Jd(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Jd(n.fields[f])}`;return o+"}"})(s.mapValue):Ie(61005,{value:s})}function Dc(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(s);return e?16+Dc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Dc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return po(r.fields,((u,f)=>{o+=u.length+Dc(f)})),o})(s.mapValue);default:throw Ie(13486,{value:s})}}function SE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Wd(s){return!!s&&"integerValue"in s}function Rp(s){return!!s&&"arrayValue"in s}function TE(s){return!!s&&"nullValue"in s}function CE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function xd(s){return!!s&&"mapValue"in s}function xR(s){return(s?.mapValue?.fields||{})[Db]?.stringValue===xb}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return po(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rl(s.arrayValue.values[n]);return e}return{...s}}function IR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(n)}setAll(e){let n=dn.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Rl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){po(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Pi(Rl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),Pi.empty(),0)}static newFoundDocument(e,n,r,o){return new fn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new fn(e,2,n,xe.min(),xe.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,xe.min(),xe.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function AE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=Le.comparator(Le.fromName(f.referenceValue),n.key):r=no(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ji(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{}class zt extends Ib{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PR(e,n,r):n==="array-contains"?new zR(e,r):n==="in"?new BR(e,r):n==="not-in"?new jR(e,r):n==="array-contains-any"?new HR(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kR(e,r):new UR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends Ib{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return Vb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vb(s){return s.op==="and"}function Nb(s){return NR(s)&&Vb(s)}function NR(s){for(const e of s.filters)if(e instanceof fi)return!1;return!0}function ep(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+io(s.value);if(Nb(s))return s.filters.map((e=>ep(e))).join(",");{const e=s.filters.map((n=>ep(n))).join(",");return`${s.op}(${e})`}}function Pb(s,e){return s instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&ji(r.value,o.value)})(s,e):s instanceof fi?(function(r,o){return o instanceof fi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&Pb(f,o.filters[p])),!0):!1})(s,e):void Ie(19439)}function kb(s){return s instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(s):s instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(kb).join(" ,")+"}"})(s):"Filter"}class PR extends zt{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class kR extends zt{constructor(e,n){super(e,"in",n),this.keys=Ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UR extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ub(s,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class zR extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&Bl(n.arrayValue,this.value)}}class BR extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class jR extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class HR extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Bl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function LE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new qR(s,e,n,r,o,u,f)}function Mp(s){const e=$e(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ep(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>io(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>io(r))).join(",")),e.Te=n}return e.Te}function Op(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!VR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Pb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!wE(s.startAt,e.startAt)&&wE(s.endAt,e.endAt)}function tp(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GR(s,e,n,r,o,u,f,p){return new go(s,e,n,r,o,u,f,p)}function zb(s){return new go(s)}function RE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Bb(s){return s.collectionGroup!==null}function Ml(s){const e=$e(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ht(dn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new jl(u,r))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new jl(dn.keyField(),r))}return e.Ie}function ki(s){const e=$e(s);return e.Ee||(e.Ee=FR(e,Ml(s))),e.Ee}function FR(s,e){if(s.limitType==="F")return LE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new jl(o.field,u)}));const n=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return LE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function np(s,e){const n=s.filters.concat([e]);return new go(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ip(s,e,n){return new go(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function fh(s,e){return Op(ki(s),ki(e))&&s.limitType===e.limitType}function jb(s){return`${Mp(ki(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>kb(o))).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>io(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>io(o))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function dh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Le.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Ml(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,g){const m=AE(f,p,g);return f.inclusive?m<=0:m<0})(r.startAt,Ml(r),o)||r.endAt&&!(function(f,p,g){const m=AE(f,p,g);return f.inclusive?m>=0:m>0})(r.endAt,Ml(r),o))})(s,e)}function QR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Hb(s){return(e,n)=>{let r=!1;for(const o of Ml(s)){const u=YR(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function YR(s,e,n){const r=s.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),m=p.data.field(u);return g!==null&&m!==null?no(g,m):Ie(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Mt(Le.comparator);function gr(){return KR}const qb=new Mt(Le.comparator);function Tl(...s){let e=qb;for(const n of s)e=e.insert(n.key,n);return e}function ZR(s){let e=qb;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yr(){return Ol()}function Gb(){return Ol()}function Ol(){return new Wr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $R=new Ht(Le.comparator);function Xe(...s){let e=$R;for(const n of s)e=e.add(n);return e}const XR=new Ht(Qe);function JR(){return XR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function Fb(s){return{integerValue:""+s}}function WR(s,e){return wR(e)?Fb(e):Dp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function eM(s,e,n){return s instanceof sp?(function(o,u){const f={fields:{[Rb]:{stringValue:Lb},[Ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=hh(u)),u&&(f.fields[Mb]=u),{mapValue:f}})(n,e):s instanceof Jc?Qb(s,e):s instanceof Wc?Yb(s,e):(function(o,u){const f=nM(o,u),p=ME(f)+ME(o.Ae);return Wd(f)&&Wd(o.Ae)?Fb(p):Dp(o.serializer,p)})(s,e)}function tM(s,e,n){return s instanceof Jc?Qb(s,e):s instanceof Wc?Yb(s,e):n}function nM(s,e){return s instanceof rp?(function(r){return Wd(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class sp extends ph{}class Jc extends ph{constructor(e){super(),this.elements=e}}function Qb(s,e){const n=Kb(e);for(const r of s.elements)n.some((o=>ji(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Wc extends ph{constructor(e){super(),this.elements=e}}function Yb(s,e){let n=Kb(e);for(const r of s.elements)n=n.filter((o=>!ji(o,r)));return{arrayValue:{values:n}}}class rp extends ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ME(s){return Rt(s.integerValue||s.doubleValue)}function Kb(s){return Rp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function iM(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Jc&&o instanceof Jc||r instanceof Wc&&o instanceof Wc?to(r.elements,o.elements,ji):r instanceof rp&&o instanceof rp?ji(r.Ae,o.Ae):r instanceof sp&&o instanceof sp})(s.transform,e.transform)}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xp{}function Zb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rM(s.key,Zr.none()):new Ip(s.key,s.data,Zr.none());{const n=s.data,r=Pi.empty();let o=new Ht(dn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new gh(s.key,r,new rr(o.toArray()),Zr.none())}}function sM(s,e,n){s instanceof Ip?(function(o,u,f){const p=o.value.clone(),g=DE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof gh?(function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=DE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll($b(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Dl(s,e,n,r){return s instanceof Ip?(function(u,f,p,g){if(!xc(u.precondition,f))return p;const m=u.value.clone(),E=xE(u.fieldTransforms,g,f);return m.setAll(E),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(s,e,n,r):s instanceof gh?(function(u,f,p,g){if(!xc(u.precondition,f))return p;const m=xE(u.fieldTransforms,g,f),E=f.data;return E.setAll($b(u)),E.setAll(m),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,p){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function OE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&to(r,o,((u,f)=>iM(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ip extends xp{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gh extends xp{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $b(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function DE(s,e,n){const r=new Map;bt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,tM(f,p,n[o]))}return r}function xE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,eM(u,f,e))}return r}class rM extends xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sM(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=Zb(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,((n,r)=>OE(n,r)))&&to(this.baseMutations,e.baseMutations,((n,r)=>OE(n,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ke;function Xb(s){if(s===void 0)return bs("GRPC error has no .code"),ce.UNKNOWN;switch(s){case Ut.OK:return ce.OK;case Ut.CANCELLED:return ce.CANCELLED;case Ut.UNKNOWN:return ce.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ce.INTERNAL;case Ut.UNAVAILABLE:return ce.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ce.NOT_FOUND;case Ut.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ut.ABORTED:return ce.ABORTED;case Ut.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ut.DATA_LOSS:return ce.DATA_LOSS;default:return Ie(39323,{code:s})}}(Ke=Ut||(Ut={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new cr([4294967295,4294967295],0);function IE(s){const e=uM().encode(s),n=new pb;return n.update(e),new Uint8Array(n.digest())}function VE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cr([n,r],0),new cr([o,u],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(cr.fromNumber(r)));return o.compare(cM)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IE(e),[r,o]=VE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=IE(e),[r,o]=VE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(xe.min(),o,new Mt(Qe),gr(),Xe())}}class Ql{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ql(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Jb{constructor(e,n){this.targetId=e,this.Ce=n}}class Wb{constructor(e,n,r=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class NE{constructor(){this.ve=0,this.Fe=PE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ie(38017,{changeType:u})}})),new Ql(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hM{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Tc(),this.He=Tc(),this.Ye=new Mt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(r===0){const f=new Le(u.path);this.et(n,f,fn.newNoDocument(f,xe.min()))}else bt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=dr(r).toUint8Array()}catch(g){if(g instanceof wb)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Vp(f,o,u)}catch(g){return eo(g instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&tp(p.target)){const g=new Le(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,fn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Xe();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new mh(e,n,this.Ye,this.je,r);return this.je=gr(),this.Je=Tc(),this.He=Tc(),this.Ye=new Mt(Qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tc(){return new Mt(Le.comparator)}function PE(){return new Mt(Le.comparator)}const fM={asc:"ASCENDING",desc:"DESCENDING"},dM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pM={and:"AND",or:"OR"};class gM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(s,e){return s.useProto3Json||ch(e)?e:{value:e}}function op(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ka(s){return bt(!!s,49232),xe.fromTimestamp((function(n){const r=fr(n);return new yt(r.seconds,r.nanos)})(s))}function tS(s,e){return lp(s,e).canonicalString()}function lp(s,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function nS(s){const e=vt.fromString(s);return bt(oS(e),10190,{key:e.toString()}),e}function Id(s,e){const n=nS(e);if(n.get(1)!==s.databaseId.projectId)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Le(sS(n))}function iS(s,e){return tS(s.databaseId,e)}function mM(s){const e=nS(s);return e.length===4?vt.emptyPath():sS(e)}function kE(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sS(s){return bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vM(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,E){return m.useProto3Json?(bt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(bt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(m){const E=m.code===void 0?ce.UNKNOWN:Xb(m.code);return new ge(E,m.message||"")})(f);n=new Wb(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Id(s,r.document.name),u=Ka(r.document.updateTime),f=r.document.createTime?Ka(r.document.createTime):xe.min(),p=new Pi({mapValue:{fields:r.document.fields}}),g=fn.newFoundDocument(o,u,f,p),m=r.targetIds||[],E=r.removedTargetIds||[];n=new Ic(m,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Id(s,r.document),u=r.readTime?Ka(r.readTime):xe.min(),f=fn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Ic([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Id(s,r.document),u=r.removedTargetIds||[];n=new Ic([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new lM(o,u),p=r.targetId;n=new Jb(p,f)}}return n}function yM(s,e){return{documents:[iS(s,e.path)]}}function _M(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iS(s,o);const u=(function(m){if(m.length!==0)return aS(fi.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((E=>(function(T){return{field:Fa(T.field),direction:SM(T.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=ap(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function EM(s){let e=mM(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){bt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const T=rS(S);return T instanceof fi&&Nb(T)?T.getFilters():[T]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((T=>(function(x){return new jl(Qa(x.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let T;return T=typeof S=="object"?S.value:S,ch(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(S){const T=!!S.before,O=S.values||[];return new Xc(O,T)})(n.startAt));let m=null;return n.endAt&&(m=(function(S){const T=!S.before,O=S.values||[];return new Xc(O,T)})(n.endAt)),GR(e,o,f,u,p,"F",g,m)}function bM(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(s):s.fieldFilter!==void 0?(function(n){return zt.create(Qa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((r=>rS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(s):Ie(30097,{filter:s})}function SM(s){return fM[s]}function TM(s){return dM[s]}function CM(s){return pM[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Qa(s){return dn.fromServerFormat(s.fieldPath)}function aS(s){return s instanceof zt?(function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:TM(n.op),value:n.value}}})(s):s instanceof fi?(function(n){const r=n.getFilters().map((o=>aS(o)));return r.length===1?r[0]:{compositeFilter:{op:CM(n.op),filters:r}}})(s):Ie(54877,{filter:s})}function oS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,o,u=xe.min(),f=xe.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.yt=e}}function wM(s){const e=EM({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.Cn=new RM}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(hr.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class RM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ht(vt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ht(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(lS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",MM=1048576;function BE([s,e],[n,r]){const o=Qe(s,n);return o===0?Qe(e,r):o}class OM{constructor(e){this.Ir=e,this.buffer=new Ht(BE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(zE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?pe(zE,"Ignoring IndexedDB error during garbage collection: ",n):await lh(n)}await this.Vr(3e5)}))}}class xM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(uh.ce);const r=new OM(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(UE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,p,g,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(m=Date.now(),qa()<=Ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(m-g)+`ms
Total Duration: ${m-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function IM(s,e){return new xM(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.changes=new Wr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Dl(r.mutation,o,rr.empty(),yt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=Yr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Tl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,o){let u=gr();const f=Ol(),p=(function(){return Ol()})();return n.forEach(((g,m)=>{const E=r.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof gh)?u=u.insert(m.key,m):E!==void 0?(f.set(m.key,E.mutation.getFieldMask()),Dl(E.mutation,m,E.mutation.getFieldMask(),yt.now())):f.set(m.key,rr.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,E)=>f.set(m,E))),n.forEach(((m,E)=>p.set(m,new NM(E,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Ol();let o=new Mt(((f,p)=>f-p)),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let E=r.get(g)||rr.empty();E=p.applyToLocalView(m,E),r.set(g,E);const S=(o.get(p.batchId)||Xe()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,E=g.value,S=Gb();E.forEach((T=>{if(!u.has(T)){const O=Zb(n.get(T),r.get(T));O!==null&&S.set(T,O),u=u.add(T)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,S))}return oe.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return Le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):oe.resolve(Yr());let p=kl,g=u;return f.next((m=>oe.forEach(m,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((T=>{g=g.insert(E,T)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Xe()))).next((E=>({batchId:p,changes:ZR(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let o=Tl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(e,u).next((p=>oe.forEach(p,(g=>{const m=(function(S,T){return new go(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((E=>{E.forEach(((S,T)=>{f=f.insert(S,T)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,m)=>{const E=m.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))}));let p=Tl();return f.forEach(((g,m)=>{const E=u.get(g);E!==void 0&&Dl(E.mutation,m,rr.empty(),yt.now()),dh(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ka(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:wM(o.bundledQuery),readTime:Ka(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.overlays=new Mt(Le.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=Yr(),u=n.length+1,f=new Le(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Mt(((m,E)=>m-E));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let E=u.get(m.largestBatchId);E===null&&(E=Yr(),u=u.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=Yr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,E)=>p.set(m,E))),!(p.size()>=o)););return oe.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new oM(n,r));let u=this.qr.get(n);u===void 0&&(u=Xe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this.Qr=new Ht(Zt.$r),this.Ur=new Ht(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Le(new vt([])),r=new Zt(n,e),o=new Zt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new vt([])),r=new Zt(n,e),o=new Zt(n,e+1);let u=Xe();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Zt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new aM(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?AR:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(Qe);return n.forEach((o=>{const u=new Zt(o,0),f=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Le.isDocumentKey(u)||(u=u.child(""));const f=new Zt(new Le(u),0);let p=new Ht(Qe);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),f),oe.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(o=>{const u=new Zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Zt(n,0),o=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=gr();const f=n.path,p=new Le(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:E}}=g.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||bR(ER(E),r)<=0||(o.has(E.key)||dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ie(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HM(this)}getSize(e){return oe.resolve(this.size)}}class HM extends VM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.persistence=e,this.si=new Wr((n=>Mp(n)),Op),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Np,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new so(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new zM,this.referenceDelegate=e(this),this.Pi=new qM(this),this.indexManager=new LM,this.remoteDocumentCache=(function(o){return new jM(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new AM(n),this.Ii=new kM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new BM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const o=new GM(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GM extends TR{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Np,this.Vi=null}static mi(e){return new Pp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const o=Le.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.pi=new Wr((r=>LR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=IM(this,n)}static mi(e,n){return new eh(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(r++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Xe(),o=Xe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kw()?8:CR(Qw())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FM;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(qa()<=Ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(qa()<=Ze.DEBUG&&pe("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(qa()<=Ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):oe.resolve())}ys(e,n){if(RE(n))return oe.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Xe(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,f,g.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,r,o){return RE(n)||o.isEqual(xe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?oe.resolve(null):(qa()<=Ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.vs(e,f,n,_R(o,kl)).next((p=>p)))}))}Ds(e,n){let r=new Ht(Hb(e));return n.forEach(((o,u)=>{dh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return qa()<=Ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(e,n,hr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",YM=3e8;class KM{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Qe),this.xs=new Wr((u=>Mp(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZM(s,e,n,r){return new KM(s,e,n,r)}async function cS(s,e){const n=$e(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Xe();for(const m of o){f.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}for(const m of u){p.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function hS(s){const e=$e(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $M(s,e){const n=$e(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const T=o.get(S);if(!T)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let O=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,r)),o=o.insert(S,O),(function(z,P,Y){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=YM?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(T,O,E)&&p.push(n.Pi.updateTargetData(u,O))}));let g=gr(),m=Xe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(XM(u,f,e.documentUpdates).next((E=>{g=E.ks,m=E.qs}))),!r.isEqual(xe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return oe.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function XM(s,e,n){let r=Xe(),o=Xe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=gr();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):pe(Up,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function JM(s,e){const n=$e(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,oe.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new ar(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function up(s,e,n){const r=$e(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!fo(f))throw f;pe(Up,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function jE(s,e,n){const r=$e(s);let o=xe.min(),u=Xe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,m,E){const S=$e(g),T=S.xs.get(E);return T!==void 0?oe.resolve(S.Ms.get(T)):S.Pi.getTargetData(m,E)})(r,f,ki(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Xe()))).next((p=>(WM(r,QR(e),p),{documents:p,Qs:u})))))}function WM(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class HE{constructor(){this.activeTargetIds=JR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(){this.Mo=new HE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class GE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(qE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function cp(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=cp(),p=this.zo(e,n.toUriEncodedString());pe(Vd,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),E=ah(m);return this.Jo(e,p,g,r,E).then((S=>(pe(Vd,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw eo(Vd,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=n2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class r2 extends i2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=cp();return new Promise(((p,g)=>{const m=new gb;m.setWithCredentials(!0),m.listenOnce(mb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Oc.NO_ERROR:const S=m.getResponseJson();pe(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case Oc.TIMEOUT:pe(cn,`RPC '${e}' ${f} timed out`),g(new ge(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const T=m.getStatus();if(pe(cn,`RPC '${e}' ${f} failed with status:`,T,"response text:",m.getResponseText()),T>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const x=O?.error;if(x&&x.status&&x.message){const z=(function(Y){const j=Y.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(j)>=0?j:ce.UNKNOWN})(x.status);g(new ge(z,x.message))}else g(new ge(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ge(ce.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(cn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);pe(cn,`RPC '${e}' ${f} sending request:`,o),m.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_b(),p=yb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");pe(cn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let T=!1,O=!1;const x=new s2({Yo:P=>{O?pe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(pe(cn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),pe(cn,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),z=(P,Y,j)=>{P.listen(Y,(te=>{try{j(te)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return z(S,Sl.EventType.OPEN,(()=>{O||(pe(cn,`RPC '${e}' stream ${o} transport opened.`),x.o_())})),z(S,Sl.EventType.CLOSE,(()=>{O||(O=!0,pe(cn,`RPC '${e}' stream ${o} transport closed`),x.a_(),this.E_(S))})),z(S,Sl.EventType.ERROR,(P=>{O||(O=!0,eo(cn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),x.a_(new ge(ce.UNAVAILABLE,"The operation could not be completed")))})),z(S,Sl.EventType.MESSAGE,(P=>{if(!O){const Y=P.data[0];bt(!!Y,16349);const j=Y,te=j?.error||j[0]?.error;if(te){pe(cn,`RPC '${e}' stream ${o} received error:`,te);const Z=te.status;let q=(function(R){const A=Ut[R];if(A!==void 0)return Xb(A)})(Z),X=te.message;q===void 0&&(q=ce.INTERNAL,X="Unknown error status: "+Z+" with message "+te.message),O=!0,x.a_(new ge(q,X)),S.close()}else pe(cn,`RPC '${e}' stream ${o} received:`,Y),x.u_(Y)}})),z(p,vb.STAT_EVENT,(P=>{P.stat===Zd.PROXY?pe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Zd.NOPROXY&&pe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(s){return new gM(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class a2{constructor(e,n,r,o,u,f,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o2 extends a2{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vM(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Ka(f.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=kE(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=tp(g)?{documents:yM(u,g)}:{query:_M(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=eS(u,f.resumeToken);const m=ap(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(xe.min())>0){p.readTime=op(u,f.snapshotVersion.toTimestamp());const m=ap(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=bM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=kE(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{}class u2 extends l2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,lp(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ce.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,lp(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ce.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class h2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Kl(this)&&(pe(ro,"Restarting streams for network reachability change."),await(async function(g){const m=$e(g);m.Ea.add(4),await Yl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await yh(m)})(this))}))})),this.Ra=new c2(r,o)}}async function yh(s){if(Kl(s))for(const e of s.da)await e(!0)}async function Yl(s){for(const e of s.da)await e(!1)}function dS(s,e){const n=$e(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?jp(n):mo(n).O_()&&Bp(n,e))}function zp(s,e){const n=$e(s),r=mo(n);n.Ia.delete(e),r.O_()&&pS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Kl(n)&&n.Ra.set("Unknown"))}function Bp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(s).Y_(e)}function pS(s,e){s.Va.Ue(e),mo(s).Z_(e)}function jp(s){s.Va=new hM({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function Hp(s){return Kl(s)&&!mo(s).x_()&&s.Ia.size>0}function Kl(s){return $e(s).Ea.size===0}function gS(s){s.Va=void 0}async function f2(s){s.Ra.set("Online")}async function d2(s){s.Ia.forEach(((e,n)=>{Bp(s,e)}))}async function p2(s,e){gS(s),Hp(s)?(s.Ra.ha(e),jp(s)):s.Ra.set("Unknown")}async function g2(s,e,n){if(s.Ra.set("Online"),e instanceof Wb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){pe(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await QE(s,r)}else if(e instanceof Ic?s.Va.Ze(e):e instanceof Jb?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await hS(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(m);E&&u.Ia.set(m,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,m)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),pS(u,g);const S=new ar(E.target,g,m,E.sequenceNumber);Bp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){pe(ro,"Failed to raise snapshot:",r),await QE(s,r)}}async function QE(s,e,n){if(!fo(e))throw e;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),n||(n=()=>hS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{pe(ro,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await yh(s)}))}async function YE(s,e){const n=$e(s);n.asyncQueue.verifyOperationInProgress(),pe(ro,"RemoteStore received new credentials");const r=Kl(n);n.Ea.add(3),await Yl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function m2(s,e){const n=$e(s);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Yl(n),n.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(n,r,o){const u=$e(n);return u.sa(),new o2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:f2.bind(null,s),t_:d2.bind(null,s),r_:p2.bind(null,s),H_:g2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Hp(s)?jp(s):s.Ra.set("Unknown")):(await s.ma.stop(),gS(s))}))),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new qp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mS(s,e){if(bs("AsyncQueue",`${e}: ${s}`),fo(s))return new ge(ce.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ga=new Mt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ao{constructor(e,n,r,o,u,f,p,g,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new ao(e,n,Za.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y2{constructor(){this.queries=ZE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=$e(n),u=o.queries;o.queries=ZE(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ge(ce.ABORTED,"Firestore shutting down"))}}function ZE(){return new Wr((s=>jb(s)),fh)}async function _2(s,e){const n=$e(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new v2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=mS(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function E2(s,e){const n=$e(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b2(s,e){const n=$e(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&Gp(n)}function S2(s,e,n){const r=$e(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Gp(s){s.Ca.forEach((e=>{e.next()}))}var hp,$E;($E=hp||(hp={})).Ma="default",$E.Cache="cache";class T2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class yS{constructor(e){this.key=e}}class C2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Hb(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new KE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const T=o.get(E),O=dh(this.query,S)?S:null,x=!!T&&this.mutatedKeys.has(T.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;T&&O?T.data.isEqual(O.data)?x!==z&&(r.track({type:3,doc:O}),P=!0):this.su(T,O)||(r.track({type:2,doc:O}),P=!0,(g&&this.eu(O,g)>0||m&&this.eu(O,m)<0)&&(p=!0)):!T&&O?(r.track({type:0,doc:O}),P=!0):T&&!O&&(r.track({type:1,doc:T}),P=!0,(g||m)&&(p=!0)),P&&(O?(f=f.add(O),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(O,x){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:P})}};return z(O)-z(x)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,f.length!==0||m?{snapshot:new ao(this.query,e.tu,u,f,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new yS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new vS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class A2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w2{constructor(e){this.key=e,this.hu=!1}}class L2{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Wr((p=>jb(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Le.comparator),this.Au=new Map,this.Ru=new Np,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,n=!0){const r=TS(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await _S(r,e,n,!0),o}async function M2(s,e){const n=TS(s);await _S(n,e,!0,!1)}async function _S(s,e,n,r){const o=await JM(s.localStore,ki(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await O2(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&dS(s.remoteStore,o),p}async function O2(s,e,n,r,o){s.pu=(S,T,O)=>(async function(z,P,Y,j){let te=P.view.ru(Y);te.Cs&&(te=await jE(z.localStore,P.query,!1).then((({documents:w})=>P.view.ru(w,te))));const Z=j&&j.targetChanges.get(P.targetId),q=j&&j.targetMismatches.get(P.targetId)!=null,X=P.view.applyChanges(te,z.isPrimaryClient,Z,q);return JE(z,P.targetId,X.au),X.snapshot})(s,S,T,O);const u=await jE(s.localStore,e,!0),f=new C2(e,u.Qs),p=f.ru(u.documents),g=Ql.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),m=f.applyChanges(p,s.isPrimaryClient,g);JE(s,n,m.au);const E=new A2(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),m.snapshot}async function D2(s,e,n){const r=$e(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!fh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await up(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&zp(r.remoteStore,o.targetId),fp(r,o.targetId)})).catch(lh)):(fp(r,o.targetId),await up(r.localStore,o.targetId,!0))}async function x2(s,e){const n=$e(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function ES(s,e){const n=$e(s);try{const r=await $M(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?bt(f.hu,14607):o.removedDocuments.size>0&&(bt(f.hu,42227),f.hu=!1))})),await SS(n,r,e)}catch(r){await lh(r)}}function XE(s,e,n){const r=$e(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=$e(f);g.onlineState=p;let m=!1;g.queries.forEach(((E,S)=>{for(const T of S.Sa)T.va(p)&&(m=!0)})),m&&Gp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I2(s,e,n){const r=$e(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new Mt(Le.comparator);f=f.insert(u,fn.newNoDocument(u,xe.min()));const p=Xe().add(u),g=new mh(xe.min(),new Map,new Mt(Qe),f,p);await ES(r,g),r.du=r.du.remove(u),r.Au.delete(e),Qp(r)}else await up(r.localStore,e,!1).then((()=>fp(r,e,n))).catch(lh)}function fp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||bS(s,r)}))}function bS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(zp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Qp(s))}function JE(s,e,n){for(const r of n)r instanceof vS?(s.Ru.addReference(r.key,e),V2(s,r)):r instanceof yS?(pe(Fp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||bS(s,r.key)):Ie(19791,{wu:r})}function V2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(pe(Fp,"New document in limbo: "+n),s.Eu.add(r),Qp(s))}function Qp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Le(vt.fromString(e)),r=s.fu.next();s.Au.set(r,new w2(n)),s.du=s.du.insert(n,r),dS(s.remoteStore,new ar(ki(zb(n.path)),r,"TargetPurposeLimboResolution",uh.ce))}}async function SS(s,e,n){const r=$e(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const E=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(m){o.push(m);const E=kp.As(g.targetId,m);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,m){const E=$e(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>oe.forEach(m,(T=>oe.forEach(T.Es,(O=>E.persistence.referenceDelegate.addReference(S,T.targetId,O))).next((()=>oe.forEach(T.ds,(O=>E.persistence.referenceDelegate.removeReference(S,T.targetId,O)))))))))}catch(S){if(!fo(S))throw S;pe(Up,"Failed to update sequence numbers: "+S)}for(const S of m){const T=S.targetId;if(!S.fromCache){const O=E.Ms.get(T),x=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(x);E.Ms=E.Ms.insert(T,z)}}})(r.localStore,u))}async function N2(s,e){const n=$e(s);if(!n.currentUser.isEqual(e)){pe(Fp,"User change. New user:",e.toKey());const r=await cS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(ce.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await SS(n,r.Ls)}}function P2(s,e){const n=$e(s),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function TS(s){const e=$e(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I2.bind(null,e),e.Pu.H_=b2.bind(null,e.eventManager),e.Pu.yu=S2.bind(null,e.eventManager),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZM(this.persistence,new QM,e.initialUser,this.serializer)}Cu(e){return new uS(Pp.mi,this.serializer)}Du(e){return new e2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class k2 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new uS((r=>eh.mi(r,n)),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y2})()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=(function(u){return new r2(u)})(e.databaseInfo);return(function(u,f,p,g){return new u2(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,p){return new h2(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>XE(this.syncEngine,n,0)),(function(){return GE.v()?new GE:new t2})())}createSyncEngine(e,n){return(function(o,u,f,p,g,m,E){const S=new L2(o,u,f,p,g,m);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$e(n);pe(ro,"RemoteStore shutting down."),r.Ea.add(5),await Yl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class z2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{pe(mr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(pe(mr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pd(s,e){s.asyncQueue.verifyOperationInProgress(),pe(mr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await cS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function WE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await B2(s);pe(mr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>YE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>YE(e.remoteStore,o))),s._onlineComponents=e}async function B2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){pe(mr,"Using user provided OfflineComponentProvider");try{await Pd(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Pd(s,new th)}}else pe(mr,"Using default OfflineComponentProvider"),await Pd(s,new k2(void 0));return s._offlineComponents}async function j2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(pe(mr,"Using user provided OnlineComponentProvider"),await WE(s,s._uninitializedComponentsProvider._online)):(pe(mr,"Using default OnlineComponentProvider"),await WE(s,new dp))),s._onlineComponents}async function H2(s){const e=await j2(s),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x2.bind(null,e.syncEngine),n}function q2(s,e,n={}){const r=new Kr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,m){const E=new U2({next:T=>{E.Nu(),f.enqueueAndForget((()=>E2(u,S))),T.fromCache&&g.source==="server"?m.reject(new ge(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),S=new T2(p,E,{includeMetadataChanges:!0,qa:!0});return _2(u,S)})(await H2(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firestore.googleapis.com",t0=!0;class n0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=t0}else this.host=e.host,this.ssl=e.ssl??t0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MM)throw new ge(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lR;switch(r.type){case"firstParty":return new fR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=e0.get(n);r&&(pe("ComponentProvider","Removing Datastore"),e0.delete(n),r.terminate())})(this),Promise.resolve()}}function G2(s,e,n,r={}){s=Xd(s,Yp);const o=ah(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(eb(`https://${p}`),nb("Firestore",!0)),u.host!==AS&&u.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Qc(g,f)&&(s._setSettings(g),r.mockUserToken)){let m,E;if(typeof r.mockUserToken=="string")m=r.mockUserToken,E=hn.MOCK_USER;else{m=tb(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ge(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(S)}s._authCredentials=new uR(new bb(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fl(n,vn._jsonSchema))return new vn(e,r||null,new Le(vt.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Bt("string",vn._jsonSchemaVersion),referencePath:Bt("string")};class $a extends ea{constructor(e,n,r){super(e,n,zb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Le(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function F2(s,e,...n){if(s=Vl(s),s instanceof Yp){const r=vt.fromString(e,...n);return pE(r),new $a(s,null,r)}{if(!(s instanceof vn||s instanceof $a))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(vt.fromString(e,...n));return pE(r),new $a(s.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fS(this,"async_queue_retry"),this._c=()=>{const r=Nd();r&&pe(i0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;pe(i0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",r0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class wS extends Yp{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new s0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function Q2(s,e){const n=typeof s=="object"?s:hb(),r=typeof s=="string"?s:Zc,o=ob(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=J0("firestore");u&&G2(o,...u)}return o}function Y2(s){if(s._terminated)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||K2(s),s._firestoreClient}function K2(s){const e=s._freezeSettings(),n=(function(o,u,f,p){return new OR(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new z2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new ge(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fl(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Bt("string",Wn._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Fl(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Bt("string",Ui._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fl(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new ge(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Bt("string",zi._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^__.*__$/;function MS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:s})}}class Kp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MS(this.Ac)&&Z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Cc(e,n,r,o=!1){return new Kp({Ac:e,methodName:n,Dc:r,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X2(s){const e=s._freezeSettings(),n=vh(s._databaseId);return new $2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(s,e,n,r=!1){return Zp(n,s.Cc(r?4:3,e))}function Zp(s,e){if(OS(s=Vl(s)))return eO("Unsupported field value:",e,s),W2(s,e);if(s instanceof RS)return(function(r,o){if(!MS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let g=Zp(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Vl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=yt.fromDate(r);return{timestampValue:op(o.serializer,u)}}if(r instanceof yt){const u=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:op(o.serializer,u)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:eS(o.serializer,r._byteString)};if(r instanceof vn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tS(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zi)return(function(f,p){return{mapValue:{fields:{[Db]:{stringValue:xb},[$c]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Dp(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${oh(r)}`)})(s,e)}function W2(s,e){const n={};return Ab(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(s,((r,o)=>{const u=Zp(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function OS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Ui||s instanceof Wn||s instanceof vn||s instanceof RS||s instanceof zi)}function eO(s,e,n){if(!OS(n)||!Tb(n)){const r=oh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}const tO=new RegExp("[~\\*/\\[\\]]");function nO(s,e,n){if(e.search(tO)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new LS(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function pp(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new ge(ce.INVALID_ARGUMENT,p+s+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends DS{data(){return super.data()}}function $p(s,e){return typeof e=="string"?nO(s,e):e instanceof LS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class xS extends Xp{}function rO(s,e,...n){let r=[];e instanceof Xp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Wp)).length,p=u.filter((g=>g instanceof Jp)).length;if(f>1||f>0&&p>0)throw new ge(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Jp extends xS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jp(e,n,r)}_apply(e){const n=this._parse(e);return IS(e._query,n),new ea(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=X2(e.firestore);return(function(u,f,p,g,m,E,S){let T;if(m.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){o0(S,E);const x=[];for(const z of S)x.push(a0(g,u,z));T={arrayValue:{values:x}}}else T=a0(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||o0(S,E),T=J2(p,f,S,E==="in"||E==="not-in");return zt.create(m,E,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)IS(f,g),f=np(f,g)})(e._query,n),new ea(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends xS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(u,f)})(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new go(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function aO(s,e="asc"){const n=e,r=$p("orderBy",s);return eg._create(r,n)}function a0(s,e,n){if(typeof(n=Vl(n))=="string"){if(n==="")throw new ge(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(e)&&n.indexOf("/")!==-1)throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Le.isDocumentKey(r))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SE(s,new Le(r))}if(n instanceof vn)return SE(s,n._key);throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function o0(s,e){if(!Array.isArray(s)||s.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IS(s,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oO{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[$c].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new zi(n)}convertGeoPoint(e){return new Ui(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=fr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);bt(oS(r),9688,{name:e});const o=new zl(r.get(1),r.get(3)),u=new Le(r.popFirst(5));return o.isEqual(n)||bs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends DS{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($p("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Bt("string",Xa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Vc extends Xa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vc(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:lO(p.type),doc:g,oldIndex:m,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:s})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Bt("string",Ja._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class uO extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function cO(s){s=Xd(s,ea);const e=Xd(s.firestore,wS),n=Y2(e),r=new uO(e);return sO(s._query),q2(n,s._query).then((o=>new Ja(e,r,s,o)))}(function(e,n=!0){(function(o){ho=o})(ub),Nl(new Wa("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new wS(new cR(r.getProvider("auth-internal")),new dR(f,r.getProvider("app-check-internal")),(function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(m.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ur(cE,hE,e),ur(cE,hE,"esm2020")})();var hO="firebase",fO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(hO,fO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebasestorage.googleapis.com",dO="storageBucket",pO=120*1e3,gO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Jr{constructor(e,n,r=0){super(kd(e),`Firebase Storage: ${n} (${kd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function kd(s){return"storage/"+s}function mO(){const s="An unknown error occurred, please check the error payload for server response.";return new Gi(Hi.UNKNOWN,s)}function vO(){return new Gi(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yO(){return new Gi(Hi.CANCELED,"User canceled the upload/download.")}function _O(s){return new Gi(Hi.INVALID_URL,"Invalid URL '"+s+"'.")}function EO(s){return new Gi(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function l0(s){return new Gi(Hi.INVALID_ARGUMENT,s)}function NS(){return new Gi(Hi.APP_DELETED,"The Firebase app was deleted.")}function bO(s){return new Gi(Hi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hi.makeFromUrl(e,n)}catch{return new hi(e,"")}if(r.path==="")return r;throw EO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",O=new RegExp(`^https?://${S}/${E}/b/${o}/o${T}`,"i"),x={bucket:1,path:3},z=n===VS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",Y=new RegExp(`^https?://${z}/${o}/${P}`,"i"),te=[{regex:p,indices:g,postModify:u},{regex:O,indices:x,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<te.length;Z++){const q=te[Z],X=q.regex.exec(e);if(X){const w=X[q.indices.bucket];let R=X[q.indices.path];R||(R=""),r=new hi(w,R),q.postModify(r);break}}if(r==null)throw _O(e);return r}}class SO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(s,e,n){let r=1,o=null,u=null,f=!1,p=0;function g(){return p===2}let m=!1;function E(...P){m||(m=!0,e.apply(null,P))}function S(P){o=setTimeout(()=>{o=null,s(O,g())},P)}function T(){u&&clearTimeout(u)}function O(P,...Y){if(m){T();return}if(P){T(),E.call(null,P,...Y);return}if(g()||f){T(),E.call(null,P,...Y);return}r<64&&(r*=2);let te;p===1?(p=2,te=0):te=(r+Math.random())*1e3,S(te)}let x=!1;function z(P){x||(x=!0,T(),!m&&(o!==null?(P||(p=2),clearTimeout(o),S(0)):P||(p=1)))}return S(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function CO(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(s){return s!==void 0}function u0(s,e,n,r){if(r<e)throw l0(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw l0(`Invalid value for '${s}'. Expected ${n} or less.`)}function wO(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var nh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(nh||(nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,o,u,f,p,g,m,E,S,T=!0,O=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=E,this.connectionFactory_=S,this.retry=T,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new wc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,m)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===nh.NO_ERROR,g=u.getStatus();if(!p||LO(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===nh.ABORT;r(!1,new wc(!1,null,E));return}const m=this.successCodes_.indexOf(g)!==-1;r(!0,new wc(m,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());AO(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=mO();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?NS():yO();f(g)}else{const g=vO();f(g)}};this.canceled_?n(!1,new wc(!1,null,!0)):this.backoffId_=TO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function MO(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function OO(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DO(s,e){e&&(s["X-Firebase-GMPID"]=e)}function xO(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function IO(s,e,n,r,o,u,f=!0,p=!1){const g=wO(s.urlParams),m=s.url+g,E=Object.assign({},s.headers);return DO(E,e),MO(E,n),OO(E,u),xO(E,r),new RO(m,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function NO(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this._service=e,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ih(e,n)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NO(this._location.path)}get storage(){return this._service}get parent(){const e=VO(this._location.path);if(e===null)return null;const n=new hi(this._location.bucket,e);return new ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bO(e)}}function c0(s,e){const n=e?.[dO];return n==null?null:hi.makeFromBucketSpec(n,s)}function PO(s,e,n,r={}){s.host=`${e}:${n}`;const o=ah(e);o&&(eb(`https://${s.host}/b`),nb("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:tb(u,s.app.options.projectId))}class kO{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=VS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pO,this._maxUploadRetryTime=gO,this._requests=new Set,o!=null?this._bucket=hi.makeFromBucketSpec(o,this._host):this._bucket=c0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=c0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ih(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new SO(NS());{const f=IO(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const h0="@firebase/storage",f0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="storage";function UO(s=hb(),e){s=Vl(s);const r=ob(s,PS).getImmediate({identifier:e}),o=J0("storage");return o&&zO(r,...o),r}function zO(s,e,n,r={}){PO(s,e,n,r)}function BO(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new kO(n,r,o,e,ub)}function jO(){Nl(new Wa(PS,BO,"PUBLIC").setMultipleInstances(!0)),ur(h0,f0,""),ur(h0,f0,"esm2020")}jO();const HO={apiKey:"AIzaSyAr49Z1qFSxcD5d8N2TaMRv7j-_5lQ6Cq8",authDomain:"kizuki-8a65a.firebaseapp.com",databaseURL:void 0,projectId:"kizuki-8a65a",storageBucket:"kizuki-8a65a.firebasestorage.app",messagingSenderId:"118026654293",appId:"1:118026654293:web:16b1bdcf7555f8f72ffadc"},kS=cb(HO),qO=Q2(kS);UO(kS);const GO={width:"100%",height:"90vh"},FO={lat:35.681236,lng:139.767125};function QO(){const[s,e]=y.useState([]),[n,r]=y.useState(null),[o,u]=y.useState(""),f=["","","","",""];y.useEffect(()=>{(async()=>{try{const m=rO(F2(qO,"posts"),aO("createdAt","desc")),S=(await cO(m)).docs.map(T=>({id:T.id,...T.data()}));e(S)}catch(m){console.error(":",m)}})()},[]);const p=o===""?s:s.filter(g=>g.tag===o);return Me.jsxs("div",{style:{height:"100vh",width:"100%"},children:[Me.jsx("div",{style:{padding:"10px",textAlign:"center"},children:f.map(g=>Me.jsx("button",{onClick:()=>u(g),style:{margin:"5px",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:o===g?"#007bff":"#e0e0e0",color:o===g?"white":"black",fontWeight:o===g?"bold":"normal",transition:"0.2s"},children:g},g))}),Me.jsxs(sA,{mapContainerStyle:GO,center:FO,zoom:13,children:[p.map(g=>g.location&&Me.jsx(z0,{position:{lat:g.location.lat,lng:g.location.lng},onClick:()=>r(g)},g.id)),n&&Me.jsx(F0,{position:{lat:n.location.lat,lng:n.location.lng},onCloseClick:()=>r(null),children:Me.jsxs("div",{style:{maxWidth:"200px"},children:[Me.jsx("h4",{style:{margin:0},children:n.tag}),Me.jsx("p",{style:{margin:"4px 0"},children:n.message}),n.imageUrl&&Me.jsx("img",{src:n.imageUrl,alt:"",style:{width:"100%",borderRadius:"8px",marginBottom:"4px"}}),n.riskLevel&&Me.jsxs("p",{style:{color:"red",fontWeight:"bold"},children:[" ",n.riskLevel]})]})})]})]})}const Ud={message:`
`,imageUrl:"https://placehold.co/600x800/EFEFEF/AAAAAA?text=Post+Image",goodCount:15};function YO(){const s=C0(),[e,n]=y.useState(Ud.goodCount),r=()=>{n(u=>u+1),console.log("Good+1 ()"),alert("Good")},o=()=>{s(-1)};return Me.jsxs("div",{className:"post-detail-container",children:[Me.jsxs("div",{className:"post-content",children:[Me.jsx("p",{className:"message-text",children:Ud.message}),Me.jsx("img",{src:Ud.imageUrl,alt:""})]}),Me.jsxs("div",{className:"button-area",children:[Me.jsxs("button",{onClick:r,className:"btn good-btn",children:["Good (",e,")"]}),Me.jsx("button",{onClick:o,className:"btn back-btn",children:""})]})]})}function KO(){return Me.jsxs("div",{children:[Me.jsxs("nav",{style:{padding:"10px",backgroundColor:"#eee",marginBottom:"20px"},children:[Me.jsx("strong",{children:":"}),Me.jsx(Al,{to:"/postform",style:{marginLeft:"15px"},children:""}),Me.jsx(Al,{to:"/post/1",style:{marginLeft:"15px"},children:""}),Me.jsx(Al,{to:"/mapinfo",style:{marginLeft:"15px"},children:""})]}),Me.jsxs(pC,{children:[Me.jsx(Lc,{path:"/postform",element:Me.jsx(Form,{})}),Me.jsx(Lc,{path:"/post/1",element:Me.jsx(YO,{})}),Me.jsx(Lc,{path:"/mapinfo",element:Me.jsx(QO,{})})]})]})}const ZO=["maps","places"],$O=C1.createRoot(document.getElementById("root"));$O.render(Me.jsx(v1.StrictMode,{children:Me.jsx(U0,{googleMapsApiKey:"AIzaSyCS2gZqdPSUlZEM-Js0NaTdtIcUCsCwdSc",libraries:ZO,children:Me.jsx(kC,{children:Me.jsx(KO,{})})})}));
